(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[4998,7489,8488],{62769:(e,t,n)=>{var r={"./cesium/plugins/index":[72531,9],"./leaflet/plugins/index":[35701,7],"./openlayers/plugins/index":[3498,9]};function o(e){return Promise.resolve().then((()=>{if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}var o=r[e],i=o[0];return n.t(i,16|o[1])}))}o.keys=()=>Object.keys(r),o.id=62769,e.exports=o},8026:(e,t,n)=>{var r={"./cesium/plugins/index":72531,"./leaflet/index":73653,"./leaflet/plugins/index":35701,"./openlayers/index":39190,"./openlayers/plugins/index":3498,"./popups/index":21751};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=8026},14807:(e,t,n)=>{var r={"./cesium/plugins/index":72531,"./leaflet/plugins/index":35701,"./openlayers/plugins/index":3498};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=14807},19137:(e,t,n)=>{var r={"./cesium/index":[91726,5794,1726],"./leaflet/index":[97611,4699,250],"./openlayers/index":[90138,6638,5516,309]};function o(e){if(!n.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return Promise.all(t.slice(1).map(n.e)).then((()=>n(o)))}o.keys=()=>Object.keys(r),o.id=19137,e.exports=o},60604:(e,t,n)=>{"use strict";n.d(t,{jJ:()=>r,oy:()=>o,yg:()=>i,vD:()=>a,W:()=>c,B1:()=>l,fU:()=>u,cY:()=>s});var r="ADDITIONALLAYER:UPDATE_ADDITIONAL_LAYER",o="ADDITIONALLAYER:UPDATE_OPTIONS_BY_OWNER",i="ADDITIONALLAYER:REMOVE_ADDITIONAL_LAYER",a="ADDITIONALLAYER:REMOVE_ALL_ADDITIONAL_LAYERS",c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"override",o=arguments.length>3?arguments[3]:void 0;return{type:r,id:e,owner:t,actionType:n,options:o}},l=function(e,t){return{type:o,owner:e,options:t}},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.owner;return{type:i,id:t,owner:n}},s=function(){return{type:a}}},42780:(e,t,n)=>{"use strict";n.d(t,{aS:()=>r,A9:()=>o,Rx:()=>i,g:()=>a,yg:()=>c}),n(61545);var r=function(e){return{type:"ANNOTATIONS:HIGHLIGHT_POINT",point:e}},o=function(){return{type:"ANNOTATIONS:NEW"}},i=function(){return{type:"ANNOTATIONS:CLEAN_HIGHLIGHT"}},a=function(){return{type:"ANNOTATIONS:CLOSE"}},c=function(e){return{type:"ANNOTATIONS:SET_EDITING_FEATURE",feature:e}}},53001:(e,t,n)=>{"use strict";n.d(t,{xT:()=>r,H_:()=>o,Wv:()=>i,gC:()=>a,dG:()=>c,oQ:()=>l,Q2:()=>u,R3:()=>s,Zr:()=>p,Op:()=>f,l$:()=>m,uL:()=>d,zg:()=>y,M3:()=>b,st:()=>g,US:()=>h,$c:()=>v,pW:()=>O,$D:()=>S,ke:()=>E,vw:()=>w,r5:()=>A,X1:()=>P,V3:()=>T,p2:()=>j});var r="BACKGROUND_SELECTOR:ADD_BACKGROUND",o="BACKGROUND_SELECTOR:REMOVE_BACKGROUND",i="BACKGROUND_SELECTOR:SET_CURRENT_BACKGROUND_LAYER",a="BACKGROUND_SELECTOR:BACKGROUND_ADDED",c="BACKGROUND_SELECTOR:BACKGROUND_EDITED",l="BACKGROUND_SELECTOR:ADD_BACKGROUND_PROPERTIES",u="BACKGROUND_SELECTOR:SET_BACKGROUND_MODAL_PARAMS",s="BACKGROUND_SELECTOR:UPDATE_BACKGROUND_THUMBNAIL",p="BACKGROUND_SELECTOR:BACKGROUNDS_CLEAR",f="BACKGROUND_SELECTOR:CREATE_BACKGROUNDS_LIST",m="BACKGROUND_SELECTOR:CLEAR_MODAL_PARAMETERS",d="BACKGROUND_SELECTOR:CONFIRM_DELETE_BACKGROUND_MODAL",y="BACKGROUND_SELECTOR:ALLOW_BACKGROUNDS_DELETION";function b(e){return{type:f,backgrounds:e}}function g(e){return{type:r,source:e}}function h(e){return{type:l,modalParams:e}}function v(e){return{type:u,modalParams:e}}function O(e){return{type:a,layerId:e}}function S(e){return{type:c,layerId:e}}function E(e){return{type:i,layerId:e}}function w(e){return{type:y,allow:e}}function A(e,t){return{type:s,thumbnailData:e,id:t}}function P(e){return{type:o,backgroundId:e}}function T(){return{type:m}}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:d,show:e,layerTitle:t,layerId:n}}},41156:(e,t,n)=>{"use strict";n.d(t,{fy:()=>r,gd:()=>o,zZ:()=>i,ZR:()=>a});var r="BOX_END",o="CHANGE_BOX_SELECTION_STATUS";function i(e){return{type:r,boxEndInfo:e}}function a(e){return{type:o,status:e}}},31273:(e,t,n)=>{"use strict";n.d(t,{WX:()=>v,V3:()=>O,HR:()=>S,xi:()=>E,ur:()=>w,vK:()=>A,nm:()=>P,QF:()=>T,zZ:()=>j,uN:()=>x,Bz:()=>C,im:()=>R,CO:()=>k,$X:()=>D,Mt:()=>_,Oq:()=>I,YO:()=>L,PR:()=>N,wI:()=>M,bv:()=>F,mh:()=>U,$Y:()=>G,eA:()=>Z,UT:()=>z,cS:()=>B,l3:()=>H,Kz:()=>V,vg:()=>Y,tt:()=>q,nX:()=>W,BG:()=>K,Rc:()=>$,K4:()=>Q,Dw:()=>X,dL:()=>J,In:()=>ee,r1:()=>te,XW:()=>ne,L8:()=>re,i3:()=>oe,XM:()=>ie,X7:()=>ae,M3:()=>ce,N3:()=>le,SU:()=>ue,wo:()=>se,ye:()=>pe,m:()=>fe,wl:()=>me,A4:()=>ye,vG:()=>be,ky:()=>ge,Wf:()=>he,Ts:()=>ve,IT:()=>Oe,XS:()=>Se,E9:()=>Ee});var r=n(59551),o=n(67007),i=n(3475),a=n(32354),c=n(80416),l=n(1550),u=n(24262),s=n(37275),p=n(61545),f=n(88113),m=n(75110),d=n(97395);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={csw:r.Z,wms:o.ZP,wmts:i.Z,backgrounds:a.Z},v="CATALOG:ADD_LAYERS_FROM_CATALOGS",O="CATALOG:TEXT_SEARCH",S="CATALOG:RECORD_LIST_LOADED",E="CATALOG:RESET_CATALOG",w="CATALOG:CATALOG_CLOSE",A="CATALOG:RECORD_LIST_LOAD_ERROR",P="CATALOG:CHANGE_CATALOG_FORMAT",T="CATALOG:ADD_LAYER_ERROR",j="CATALOG:CHANGE_SELECTED_SERVICE",x="CATALOG:CHANGE_CATALOG_MODE",C="CATALOG:CHANGE_METADATA_TEMPLATE",R="CATALOG:CHANGE_TITLE",k="CATALOG:CHANGE_TEXT",D="CATALOG:CHANGE_TYPE",_="CATALOG:CHANGE_SERVICE_PROPERTY",I="CATALOG:CHANGE_SERVICE_FORMAT",L="CATALOG:FOCUS_SERVICES_LIST",N="CATALOG:CHANGE_URL",M="CATALOG:ADD_CATALOG_SERVICE",F="CATALOG:DELETE_CATALOG_SERVICE",U="CATALOG:ADD_SERVICE",G="CATALOG:DELETE_SERVICE",Z="CATALOG:SAVING_SERVICE",z="CATALOG:GET_METADATA_RECORD_BY_ID",B="CATALOG:SET_LOADING",H="CATALOG:TOGGLE_TEMPLATE",V="CATALOG:TOGGLE_THUMBNAIL",Y="CATALOG:TOGGLE_ADVANCED_SETTINGS";function q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.format,n=e.url,r=e.startPosition,o=e.maxRecords,i=e.text,a=e.options,c=void 0===a?{}:a;return{type:O,format:t,url:n,startPosition:r,maxRecords:o,text:i,options:c}}function W(e,t){return{type:S,searchOptions:e,result:t}}function K(e){return{type:P,format:e}}function $(e){return{type:Z,status:e}}function Q(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:B,loading:e}}function X(e){return{type:j,service:e}}function J(e){return{type:L,status:e}}function ee(e,t){return{type:x,mode:e,isNew:t}}function te(e){return{type:R,title:e}}function ne(e){return{type:k,text:e}}function re(e,t){return{type:_,property:e,value:t}}function oe(e){return{type:I,format:e}}function ie(e){return{type:D,newType:e}}function ae(e){return{type:N,url:e}}function ce(){return{type:U}}function le(e){return{type:M,service:e}}function ue(e){return{type:F,service:e}}function se(){return{type:G}}function pe(){return{type:E}}function fe(e){return{type:A,error:e}}function me(){return{type:w}}function de(e,t){return{type:"CATALOG:DESCRIBE_ERROR",layer:e,error:t}}var ye=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.zoomToLayer,r=void 0!==n&&n;return function(t,n){var o=n(),i=(0,m.l2)(o),a=(0,u.getLayerId)(e,i||[]);return t((0,c.A4)(b(b({},e),{},{id:a}))),r&&e.bbox&&t((0,l.Px)(e.bbox.bounds,e.bbox.crs)),"wms"===e.type?h.wms.describeLayers((0,u.getLayerUrl)(e),e.name).then((function(n){if(n){var r=(0,p.find)(n,(function(t){return t.name===e.name}));if(r&&"WFS"===r.owsType){var i=s.jQ(s.$F(r.owsURL),(0,f.kS)(o));t((0,c.He)(a,{search:{url:i,type:"wfs"}}))}}})).catch((function(n){return t(de(e,n))})):null}};function be(e){return{type:T,error:e}}function ge(e){return{type:z,metadataOptions:e}}var he=function(e){return{type:C,metadataTemplate:e}},ve=function(){return{type:Y}},Oe=function(){return{type:H}},Se=function(){return{type:V}};function Ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,d.vU)({title:"catalog.notification.errorTitle",message:"catalog.notification.errorSearchingRecords",values:{records:e}})}},4206:(e,t,n)=>{"use strict";n.d(t,{hZ:()=>r,pb:()=>o,kD:()=>i,DI:()=>a,IC:()=>c,Vw:()=>s,KD:()=>p,uj:()=>f,lo:()=>m,Yf:()=>d,fo:()=>y,PY:()=>b,bp:()=>g});var r="CHANGE_DRAWING_STATUS",o="DRAW:END_DRAWING",i="DRAW:SET_CURRENT_STYLE",a="DRAW:GEOMETRY_CHANGED",c="DRAW:DRAW_SUPPORT_STOPPED",l="DRAW:FEATURES_SELECTED",u="DRAW:DRAWING_FEATURES";function s(e,t,n,r,o){return{type:a,features:e,owner:t,enableEdit:n,textChanged:r,circleChanged:o}}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:l,features:e}}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:u,features:e}}function m(){return{type:c}}function d(e,t,n,o,i,a){return{type:r,status:e,method:t,owner:n,features:o,options:i,style:a}}function y(e,t){return{type:o,geometry:e,owner:t}}function b(e){return{type:i,currentStyle:e}}var g=function(e){return d("clean","",e,[],{})}},33528:(e,t,n)=>{"use strict";n.d(t,{gJ:()=>r,Oj:()=>o,jp:()=>i,CM:()=>a,DU:()=>c,aO:()=>l,v6:()=>u,K8:()=>s,IN:()=>p,zh:()=>f,AH:()=>m,Ub:()=>d,_9:()=>y,JB:()=>b,oh:()=>g,AY:()=>h,yi:()=>v,SW:()=>O,Hk:()=>S,iQ:()=>E,dY:()=>w,$:()=>A,_u:()=>P,gG:()=>T,DI:()=>j,dZ:()=>x,qw:()=>C,f$:()=>R,bZ:()=>k,$O:()=>D,sF:()=>_,Gk:()=>I,vO:()=>L,ut:()=>N,MK:()=>M,VV:()=>F,B8:()=>U,VM:()=>G,a3:()=>Z,Xp:()=>z,DA:()=>B,sK:()=>H,yA:()=>V,r:()=>Y,iB:()=>q,EH:()=>W,Yd:()=>K,Hg:()=>$,Lz:()=>Q,ye:()=>X,Jb:()=>J,d:()=>ee,fT:()=>te,Ib:()=>ne,Pl:()=>re,UB:()=>oe,Uh:()=>ie,QT:()=>ae,oL:()=>ce,Ap:()=>le,KD:()=>ue,Z_:()=>se,Vw:()=>pe,sY:()=>fe,kA:()=>me,gr:()=>de,pX:()=>ye,F5:()=>be,MO:()=>ge,dq:()=>he,DY:()=>ve,oO:()=>Oe,uF:()=>Se,a8:()=>Ee,Pv:()=>we,an:()=>Ae,lg:()=>Pe,nY:()=>Te,nG:()=>je,lx:()=>xe,$S:()=>Ce,gc:()=>Re,Uz:()=>ke,fO:()=>De,$E:()=>_e,cE:()=>Ie,JK:()=>Le,YV:()=>Ne,t9:()=>Me,YG:()=>Fe,HT:()=>Ue,MY:()=>Ge,ve:()=>Ze,hB:()=>ze,Ox:()=>Be,zd:()=>He,aT:()=>Ve,VH:()=>Ye,Yb:()=>qe,Jr:()=>We,pP:()=>Ke});var r="FEATUREGRID:SET_UP",o="FEATUREGRID:SELECT_FEATURES",i="FEATUREGRID:DESELECT_FEATURES",a="FEATUREGRID:CLEAR_SELECTION",c="FEATUREGRID:SET_SELECTION_OPTIONS",l="FEATUREGRID:TOGGLE_MODE",u="FEATUREGRID:TOGGLE_FEATURES_SELECTION",s="FEATUREGRID:FEATURES_MODIFIED",p="FEATUREGRID:NEW_FEATURE",f="FEATUREGRID:SAVE_CHANGES",m="FEATUREGRID:SAVING",d="FEATUREGRID:START_EDITING_FEATURE",y="FEATUREGRID:START_DRAWING_FEATURE",b="FEATUREGRID:DELETE_GEOMETRY",g="FEATUREGRID:DELETE_GEOMETRY_FEATURE",h="FEATUREGRID:SAVE_SUCCESS",v="FEATUREGRID:CLEAR_CHANGES",O="FEATUREGRID:SAVE_ERROR",S="FEATUREGRID:DELETE_SELECTED_FEATURES",E="SET_FEATURES",w="FEATUREGRID:SORT_BY",A="FEATUREGRID:SET_LAYER",P="QUERY:UPDATE_FILTER",T="FEATUREGRID:CHANGE_PAGE",j="FEATUREGRID:GEOMETRY_CHANGED",x="DOCK_SIZE_FEATURES",C="FEATUREGRID:TOGGLE_TOOL",R="FEATUREGRID:CUSTOMIZE_ATTRIBUTE",k="ASK_CLOSE_FEATURE_GRID_CONFIRM",D="FEATUREGRID:OPEN_GRID",_="FEATUREGRID:CLOSE_GRID",I="FEATUREGRID:CLEAR_CHANGES_CONFIRMED",L="FEATUREGRID:FEATURE_GRID_CLOSE_CONFIRMED",N="FEATUREGRID:SET_PERMISSION",M="FEATUREGRID:DISABLE_TOOLBAR",F="FEATUREGRID:ACTIVATE_TEMPORARY_CHANGES",U="FEATUREGRID:DEACTIVATE_GEOMETRY_FILTER",G="FEATUREGRID:ADVANCED_SEARCH",Z="FEATUREGRID:ZOOM_ALL",z="FEATUREGRID:INIT_PLUGIN",B="FEATUREGRID:SIZE_CHANGE",H="FEATUREGRID:TOGGLE_SHOW_AGAIN_FLAG",V="FEATUREGRID:HIDE_SYNC_POPOVER",Y="FEATUREGRID:UPDATE_EDITORS_OPTIONS",q="FEATUREGRID:LAUNCH_UPDATE_FILTER_FUNC",W={EDIT:"EDIT",VIEW:"VIEW"},K="FEATUREGRID:START_SYNC_WMS",$="FEATUREGRID:STOP_SYNC_WMS",Q="STORE_ADVANCED_SEARCH_FILTER",X="LOAD_MORE_FEATURES",J="FEATUREGRID:QUERY_RESULT",ee="FEATUREGRID:SET_TIME_SYNC",te="FEATUREGRID:SET_PAGINATION";function ne(){return{type:H}}function re(){return{type:V}}function oe(e,t){return{type:J,features:e,pages:t}}function ie(e){return{type:Q,filterObj:e}}function ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:z,options:e}}function ce(){return{type:I}}function le(){return{type:L}}function ue(e,t){return{type:o,features:e,append:t}}function se(e){return{type:r,options:e}}function pe(e){return{type:j,features:e}}function fe(){return{type:d}}function me(){return{type:y}}function de(e){return{type:i,features:e}}function ye(){return{type:b}}function be(e){return{type:g,features:e}}function ge(){return{type:a}}function he(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.multiselect,n=void 0!==t&&t;return{type:c,multiselect:n}}function ve(e,t){return{type:w,sortBy:e,sortOrder:t}}function Oe(e,t){return{type:T,page:e,size:t}}function Se(e){return{type:A,id:e}}function Ee(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:P,update:e,append:t}}function we(e,t){return{type:C,tool:e,value:t}}function Ae(e,t,n){return{type:R,name:e,key:t,value:n}}function Pe(){return{type:l,mode:W.EDIT}}function Te(){return{type:l,mode:W.VIEW}}function je(e,t){return{type:s,features:e,updated:t}}function xe(e){return{type:p,features:e}}function Ce(){return{type:f}}function Re(){return{type:h}}function ke(){return{type:S}}function De(){return{type:m}}function _e(){return{type:v}}function Ie(){return{type:O}}function Le(){return{type:k}}function Ne(){return{type:_}}function Me(){return{type:D}}function Fe(e){return{type:M,disabled:e}}function Ue(e){return{type:N,permission:e}}function Ge(){return{type:G}}function Ze(){return{type:Z}}function ze(){return{type:K}}function Be(e,t){return{type:B,size:e,dockProps:t}}var He=function(e){return{type:X,pages:e}},Ve=function(e){return{type:F,activated:e}},Ye=function(e){return{type:U,deactivated:e}},qe=function(e){return{type:ee,value:e}},We=function(e){return{type:te,size:e}},Ke=function(e){return{type:q,updateFilterAction:e}}},29386:(e,t,n)=>{"use strict";n.d(t,{F2:()=>r,fu:()=>o,NF:()=>i,WP:()=>a,_E:()=>c});var r="HIGHLIGHT_STATUS",o="UPDATE_HIGHLIGHTED",i="HIGHLIGHT:SET_HIGHLIGHT_FEATURES_PATH";function a(e){return{type:i,featuresPath:e}}function c(e,t){return{type:o,features:e,status:t}}},56298:(e,t,n)=>{"use strict";n.d(t,{un:()=>r,bj:()=>o,jL:()=>i,r:()=>a});var r="CHANGE_LOCATE_STATE",o="LOCATE_ERROR";function i(e){return{type:r,state:e}}function a(e){return{type:o,error:e}}},73814:(e,t,n)=>{"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{HH:()=>c,i8:()=>l,hC:()=>u,UK:()=>s});var a="MAP:ADD_POPUP",c="MAP:REMOVE_POPUP",l=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return{type:a,id:e,popup:o({id:e},t),single:n}},u=function(e){return{type:c,id:e}},s=function(){return{type:"MAP:CLEAN_POPUPS"}}},62520:(e,t,n)=>{"use strict";n.d(t,{d:()=>r,F:()=>o});var r="MAP_LAYOUT:UPDATE_MAP_LAYOUT";function o(e){return{type:r,layout:e}}},13652:(e,t,n)=>{"use strict";n.d(t,{W:()=>r});var r="MAP_TYPE_CHANGED"},89602:(e,t,n)=>{"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{lD:()=>i,yK:()=>a,gf:()=>c,Qr:()=>l,Kx:()=>u,V:()=>s,Wt:()=>p,Qw:()=>f,GI:()=>m,MT:()=>d,XX:()=>y,sc:()=>b,qg:()=>g,Kf:()=>h,ES:()=>v,ud:()=>O,Bd:()=>S,Gd:()=>E,$3:()=>w,el:()=>A,CG:()=>P,h2:()=>T,NR:()=>j,RM:()=>x,dD:()=>C,wB:()=>R,Y_:()=>k,nl:()=>D,S1:()=>_});var i="CHANGE_MEASUREMENT_TOOL",a="CHANGE_MEASUREMENT_STATE",c="MEASUREMENT:CHANGE_UOM",l="MEASUREMENT:CHANGED_GEOMETRY",u="MEASUREMENT:SET_TEXT_LABELS",s="MEASUREMENT:SET_CURRENT_FEATURE",p="MEASUREMENT:ADD_AS_LAYER",f="MEASUREMENT:RESET_GEOMETRY",m="MEASUREMENT:CHANGE_FORMAT",d="MEASUREMENT:CHANGE_COORDINATES",y="MEASUREMENT:ADD_MEASURE_AS_ANNOTATION",b="MEASUREMENT:UPDATE_MEASURES",g="MEASUREMENT:INIT",h="MEASUREMENT:SET_MEASUREMENT_CONFIG",v="MEASUREMENT:SET_ANNOTATION_MEASUREMENT";function O(e,t,n,r,o){return{type:y,features:e,textLabels:t,uom:n,save:r,properties:o}}function S(e){return function(t){t(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:i},e)}(e))}}function E(e,t,n){return{type:c,uom:e,value:t,previousUom:n}}function w(e){return{type:l,features:e}}function A(e,t){return{type:h,property:e,value:t}}function P(e){return{type:u,textLabels:e}}function T(e){return{type:s,featureIndex:e}}function j(e,t,n){return{type:p,features:e,textLabels:t,uom:n}}function x(e){return{type:m,format:e}}function C(e){return{type:d,coordinates:e}}function R(){return{type:f}}function k(e){return{type:b,measures:e}}function D(e){return{type:a,pointMeasureEnabled:e.pointMeasureEnabled,lineMeasureEnabled:e.lineMeasureEnabled,areaMeasureEnabled:e.areaMeasureEnabled,bearingMeasureEnabled:e.bearingMeasureEnabled,geomType:e.geomType,values:e.values,feature:e.feature,point:e.point,len:e.len,area:e.area,bearing:e.bearing,lenUnit:e.lenUnit,areaUnit:e.areaUnit}}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:g,defaultOptions:e}}},62187:(e,t,n)=>{"use strict";n.d(t,{NH:()=>r,E7:()=>o,N7:()=>i,L9:()=>a,hQ:()=>c,NC:()=>l,c9:()=>u,up:()=>s,FZ:()=>p,Fi:()=>f,KB:()=>m,E0:()=>d,Q_:()=>y,hY:()=>b,wO:()=>g,sT:()=>h,wR:()=>v,h1:()=>O,hS:()=>S,zK:()=>E,VS:()=>w,oz:()=>A,FH:()=>P,XN:()=>T,Ym:()=>j});var r="PLAYBACK:START",o="PLAYBACK:PAUSE",i="PLAYBACK:STOP",a="PLAYBACK:SET_FRAMES",c="PLAYBACK:APPEND_FRAMES",l="PLAYBACK:FRAMES_LOADING",u="PLAYBACK:SET_CURRENT_FRAME",s="PLAYBACK:SELECT_PLAYBACK_RANGE",p="PLAYBACK:SETTINGS_CHANGE",f="PLAYBACK:TOGGLE_ANIMATION_MODE",m="PLAYBACK:ANIMATION_STEP_MOVE",d="PLAYBACK:UPDATE_METADATA",y={PLAY:"PLAY",STOP:"STOP",PAUSE:"PAUSE"},b=function(){return{type:r}},g=function(){return{type:o}},h=function(){return{type:i}},v=function(e){return{type:a,frames:e}},O=function(e){return{type:u,frame:e}},S=function(e){return{type:c,frames:e}},E=function(e){return{type:l,loading:e}},w=function(e){return{type:s,range:e}},A=function(e,t){return{type:p,name:e,value:t}},P=function(){return{type:f}},T=function(e){return{type:m,direction:e}},j=function(e){var t=e.next,n=e.previous,r=e.forTime;return{type:d,forTime:r,next:t,previous:n}}},97222:(e,t,n)=>{"use strict";n.d(t,{Vc:()=>o,bj:()=>i,p7:()=>a,Av:()=>c,M8:()=>l,wn:()=>u,gs:()=>s,NN:()=>p,C2:()=>f,O7:()=>m,oQ:()=>d,dX:()=>y,al:()=>b,Gh:()=>g,x2:()=>h,Y7:()=>v,b4:()=>O,GI:()=>S,KP:()=>E,Zw:()=>w,Z:()=>A,a:()=>P,WN:()=>T,k9:()=>j,yo:()=>x,kE:()=>C,kV:()=>R,v2:()=>k,_q:()=>D,tt:()=>_,Jc:()=>I,w4:()=>L,QJ:()=>N,KG:()=>M,o$:()=>F,TS:()=>U,Tw:()=>G,I3:()=>Z});var r=n(97395),o="SEARCH:SEARCH_WITH_FILTER",i="TEXT_SEARCH_STARTED",a="TEXT_SEARCH_RESULTS_LOADED",c="TEXT_SEARCH_RESULTS_PURGE",l="TEXT_SEARCH_RESET",u="TEXT_SEARCH_ADD_MARKER",s="TEXT_SEARCH_TEXT_CHANGE",p="TEXT_SEARCH_LOADING",f="TEXT_SEARCH_NESTED_SERVICE_SELECTED",m="TEXT_SEARCH_ERROR",d="TEXT_SEARCH_CANCEL_ITEM",y="TEXT_SEARCH_ITEM_SELECTED",b="TEXT_SEARCH_SHOW_GFI",g="TEXT_SEARCH_SET_HIGHLIGHTED_FEATURE",h="UPDATE_RESULTS_STYLE",v="CHANGE_SEARCH_TOOL",O="SEARCH:ZOOM_ADD_POINT",S="SEARCH:CHANGE_FORMAT",E="SEARCH:CHANGE_COORD";function w(e){return{type:S,format:e}}function A(e,t,n){return{type:O,pos:e,zoom:t,crs:n}}function P(e){return{type:v,activeSearchTool:e}}function T(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;return{type:a,results:e,append:t,services:n}}function j(e){return{type:s,searchText:e}}function x(e){return{type:p,loading:e}}function C(e){return{type:m,error:e}}function R(){return{type:c}}function k(){return{type:l}}function D(e,t){return{type:u,markerPosition:e,markerLabel:t}}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.services,r=void 0===n?null:n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15;return{type:i,searchText:e,services:r,maxResults:o}}function I(e,t,n){return{type:y,item:e,mapConfig:t,resultsStyle:n}}var L=function(e){return{type:b,item:e}};function N(e,t,n){return{type:f,searchText:n,services:e,items:t}}function M(e){return{type:d,item:e}}function F(e){return{type:h,style:e}}function U(e,t){return{type:E,coord:e,val:t}}function G(){return(0,r.vU)({title:"Error",position:"tc",message:"search.errors.nonQueriableLayers",autoDismiss:10})}function Z(){return(0,r.vU)({title:"Error",position:"tc",message:"search.errors.serverError",autoDismiss:10})}},96909:(e,t,n)=>{"use strict";n.d(t,{vZ:()=>r,TB:()=>o,gF:()=>i,g$:()=>a,dJ:()=>c,uz:()=>l,vA:()=>u,lX:()=>s,E2:()=>p,mF:()=>f,ch:()=>m,DX:()=>d,j1:()=>y,wL:()=>b,Nm:()=>g,rb:()=>h,dk:()=>v,Wv:()=>O,Nf:()=>S,FU:()=>E,k5:()=>w,pt:()=>A,Wm:()=>P,wj:()=>T,l1:()=>j,cu:()=>x,Fe:()=>C,Lc:()=>R,p2:()=>k,WQ:()=>D,E0:()=>_,xR:()=>I,WB:()=>L,bB:()=>N});var r="STYLEEDITOR:TOGGLE_STYLE_EDITOR",o="STYLEEDITOR:SELECT_STYLE_TEMPLATE",i="STYLEEDITOR:UPDATE_TEMPORARY_STYLE",a="STYLEEDITOR:UPDATE_STATUS",c="STYLEEDITOR:RESET_STYLE_EDITOR",l="STYLEEDITOR:ADD_STYLE",u="STYLEEDITOR:CREATE_STYLE",s="STYLEEDITOR:LOADING_STYLE",p="STYLEEDITOR:LOADED_STYLE",f="STYLEEDITOR:ERROR_STYLE",m="STYLEEDITOR:UPDATE_STYLE_CODE",d="STYLEEDITOR:EDIT_STYLE_CODE",y="STYLEEDITOR:DELETE_STYLE",b="STYLEEDITOR:INIT_STYLE_SERVICE",g="STYLEEDITOR:SET_EDIT_PERMISSION",h="STYLEEDITOR:SET_DEFAULT_STYLE",v="STYLEEDITOR:UPDATE_EDITOR_METADATA";function O(e,t){return{type:r,layer:e,enabled:t}}function S(e){return{type:a,status:e}}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.code,n=e.templateId,r=e.format,i=e.languageVersion,a=e.init;return{type:o,code:t,templateId:n,format:r,init:a,languageVersion:i}}function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.temporaryId,n=e.templateId,r=e.code,o=e.format,a=e.languageVersion,c=e.init;return{type:i,temporaryId:t,templateId:n,code:r,format:o,init:c,languageVersion:a}}function A(e){return{type:s,status:e}}function P(){return{type:p}}function T(e){return{type:u,settings:e}}function j(){return{type:c}}function x(e){return{type:l,add:e}}function C(e,t){return{type:f,status:e,error:t}}function R(){return{type:m}}function k(e){return{type:d,code:e}}function D(e){return{type:y,styleName:e}}function _(e,t){return{type:b,service:e,canEdit:t}}function I(e){return{type:g,canEdit:e}}function L(){return{type:h}}function N(e){return{type:v,metadata:e}}},95797:(e,t,n)=>{"use strict";n.d(t,{DR:()=>r,S0:()=>o,u7:()=>i,lj:()=>a,yz:()=>c,lN:()=>l,zW:()=>u,Yx:()=>s,VN:()=>p,Hu:()=>f,VT:()=>m,RD:()=>d,Qq:()=>y,R1:()=>b,_T:()=>g,vO:()=>h,XO:()=>v,jG:()=>O,Xc:()=>S,gT:()=>E,rG:()=>w,t3:()=>A,Fs:()=>P,w_:()=>T,Lm:()=>j,rh:()=>x,rP:()=>C,IO:()=>R}),n(75875);var r="LAYER_SELECTED_FOR_SEARCH",o="FEATURE_TYPE_SELECTED",i="FEATURE_TYPE_LOADED",a="FEATURE_LOADED",c="FEATURE_LOADING",l="FEATURE_TYPE_ERROR",u="FEATURE_ERROR",s="QUERY_CREATE",p="QUERY:UPDATE_QUERY",f="QUERY_RESULT",m="QUERY_ERROR",d="RESET_QUERY",y="QUERY",b="INIT_QUERY_PANEL",g="QUERY:TOGGLE_SYNC_WMS",h="QUERY:TOGGLE_LAYER_FILTER";function v(){return{type:g}}function O(){return{type:h}}function S(){return{type:b}}function E(e,t){return{type:o,url:e,typeName:t}}function w(e,t){return{type:i,typeName:e,featureType:t}}function A(e,t){return{type:l,typeName:e,error:t}}function P(e){return{type:c,isLoading:e}}function T(e,t,n,r,o){return{type:f,searchUrl:t,filterObj:n,result:e,queryOptions:r,reason:o}}function j(e){return{type:m,error:e}}function x(e,t){return{type:p,updates:e,reason:t}}function C(e,t){return{type:s,searchUrl:e,filterObj:t}}function R(e,t,n,r){return{type:y,searchUrl:e,filterObj:t,queryOptions:n,reason:r}}},59551:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(8575),o=n(61545),i=n.n(o),a=n(27418),c=n.n(a),l=n(75875),u=n.n(l),s=n(37275),p=n(90183),f=function(e){var t=r.parse(e,!0);return r.format(c()({},t,{search:null},{query:c()({service:"CSW",version:"2.0.2"},t.query,{request:void 0})}))},m={parseUrl:f,getRecordById:function(e){return new Promise((function(t){Promise.all([n.e(9942),n.e(6372)]).then(function(){t(u().get(e).then((function(e){if(e){var t=n(66372).unmarshaller.unmarshalString(e.data);if(t&&t.name&&"GetRecordByIdResponse"===t.name.localPart&&t.value&&t.value.abstractRecord){var r=t.value.abstractRecord[0].value.dcElement;if(r){for(var o={references:[]},i=0;i<r.length;i++){var a=r[i],c=a.name.localPart,l={};l="references"===c&&a.value?{value:a.value.content&&(0,s.$F)(a.value.content[0])||a.value.content||a.value,scheme:a.value.scheme}:a.value.content&&a.value.content[0]||a.value.content||a.value,o[c]&&Array.isArray(o[c])?o[c].push(l):o[c]?o[c]=[o[c],l]:o[c]=l}return{dc:o}}}else if(t&&t.name&&"ExceptionReport"===t.name.localPart)return{error:t.value.exception&&t.value.exception.length&&t.value.exception[0].exceptionText||"GenericError"};return null}return null})))}.bind(null,n)).catch(n.oe)}))},getRecords:function(e,t,r,o){return new Promise((function(a){Promise.all([n.e(9942),n.e(1269)]).then(function(){var c=n(66372),l=c.CSW,m=c.marshaller,d=c.unmarshaller,y=m.marshalString({name:"csw:GetRecords",value:l.getRecords(t,r,o)});a(u().post(f(e),y,{headers:{"Content-Type":"application/xml"}}).then((function(e){if(e){var t=d.unmarshalString(e.data);if(t&&t.name&&"GetRecordsResponse"===t.name.localPart&&t.value&&t.value.searchResults){var n=t.value,r=n.searchResults.abstractRecord||n.searchResults.any,o={numberOfRecordsMatched:n.searchResults.numberOfRecordsMatched,numberOfRecordsReturned:n.searchResults.numberOfRecordsReturned,nextRecord:n.searchResults.nextRecord},a=[];if(r)for(var c=0;c<r.length;c++){var l=r[c].value,u={dateStamp:l.dateStamp&&l.dateStamp.date,fileIdentifier:l.fileIdentifier&&l.fileIdentifier.characterString&&l.fileIdentifier.characterString.value,identificationInfo:l.abstractMDIdentification&&l.abstractMDIdentification.value};if(l.boundingBox){var f,m=void 0,y=void 0;if((f=Array.isArray(l.boundingBox)?i().head(l.boundingBox):l.boundingBox)&&f.value){var b,g,h,v,O=null!==(b=null===(g=f.value)||void 0===g?void 0:g.crs)&&void 0!==b?b:"",S=null===(h=O.match(/[\w-]*:[\w-]*:[\w-]*:[\w-]*:[\w-]*:[^:]*:(([\w-]+\s[\w-]+)|[\w-]*)/))||void 0===h?void 0:h[0],E=(0,p.makeNumericEPSG)(null===(v=O.match(/EPSG:[0-9]+/))||void 0===v?void 0:v[0]),w=f.value.lowerCorner,A=f.value.upperCorner,P=E||(0,p.extractCrsFromURN)(S)||i().last(O.split(":"));if(P){if("EPSG:"===P.slice(0,5)){if(!(y=(0,p.makeNumericEPSG)(P)))throw new Error('No suitable EPSG numeric conversion found for "'.concat(P,'"'))}else if(!(y=(0,p.makeNumericEPSG)("EPSG:".concat(P))))throw new Error('No suitable EPSG numeric conversion found for "'.concat(P,'"'))}else y="EPSG:4326";"EPSG:4326"===y&&"CRS84"!==P&&"OGC:CRS84"!==P&&(w=[w[1],w[0]],A=[A[1],A[0]]),m=(0,p.makeBboxFromOWS)(w,A)}u.boundingBox={extent:m,crs:y}}var T=l.dcElement;if(T){for(var j={references:[]},x=0;x<T.length;x++){var C=T[x],R=C.name.localPart,k={};k="references"===R&&C.value?{value:C.value.content&&(0,s.$F)(C.value.content[0])||C.value.content||C.value,scheme:C.value.scheme}:C.value.content&&C.value.content[0]||C.value.content||C.value,j[R]&&Array.isArray(j[R])?j[R].push(k):j[R]?j[R]=[j[R],k]:j[R]=k}u.dc=j}a.push(u)}return o.records=a,o}if(t&&t.name&&"ExceptionReport"===t.name.localPart)return{error:t.value.exception&&t.value.exception.length&&t.value.exception[0].exceptionText||"GenericError"}}return null})))}.bind(null,n)).catch(n.oe)}))},textSearch:function(e,t,r,o){return new Promise((function(i){Promise.all([n.e(9942),n.e(1269)]).then(function(){var a=n(84454).Filter,c=null;if(o){var l=a.propertyIsLike("csw:AnyText","%"+o+"%");c=a.filter(l)}i(m.getRecords(e,t,r,c))}.bind(null,n)).catch(n.oe)}))},workspaceSearch:function(e,t,r,o,i){return new Promise((function(a){Promise.all([n.e(9942),n.e(1269)]).then(function(){var c=n(84454).Filter,l=i||"%",u=o&&"%"+o+"%"||"%",s=c.propertyIsLike("identifier",l+":"+u),p=c.filter(s);a(m.getRecords(e,t,r,p))}.bind(null,n)).catch(n.oe)}))},reset:function(){}};const d=m},47310:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(75875),o=n.n(r),i=n(8575),a=n(27418),c=n.n(a),l={format:"json",bounded:0,polygon_geojson:1,priority:5};const u={geocode:function(e,t){var n=c()({q:e},l,t||{}),r=i.format({protocol:"https",host:"nominatim.openstreetmap.org",query:n});return o().get(r)},reverseGeocode:function(e,t){var n=c()({lat:e.lat,lon:e.lng},t||{},l),r=i.format({protocol:"https",host:"nominatim.openstreetmap.org/reverse",query:n});return o().get(r)}}},3475:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(75875),o=n.n(r),i=n(37275),a=n(8575),c=n(27418),l=n.n(c),u=n(5055),s=n.n(u),p=n(61545),f=n(90183),m=n(7294),d={},y=function(e){var t=a.parse(e,!0);return a.format(l()({},t,{search:null},{query:l()({SERVICE:"WMTS",VERSION:"1.0.0",REQUEST:"GetCapabilities"},t.query)}))},b=function(e,t,n,r,o){for(var i=e.Capabilities.Contents,a=(0,m.getOperations)(e),c=(0,m.getRequestEncoding)(e),u=i.TileMatrixSet&&(0,p.castArray)(i.TileMatrixSet)||[],s=[],d=u.length,y=0;y<d;y++)s.push((0,f.getEPSGCode)(u[y]["ows:SupportedCRS"]));var b=i.Layer,g=(0,p.castArray)(b).filter((function(e){return!r||-1!==e["ows:Identifier"].toLowerCase().indexOf(r.toLowerCase())||e["ows:Title"]&&-1!==e["ows:Title"].toLowerCase().indexOf(r.toLowerCase())}));return{numberOfRecordsMatched:g.length,numberOfRecordsReturned:Math.min(n,g.length),nextRecord:t+Math.min(n,g.length)+1,records:g.filter((function(e,r){return r>=t-1&&r<t-1+n})).map((function(e){return l()({},e,{SRS:s,TileMatrixSet:u,queryable:!!(0,m.getOperation)(a,"GetFeatureInfo","KVP"),requestEncoding:c,style:(0,m.getDefaultStyleIdentifier)(e),format:(0,m.getDefaultFormat)(e),GetTileURL:(0,m.getOperation)(a,"GetTile",c),capabilitiesURL:o})}))}},g={parseUrl:y,getRecords:function(e,t,n,r){var a=d[e];return a&&(new Date).getTime()<a.timestamp+1e3*((0,i.u8)("cacheExpire")||60)?new Promise((function(o){o(b(a.data,t,n,r,e))})):o().get(y(e)).then((function(o){var i;return s().parseString(o.data,{explicitArray:!1},(function(e,t){i=t})),d[e]={timestamp:(new Date).getTime(),data:i},b(i,t,n,r,e)}))},getCapabilities:function(e){var t=d[e];return t&&(new Date).getTime()<t.timestamp+1e3*((0,i.u8)("cacheExpire")||60)?new Promise((function(e){e(t.data)})):o().get(y(e)).then((function(t){var n;return s().parseString(t.data,{explicitArray:!1},(function(e,t){n=t})),d[e]={timestamp:(new Date).getTime(),data:n},n}))},textSearch:function(e,t,n,r){return g.getRecords(e,t,n,r)},reset:function(){Object.keys(d).forEach((function(e){delete d[e]}))}};const h=g},32354:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(61545),o=n(37275),i=function(e,t,n,i){var a=(0,r.get)(o.ZP.getDefaults(),"initialState.defaultState.catalog.default.staticServices.default_map_backgrounds.backgrounds").filter((function(e){return!i||e.title.indexOf(i)>-1})),c=a.filter((function(e,r){return r>=t-1&&r<n+t-1}));return new Promise((function(e){return e({numberOfRecordsMatched:a.length,numberOfRecordsReturned:c.length,records:c,service:{Name:"Background Provider"}})}))};const a={getRecords:i,reset:function(){},textSearch:function(e,t,n,r){return i(0,t,n,r)}}},5346:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(67294),o=n.n(r),i=n(37101),a=n(45697),c=n.n(a);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=i.FormattedMessage,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(c,e);var t,n,r,i,a=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(r);if(i){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function c(){var e;u(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(m(e=a.call.apply(a,[this].concat(n))),"renderFormattedMsg",(function(e){var t=e.msgId,n=e.msgParams,r=e.children;return r&&"function"==typeof r?o().createElement(b,{id:t,values:n},(function(e){return r(e)})):o().createElement(b,{id:t,values:n})})),y(m(e),"renderMsg",(function(e){var t=e.msgId,n=e.children;return n&&"function"==typeof n?n(t):o().createElement("span",null,t||"")})),e}return t=c,(n=[{key:"render",value:function(){return this.context.intl?this.renderFormattedMsg(this.props):this.renderMsg(this.props)}}])&&s(t.prototype,n),c}(o().Component);y(g,"propTypes",{msgId:c().string.isRequired,msgParams:c().object}),y(g,"contextTypes",{intl:c().object});const h=g},47361:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(45697),o=n.n(r),i=n(67294),a=n.n(i),c=n(61545),l=n(37101);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(r);if(o){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function u(){return p(this,u),i.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){return this.context.intl?a().createElement(l.FormattedNumber,s({value:this.props.value},this.props.numberParams)):a().createElement("span",null,!(0,c.isNil)(this.props.value)&&!isNaN(this.props.value)&&this.props.value.toString&&this.props.value.toString()||"")}}])&&f(t.prototype,n),u}(a().Component);b(g,"propTypes",{value:o().oneOfType([o().object,o().number]),numberParams:o().object}),b(g,"contextTypes",{intl:o().object});const h=g},75140:(e,t,n)=>{"use strict";n.d(t,{Z:()=>D});var r=n(67294),o=n.n(r),i=n(45697),a=n.n(i),c=n(30294),l=n(50966),u=n(38560),s=n(27418),p=n.n(s);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(c,e);var t,n,r,i,a=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(r);if(i){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b(this,e)});function c(){var e;m(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(g(e=a.call.apply(a,[this].concat(n))),"getStyle",(function(){var t={cursor:e.props.disabled?"not-allowed":"pointer",margin:0,padding:0,display:"inline-block"};return e.props.image?p()(t,{overflow:"hidden"}):p()(t,{height:"48px",width:"48px",border:"1px solid grey",borderRadius:"4px",backgroundColor:"rgb(250, 250, 250)"}),p()(t,e.props.style),t})),e}return t=c,(n=[{key:"render",value:function(){return o().createElement("img",{className:this.props.className,id:this.props.id,title:this.props.tooltip,style:this.getStyle(),src:this.props.image,onClick:this.props.disabled?null:this.props.onClick})}}])&&d(t.prototype,n),c}(o().Component);v(O,"propTypes",{id:a().string,image:a().string,onClick:a().func,style:a().object,disabled:a().bool,tooltip:a().string,className:a().string}),v(O,"defaultProps",{disabled:!1,tooltip:null,className:void 0});const S=O;function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?x(e):t}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(s,e);var t,n,r,i,a=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=C(r);if(i){var n=C(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return j(this,e)});function s(){var e;A(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return R(x(e=a.call.apply(a,[this].concat(n))),"onClick",(function(){e.props.onClick(!e.props.pressed,e.props.options)})),R(x(e),"renderNormalButton",(function(){return o().createElement(u.Z,w({id:e.props.id},e.props.btnConfig,{onClick:e.onClick,bsStyle:e.props.pressed?e.props.pressedStyle:e.props.defaultStyle,style:e.props.style}),e.props.glyphicon?o().createElement(c.Glyphicon,{glyph:e.props.glyphicon}):null,e.props.glyphicon&&e.props.text&&!o().isValidElement(e.props.text)?" ":null,e.props.text,e.props.help)})),R(x(e),"renderImageButton",(function(){return o().createElement(S,{id:e.props.id,image:e.props.image,onClick:e.onClick,style:e.props.style})})),R(x(e),"addTooltip",(function(t){return o().createElement(l.Z,{placement:e.props.tooltipPlace,key:"overlay-trigger."+e.props.id,overlay:e.props.tooltip},t)})),e}return t=s,(n=[{key:"render",value:function(){var e="normal"===this.props.btnType?this.renderNormalButton():this.renderImageButton();return this.props.tooltip?this.addTooltip(e):e}}])&&P(t.prototype,n),s}(o().Component);R(k,"propTypes",{id:a().string,btnConfig:a().object,options:a().object,text:a().oneOfType([a().string,a().element]),help:a().oneOfType([a().string,a().element]),glyphicon:a().string,pressed:a().bool,onClick:a().func,tooltip:a().element,tooltipPlace:a().string,style:a().object,btnType:a().oneOf(["normal","image"]),image:a().string,pressedStyle:a().string,defaultStyle:a().string}),R(k,"defaultProps",{onClick:function(){},options:{},pressed:!1,tooltipPlace:"top",style:{},btnType:"normal",pressedStyle:"primary",defaultStyle:"default"});const D=k},9192:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(45697),o=n.n(r),i=n(67294),a=n.n(i),c=n(38560),l=n(30294),u=n(50966);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(r);if(o){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function s(){var e;p(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(y(e=i.call.apply(i,[this].concat(n))),"addTooltip",(function(t){if(!e.props.tooltip)return t;var n=a().createElement(l.Tooltip,{id:"locate-tooltip"},e.props.tooltip);return a().createElement(u.Z,{placement:e.props.tooltipPlace,key:"overlay-trigger."+e.props.id,overlay:n},t)})),e}return t=s,(n=[{key:"render",value:function(){var e=this;return this.addTooltip(a().createElement(c.Z,{id:this.props.id,style:this.props.style,onClick:function(){return e.props.onZoom(e.props.currentZoom+e.props.step)},className:this.props.className,disabled:this.props.currentZoom+this.props.step>this.props.maxZoom||this.props.currentZoom+this.props.step<this.props.minZoom,bsStyle:this.props.bsStyle},this.props.glyphicon?a().createElement(l.Glyphicon,{glyph:this.props.glyphicon}):null,this.props.glyphicon&&this.props.text?" ":null,this.props.text,this.props.help))}}])&&f(t.prototype,n),s}(a().Component);g(h,"propTypes",{id:o().string,style:o().object,glyphicon:o().string,text:o().string,btnSize:o().oneOf(["large","small","xsmall"]),className:o().string,help:o().oneOfType([o().string,o().element]),step:o().number,currentZoom:o().number,minZoom:o().number,maxZoom:o().number,onZoom:o().func,tooltip:o().element,tooltipPlace:o().string,bsStyle:o().string}),g(h,"defaultProps",{id:"mapstore-zoom",className:"square-button",glyphicon:"plus",btnSize:"xsmall",tooltipPlace:"left",step:1,currentZoom:3,minZoom:0,maxZoom:28,onZoom:function(){},bsStyle:"default",style:{}});const v=h},59979:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(67294),o=n.n(r),i=n(52595),a=n(30294),c=n(61545),l=n(73935),u=n.n(l);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const g=function(e){return function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(h,t);var n,r,l,s,g=(l=h,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(l);if(s){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return y(this,e)});function h(){return f(this,h),g.apply(this,arguments)}return n=h,(r=[{key:"render",value:function(){var t=null,n=this.props,r=n.popoverOptions,l=n.keyProp,s=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(n,["popoverOptions","keyProp"]);return o().createElement("span",{className:"mapstore-info-popover"},o().createElement(e,p({},(0,c.omit)(s,["renderPopover","tooltipId"]),{key:l,ref:function(e){t=e}})),o().createElement(i.Z,{placement:r.placement,shouldUpdatePosition:!0,show:!0,target:function(){return u().findDOMNode(t)}},o().createElement(a.Popover,r.props,r.content)))}}])&&m(n.prototype,r),h}(o().Component)}},83606:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(61545),o=n(45697),i=n.n(o),a=n(67294),c=n.n(a),l=n(30294),u=n(86638);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(s,e);var t,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(o);if(i){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function s(){var e;p(this,s);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return g(y(e=a.call.apply(a,[this].concat(n))),"onMouseOver",(function(){var t=(0,r.isString)(e.props.helpText)?e.props.helpText:(0,u.S$)(e.context.messages,e.props.helpText.props.msgId);e.props.changeHelpText(t),e.props.changeHelpwinVisibility(!0)})),e}return t=s,(n=[{key:"render",value:function(){return c().createElement(l.Badge,{id:this.props.id,onMouseOver:this.onMouseOver,className:(this.props.isVisible?"":"hidden ")+(this.props.className?this.props.className:"")},"?")}}])&&f(t.prototype,n),s}(c().Component);g(h,"propTypes",{id:i().string,helpText:i().oneOfType([i().string,i().element]),isVisible:i().bool,changeHelpText:i().func,changeHelpwinVisibility:i().func,className:i().string}),g(h,"contextTypes",{messages:i().object}),g(h,"defaultProps",{helpText:"",isVisible:!1});const v=h},65539:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(67294),o=n.n(r);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=function(e){var t=e.id,n=e.children,r=e.header,i=e.footer,c=e.columns,l=e.height,u=e.style,s=void 0===u?{}:u,p=e.className,f=e.bodyClassName,m=void 0===f?"ms2-border-layout-body":f;return o().createElement("div",{id:t,className:p,style:a({display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"hidden"},s)},r,o().createElement("div",{className:m,style:{display:"flex",flex:1,overflowY:"auto"}},o().createElement("main",{className:"ms2-border-layout-content",style:{flex:1}},l?o().createElement("div",{style:{height:l}},n):n),l?o().createElement("div",{style:{height:l}},c):c),i)}},73653:(e,t,n)=>{e.exports={LLayer:n(52792),Locate:n(15813).Z,LMap:n(39726),MeasurementSupport:n(42047),Overview:n(21975),ScaleBar:n(20564),Feature:n(44948)}},39190:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Feature:()=>s,LLayer:()=>p,Locate:()=>f,LMap:()=>m,MeasurementSupport:()=>d,Overview:()=>y,ScaleBar:()=>b,default:()=>g});var r=n(30072),o=n(44054),i=n(44418),a=n(9713),c=n(5904),l=n(22404),u=n(9056),s=r.Z,p=o.Z,f=i.Z,m=a.Z,d=c.Z,y=l.Z,b=u.Z;const g={LLayer:p,Locate:f,LMap:m,MeasurementSupport:d,Overview:y,ScaleBar:b,Feature:s}},75964:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(61545),o=n(45697),i=n.n(o),a=n(67294),c=n.n(a),l=n(30294),u=n(52259);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(u,e);var t,n,o,i,a=(o=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(o);if(i){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function u(){var e;p(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(y(e=a.call.apply(a,[this].concat(n))),"onComboChange",(function(t){var n=parseInt(t.nativeEvent.target.value,10);e.props.onChange(n,e.props.scales[n])})),g(y(e),"getOptions",(function(){return e.props.scales.map((function(t,n){return c().createElement("option",{value:n,key:n},e.props.template(t,n))})).filter((function(t,n){return n>=e.props.minZoom}))})),e}return t=u,(n=[{key:"shouldComponentUpdate",value:function(e){return!(0,r.isEqual)(e,this.props)}},{key:"render",value:function(){var e;return e=this.props.readOnly?c().createElement("label",null,this.props.template(this.props.scales[this.props.currentZoomLvl],this.props.currentZoomLvl)):this.props.useRawInput?c().createElement("select",{label:this.props.label,onChange:this.onComboChange,bsSize:"small",value:this.props.currentZoomLvl||""},this.getOptions()):c().createElement(l.Form,{inline:!0},c().createElement(l.FormGroup,{bsSize:"small"},c().createElement(l.ControlLabel,null,this.props.label),c().createElement(l.FormControl,{componentClass:"select",onChange:this.onComboChange,value:this.props.currentZoomLvl||""},this.getOptions()))),c().createElement("div",{id:this.props.id,style:this.props.style},e)}}])&&f(t.prototype,n),u}(c().Component);g(h,"propTypes",{id:i().string,style:i().object,scales:i().array,currentZoomLvl:i().number,minZoom:i().number,onChange:i().func,readOnly:i().bool,label:i().oneOfType([i().func,i().string,i().object]),template:i().func,useRawInput:i().bool}),g(h,"defaultProps",{id:"mapstore-scalebox",scales:(0,u.getGoogleMercatorScales)(0,28),currentZoomLvl:0,minZoom:0,onChange:function(){},readOnly:!1,template:function(e){return e<1?Math.round(1/e)+" : 1":"1 : "+Math.round(e)},useRawInput:!1});const v=h},75480:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294),o=n.n(r);const i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style,n=void 0===t?{display:"inline-block"}:t;return o().createElement("div",{style:n,className:"mapstore-inline-loader"})}},94745:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(67294),o=n.n(r),i=n(30294),a=n(7472),c=n(80717),l=n(18093),u=n(19081),s=n.n(u),p=n(75480),f={xs:" ms-xs",sm:" ms-sm",md:"",lg:" ms-lg"},m={className:{vertical:" ms-fullscreen-v",horizontal:" ms-fullscreen-h",full:" ms-fullscreen"},glyph:{expanded:{vertical:"resize-vertical",horizontal:"resize-horizontal",full:"resize-small"},collapsed:{vertical:"resize-vertical",horizontal:"resize-horizontal",full:"resize-full"}}};const d=(0,l.withState)("fullscreenState","onFullscreen",(function(e){var t=e.initialFullscreenState;return void 0===t?"collapsed":t}))((function(e){var t=e.show,n=void 0!==t&&t,r=e.loading,l=e.loadingText,u=e.onClose,d=void 0===u?function(){}:u,y=e.title,b=void 0===y?"":y,g=e.clickOutEnabled,h=void 0===g||g,v=e.showClose,O=void 0===v||v,S=e.disabledClose,E=void 0!==S&&S,w=e.showFullscreen,A=void 0!==w&&w,P=e.fullscreenType,T=void 0===P?"full":P,j=e.buttons,x=void 0===j?[]:j,C=e.size,R=void 0===C?"":C,k=e.bodyClassName,D=void 0===k?"":k,_=e.children,I=e.draggable,L=void 0!==I&&I,N=e.fullscreenState,M=e.onFullscreen,F=e.fade,U=void 0!==F&&F,G=e.fitContent,Z=e.modalClassName,z=void 0===Z?"":Z,B=e.dialogClassName,H=void 0===B?"":B,V=e.enableFooter,Y=void 0===V||V,q=f[R]||"",W=A&&"expanded"===N&&m.className[T]||"",K=n?o().createElement("div",{className:"modal-fixed ".concat(z," ")+(L?"ms-draggable":"")},o().createElement(a.Z,{id:"ms-resizable-modal",style:{display:"flex"},onClickOut:h?d:function(){},containerClassName:"ms-resizable-modal",draggable:L,modal:!0,className:"modal-dialog modal-content"+q+W+H+(G?" ms-fit-content":"")},o().createElement("span",{role:"header"},o().createElement("h4",{className:"modal-title"},o().createElement("div",{className:"ms-title"},b),A&&m.className[T]&&o().createElement(i.Glyphicon,{className:"ms-header-btn",onClick:function(){return M("expanded"===N?"collapsed":"expanded")},glyph:m.glyph[N][T]}),O&&d&&o().createElement(i.Glyphicon,{glyph:"1-close",className:"ms-header-btn",onClick:d,disabled:E}))),o().createElement("div",{role:"body",className:D},_),Y&&o().createElement("div",{style:{display:"flex"},role:"footer"},o().createElement("div",{className:"ms-resizable-modal-loading-spinner-container"},r?o().createElement(p.Z,null):null),o().createElement("div",{className:"ms-resizable-modal-loading-text"},r?l:null),o().createElement(c.Z,{buttons:x})))):null;return U?o().createElement(s(),{transitionName:"ms-resizable-modal-fade",transitionEnterTimeout:300,transitionLeaveTimeout:300},K):K}))},99509:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Y});var r=n(67294),o=n.n(r),i=n(45697),a=n.n(i),c=n(61545),l=n(30294),u=n(73378);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(s,e);var t,n,r,i,a=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(r);if(i){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function s(){var e;p(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(y(e=a.call.apply(a,[this].concat(n))),"verifyOnKeyDownEvent",(function(t){69===t.keyCode&&t.preventDefault(),13===t.keyCode&&(t.preventDefault(),t.stopPropagation(),e.props.onKeyDown(t))})),g(y(e),"validateDecimalLon",(function(t){var n=e.props.constraints[e.props.format].lon.min,r=e.props.constraints[e.props.format].lon.max,o=parseFloat(t);return isNaN(o)||o<n||o>r?"error":null})),g(y(e),"validateDecimalLat",(function(t){var n=e.props.constraints[e.props.format].lat.min,r=e.props.constraints[e.props.format].lat.max,o=parseFloat(t);return isNaN(o)||o<n||o>r?"error":null})),e}return t=s,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.coordinate,r=t.value,i=t.onChange,a="validateDecimal"+(0,c.capitalize)(n);return o().createElement(l.FormGroup,{validationState:this[a](r)},o().createElement(u.Z,{key:n,value:r,placeholder:n,onChange:function(t){""===t&&i(""),null===e[a](t)&&i(t)},onKeyDown:this.verifyOnKeyDownEvent,step:1,validateNameFunc:this[a],type:"number"}))}}])&&f(t.prototype,n),s}(o().Component);g(h,"propTypes",{idx:a().number,value:a().number,constraints:a().object,format:a().string,coordinate:a().string,onChange:a().func,onKeyDown:a().func,onSubmit:a().func}),g(h,"defaultProps",{format:"decimal",coordinate:"lat",constraints:{decimal:{lat:{min:-90,max:90},lon:{min:-180,max:180}}},onKeyDown:function(){}});const v=h;var O=n(18093);const S=(0,O.withProps)((function(e){var t=e.coordinate,n=void 0===t?"lat":t;return{maxDegrees:"lat"===n?90:180,directions:"lat"===n?["N","S"]:["E","W"]}}));var E=n(62395);const w=(0,O.compose)((0,O.withProps)((function(e){return{isValid:""!==e.value}})),(0,O.withState)("initial","setInitial",{}),(0,O.withProps)((function(e){var t=e.isValid,n=e.initial,r=e.degrees,o=e.minutes,i=e.seconds;return t||""===r&&""===o&&""===i?{}:n})),(0,O.withHandlers)({onChange:function(e){return function(t){var n=t.degrees,r=t.minutes,o=t.seconds,i=t.direction;isNaN(n)?e.setInitial({degrees:"",minutes:r,seconds:o,direction:i}):isNaN(r)?e.setInitial({degrees:n,minutes:"",seconds:o,direction:i}):isNaN(o)&&e.setInitial({degrees:n,minutes:r,seconds:"",direction:i}),e.onChange({degrees:n,minutes:r,seconds:o,direction:i})}}}));function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?k(e):t}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(s,e);var t,n,r,i,a=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=D(r);if(i){var n=D(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return R(this,e)});function s(){var e;j(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _(k(e=a.call.apply(a,[this].concat(n))),"onChange",(function(t,n){var r=e.getUpdatedCoordinateValue(t,n);e.props.onChange(r)})),_(k(e),"getUpdatedCoordinateValue",(function(t,n){try{var r=_({degrees:e.props.degrees,minutes:e.props.minutes,seconds:e.props.seconds,direction:e.props.direction},t,"degrees"===t?Math.min(n,e.props.maxDegrees):n),o=r.seconds,i=r.minutes+e.getSexagesimalStep(o),a=Math.min(e.props.maxDegrees,r.degrees+e.getSexagesimalStep(i)),c=r.direction;return o=e.roundToNextSexagesimalStep(o),i=e.roundToNextSexagesimalStep(i),a===e.props.maxDegrees&&(i=0,o=0),c=a<0?c===e.props.directions[0]?e.props.directions[1]:e.props.directions[0]:c,-1===a&&(r.degrees<0&&r.minutes>=0?a=r.degrees:r.minutes<0&&r.degrees<=0?(a=0,i=r.minutes):(a=0,i=0,o=1e-4)),{degrees:a,minutes:i,seconds:o,direction:c}}catch(e){return null}})),_(k(e),"getSexagesimalStep",(function(e){return e>=60?1:e<0?-1:0})),_(k(e),"getInputStyle",(function(e){return isNaN(e)||""===e?{borderColor:"#a94442"}:{}})),_(k(e),"verifyOnKeyDownEvent",(function(t){69===t.keyCode&&t.preventDefault(),13===t.keyCode&&(t.preventDefault(),t.stopPropagation(),e.props.onKeyDown())})),_(k(e),"roundToNextSexagesimalStep",(function(e){return e<0?60+e:e>=60?e-60:e})),_(k(e),"isValid",(function(t){var n=t.minutes,r=t.seconds,o=t.degrees,i=t.direction;return!(0,c.isNil)(n)&&n>0&&n<60&&!(0,c.isNil)(r)&&r>0&&r<60&&!(0,c.isNil)(o)&&o>0&&o<e.props.maxDegrees&&i})),e}return t=s,(n=[{key:"render",value:function(){var e=this,t={padding:0,textAlign:"center",borderRight:"none"},n=this.getInputStyle(this.props.degrees),r=this.getInputStyle(this.props.minutes),i=this.getInputStyle(this.props.seconds),a={position:"relative",top:0,overflow:"visible",zIndex:3,left:-25,width:0,height:0},c=this.props.aeronauticalOptions.seconds.step;return o().createElement(l.FormGroup,{style:{display:"inline-flex"}},o().createElement("div",{className:"degrees",style:{width:40,display:"flex"}},o().createElement(u.Z,{key:this.props.coordinate+"degree",value:this.props.degrees,placeholder:"d",onChange:function(t){return e.onChange("degrees",parseInt(t,10))},step:1,size:3,max:this.props.maxDegrees,min:-1,onKeyDown:function(t){e.verifyOnKeyDownEvent(t)},style:T(T({width:"100%"},t),n),type:"number"}),o().createElement("span",{style:a},"°")),o().createElement("div",{className:"minutes",style:{width:40,display:"flex"}},o().createElement(u.Z,{key:this.props.coordinate+"minutes",placeholder:"m",size:3,value:this.props.minutes,onChange:function(t){e.onChange("minutes",parseInt(t,10))},max:60,min:-1,onKeyDown:function(t){e.verifyOnKeyDownEvent(t)},style:T(T({width:"100%"},t),r),step:1,type:"number"}),o().createElement("span",{style:a},"′")),o().createElement("div",{className:"seconds",style:{display:"flex"}},o().createElement(u.Z,{key:this.props.coordinate+"seconds",value:this.props.seconds,placeholder:"s",onChange:function(t){return e.onChange("seconds",parseFloat(t))},step:c,max:60,onKeyDown:function(t){e.verifyOnKeyDownEvent(t)},min:-1,style:T(T({width:"100%"},t),i),type:"number"}),o().createElement("span",{style:a},"″")),o().createElement("div",{className:"direction-select"},o().createElement(l.FormControl,{componentClass:"select",placeholder:"select",value:this.props.direction,onChange:function(t){return e.onChange("direction",t.target.value)},style:{paddingLeft:4,paddingRight:4,flex:"1 1 0%"}},this.props.directions.map((function(e){return o().createElement("option",{key:e,value:e},e)})))))}}])&&x(t.prototype,n),s}(o().Component);_(I,"propTypes",{idx:a().number,maxDegrees:a().number,degrees:a().number,minutes:a().number,seconds:a().number,directions:a().array,direction:a().string,aeronauticalOptions:a().object,coordinate:a().string,onChange:a().func,onKeyDown:a().func}),_(I,"defaultProps",{coordinate:"lat",maxDegrees:90,directions:["N","S"],aeronauticalOptions:{seconds:{decimals:4,step:1e-4}},onKeyDown:function(){}});const L=(0,O.compose)(S,E.Z,w)(I),N=(0,O.compose)((0,O.withHandlers)({onChange:function(e){var t=e.onChange,n=void 0===t?function(){}:t,r=e.maxLatitude,o=void 0===r?89.9997222222:r,i=e.coordinate;return function(e){return n(Math.abs(parseFloat(e))>o&&"lat"===i?Math.sign(e)*o:e)}}}));function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(l,e);var t,n,r,i,a=(r=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=B(r);if(i){var n=B(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return z(this,e)});function l(){return U(this,l),a.apply(this,arguments)}return t=l,(n=[{key:"render",value:function(){var e=this.props.format;return"decimal"===e||(0,c.isNil)(e)?o().createElement(v,F({},this.props,{format:this.props.format||"decimal"})):o().createElement(L,this.props)}}])&&G(t.prototype,n),l}(o().Component);H(V,"propTypes",{idx:a().number,value:a().number,constraints:a().object,format:a().string,aeronauticalOptions:a().object,coordinate:a().string,onChange:a().func,onKeyDown:a().func}),H(V,"defaultProps",{format:"decimal",constraints:{decimal:{lat:{min:-90,max:90},lon:{min:-180,max:180}}}});const Y=N(V)},91772:(e,t,n)=>{"use strict";n.d(t,{Z:()=>R});var r=n(67294),o=n.n(r),i=n(45697),a=n.n(i),c=n(30294),l=n(80717),u=n(90937),s=n(18093);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d={beginDrag:function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)}};const y=(0,s.branch)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isDraggable;return t}),(0,s.compose)((0,u.Ej)("row",d,(function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging(),draggingItem:t.getItem()||null}})),(0,u.GR)("row",{drop:function(e,t){var n=t.getItem();n.sortId!==e.sortId&&e.onSort(e.sortId,n.sortId,{id:e.id,containerId:e.containerId},{id:n.id,containerId:n.containerId})}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}})),(function(e){return function(t){var n=t.connectDragSource,r=t.connectDragPreview,i=t.connectDropTarget,a=t.isDragging,c=t.isOver,l=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,["connectDragSource","connectDragPreview","connectDropTarget","isDragging","isOver"]),u=l.draggingItem&&l.draggingItem.sortId<l.sortId,s=l.draggingItem&&l.draggingItem.containerId===l.containerId,f=s&&a?" ms-dragging":"",m=s&&c?" ms-over":"",d=s&&u?" ms-above":" ms-below";return r(i(o().createElement("div",{className:"ms-dragg".concat(f).concat(m," ").concat(d)},o().createElement("div",null,o().createElement(e,p({},l,{connectDragSource:n,isDragging:a,isOver:c,onDrop:function(e){return e.stopPropagation()}}))))))}})));var b=n(99509),g=n(5346),h=n(61545),v=n(77900);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?T(e):t}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(u,e);var t,n,r,i,a=(r=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=j(r);if(i){var n=j(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return P(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),x(T(t=a.call(this,e)),"onChangeLatLon",(function(e,n){t.setState(E(E({},t.state),{},x({},e,parseFloat(n))),(function(){var e=parseFloat(t.state.lat)!==parseFloat(t.props.component.lat),n=parseFloat(t.state.lon)!==parseFloat(t.props.component.lon);t.setState(E(E({},t.state),{},{disabledApplyChange:!(e||n)}),(function(){"annotations"===t.props.renderer&&t.props.onSubmit(t.props.idx,t.state)}))}))})),x(T(t),"onSubmit",(function(){t.props.onSubmit(t.props.idx,t.state)})),t.state={lat:(0,h.isNumber)(t.props.component.lat)?t.props.component.lat:"",lon:(0,h.isNumber)(t.props.component.lon)?t.props.component.lon:"",disabledApplyChange:!0},t}return t=u,(n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(!(0,h.isEqual)(e.component,this.props.component)){var t=(0,h.isNumber)(e.component.lat)?e.component.lat:"",n=(0,h.isNumber)(e.component.lon)?e.component.lon:"";this.setState({lat:t,lon:n,disabledApplyChange:!0})}}},{key:"render",value:function(){var e=this,t=this.props.idx,n=[{visible:this.props.removeVisible,disabled:!this.props.removeEnabled,glyph:"trash",onClick:function(){e.props.onRemove(t)}},{buttonConfig:{title:o().createElement(c.Glyphicon,{glyph:"cog"}),className:"square-button-md no-border",pullRight:!0,tooltipId:"identifyChangeCoordinateFormat"},menuOptions:[{active:"decimal"===this.props.format,onClick:function(){e.props.onChangeFormat("decimal")},text:o().createElement(g.Z,{msgId:"search.decimal"})},{active:"aeronautical"===this.props.format,onClick:function(){e.props.onChangeFormat("aeronautical")},text:o().createElement(g.Z,{msgId:"search.aeronautical"})}],visible:this.props.formatVisible,Element:v.Z},{glyph:"ok",disabled:this.state.disabledApplyChange,tooltipId:"identifyCoordinateApplyChanges",onClick:this.onSubmit,visible:"annotations"!==this.props.renderer}],r=o().createElement("div",{role:"button",className:"square-button-md no-border btn btn-default",style:{display:"table",color:!this.props.isDraggableEnabled&&"#999999",pointerEvents:this.props.isDraggableEnabled?"auto":"none",cursor:this.props.isDraggableEnabled&&"grab"}},o().createElement(c.Glyphicon,{glyph:"menu-hamburger"}));return o().createElement("div",{className:"coordinateRow ".concat(this.props.format||""," ").concat(this.props.customClassName||""),onMouseEnter:function(){e.props.onMouseEnter&&e.props.component.lat&&e.props.component.lon&&e.props.onMouseEnter(e.props.component)},onMouseLeave:function(){e.props.onMouseLeave&&e.props.component.lat&&e.props.component.lon&&e.props.onMouseLeave()}},o().createElement("div",{style:{cursor:this.props.isDraggableEnabled?"grab":"not-allowed"}},this.props.showDraggable?this.props.isDraggable?this.props.connectDragSource(r):r:null),o().createElement("div",{className:"coordinate"},o().createElement("div",null,o().createElement(c.InputGroup,null,o().createElement(c.InputGroup.Addon,null,o().createElement(g.Z,{msgId:"latitude"})),o().createElement(b.Z,{format:this.props.format,aeronauticalOptions:this.props.aeronauticalOptions,coordinate:"lat",idx:t,value:this.state.lat,onChange:function(t){return e.onChangeLatLon("lat",t)},constraints:{decimal:{lat:{min:-90,max:90},lon:{min:-180,max:180}}},onKeyDown:this.onSubmit}))),o().createElement("div",null,o().createElement(c.InputGroup,null,o().createElement(c.InputGroup.Addon,null,o().createElement(g.Z,{msgId:"longitude"})),o().createElement(b.Z,{format:this.props.format,aeronauticalOptions:this.props.aeronauticalOptions,coordinate:"lon",idx:t,value:this.state.lon,onChange:function(t){return e.onChangeLatLon("lon",t)},constraints:{decimal:{lat:{min:-90,max:90},lon:{min:-180,max:180}}},onKeyDown:this.onSubmit})))),this.props.showToolButtons&&o().createElement("div",{key:"tools"},o().createElement(l.Z,{btnGroupProps:{className:"tools"},btnDefaultProps:{className:"square-button-md no-border"},buttons:n})))}}])&&w(t.prototype,n),u}(o().Component);x(C,"propTypes",{idx:a().number,component:a().object,onRemove:a().func,onSubmit:a().func,onChangeFormat:a().func,onMouseEnter:a().func,format:a().string,type:a().string,onMouseLeave:a().func,connectDragSource:a().func,aeronauticalOptions:a().object,customClassName:a().string,isDraggable:a().bool,isDraggableEnabled:a().bool,showLabels:a().bool,showDraggable:a().bool,showToolButtons:a().bool,removeVisible:a().bool,formatVisible:a().bool,removeEnabled:a().bool,renderer:a().string}),x(C,"defaultProps",{showLabels:!1,formatVisible:!1,onMouseEnter:function(){},onMouseLeave:function(){},showToolButtons:!0});const R=y(C)},62395:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(61545),o=n(18093);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=(0,o.compose)((0,o.withProps)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{seconds:{decimals:4}}).seconds,o=e>=0?Math.floor(e):Math.ceil(e),i=Math.abs(60*(e-o)),a=Math.floor(i),c=60*(i-a),l=(0,r.round)(c,n.decimals);return o=Math.abs(o),60===l&&(a++,l=0),60===a&&(o++,a=0),(0,r.isNaN)(o)||""===e?{degrees:"",minutes:"",seconds:"",direction:t?"E":"N"}:{degrees:o,minutes:a,seconds:l,direction:e<0?t?"W":"S":t?"E":"N"}}(e.value,"lon"===e.coordinate,e.aeronauticalOptions))})),(0,o.withHandlers)({onChange:function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.degrees,o=t.minutes,i=t.seconds,a=t.direction,c=0,l=0,u=0;void 0===n&&void 0===o&&void 0===i&&e.onChange(void 0),(0,r.isNaN)(n)||(c=n),(0,r.isNaN)(o)||(l=o),(0,r.isNaN)(i)||(u=i);var s=c+l/60+u/3600;(s>0&&("S"===a||"W"===a)||s<0&&("N"===a||"E"===a))&&(s*=-1),e.onChange(s.toPrecision(12))}}}))},6724:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(67294),o=n.n(r),i=n(18093),a=function(e,t,n){var r=n.maskContainerStyle,a=n.maskStyle,c=n.className,l=n.white;return function(n){return(0,i.nest)((function(n){return o().createElement("div",{className:"ms2-mask-container ".concat(c||""," ").concat(e(n)?"":"ms2-mask-empty"),style:r},n.children,e(n)?o().createElement("div",{className:"ms2-mask"+(l?" white-mask":""),style:a},t(n)):null)}),n)}};const c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.alwaysWrap,o=void 0===r||r,c=n.white,l=void 0!==c&&c,u=n.maskContainerStyle,s=void 0===u?{}:u,p=n.maskStyle,f=void 0===p?{}:p,m=n.className;return o?a(e,t,{maskContainerStyle:s,maskStyle:f,className:m,white:l}):(0,i.branch)(e,a((function(){return!0}),t,{maskContainerStyle:s,maskStyle:f,white:l}))}},16919:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(67294),o=n.n(r),i=n(32833),a=n(65539),c=n(18093),l=n(30294),u=n(38560),s={bottom:{true:"chevron-down",false:"chevron-up"},top:{true:"chevron-up",false:"chevron-down"},right:{true:"chevron-right",false:"chevron-left"},left:{true:"chevron-left",false:"chevron-right"}};const p=function(e){var t=e.position,n=void 0===t?"right":t,r=e.onClose,i=e.bsStyle,a=void 0===i?"default":i,c=e.title,p=void 0===c?"":c,f=e.fullscreen,m=void 0!==f&&f,d=e.showFullscreen,y=void 0!==d&&d,b=e.glyph,g=void 0===b?"info-sign":b,h=e.additionalRows,v=e.onFullscreen,O=void 0===v?function(){}:v,S=r?o().createElement(u.Z,{key:"ms-header-close",className:"square-button ms-close",onClick:r,bsStyle:a},o().createElement(l.Glyphicon,{glyph:"1-close"})):null,E=y?o().createElement(u.Z,{key:"ms-header-glyph",className:"square-button",bsStyle:a,onClick:function(){return O(!m)}},o().createElement(l.Glyphicon,{glyph:s[n]&&s[n][m]||"resize-full"})):o().createElement("div",{key:"ms-header-glyph",className:"square-button ".concat("bg-"+a),style:{display:"flex"}},o().createElement(l.Glyphicon,{glyph:g,className:"".concat("default"===a?"text-primary":"")})),w="left"===n?[S,E]:[E,S];return o().createElement(l.Grid,{fluid:!0,style:{width:"100%"},className:"ms-header ms-"+a},o().createElement(l.Row,null,o().createElement(l.Col,{xs:2},w[0]),o().createElement(l.Col,{xs:8},o().createElement("h4",null,p)),o().createElement(l.Col,{xs:2},w[1])),h)},f=(0,c.withState)("fullscreen","onFullscreen",!1)((function(e){var t=e.fluid,n=e.className,r=void 0===n?"":n,c=e.fullscreen,l=void 0!==c&&c,u=e.position,s=e.open,f=e.size,m=void 0===f?550:f,d=e.style,y=void 0===d?{}:d,b=e.zIndex,g=void 0===b?1030:b,h=e.onClose,v=e.bsStyle,O=e.title,S=e.showFullscreen,E=void 0!==S&&S,w=e.glyph,A=e.header,P=e.footer,T=e.children,j=e.onFullscreen,x=void 0===j?function(){}:j,C=e.fixed,R=void 0!==C&&C,k=e.resizable,D=void 0!==k&&k,_=e.hideHeader;return o().createElement("div",{className:"ms-side-panel "+(R?"":"ms-absolute-dock ")+(D?"":"react-dock-no-resize ")+r},o().createElement(i.default,{fluid:t||l,position:u,dimMode:"none",isVisible:s,size:l?1:m,dockStyle:y,zIndex:g},o().createElement(a.Z,{header:!_&&s&&o().createElement(p,{position:u,onClose:h,bsStyle:v,title:O,fullscreen:l,showFullscreen:E,glyph:w,additionalRows:A,onFullscreen:x}),footer:s&&P},s&&T)))}))},32107:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294),o=n.n(r),i=n(18093),a=n(65539),c=n(16919),l=n(94745);var u=(0,i.renameProps)({open:"show"})((function(e){var t=e.children,n=e.header,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["children","header"]);return o().createElement(l.Z,r,o().createElement(a.Z,{header:o().createElement("div",{className:"ms-header"},n)},t))}));const s=(0,i.branch)((function(e){return!e.dock}),(function(){return function(e){return o().createElement(u,e)}}))(c.Z)},12346:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var r=n(67294),o=n.n(r),i=n(45697),a=n.n(i),c=n(30294),l=n(45869),u=n(80717),s=n(5346);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(c,e);var t,n,r,i,a=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(r);if(i){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return y(this,e)});function c(){return f(this,c),a.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){var e=this;return o().createElement(u.Z,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},btnGroupProps:{style:{margin:10}},buttons:[{glyph:this.props.checked?"chevron-down":"chevron-left",visible:!0,tooltip:this.props.checked?o().createElement(s.Z,{msgId:"collapse"}):o().createElement(s.Z,{msgId:"expand"}),onClick:function(){return e.props.onClick(!e.props.checked)}}]})}}])&&m(t.prototype,n),c}(o().Component);g(h,"propTypes",{checked:a().bool,onClick:a().func}),g(h,"defaultProps",{checked:!1,onClick:function(){}});const v=h;var O=n(38560),S=n(82110);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=function(){return o().createElement(O.Z,{className:"square-button-sm no-border switch-error"},o().createElement(c.Glyphicon,{glyph:"exclamation-mark",className:"text-danger"}))},k=function(){return o().createElement("div",{className:"switch-loading"},o().createElement(S.Z,{size:"small"}))},D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(s,e);var t,n,r,i,a=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=x(r);if(i){var n=x(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return T(this,e)});function s(){var e;w(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return C(j(e=a.call.apply(a,[this].concat(n))),"state",{}),e}return t=s,(n=[{key:"renderHeader",value:function(){var e=this,t=this.props.useToolbar?v:l.Z;return o().createElement("div",null,o().createElement("div",{className:"pull-left"},this.props.title||this.props.header),o().createElement("div",{className:"pull-right"},this.props.locked?null:o().createElement(t,{checked:this.props.expanded,onClick:function(t){e.props.onSwitch(t)}}),this.props.error?o().createElement(R,null):null,this.props.loading?o().createElement(k,null):null,this.props.buttons.length>0&&this.props.expanded&&o().createElement(u.Z,{btnDefaultProps:{className:"square-button-sm no-border"},buttons:this.props.buttons})))}},{key:"render",value:function(){return o().createElement(c.Panel,{className:"mapstore-switch-panel",collapsible:!0,expanded:this.props.expanded,defaultExpanded:this.props.defaultExpanded,header:this.renderHeader()},this.props.children)}}])&&A(t.prototype,n),s}(o().Component);C(D,"propTypes",{header:a().node,title:a().oneOfType([a().string,a().node]),defaultExpanded:a().string,expanded:a().bool,onSwitch:a().func,locked:a().bool,buttons:a().array,loading:a().bool,error:a().any,errorMsgId:a().string,transitionProps:a().object,useToolbar:a().bool}),C(D,"defaultProps",{title:"",expanded:!1,onSwitch:function(){},locked:!1,buttons:[],useToolbar:!1});const _=D},77900:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(30294),o=n(15135),i=n(67294),a=n.n(i),c=n(23570),l=n.n(c);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=(0,o.Z)(r.DropdownButton),p={disabled:!1,className:"square-button-md",noCaret:!0,idDropDown:l()()};const f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.menuOptions,n=void 0===t?[]:t,o=e.buttonConfig,i=void 0===o?{}:o;return a().createElement(s,u({},p,i),n.length?n.map((function(e,t){var n=e.glyph,o=e.text,i=e.onClick,c=e.active,l=void 0!==c&&c;return a().createElement(r.MenuItem,{active:l,eventKey:t,onClick:i,key:t},n&&a().createElement(r.Glyphicon,{glyph:n})," ",o)})):null)}},65295:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var r=n(67294),o=n.n(r),i=n(61545),a=n(45697),c=n.n(a),l=n(30381),u=n.n(l),s=n(30294),p=n(15135),f=n(38560);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=(0,p.Z)(s.Glyphicon),E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(l,e);var t,n,r,a,c=(r=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v(r);if(a){var n=v(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return g(this,e)});function l(){var e;d(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return O(h(e=c.call.apply(c,[this].concat(n))),"onUpdate",(function(t,n){var r=u()(e.props.date).utc(),o=n?u()(r).add(1,t):u()(r).subtract(1,t);o.isValid()&&!isNaN(o.toDate().getTime())&&e.props.onUpdate(o.toISOString())})),O(h(e),"onChange",(function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};if(""!==n){var o=u()(e.props.date).utc(),i=o["day"===t?"date":t]&&u()(o)["day"===t?"date":t](r(n));i.isValid()&&!isNaN(i.toDate().getTime())&&e.props.onUpdate(i.toISOString())}})),O(h(e),"getForm",(function(){var t=e.props.date&&u()(e.props.date).utc();return[{name:"icon",value:"calendar",type:"icon"},{name:"day",placeholder:"DD",value:t&&t.date()},{name:"month",placeholder:"MM",readOnly:!0,value:t&&t.month(),format:function(e){return!(0,i.isNil)(e)&&""!==e&&u().monthsShort(e)},parseValue:function(e){return e-1}},{name:"year",placeholder:"YYYY",value:t&&t.year()},{name:"icon",value:"time",type:"icon"},{name:"hours",placeholder:"hh",value:t&&t.hours()},{name:"separator",value:":",type:"separator"},{name:"minutes",placeholder:"mm",value:t&&t.minutes()},{name:"separator",value:":",type:"separator"},{name:"seconds",placeholder:"ss",value:t&&t.seconds()},{name:"separator",value:t&&t.utcOffset(),type:"separator",format:function(e){return"UTC "+(e>=0?"+":"-")+(0,i.padStart)(e/60,2,0)}}]})),e}return t=l,(n=[{key:"render",value:function(){var e=this,t=this.getForm();return o().createElement(s.Form,{className:"ms-inline-datetime ".concat(this.props.className),style:this.props.style},o().createElement(s.FormGroup,{controlId:"inlineDateTime"},this.props.glyph&&o().createElement("div",{style:this.props.clickable?{cursor:"pointer"}:{},onClick:function(){return e.props.clickable&&e.props.onIconClick(e.props.date,e.props.glyph)}},o().createElement(S,{tooltip:this.props.clickable?this.props.tooltip:void 0,tooltipId:this.props.clickable?this.props.tooltipId:void 0,className:"ms-inline-datetime-icon",glyph:this.props.glyph})),t.map((function(t){return"icon"===t.type&&o().createElement("div",{className:"ms-inline-datetime-input ms-dt-".concat(t.name)},o().createElement(S,{glyph:t.value}))||"separator"===t.type&&o().createElement("div",{className:"ms-inline-datetime-input ms-dt-".concat(t.name)},t.format&&t.format(t.value)||t.value)||o().createElement("div",{className:"ms-inline-datetime-input ms-dt-".concat(t.name)},e.props.showButtons&&o().createElement(f.Z,{bsSize:"xs",disabled:!e.props.date,onClick:function(){return e.onUpdate(t.name,!0)}},o().createElement(S,{glyph:"chevron-up"})),o().createElement(s.FormControl,{type:"text",readOnly:t.readOnly,placeholder:t.placeholder||t.name,disabled:!e.props.date,value:t.format&&t.format(t.value)||t.value,onChange:function(n){return e.onChange(t.name,n.target.value,t.parseValue)}}),e.props.showButtons&&o().createElement(f.Z,{bsSize:"xs",disabled:!e.props.date,onClick:function(){return e.onUpdate(t.name)}},o().createElement(S,{glyph:"chevron-down"})))}))))}}])&&y(t.prototype,n),l}(o().Component);O(E,"propTypes",{date:c().string,clickable:c().bool,onUpdate:c().func,onIconClick:c().func,glyph:c().string,style:c().object,className:c().string,tooltip:c().string,tooltipId:c().string,showButtons:c().bool}),O(E,"defaultProps",{date:"",onIconClick:function(){},clickable:!1,onUpdate:function(){},glyph:"time",style:{},className:"",tooltip:""});const w=E},26325:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>R});var r=n(89255),o=n(61545),i=n(30381),a=n.n(i),c=n(89919),l=n(1550),u=n(57676),s=n(57604),p=n(80416),f=n(97395),m=n(75110),d=n(97291),y=n(85148),b=n(55237),g=n(96361);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(e,t)||O(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||O(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P="time",T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,d.Li)(e),r=(0,d.uy)(e),o=(0,d.Ry)(e),i=(0,d.F3)(n)(e);return[o,r,"time",w({limit:1},t),i]},j=function(e,t,n){if((0,d.uy)(e))return r.Observable.forkJoin(g.Ci.apply(void 0,v(T(e,{sort:"asc",fromValue:n}))).map((function(e){return e.DomainValues.Domain.split(",")})).map((function(e){return h(e,1)[0]})).catch((function(e){return e&&r.Observable.of(null)})),g.Ci.apply(void 0,v(T(e,{sort:"desc",fromValue:n}))).map((function(e){return e.DomainValues.Domain.split(",")})).map((function(e){return h(e,1)[0]})).catch((function(e){return e&&r.Observable.of(null)}))).map((function(e){return(0,b.Qn)(e.filter((function(e){return!!e})),n)||n}));var o=(0,y.aK)((0,m.CA)(e,t))(e);return r.Observable.of((0,b.Qn)(o,n)||n)},x=function(e){return(0,o.isString)(e)?e:e.toISOString()},C=function(e,t,n){var i=t.domain.split("--"),a=(0,d.YK)(n())||{start:new Date(i[0]),end:new Date(i[1])},c=(0,b.un)(a,20),l=c.range,u=c.resolution,s=(0,m.CA)(n(),e).name,p=A({},P,"".concat(x(l.start),"/").concat(x(l.end)));return(0,g.ot)(t.source.url,s,P,A({},P,"".concat(x(l.start),"/").concat(x(l.end))),u,(0,d.F3)(e)(n())).merge((0,g.i8)(t.source.url,s,p,w(w({},(0,d.F3)(e)(n())),{},{expandLimit:20}))).scan((function(e,t){return w(w({},e),t)}),{}).switchMap((function(e){var t,n=e.Histogram,i=e.Domains,a=(0,o.get)((0,o.head)((0,o.castArray)((0,o.get)(i,"DimensionDomain")||[]).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.Identifier;return t===P}))),"Domain");try{t=n&&n.Values&&n.Values.split(",").map((function(e){return parseInt(e,10)}))||[]}catch(e){t=[]}var c=a&&a.indexOf("--")<0&&a.split(",");return r.Observable.of({range:l,histogram:n&&n.Domain?{values:t,domain:n.Domain}:void 0,domain:a?{values:c}:void 0})}))};const R={setTimelineCurrentTime:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,o=void 0===n?function(){}:n;return e.ofType(u.qx).throttleTime(100).switchMap((function(e){var t=e.time,n=e.group,i=o();return n?j(i,n,t).switchMap((function(e){var t=(0,d.YK)(i)||{},n=t.start,o=t.end,c=[];if(n&&o&&(a()(e).isBefore(n)||a()(e).isAfter(o))){var l=a()(o).diff(n);c=[(0,u.y3)({start:a()(e).subtract(l/2),end:a()(e).add(l/2)})]}return r.Observable.from([].concat(v(c),[(0,s.yR)(e)]))})).let((0,c.hP)((0,u.aA)(!1,!0),(0,u.aA)(!1,!1))):r.Observable.of((0,s.yR)(t))}))},setupTimelineExistingSettings:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,i=void 0===n?function(){}:n;return e.ofType(p.sb,u.cb).exhaustMap((function(){return(0,d.en)(i())&&(0,o.get)((0,d.rV)(i()),"[0].id")&&!(0,d.Li)(i())?r.Observable.of((0,u.kq)((0,o.get)((0,d.rV)(i()),"[0].id"))).concat(r.Observable.of(1).switchMap((function(){return j(i(),(0,o.get)((0,d.rV)(i()),"[0].id"),(0,y.WT)(i)||(new Date).toISOString()).filter((function(e){return e})).map((function(e){return(0,s.yR)(e)}))}))):r.Observable.empty()}))},settingInitialOffsetValue:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,o=void 0===n?function(){}:n;return e.ofType(u.JU).switchMap((function(e){var t=o(),n=(0,y.WT)(t),i=(0,d.YK)(t);if(e.enabled){var c=i||{},l=c.start,p=void 0===l?0:l,f=c.end,m=void 0===f?432e6:f,b=(0,y.ns)(t),g=a()(m).diff(p),h=i?a()(p).add(g/2).toISOString():a()(new Date).toISOString(),v=a()(n||h).add(g/5),O=e.enabled&&!n?r.Observable.of((0,s.yR)(h)):r.Observable.empty(),S=e.enabled&&!b||e.enabled&&a()(b).diff(n)<0?r.Observable.of((0,s.pF)(v.toISOString())):r.Observable.empty(),E=i?r.Observable.empty():r.Observable.of((0,u.y3)({start:a()(h).add(-1*g/2),end:a()(h).add(g/2)}));return O.concat(S).concat(E)}return r.Observable.of((0,s.pF)())}))},updateRangeDataOnRangeChange:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,o=void 0===n?function(){}:n;return e.ofType(u.Lv).merge(e.ofType(l.pP).filter((function(){return(0,d.cX)(o())})),e.ofType(u.w)).debounceTime(400).merge(e.ofType(s.XV).debounceTime(50)).switchMap((function(){var e,t=(0,y.m$)(o())||{},n=Object.keys(t).filter((function(e){return t[e]&&t[e].domain&&(0,b._q)(t[e].domain)||(0,d.cX)(o())}));return(e=r.Observable).merge.apply(e,v(n.map((function(e){return C(e,t[e],o).map((function(t){var n=t.range,r=t.histogram,o=t.domain;return(0,u.cO)(e,n,r,o)})).startWith((0,u.aA)(e,!0)).catch((function(){return r.Observable.of((0,f.vU)({uid:"error_with_timeline_update",title:"timeline.errors.multidim_error_title",message:"timeline.errors.multidim_error_message"}))})).concat(r.Observable.of((0,u.aA)(e,!1)))}))))}))}}},80833:(e,t,n)=>{"use strict";n.d(t,{kB:()=>y,HI:()=>b});var r=n(8575),o=(n(61545),n(90173)),i=n(89255),a=n(67007),c=n(75875),l=n.n(c),u=(n(90183),n(24262)),s=n(10284),p=n(33044);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}o.default;var y=function(e){return i.Observable.defer((function(){return a.ZP.getCapabilities((0,u.getCapabilitiesUrl)(e))})).let(s.oB).map((function(t){return a.ZP.parseLayerCapabilities(t,e)}))},b=function(e){return function(e){return i.Observable.defer((function(){return l().get(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,n=e.search,o=void 0===n?{}:n,i=e.url,a=r.parse(o.url||i,!0);return r.format(m(m({},a),{},{search:void 0,query:m(m({},a.query),{},{service:"WMS",version:"1.1.1",layers:t,outputFormat:"application/json",request:"DescribeLayer"})}))}(e))})).let(s.oB)}(e).map((function(e){var t=e.data,n=void 0===t?{}:t;return n&&n.layerDescriptions[0]})).map((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.owsURL;return m(m({},e),{},{params:{},search:n?{type:"wfs",url:(0,p.cleanAuthParamsFromURL)(n)}:void 0})}))}},74565:(e,t,n)=>{"use strict";n.d(t,{Z:()=>yt});var r=n(33664),o=n(18093),i=n(61545),a=n(82904),c=n(80416),l=n(53001),u=n(22222),s=n(75110),p=n(827),f=n(31935),m=n(55105),d=n(7872),y=n(22843),b=n(25108),g=n(31273),h=n(27418),v=n.n(h);var O=n(89255),S=n(81808),E=n(80833),w=n(24262);function A(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const C={accessMetadataExplorer:function(e){return e.ofType(l.xT).switchMap((function(){return O.Observable.of((0,a.Xg)("metadataexplorer","enabled",!0),(0,l.vw)(!1),(0,g.Dw)("default_map_backgrounds"))}))},addBackgroundPropertiesEpic:function(e){return e.ofType(l.oQ).switchMap((function(e){var t=e.modalParams,n=O.Observable.of((0,l.$c)(j(j({},t),{},{loading:!1})));return t.layer&&"wms"===t.layer.type?O.Observable.of((0,l.$c)(j(j({},t),{},{loading:!0}))).concat((0,E.kB)(t.layer).switchMap((function(e){return O.Observable.of((0,l.$c)(j(j({},t),{},{loading:!1,capabilities:(0,w.formatCapabitiliesOptions)(e)})))})).catch((function(){return n}))):n}))},backgroundsListInit:function(e){return e.ofType(S.ok).switchMap((function(e){var t,n=e.config,r=n.map&&n.map.backgrounds||[],o=(n.map&&n.map.layers||[]).filter((function(e){return"background"===e.group})),a=r.filter((function(e){return!!e.thumbnail})).map((function(e){return(0,c.He)(e.id,{thumbURL:function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),o=new Uint8Array(r),i=0;i<t.length;++i)o[i]=t.charCodeAt(i);return URL.createObjectURL(new Blob([r],{type:n}))}(e.thumbnail)})})),u=(0,i.head)(o.filter((function(e){return e.visibility})));return(t=O.Observable).of.apply(t,A(a.concat((0,l.M3)(r))).concat(A(u?[(0,l.ke)(u.id)]:[])))}))},setCurrentBackgroundLayerEpic:function(e,t){return e.ofType(l.Wv).switchMap((function(e){var n,r=e.layerId,o=t.getState(),i=(0,s.CA)(o,r);return(n=O.Observable).of.apply(n,A(i&&"background"===i.group?[(0,a.Xg)("backgroundSelector","tempLayer",i),(0,a.Xg)("backgroundSelector","currentLayer",i)]:[]))}))},backgroundAddedEpic:function(e,t){return e.ofType(l.gC).mergeMap((function(e){var n=e.layerId,r=t.getState(),o=(0,s.CA)(r,n);return o?O.Observable.of((0,c.He)(o.id,{visibility:!0}),(0,l.ke)(o.id),(0,l.V3)()):O.Observable.empty()}))},backgroundEditedEpic:function(e,t){return e.ofType(l.dG).mergeMap((function(e){var n=e.layerId,r=t.getState();return(0,s.CA)(r,n)?O.Observable.of((0,l.V3)()):O.Observable.empty()}))},backgroundRemovedEpic:function(e,t){return e.ofType(l.H_).mergeMap((function(e){var n=e.backgroundId,r=t.getState(),o=(0,s.CA)(r,n),a=(0,f.TP)(r)||[],u=(0,s.DP)(r)||{},p=n===u.id?(0,i.head)(a.filter((function(e){return e.id!==n&&!e.invalid}))):u;return o?O.Observable.of((0,c.ZF)(n,"layers"),(0,c.He)(p.id,{visibility:!0}),(0,l.ke)(p.id)):O.Observable.empty()}))}};var R=n(67294),k=n.n(R),D=n(5346),_=n(45697),I=n.n(_),L=n(80717);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(2349);var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Z(r);if(o){var n=Z(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return G(this,e)});function a(){return M(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this;return k().createElement("div",{className:"background-preview-button",style:{margin:this.props.margin}},k().createElement("div",{className:"background-preview-button-container bg-body",onClick:this.props.onToggle,style:{padding:this.props.frame/2,width:this.props.side+this.props.frame,height:this.props.side+this.props.frame}},this.props.showLabel?k().createElement("div",{className:"background-preview-button-label",style:{width:this.props.side,height:this.props.labelHeight,marginTop:0,padding:0}},k().createElement("div",{className:"bg-body bg-text",style:{padding:this.props.frame}},this.props.label)):null,k().createElement("div",{className:"background-preview-button-frame",style:{width:this.props.side,height:this.props.side}},k().createElement("img",{src:this.props.src}))),this.props.labelHeight>0?k().createElement(L.Z,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:this.props.showAdd?[{glyph:"plus",tooltipId:"backgroundSelector.addTooltip",onClick:function(){return e.props.onAdd()}}]:[]}):null)}}])&&F(t.prototype,n),a}(k().Component);z(B,"propTypes",{src:I().string,side:I().number,frame:I().number,margin:I().number,labelHeight:I().number,label:I().string,showLabel:I().bool,onToggle:I().func,onAdd:I().func,showAdd:I().bool}),z(B,"defaultProps",{src:"./images/mapthumbs/none.jpg",side:50,frame:4,margin:5,labelHeight:29,label:"",showLabel:!0,onToggle:function(){},onAdd:function(){}});const H=B;var V=n(30294);function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $(e,t){return!t||"object"!==Y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Q(r);if(o){var n=Q(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return $(this,e)});function a(){return q(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props.glyphs[this.props.vertical?"vertical":"horizontal"][this.props.direction?"next":"back"],t=this.props.vertical?"background-plugin-pagination-btn-vertical text-center":"background-plugin-pagination-btn-horizontal",n=this.props.vertical?{width:this.props.side}:{height:this.props.side};return k().createElement("div",{className:t+" text-primary",style:n,onClick:this.props.onClick},k().createElement(V.Glyphicon,{glyph:e}))}}])&&W(t.prototype,n),a}(k().Component);X(J,"propTypes",{side:I().number,direction:I().bool,vertical:I().bool,glyphs:I().object,onClick:I().func}),X(J,"defaultProps",{side:0,direction:!0,vertical:!1,glyphs:{horizontal:{next:"chevron-right",back:"chevron-left"},vertical:{next:"chevron-down",back:"chevron-up"}},onClick:function(){}});const ee=J;function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ie(e,t){return!t||"object"!==te(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ae(r);if(o){var n=ae(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ie(this,e)});function a(){return ne(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this,t=[].concat(this.props.icons);t=this.props.pagination?t.slice(this.props.start,this.props.start+this.props.length):t,this.props.vertical&&t.unshift(k().createElement("div",{className:"background-list-arrow-placeholder"})),this.props.pagination&&(0!==this.props.start&&(this.props.vertical&&t.shift(),t.unshift(k().createElement(ee,{key:"pagination_0",vertical:this.props.vertical,side:this.props.vertical?this.props.width:this.props.height,direction:!1,onClick:function(){e.props.onStartChange(e.props.start-1)}}))),this.props.start+this.props.length<this.props.icons.length&&t.push(k().createElement(ee,{key:"pagination_1",vertical:this.props.vertical,side:this.props.vertical?this.props.width:this.props.height,onClick:function(){e.props.onStartChange(e.props.start+1)}})));var n=this.props.vertical?{height:this.props.pagination?this.props.height+50:this.props.height,width:this.props.width,bottom:this.props.bottom}:{height:this.props.height,width:this.props.pagination?this.props.width+50:this.props.width,bottom:this.props.bottom};return k().createElement("div",{style:n},t)}}])&&re(t.prototype,n),a}(k().Component);ce(le,"propTypes",{bottom:I().number,width:I().number,height:I().number,length:I().number,start:I().number,pagination:I().bool,vertical:I().bool,icons:I().array,onStartChange:I().func}),ce(le,"defaultProps",{bottom:0,width:0,height:0,length:0,start:0,pagination:!1,vertical:!1,icons:[],onStartChange:function(){}});const ue=le;function se(e){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e,t){return(me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function de(e,t){return!t||"object"!==se(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(29080);var ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(c,e);var t,n,r,o,a=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ye(r);if(o){var n=ye(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return de(this,e)});function c(){return pe(this,c),a.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){var e=this,t=(0,i.indexOf)(["EPSG:4326","EPSG:3857","EPSG:900913"],this.props.projection)>-1,n="wmts"===this.props.layer.type&&(0,i.has)(this.props.layer.allowedSRS,this.props.projection),r=this.props.vertical?"background-preview-icon-container-vertical":"background-preview-icon-container-horizontal",o=this.props.layer.visibility?" bg-primary":" bg-body",a=(t||n||(0,i.includes)(["wms","empty","osm"],this.props.layer.type))&&!this.props.layer.invalid,c=a?function(){e.props.onToggle(),e.props.onPropertiesChange(e.props.layer.id,{visibility:!0}),e.props.setCurrentBackgroundLayer(e.props.layer.id)}:function(){};return k().createElement("div",{className:r+o+(a?"":" disabled-icon"),style:{padding:this.props.frame/2,marginLeft:this.props.vertical?this.props.margin:0,marginRight:this.props.vertical?0:this.props.margin,marginBottom:this.props.margin,width:this.props.side+this.props.frame,height:this.props.side+this.props.frame}},k().createElement("div",{className:"background-preview-icon-frame",style:{width:this.props.side,height:this.props.side}},k().createElement("img",{onMouseOver:function(){e.props.onLayerChange("tempLayer",e.props.layer)},onMouseOut:function(){e.props.onLayerChange("tempLayer",e.props.currentLayer)},onClick:c,src:this.props.src})))}}])&&fe(t.prototype,n),c}(k().Component);be(ge,"propTypes",{side:I().number,frame:I().number,margin:I().number,src:I().string,vertical:I().bool,layer:I().object,currentLayer:I().object,onPropertiesChange:I().func,onToggle:I().func,onLayerChange:I().func,setCurrentBackgroundLayer:I().func,projection:I().string}),be(ge,"defaultProps",{side:50,frame:4,margin:5,src:"",vertical:!1,layer:{},currentLayer:{},onPropertiesChange:function(){},onToggle:function(){},onLayerChange:function(){}});const he=ge;var ve=n(90085),Oe=n(43129),Se=n(23570),Ee=n.n(Se),we=n(94745),Ae=n(38560),Pe=n(13718),Te=n(14068);function je(e){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(e,t){return(Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ke(e,t){return!t||"object"!==je(t)&&"function"!=typeof t?De(e):t}function De(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Le={FORMAT:k().createElement(D.Z,{msgId:"map.errorFormat"}),SIZE:k().createElement(D.Z,{msgId:"map.errorSize"})},Ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Re(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_e(r);if(o){var n=_e(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ke(this,e)});function a(){var e;xe(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ie(De(e=i.call.apply(i,[this].concat(n))),"state",{}),Ie(De(e),"getThumbnailUrl",(function(){return e.props.map&&e.props.map.newThumbnail&&"NODATA"!==e.props.map.newThumbnail?decodeURIComponent(e.props.map.newThumbnail):null})),Ie(De(e),"getDataUri",(function(e,t){var n=e;if(n&&n.length>0){var r=n[0],o=new FileReader;return o.onload=function(e){return t(e.target.result,r.size)},o.readAsDataURL(r)}return t(null)})),Ie(De(e),"getThumbnailDataUri",(function(t){e.getDataUri(e.files,t)})),Ie(De(e),"generateUUID",(function(){var e=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)}))})),Ie(De(e),"processUpdateThumbnail",(function(t,n,r){var o=e.generateUUID(),i="THUMBNAIL";!e.props.map||r||!e.props.map.thumbnail||e.refs.imgThumbnail||n||e.deleteThumbnail(e.props.map.thumbnail,e.props.map.id,!0),e.props.map&&!r&&e.props.map.newThumbnail&&!e.refs.imgThumbnail&&n&&(e.deleteThumbnail(e.props.map.thumbnail,e.props.map.id,!1),e.props.onSaveAll(t,n,o,r,i,e.props.map.id)),e.props.map.newThumbnail&&r&&e.refs.imgThumbnail&&(e.deleteThumbnail(e.props.map.thumbnail,null,!1),e.props.onSaveAll(t,n,o,r,i,e.props.map.id)),e.props.map.newThumbnail&&!r&&e.refs.imgThumbnail&&e.props.onSaveAll(t,n,o,r,i,e.props.map.id),e.props.map.newThumbnail||r||e.refs.imgThumbnail||(e.props.map.thumbnail&&n&&e.deleteThumbnail(e.props.map.thumbnail,e.props.map.id,!1),e.props.onSaveAll(t,n,o,r,i,e.props.map.id))})),Ie(De(e),"updateThumbnail",(function(t,n){e.props.map.errors&&e.props.map.errors.length||e.getDataUri(e.files,(function(r){return e.processUpdateThumbnail(t,n,r),r}))})),Ie(De(e),"deleteThumbnail",(function(t,n){if(t&&-1!==t.indexOf("geostore")){var r=(0,Pe.C)(t);r&&e.props.onDeleteThumbnail(r,n)}})),e}return t=a,(n=[{key:"renderThumbnailErrors",value:function(){return this.props.thumbnailErrors&&this.props.thumbnailErrors.length>0?k().createElement("div",{className:"dropzone-errorBox alert-danger"},k().createElement("p",null,k().createElement(D.Z,{msgId:"map.error"})),this.props.thumbnailErrors.map((function(e){return k().createElement("div",{id:"error"+e,key:"error"+e,className:"error"+e},Le[e])}))):null}},{key:"render",value:function(){var e=this;return k().createElement(Te.Z,{ref:"imgThumbnail",thumbnail:this.getThumbnailUrl(),className:null,dropZoneProps:{className:"dropzone alert alert-info",rejectClassName:"alert-danger"},loading:this.props.loading,maxFileSize:this.props.maxFileSize,style:{pointerEvents:this.props.map.saving?"none":"auto"},label:this.props.withLabel&&k().createElement("label",{className:"control-label"},k().createElement(D.Z,{msgId:"map.thumbnail"})),ù:!0,message:k().createElement(k().Fragment,null,this.props.message,k().createElement("br",null),this.props.suggestion),error:this.renderThumbnailErrors(),onUpdate:function(t,n){var r;e.props.onError([],e.props.map.id),e.files=n,e.props.onUpdate(t,null==n||null===(r=n[0])||void 0===r?void 0:r.preview)},onError:function(t,n){e.props.onError(t,e.props.map.id),e.files=n,e.props.onUpdate(null,null)},onRemove:function(){e.files=null,e.props.onUpdate(null,null),e.props.onRemoveThumbnail(),e.props.onError([],e.props.map.id)}})}}])&&Ce(t.prototype,n),a}(k().Component);Ie(Ne,"propTypes",{glyphiconRemove:I().string,style:I().object,thumbnailErrors:I().array,loading:I().bool,withLabel:I().bool,map:I().object,maxFileSize:I().number,onDrop:I().func,onError:I().func,onUpdate:I().func,onSaveAll:I().func,onCreateThumbnail:I().func,onDeleteThumbnail:I().func,onRemoveThumbnail:I().func,message:I().oneOfType([I().string,I().element]),suggestion:I().oneOfType([I().string,I().element])}),Ie(Ne,"contextTypes",{messages:I().object}),Ie(Ne,"defaultProps",{loading:!1,withLabel:!0,glyphiconRemove:"remove-circle",maxFileSize:5e5,onDrop:function(){},onError:function(){},onUpdate:function(){},onSaveAll:function(){},onRemoveThumbnail:function(){},onCreateThumbnail:function(){},onDeleteThumbnail:function(){},message:k().createElement(D.Z,{msgId:"map.message"}),suggestion:k().createElement(D.Z,{msgId:"map.suggestion"}),map:{},thumbnailErrors:[]});const Me=Ne;var Fe=n(86638);function Ue(e){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){Ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ze(e){return function(e){if(Array.isArray(e))return Be(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Be(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function He(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ve(e,t){return(Ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ye(e,t){return!t||"object"!==Ue(t)&&"function"!=typeof t?qe(e):t}function qe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $e=(0,n(15135).Z)(Ae.Z),Qe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ve(e,t)}(c,e);var t,n,r,o,a=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=We(r);if(o){var n=We(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ye(this,e)});function c(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),Ke(qe(t=a.call(this,e)),"state",{title:"",format:"image/png",thumbnail:{},additionalParameters:[]}),Ke(qe(t),"assignParameters",(function(e){return(0,i.keys)(e).map((function(t,n){var r=e[t],o=(0,i.isNumber)(r)?"number":(0,i.isBoolean)(r)?"boolean":"string";return{id:n,param:t,type:o,val:"string"===o?r.toString():r}}))})),Ke(qe(t),"addAdditionalParameter",(function(e,n,r,o){t.setState({additionalParameters:t.state.additionalParameters.map((function(t){if(t.id===r){var a,c;if("val"===n)switch(o){case"number":(c=Number(e))&&!isNaN(c)||(c=0);break;case"boolean":c=!(0,i.isBoolean)(e)||e;break;default:c=e?e.toString():""}else c=e;return v()({},t,(Ke(a={},n,c),Ke(a,"type",o),a))}return t}))})})),Ke(qe(t),"resetParameters",(function(){return t.setState({additionalParameters:[]})}));var n=(0,i.pick)(t.props,"title","format","style","thumbnail"),r=v()({},n,{additionalParameters:t.assignParameters(t.props.additionalParameters)});return t.state=r,t}return t=c,(n=[{key:"renderStyleSelector",value:function(){var e=this;return this.props.capabilities?k().createElement(V.FormGroup,null,k().createElement(V.ControlLabel,null,k().createElement(D.Z,{msgId:"layerProperties.style"})),k().createElement(Oe.ZP,{onChange:function(t){return e.setState({style:t?t.value:void 0})},clearable:!0,value:this.state.style,options:(this.props.capabilities.availableStyles||[]).map((function(e){var t=e.name;return{label:t,value:t}}))})):null}},{key:"renderThumbnailErrors",value:function(){var e={FORMAT:k().createElement(D.Z,{msgId:"map.errorFormat"}),SIZE:k().createElement(D.Z,{msgId:"map.errorSize"})};return this.state.thumbnailErrors&&this.state.thumbnailErrors.length>0?k().createElement("div",{className:"dropzone-errorBox alert-danger"},k().createElement("p",null,k().createElement(D.Z,{msgId:"map.error"})),this.state.thumbnailErrors.map((function(t){return k().createElement("div",{id:"error"+t,key:"error"+t,className:"error"+t},e[t])}))):null}},{key:"renderSpecificTypeForm",value:function(){var e=this;return"wms"===this.props.layer.type?k().createElement(k().Fragment,null,k().createElement(V.FormGroup,{controlId:"formControlsSelect"},k().createElement(V.ControlLabel,null,k().createElement(D.Z,{msgId:"layerProperties.format"})),k().createElement(Oe.ZP,{onChange:function(t){return e.setState({format:t&&t.value})},value:this.state.format||this.props.defaultFormat,clearable:!0,options:this.props.formatOptions})),this.renderStyleSelector(),k().createElement($e,null,k().createElement("div",{style:{display:"flex",alignItems:"center"}},k().createElement(V.ControlLabel,{style:{flex:1}},k().createElement(D.Z,{msgId:"backgroundDialog.additionalParameters"})),k().createElement($e,{className:"square-button-md",tooltipId:"backgroundDialog.addAdditionalParameterTooltip",style:{borderColor:"transparent"},onClick:function(){var t=Math.max.apply(Math,ze(e.state.additionalParameters.length>0?e.state.additionalParameters.map((function(e){return e.id})):[-1]))+1;e.setState({additionalParameters:[].concat(ze(e.state.additionalParameters),[{id:t,type:"string",param:"",val:""}])})}},k().createElement(V.Glyphicon,{glyph:"plus"}))),this.state.additionalParameters.map((function(t){return k().createElement("div",{key:"val:"+t.id,style:{display:"flex",marginTop:8}},k().createElement("div",{style:{display:"flex",flex:1,marginRight:8}},k().createElement(V.FormControl,{style:{width:"50%",marginRight:8,minWidth:0},placeholder:(0,Fe.S$)(e.context.messages,"backgroundDialog.parameter"),value:t.param,onChange:function(n){return e.addAdditionalParameter(n.target.value,"param",t.id,t.type)}}),"boolean"===t.type?k().createElement("div",{style:{width:"50%"}},k().createElement(Oe.ZP,{onChange:function(n){return e.addAdditionalParameter(n.value,"val",t.id,t.type)},clearable:!1,value:t.val,options:e.props.booleanOptions})):k().createElement(V.FormControl,{style:{width:"50%",minWidth:0},placeholder:(0,Fe.S$)(e.context.messages,"backgroundDialog.value"),value:t.val.toString(),onChange:function(n){return e.addAdditionalParameter(n.target.value,"val",t.id,t.type)}})),k().createElement(Oe.ZP,{style:{flex:1,width:90},onChange:function(n){return e.addAdditionalParameter(t.val,"val",t.id,n.value)},clearable:!1,value:t.type,options:e.props.parameterTypeOptions.map((function(t){var n=t.label;return Ze(Ze({},function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,["label"])),{},{label:(0,Fe.S$)(e.context.messages,n)})}))}),k().createElement($e,{onClick:function(){return e.setState({additionalParameters:e.state.additionalParameters.filter((function(e){return t.id!==e.id}))})},tooltipId:"backgroundDialog.removeAdditionalParameterTooltip",className:"square-button-md",style:{borderColor:"transparent"}},k().createElement(V.Glyphicon,{glyph:"trash"})))})))):null}},{key:"render",value:function(){var e=this;return k().createElement(we.Z,{fitContent:!0,title:k().createElement(D.Z,{msgId:this.props.editing?"backgroundDialog.editTitle":"backgroundDialog.addTitle"}),show:!0,fade:!0,clickOutEnabled:!1,bodyClassName:"ms-flex modal-properties-container background-dialog",loading:this.props.loading,onClose:function(){e.props.onClose(),e.resetParameters()},buttons:this.props.loading?[]:[{text:k().createElement(D.Z,{msgId:this.props.editing?"save":"backgroundDialog.add"}),bsStyle:"primary",onClick:function(){var t=e.props.editing?e.props.layer.id:Ee()(),n=e.props.layer.thumbURL||"",r=e.state.format||e.props.defaultFormat;e.props.updateThumbnail(e.state.thumbnail.data,t),e.props.onSave(v()({},e.props.layer,(0,i.omit)(e.state,"thumbnail"),e.props.editing?{}:{id:t},{params:(0,i.omit)(e.state.additionalParameters.reduce((function(e,t){return v()(e,Ke({},t.param,t.val))}),{}),["source","title"]),format:r,group:"background"},n||e.state.thumbnail.data?{thumbURL:e.state.thumbnail.url}:{})),e.resetParameters()}}]},k().createElement(V.Form,{style:{width:"100%"}},this.renderThumbnailErrors(),k().createElement(Me,{onUpdate:function(t,n){return e.setState({thumbnail:{data:t,url:n}})},onError:function(t){return e.setState({thumbnailErrors:t})},message:k().createElement(D.Z,{msgId:"backgroundDialog.thumbnailMessage"}),suggestion:"",map:{newThumbnail:(0,i.get)(this.state.thumbnail,"url")||"NODATA"}}),k().createElement(V.FormGroup,null,k().createElement(V.ControlLabel,null,k().createElement(D.Z,{msgId:"layerProperties.title"})),k().createElement(V.FormControl,{value:this.state.title,placeholder:(0,Fe.S$)(this.context.messages,"backgroundDialog.titlePlaceholder"),onChange:function(t){return e.setState({title:t.target.value})}})),this.renderSpecificTypeForm()))}}])&&He(t.prototype,n),c}(k().Component);Ke(Qe,"propTypes",{loading:I().bool,editing:I().bool,layer:I().object,capabilities:I().object,onAdd:I().func,onClose:I().func,source:I().string,onSave:I().func,addParameters:I().func,updateThumbnail:I().func,thumbURL:I().string,title:I().string,format:I().string,style:I().string,thumbnail:I().object,additionalParameters:I().object,addParameter:I().func,defaultFormat:I().string,formatOptions:I().array,parameterTypeOptions:I().array,booleanOptions:I().array}),Ke(Qe,"contextTypes",{messages:I().object}),Ke(Qe,"defaultProps",{updateThumbnail:function(){},onClose:function(){},onSave:function(){},addParameters:function(){},addParameter:function(){},loading:!1,editing:!1,layer:{},capabilities:{},title:"",thumbnail:{},additionalParameters:{},formatOptions:[{label:"image/png",value:"image/png"},{label:"image/png8",value:"image/png8"},{label:"image/jpeg",value:"image/jpeg"},{label:"image/vnd.jpeg-png",value:"image/vnd.jpeg-png"},{label:"image/gif",value:"image/gif"}],parameterTypeOptions:[{label:"backgroundDialog.string",value:"string"},{label:"backgroundDialog.number",value:"number"},{label:"backgroundDialog.boolean",value:"boolean"}],booleanOptions:[{label:"True",value:!0},{label:"False",value:!1}]});var Xe=n(1262);function Je(e){return(Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function et(){return(et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rt(e,t){return(rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ot(e,t){return!t||"object"!==Je(t)&&"function"!=typeof t?it(e):t}function it(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function at(e){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rt(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=at(r);if(o){var n=at(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ot(this,e)});function a(){var e;tt(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ct(it(e=i.call.apply(i,[this].concat(n))),"getThumb",(function(t){return t.thumbURL||e.props.thumbs[t.source]&&e.props.thumbs[t.source][t.name]||e.props.thumbs.unknown})),ct(it(e),"getIcons",(function(t,n,r,o){return e.props.enabled?e.props.layers.map((function(i,a){var c=e.getThumb(i);return k().createElement("div",{style:{width:(o?r:0)+(o?0:r)+t+n,height:r+t+n},className:"background-preview-container"},"mobile"!==e.props.mode&&k().createElement("div",{style:{width:(o?r:0)+t+n},className:"background-tool-buttons"},e.props.mapIsEditable&&e.props.allowDeletion&&e.props.layers.length>1&&k().createElement(ve.Z,{glyph:"trash",className:"square-button-md background-tool-button delete-button",bsStyle:"primary",onClick:function(){e.props.onRemoveBackground(!0,i.title||i.name||"",i.id)}}),e.props.mapIsEditable&&!e.props.enabledCatalog&&!("wms"!==i.type&&"wmts"!==i.type&&"tms"!==i.type&&"tileprovider"!==i.type)&&k().createElement(ve.Z,{glyph:"wrench",className:"square-button-md background-tool-button edit-button",bsStyle:"primary",onClick:function(){e.props.addBackgroundProperties({layer:i,editing:!0})}})),k().createElement(he,{projection:e.props.projection,vertical:o,key:a,src:c,currentLayer:e.props.currentLayer,margin:r,side:t,frame:n,layer:i,onToggle:e.props.onToggle,onPropertiesChange:e.props.onPropertiesChange,onLayerChange:e.props.onLayerChange,setCurrentBackgroundLayer:e.props.setCurrentBackgroundLayer}))})):[]})),ct(it(e),"getDimensions",(function(t,n,r,o,i,a){var c=i/2-(t+2*n+2*r)-o,l=t+2*n+2*r+(t+2*n+r)*a+o>i/2,u=Math.floor(c/(t+2*n+r));return u=u>a?a:u,{pagination:l,listSize:e.props.enabled?(t+n+r)*u+52:0,visibleIconsLength:u}})),ct(it(e),"renderBackgroundSelector",(function(){var t=v()({side:78,sidePreview:104,frame:3,margin:5,label:!0,vertical:!1},e.props.dimensions),n=2*t.frame,r=t.side-n,o=e.props.enabled?t.sidePreview-n:r,i=t.margin,a=e.props.enabled?o-2*n:0,c=e.props.enabled?e.props.tempLayer:e.props.currentLayer,l=e.getIcons(r,n,i,t.vertical),u=e.getDimensions(r,n,i,0,t.vertical?e.props.size.height:e.props.size.width,l.length),s=u.pagination,p=u.listSize,f=u.visibleIconsLength,m=r+n+i,d=r+n+2*i,y=t.vertical?{bottom:d,left:0,width:d,height:p}:{left:o+2*i+n,width:p,height:m},b=t.vertical?{height:m*f,width:m}:{height:m,width:m*f},g=e.props.modalParams&&e.props.modalParams.layer||{},h=(e.props.backgroundList||[]).find((function(e){return e.id===g.id})),O={title:g.title,format:g.format,style:g.style,additionalParameters:g.params,thumbnail:{data:h&&h.thumbnail,url:e.getThumb(g)}},S=e.props.confirmDeleteBackgroundModal||{show:!1},E=S.show,w=S.layerId,A=S.layerTitle;return f<=0&&!e.props.alwaysVisible&&e.props.enabled?null:k().createElement("span",null,k().createElement(Xe.Z,{draggable:!1,modal:!0,show:E,onClose:function(){return e.props.onRemoveBackground(!1)},onConfirm:function(){e.props.removeBackground(w),e.props.onRemoveBackground(!1)},confirmButtonBSStyle:"default",confirmButtonContent:k().createElement(D.Z,{msgId:"confirm"}),closeText:k().createElement(D.Z,{msgId:"cancel"}),closeGlyph:"1-close"},k().createElement(D.Z,{msgId:"backgroundSelector.confirmDelete",msgParams:{title:A}})),e.props.modalParams&&k().createElement(Qe,et({onClose:e.props.clearModal,onSave:function(t){e.props.modalParams.editing?(e.props.updateNode(t.id,"layers",t),e.props.onBackgroundEdit(t.id)):(e.props.addLayer(t),e.props.backgroundAdded(t.id))},updateThumbnail:e.props.onUpdateThumbnail},O,e.props.modalParams)),k().createElement("div",{className:"background-plugin-position",style:e.props.style},k().createElement(H,{layers:e.props.layers,showAdd:"mobile"!==e.props.mode&&e.props.mapIsEditable&&e.props.hasCatalog&&!e.props.enabledCatalog,onAdd:function(){return e.props.onAdd(e.props.source||"backgroundSelector")},showLabel:t.label,src:e.getThumb(c),side:o,frame:n,margin:i,labelHeight:a,label:c.title,onToggle:e.props.onToggle}),k().createElement("div",{className:"background-list-container",style:y},k().createElement(ue,{vertical:t.vertical,start:e.props.start,bottom:0,height:b.height,width:b.width,icons:l,pagination:s,length:f,onStartChange:e.props.onStartChange}))))})),e}return t=a,(n=[{key:"componentWillUnmount",value:function(){this.props.onLayerChange("currentLayer",{}),this.props.onLayerChange("tempLayer",{}),this.props.onStartChange(0)}},{key:"render",value:function(){return this.props.layers.length>0?this.renderBackgroundSelector():null}}])&&nt(t.prototype,n),a}(k().Component);ct(lt,"propTypes",{mode:I().string,backgroundList:I().array,backgrounds:I().array,start:I().number,style:I().object,enabled:I().bool,layers:I().array,currentLayer:I().object,tempLayer:I().object,size:I().object,dimensions:I().object,thumbs:I().object,mapIsEditable:I().bool,onPropertiesChange:I().func,onToggle:I().func,onLayerChange:I().func,onStartChange:I().func,onAdd:I().func,hasCatalog:I().bool,alwaysVisible:I().bool,enabledCatalog:I().bool,onRemove:I().func,onBackgroundEdit:I().func,source:I().string,addBackgroundProperties:I().func,onUpdateThumbnail:I().func,removeBackground:I().func,onRemoveBackground:I().func,setCurrentBackgroundLayer:I().func,confirmDeleteBackgroundModal:I().object,deletedId:I().string,modalParams:I().object,updateNode:I().func,clearModal:I().func,allowDeletion:I().bool,projection:I().string}),ct(lt,"defaultProps",{mode:"desktop",addBackgroundProperties:function(){},onBackgroundEdit:function(){},setCurrentBackgroundLayer:function(){},source:"backgroundSelector",start:0,style:{},enabled:!1,layers:[],currentLayer:{},tempLayer:{},size:{width:0,height:0},dimensions:{},allowDeletion:!0,thumbs:{unknown:n(2750)},mapIsEditable:!0,onRemoveBackground:function(){},onPropertiesChange:function(){},onToggle:function(){},onLayerChange:function(){},onStartChange:function(){},onAdd:function(){},onRemove:function(){},clearModal:function(){}});const ut=lt;function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){ft(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ft(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mt=(0,u.P1)([p.uy,f.B0,f.Mz,f.TC,s.pV,p.Od,p.HJ,f.TP,s.X_,s.DP,s.qh,function(e){return(0,m.ic)(e,{left:!0,bottom:!0})},function(e){return e.controls&&e.controls.metadataexplorer&&e.controls.metadataexplorer.enabled},function(e){return e.browser&&e.browser.mobile?"mobile":"desktop"},f.qS,f.Pe],(function(e,t,n,r,o,i,a,c,l,u,s,p,f,m,d,y){return{mode:m,modalParams:t,backgroundList:n,deletedId:r,backgrounds:o,size:i&&i.size||{width:0,height:0},mapIsEditable:a,layers:c,tempLayer:s,currentLayer:u,start:l.start||0,enabled:l.enabled,style:p,enabledCatalog:f,confirmDeleteBackgroundModal:d,allowDeletion:y,projection:e}})),dt=(0,o.compose)((0,r.connect)(mt,{onPropertiesChange:c.He,onToggle:a.Xi.bind(null,"backgroundSelector",null),onLayerChange:a.Xg.bind(null,"backgroundSelector"),onStartChange:a.Xg.bind(null,"backgroundSelector","start"),onAdd:l.st,addLayer:c.A4,backgroundAdded:l.pW,onRemove:c.ZF,onBackgroundEdit:l.$D,updateNode:c.tV,onUpdateThumbnail:l.r5,removeBackground:l.X1,clearModal:l.V3,addBackgroundProperties:l.US,onRemoveBackground:l.p2,setCurrentBackgroundLayer:l.ke},(function(e,t,n){return pt(pt(pt(pt({},e),t),n),{},{thumbs:pt(pt({},d.Z),n.thumbs)})})),(0,o.withProps)((function(e){var t=e.items,n=void 0===t?[]:t;return{hasCatalog:!!(0,i.find)(n,{name:"MetadataExplorer"})}})))(ut);const yt=(0,y.rx)("BackgroundSelector",{component:dt,reducers:{controls:b.Z,backgroundSelector:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.xT:return v()({},e,{source:t.source});case g.xi:return v()({},e,{source:"metadataExplorer"});case l.Q2:return v()({},e,{modalParams:t.modalParams});case l.Zr:return v()({},e,{backgrounds:[],removedBackgroundsThumbIds:[],modalParams:{},lastRemovedId:void 0});case l.R3:if(t.id){var n=e.backgrounds||[],r=-1===n.findIndex((function(e){return e.id===t.id})),o=r?n.concat({id:t.id}):n,i=o.map((function(e){return e.id===t.id?v()({},e,{id:t.id,thumbnail:t.thumbnailData}):v()({},e)}));return v()({},e,{backgrounds:i})}return e;case l.l$:return v()({},e,{modalParams:void 0});case l.H_:var a=e.backgrounds||[],c=e.removedBackgroundsThumbIds||[],u=a.filter((function(e){return e.id!==t.backgroundId})),s=a.filter((function(e){return e.id===t.backgroundId&&!!e.thumbId})).map((function(e){return e.thumbId}));return v()({},e,{backgrounds:u,removedBackgroundsThumbIds:c.concat(s),lastRemovedId:t.backgroundId});case l.Op:return v()({},e,{backgrounds:t.backgrounds});case l.uL:return v()({},e,{confirmDeleteBackgroundModal:{show:t.show,layerTitle:t.layerTitle,layerId:t.layerId}});case l.zg:return v()({},e,{allowDeletion:t.allow||!1});default:return e}}},epics:C})},57668:(e,t,n)=>{"use strict";n.d(t,{default:()=>C});var r=n(67294),o=n.n(r),i=n(45697),a=n.n(i),c=n(33664),l=n(27418),u=n.n(l),s=n(30294),p=n(58252),f=n(81756),m=n(22843);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(20533);var T=(0,c.connect)((function(){return{noCaret:!0,pullRight:!0,bsStyle:"primary",title:o().createElement(s.Glyphicon,{glyph:"menu-hamburger"})}}))(s.DropdownButton),j=function(e){var t=e.children,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["children"]);return o().createElement("div",n,t)},x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(c,e);var t,n,r,i,a=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=A(r);if(i){var n=A(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return E(this,e)});function c(){var e;v(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return P(w(e=a.call.apply(a,[this].concat(n))),"getPanels",(function(e){return e.filter((function(e){return e.panel})).map((function(e){return u()({},e,{panel:!0===e.panel?e.plugin:e.panel})})).concat(e.filter((function(e){return e.tools})).reduce((function(e,t){return e.concat(t.tools.map((function(e,n){return{name:t.name+n,panel:e,cfg:t.cfg.toolsCfg?t.cfg.toolsCfg[n]:{}}})))}),[]))})),P(w(e),"getTools",(function(){var t=function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=n.map((function(e){return h(h({},e),t(e.children))})).sort((function(e,t){return e.position-t.position})),o={container:j,containerWrapperStyle:{position:"static"},className:"burger-menu-submenu",toolStyle:"primary",activeStyle:"default",stateSelector:"burgermenu",eventSelector:"onSelect",tool:s.MenuItem,panelStyle:e.props.panelStyle,panelClassName:e.props.panelClassName};return n.length>0?{containerWrapperStyle:{position:"static"},style:{position:"relative"},childTools:r,childPanels:e.getPanels(n),innerProps:o}:{}};return[{element:o().createElement("span",{key:"burger-menu-title"},e.props.title)}].concat(y(e.props.items.map((function(e){return h(h({},e),t(e.children))})).sort((function(e,t){return e.position-t.position}))))})),e}return t=c,(n=[{key:"render",value:function(){return o().createElement(p.Z,{id:this.props.id,className:"square-button",container:T,mapType:this.props.mapType,toolStyle:"primary",activeStyle:"default",stateSelector:"burgermenu",eventSelector:"onSelect",tool:s.MenuItem,tools:this.getTools(),panels:this.getPanels(this.props.items),panelStyle:this.props.panelStyle,panelClassName:this.props.panelClassName})}}])&&O(t.prototype,n),c}(o().Component);P(x,"propTypes",{id:a().string,dispatch:a().func,items:a().array,title:a().node,onItemClick:a().func,controls:a().object,mapType:a().string,panelStyle:a().object,panelClassName:a().string}),P(x,"contextTypes",{messages:a().object,router:a().object}),P(x,"defaultProps",{id:"mapstore-burger-menu",items:[],onItemClick:function(){},title:o().createElement(s.MenuItem,{header:!0},o().createElement(f.Z,{msgId:"options"})),controls:[],mapType:"leaflet",panelStyle:{minWidth:"300px",right:"52px",zIndex:100,position:"absolute",overflow:"auto"},panelClassName:"toolbar-panel"});const C=(0,m.rx)("BurgerMenu",{component:(0,c.connect)((function(e){return{controls:e.controls}}))(x),containers:{OmniBar:{name:"burgermenu",position:2,tool:!0,priority:1}}})},63277:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(67294),o=n.n(r),i=n(30294),a=n(27418),c=n.n(a),l=n(75140);const u={ExpanderPlugin:c()(l.Z,{Toolbar:{name:"expand",position:1e4,alwaysVisible:!0,tooltip:"expandtoolbar.tooltip",showWhen:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.items,n=void 0===t?[]:t;return n.filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"expand"!==!e.name&&!e.alwaysVisible})).length>1},icon:o().createElement(i.Glyphicon,{glyph:"option-horizontal"}),toggle:!0,toggleControl:"toolbar",toggleProperty:"expanded",priority:1}}),reducers:{}}},9842:(e,t,n)=>{"use strict";n.d(t,{Z:()=>D});var r=n(33664),o="TOGGLE_FULLSCREEN",i=n(10577),a=n.n(i),c=n(61545),l=n(82904),u=n(37275),s=n(89255),p=n(27418),f=n.n(p),m=n(45697),d=n.n(m),y=n(67294),b=n.n(y),g=n(75140),h=n(30294),v=n(5346);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?T(e):t}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=j(r);if(o){var n=j(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return P(this,e)});function a(){var e;E(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return x(T(e=i.call.apply(i,[this].concat(n))),"getButtonProperties",(function(){return["id","btnConfig","options","text","glyphicon","onClick","tooltipPlace","style","btnType","image","pressedStyle","defaultStyle"].reduce((function(t,n){return t[n]=e.props[n],t}),{})})),e}return t=a,(n=[{key:"render",value:function(){return b().createElement(g.Z,S({},this.getButtonProperties(),{pressed:this.props.active,tooltip:b().createElement(h.Tooltip,{id:"full-screen-button-tip"},b().createElement(v.Z,{msgId:this.props.active?this.props.activeTooltip:this.props.notActiveTooltip}))}))}}])&&w(t.prototype,n),a}(b().Component);x(C,"propTypes",{id:d().string,btnConfig:d().object,options:d().object,text:d().oneOfType([d().string,d().element]),help:d().oneOfType([d().string,d().element]),glyphicon:d().string,active:d().bool,onClick:d().func,activeTooltip:d().string,notActiveTooltip:d().string,tooltipPlace:d().string,style:d().object,btnType:d().oneOf(["normal","image"]),image:d().string,pressedStyle:d().string,defaultStyle:d().string}),x(C,"defaultProps",{id:"fullscreen-btn",activeTooltip:"fullscreen.tooltipDeactivate",notActiveTooltip:"fullscreen.tooltipActivate",tooltipPlace:"left",defaultStyle:"primary",pressedStyle:"success active",glyphicon:"1-full-screen",btnConfig:{className:"square-button"}});const R=C;var k=(0,r.connect)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.controls,n=void 0===t?{}:t;return{active:n.fullscreen&&n.fullscreen.enabled}}),{onClick:function(e,t){return n=e,r=t.querySelector,{type:o,enable:n,elementSelector:r};var n,r}})(R);const D={FullScreenPlugin:f()(k,{disablePluginIf:"{state('browser') && state('browser').safari}",Toolbar:{name:"fullscreen",position:5,alwaysVisible:!0,tool:!0,priority:1}}),reducers:{},epics:{toggleFullscreenEpic:function(e){return e.ofType(o).switchMap((function(e){var t=document.querySelector(e&&e.querySelector||"."+(u.ZP.getConfigProp("themePrefix")||"ms2")+" > div");return t&&e.enable&&a().enabled?a().request(t):t&&!e.enable&&a().exit(),s.Observable.merge(s.Observable.fromEvent(document,(0,c.last)((0,c.head)([["exitFullscreen","fullscreenchange"],["webkitExitFullscreen","webkitfullscreenchange"],["webkitCancelFullScreen","webkitfullscreenchange"],["mozCancelFullScreen","mozfullscreenchange"],["msExitFullscreen","MSFullscreenChange"]].filter((function(e){return document[e[0]]}))))).filter((function(){return a().element!==t})).map((function(){return(0,l.Xg)("fullscreen","enabled",!1)})),s.Observable.of((0,l.Xg)("fullscreen","enabled",e.enable)),s.Observable.fromEvent(window,"hashchange").do((function(){return a().exit()})).map((function(){return(0,l.Xg)("fullscreen","enabled",!1)})))}))}}}},84611:(e,t,n)=>{"use strict";n.d(t,{Z:()=>et}),n(17097);var r=n(61545),o=n(27418),i=n.n(o),a=n(67294),c=n.n(a),l=n(30294),u=n(33664),s=n(18093),p=n(22222),f=n(1550),m=n(21914),d=n(42872),y=n(11196),b=n(61868),g=(0,s.withHandlers)({needsRefresh:function(){return function(e,t){if(t.enabled&&t.point&&t.point.pixel){if(!e.point||!e.point.pixel||e.point.pixel.x!==t.point.pixel.x||e.point.latlng!==t.point.latlng||e.point.pixel.y!==t.point.pixel.y)return!0;if(!e.point||!e.point.pixel||t.point.pixel&&e.format!==t.format)return!0}return!1}},onClose:function(e){var t=e.purgeResults,n=void 0===t?function(){}:t,r=e.closeIdentify,o=void 0===r?function(){}:r;return function(){n(),o()}},onSubmitClickPoint:function(e){var t=e.onSubmitClickPoint,n=void 0===t?function(){}:t,o=e.point;return function(e){var t=(0,r.isNil)(e.lat)||(0,r.isNaN)(e.lat)?0:parseFloat(e.lat),i=(0,r.isNil)(e.lon)||(0,r.isNaN)(e.lon)?0:parseFloat(e.lon),a=(0,b.t8)("latlng.lng",i,(0,b.t8)("latlng.lat",t,o));n(a)}},onChangeFormat:function(e){var t=e.onChangeFormat,n=void 0===t?function(){}:t;return function(e){n(e)}}}),h=(0,s.compose)(g,(0,s.lifecycle)({componentDidMount:function(){var e=this.props,t=e.enabled,n=e.changeMousePointer,r=void 0===n?function(){}:n,o=e.disableCenterToMarker,i=e.onEnableCenterToMarker,a=void 0===i?function(){}:i;t&&r("pointer"),o||a()},componentWillUnmount:function(){var e=this.props,t=e.hideMarker,n=void 0===t?function(){}:t,r=e.purgeResults,o=void 0===r?function(){}:r,i=e.changeMousePointer;(void 0===i?function(){}:i)("auto"),n(),o()},componentWillReceiveProps:function(e){var t=this.props,n=t.hideMarker,r=void 0===n?function(){}:n,o=t.purgeResults,i=void 0===o?function(){}:o,a=t.changeMousePointer,c=void 0===a?function(){}:a,l=t.enabled;e.enabled&&!l?c("pointer"):!e.enabled&&l&&(c("auto"),r(),i())}})),v=n(13292),O=n.n(v);const S=(0,s.withHandlers)({zoomToFeature:function(e){var t=e.zoomToExtent,n=void 0===t?function(){}:t,r=e.currentFeature,o=void 0===r?[]:r,i=e.currentFeatureCrs;return function(){var e=o.filter((function(e){return!!e.geometry}));if(e.length>0){var t=O()({type:"FeatureCollection",features:e});t&&n(t,i)}}}});var E=n(80717),w=n(5346),A=n(32107),P=n(94745),T=n(99534);const j=function(e){var t=e.latlng,n=e.enableRevGeocode,r=e.hideRevGeocode,o=void 0===r?function(){}:r,i=e.showModalReverse,a=e.revGeocodeDisplayName;return n&&t?c().createElement(T.Z,null,c().createElement(P.Z,{fade:!0,title:c().createElement("span",null,c().createElement(l.Glyphicon,{glyph:"map-marker"})," ",c().createElement(w.Z,{msgId:"identifyRevGeocodeModalTitle"})),size:"xs",show:i,onClose:o,buttons:[{text:c().createElement(w.Z,{msgId:"close"}),onClick:o,bsStyle:"primary"}]},c().createElement("div",{className:"ms-alert",style:{padding:15}},c().createElement("div",{className:"ms-alert-center text-center"},c().createElement("div",null,a))))):null};var x=n(91772);const C=function(e){return c().createElement(x.Z,{format:e.formatCoord||"decimal",aeronauticalOptions:{seconds:{decimals:4,step:1e-4}},idx:1,onSubmit:function(t,n){e.onSubmit((0,r.isEmpty)(n)?void 0:n)},onChangeFormat:function(t){e.onChangeFormat(t)},key:"GFI row coord editor",component:e.coordinate||{},customClassName:"coord-editor",isDraggable:!1,showDraggable:!1,formatVisible:!0,showLabels:!0,removeVisible:!1})};var R=n(47361),k=(0,n(62395).Z)((function(e){var t=e.degrees,n=void 0===t?0:t,r=e.minutes,o=void 0===r?0:r,i=e.seconds,a=void 0===i?0:i,l=e.direction,u=e.integerFormat,s=e.decimalFormat;return c().createElement("span",{className:"coordinate-dms"},c().createElement(R.Z,{key:"latD",numberParams:u,value:n}),c().createElement("span",null,"° "),c().createElement(R.Z,{key:"latM",numberParams:u,value:o}),c().createElement("span",null,"' "),c().createElement(R.Z,{key:"latS",numberParams:s,value:a}),c().createElement("span",null,"'' ")," ",c().createElement("span",null,l))}));const D=function(e){var t=e.integerFormat,n=void 0===t?{style:"decimal",minimumIntegerDigits:2,maximumFractionDigits:0}:t,o=e.decimalFormat,i=void 0===o?{style:"decimal",minimumIntegerDigits:2,maximumFractionDigits:4,minimumFractionDigits:4}:o,a=e.coordinate,u=void 0===a?{}:a,s=e.formatCoord,p=void 0===s?"decimal":s,f=e.className;return c().createElement(l.Row,{className:f},c().createElement(l.Col,{xs:12},(0,r.isNil)(u.lat)||(0,r.isNil)(u.lon)?null:"decimal"===p?c().createElement("div",{className:"ms-coordinates-decimal"},"Lat: ",c().createElement(R.Z,{value:Math.round(1e5*u.lat)/1e5})," - Long: ",c().createElement(R.Z,{value:u.lon})):c().createElement("div",{className:"ms-coordinates-aeronautical"},c().createElement("span",null,"Lat: ",c().createElement(k,{integerFormat:n,decimalFormat:i,value:u.lat})),c().createElement("span",null," - "),c().createElement("span",null," Long: ",c().createElement(k,{coordinate:"lon",integerFormat:n,decimalFormat:i,value:u.lon})))))},_=function(e){var t=e.coordinate,n=void 0===t?{}:t,r=e.formatCoord,o=e.edit,i=e.onSubmit,a=void 0===i?function(){}:i,l=e.onChangeFormat,u=void 0===l?function(){}:l;return o?c().createElement(C,{removeVisible:!1,formatCoord:r,coordinate:n||{lat:"",lon:""},onSubmit:a,onChangeFormat:u}):c().createElement(D,{className:"coordinates-text",formatCoord:r,coordinate:n||{lat:"",lon:""}})};var I=n(2870),L=n(45697),N=n.n(L),M=n(43129);function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Z=(0,n(93451).Z)(["placeholder","clearValueText","noResultsText"])(M.ZP),z=function(e){var t=e.responses,n=e.index,o=e.loaded,i=e.setIndex,l=e.missingResponses,u=e.emptyResponses,s=e.validator,p=e.format,f=U((0,a.useState)([]),2),m=f[0],d=f[1],y=U((0,a.useState)(""),2),b=y[0],g=y[1];return(0,a.useEffect)((function(){(0,r.isEmpty)(t)||d(t.map((function(e,t){var n,r,o=null==e||null===(n=e.layerMetadata)||void 0===n?void 0:n.title;return{label:o,value:o,idx:t,style:{display:null!==(r=s(p))&&void 0!==r&&r.getValidResponses([e]).length?"block":"none"}}})))}),[t]),(0,a.useEffect)((function(){var e,r;o&&g((null===(e=t[n])||void 0===e||null===(r=e.layerMetadata)||void 0===r?void 0:r.title)||"")}),[t,n,o]),c().createElement("div",{id:"identify-layer-select",style:{flex:"1 1 0%",padding:"0px 4px"}},c().createElement(Z,F({},{clearable:!1,isSearchable:!0},{onChange:function(e){var t=(null==e?void 0:e.idx)||0;i(t)},value:b||"",options:m,disabled:0!==l||0===t.length||u,noResultsText:"identifyLayerSelectNoResult"})))};z.defaultProps={responses:[],index:0,loaded:!1,setIndex:function(){},missingResponses:0,emptyResponses:!1,validator:function(){},format:""},z.propTypes={responses:N().array,setIndex:N().func,index:N().number,emptyResponses:N().bool,validator:N().func,format:N().string};const B=z;function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W=n(73014),K=n(87320),$=n(81756);function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t){return(ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function te(e,t){return!t||"object"!==Q(t)&&"function"!=typeof t?ne(e):t}function ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=re(r);if(o){var n=re(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return te(this,e)});function a(){var e;X(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return oe(ne(e=i.call.apply(i,[this].concat(n))),"onChange",(function(t){e.props.onSetMapTrigger(t.target.value)})),e}return t=a,(n=[{key:"render",value:function(){return c().createElement(l.FormGroup,{bsSize:"small"},c().createElement(l.ControlLabel,null,c().createElement($.Z,{msgId:"infoTriggerLabel"})),c().createElement(l.FormControl,{value:this.props.hoverEnabled?this.props.trigger:"click",componentClass:"select",onChange:this.onChange},c().createElement("option",{value:"click",key:"click"},"Click"),c().createElement("option",{disabled:!this.props.hoverEnabled,value:"hover",key:"hover"},"Hover")))}}])&&J(t.prototype,n),a}(c().Component);oe(ie,"propTypes",{trigger:N().string,onSetMapTrigger:N().func,hoverEnabled:N().bool}),oe(ie,"defaultProps",{hoverEnabled:!0});const ae=ie;var ce=n(89255),le=n(55877),ue=n.n(le),se=n(75982),pe=n(82904),fe=n(33528),me=n(95797),de=n(80416),ye=n(42780),be=n(81808),ge=n(73814),he=n(97222),ve=n(7877),Oe=n(75110),Se=n(31255),Ee=n(69842),we=n(827),Ae=n(55105),Pe=n(90183),Te=n(2510),je=n(7147),xe=n(38842),Ce=n(52259),Re=n(7412),ke=n(21751),De=n(49243),_e=n(13652);function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){Ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Fe=function(e,t){var n,o,i,a=(0,r.get)(e,"latlng.lng"),c=(0,r.get)(e,"latlng.lat"),l=(0,Pe.reproject)([a,c],"EPSG:4326",t),u=(0,Ce.getHook)(Ce.GET_PIXEL_FROM_COORDINATES_HOOK);if(u){var s=(o=u([l.x,l.y]),i=2,function(e){if(Array.isArray(e))return e}(o)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(o,i)||function(e,t){if(e){if("string"==typeof e)return Me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Me(e,t):void 0}}(o,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());n={x:s[0],y:s[1]}}else n=e.pixel;var p=(0,Ce.getHook)(Ce.GET_COORDINATES_FROM_PIXEL_HOOK),f=(0,Pe.calculateCircleRadiusFromPixel)(p,n,l,5),m={type:"geometry",enabled:!0,value:{geometry:{center:[l.x,l.y],coordinates:(0,Pe.calculateCircleCoordinates)(l,f,12),extent:[l.x-f,l.y-f,l.x+f,l.y+f],projection:t,radius:f,type:"Polygon"},method:"Circle",operation:"INTERSECTS"}};return Le(Le({},e),{},{pixel:n,geometricFilter:m})};const Ue={getFeatureInfoOnFeatureInfoClick:function(e,t){var n=t.getState,o=void 0===n?function(){}:n;return e.ofType(m.xy).switchMap((function(e){var t=e.point,n=e.filterNameList,i=void 0===n?[]:n,a=e.overrideParams,c=void 0===a?{}:a,l=(0,r.reverse)((0,Oe.OX)(o())),u=(0,Oe.$z)(o());u.length&&(l=u);var s=(0,Oe.NP)(o());if(0===l.length||0===u.length&&0!==s.length)return ce.Observable.of((0,m.g)(),(0,m.LU)());var p=["SLD_BODY"],f=["buffer","cql_filter","filter","propertyName"],d=ce.Observable.from(l.filter((function(e){return!i.length||i.filter((function(t){return-1!==t.indexOf(e.name)})).length>0}))).mergeMap((function(e){var t=(0,xe.fY)(o()),n=(0,Re.Fm)(e,Le(Le({},(0,ve.oq)(o())),{},{env:t})),r=n.url,i=n.request,a=n.metadata;if((0,ve.A4)(o())&&(0,ve.Ap)(o())&&(i=Le(Le({},i),(0,ve.Ap)(o())[e.name])),c[e.name]&&(i=Le(Le({},i),c[e.name])),r){var u=r,s=i,d=a,y=(0,Re.K7)(e,f,p),b=(0,ve.hs)(o()),g=(0,ve.A4)(o()),h=ue().v1(),v=Le(Le({},y),s);return(0,De.y)(u,v,e,{attachJSON:b,itemId:g}).map((function(t){return t.data.exceptions?(0,m.Mn)(h,t.data.exceptions,s,d):(0,m.Fm)(h,t.data,s,Le(Le({},d),{},{features:t.features,featuresCrs:t.featuresCrs}),e)})).catch((function(e){return ce.Observable.of((0,m.sV)(h,e.data||e.statusText||e.status,s,d))})).startWith((0,m.WU)(h,v))}return ce.Observable.of((0,m.JB)(e,i,a,l))}));return t&&t.modifiers&&!0===t.modifiers.ctrl&&t.multiSelection?d:d.startWith((0,m.g)())}))},handleMapInfoMarker:function(e,t){var n=t.getState;return e.ofType(m.xy).filter((function(){return!(0,ve.xt)(n())})).map((function(e){return e.layer?(0,m.aN)():(0,m.HP)()}))},closeFeatureGridFromIdentifyEpic:function(e){return e.ofType(m.XL,m.qb).switchMap((function(){return ce.Observable.of((0,fe.YV)())}))},closeFeatureAndAnnotationEditing:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,o=void 0===n?function(){}:n;return e.ofType(m.cb).switchMap((function(){return(0,r.get)(o(),"annotations.editing")?ce.Observable.of((0,ye.g)()):ce.Observable.of((0,m.g)())}))},hideMarkerOnIdentifyCloseOrClearWarning:function(e){return e.ofType(m.cb,m.ih).flatMap((function(){return ce.Observable.of((0,m.aN)())}))},changeMapPointer:function(e,t){return e.ofType(f.N7).filter((function(){return!t.getState().map})).switchMap((function(t){return e.ofType(be.ok).mapTo(t)}))},onMapClick:function(e,t){return e.ofType(f.TR).filter((function(){var e,n=t.getState().mapInfo.disableAlwaysOn,o=void 0!==n&&n;return!(0,we.Mc)(t.getState())&&(o||(e=t.getState()||{},!((0,ve.lN)(e)||(0,Se.Rd)(e)&&(function(e){return"EDIT"===(0,Se.eK)(e)}(e)||function(e){return(0,r.get)((0,r.find)((0,Se.M0)(e),(function(e){return"geometry"===e.type})),"enabled")}(e)))))})).switchMap((function(e){var n=e.point,r=e.layer,o=(0,we.uy)(t.getState());return ce.Observable.of((0,m.lK)(Fe(n,o),r),(0,he.KG)()).merge(ce.Observable.of((0,ge.i8)(ue()(),{component:ke.IDENTIFY_POPUP,maxWidth:600,position:{coordinates:n?n.rawPos:[]}})).filter((function(){return(0,ve.xt)(t.getState())})))}))},onUpdateFeatureInfoClickPoint:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(m.jL).map((function(e){var t=e.point,n=(0,we.uy)(r());return{point:Fe(t,n)}})).withLatestFrom(e.ofType(m.xy),(function(e,t){var n=e.point;return Le(Le({},t),{},{point:n})}))},featureInfoClickOnHighligh:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(m.oz).filter((function(e){return e.enabled&&(0,ve.Bz)(r())})).switchMap((function(){return ce.Observable.from([(0,m.lK)((0,ve.Bz)(r()),(0,ve.H_)(r()),(0,ve.ij)(r()),(0,ve.Ap)(r()),(0,ve.A4)(r())),(0,m.HP)()])}))},zoomToVisibleAreaEpic:function(e,t){return e.ofType(m.xy).filter((function(){return(0,Oe._$)(t.getState())})).switchMap((function(n){return e.ofType(m.XL,m.km).mergeMap((function(){var o=t.getState(),i=(0,we.Od)(o),a=(0,we.uy)(o),c=(0,we.pb)(o),l=(0,r.find)(c,{code:a}),u=l&&l.extent,s=u&&(0,Pe.reprojectBbox)(u,a,"EPSG:4326"),p=(0,Ae.Nr)(o),d=n.point&&n.point&&n.point.latlng,y=(0,Ce.getCurrentResolution)(Math.round(i.zoom),0,21,96),b=p&&i&&i.size&&{left:(0,Ce.parseLayoutValue)(p.left,i.size.width),bottom:(0,Ce.parseLayoutValue)(p.bottom,i.size.height),right:(0,Ce.parseLayoutValue)(p.right,i.size.width),top:(0,Ce.parseLayoutValue)(p.top,i.size.height)};if(!i||!b||!d||n.point.cartographic||(0,Pe.isInsideVisibleArea)(d,i,b,y)||(0,we.Mc)(o))return ce.Observable.of((0,m.PM)("disabled"));if(s&&!(0,Pe.isPointInsideExtent)(d,s))return ce.Observable.empty();var g=(0,Pe.centerToVisibleArea)(d,i,b,y);return ce.Observable.of((0,m.PM)("enabled"),(0,f.xy)(g.pos,g.zoom,g.crs)).concat(e.ofType(m.cb).switchMap((function(){var e=i&&(0,Ce.getBbox)(i.center,i.zoom);return ce.Observable.of((0,f.o6)(i.center,i.zoom,e,i.size,null,i.projection))})).takeUntil(e.ofType(f.pP).skip(1)))}))}))},closeFeatureInfoOnCatalogOpenEpic:function(e,t){return e.ofType(pe.dc).filter((function(e){return"metadataexplorer"===e.control&&e.properties&&e.properties.enabled})).switchMap((function(){return ce.Observable.of((0,m.g)(),(0,m.aN)()).merge(ce.Observable.of((0,ge.UK)()).filter((function(){return(0,ve.xt)(t.getState())})))}))},closeFeatureInfoOnAnnotationOpenEpic:function(e,t){var n=t.getState;return e.ofType(pe.kM).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.control;return"annotations"===t&&(0,r.get)(n(),"controls.annotations.enabled",!1)})).mapTo((0,m.g)())},closeFeatureInfoOnMeasureOpenEpic:function(e){return e.ofType(pe.At).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.control,n=e.value;return"measure"===t&&n})).mapTo((0,m.g)())},cleanPopupsEpicOnPurge:function(e,t){var n=t.getState;return e.ofType(m.DZ).filter((function(){return(0,ve.xt)(n())})).mapTo((0,ge.UK)())},identifyEditLayerFeaturesEpic:function(e,t){return e.ofType(m.fv).exhaustMap((function(e){var n,r=e.layer;return ce.Observable.of((0,m.ZM)(null===(n=(0,ve.Bz)(t.getState()))||void 0===n?void 0:n.geometricFilter),(0,de.Qr)(r))}))},switchFeatureGridToEdit:function(e,t){return e.ofType(me.Yx).switchMap((function(){var e=(0,ve.AO)(t.getState()),n=((0,r.find)((0,Se.M0)(t.getState()),(function(e){return"geometry"===e.type}))||{}).attribute||(0,r.get)((0,Ee.vE)(t.getState()),"attribute");return e?ce.Observable.of((0,m.ZM)(),(0,fe.lg)(),(0,fe.a8)(Le(Le({},e),{},{attribute:n,value:Le(Le({},e.value),{},{attribute:n})}))):ce.Observable.empty()}))},resetCurrentEditFeatureQuery:function(e){return e.ofType(fe.sF,se.nk).mapTo((0,m.ZM)())},mouseMoveMapEventEpic:function(e,t){var n=t.getState;return e.ofType(f.Jb).debounceTime((0,Te.nR)(n())).switchMap((function(e){var t=e.position,r=e.layer,o=(0,je.Yq)("annotations")(n()),i=(0,je.QF)(n()),a=n().mousePosition.mouseOut;return!(0,we.Mc)(n())||o||i||a?ce.Observable.empty():ce.Observable.of((0,m.lK)(t,r)).merge(ce.Observable.of((0,ge.i8)(ue()(),{component:ke.IDENTIFY_POPUP,maxWidth:600,position:{coordinates:t?t.rawPos:[]},autoPanMargin:70,autoPan:!0})))}))},removePopupOnUnregister:function(e,t){var n=t.getState;return e.ofType(f.GI).switchMap((function(){var e,t,r=ce.Observable.empty(),o=(null===(e=n())||void 0===e||null===(t=e.mapPopups)||void 0===t?void 0:t.popups)||[];if(o.length&&!(0,we.Mc)(n())){var i=o[0].id;r=ce.Observable.of((0,ge.hC)(i))}return r}))},removePopupOnLocationChangeEpic:function(e,t){var n=t.getState;return e.ofType(se.nk,m.DZ,m.ih).switchMap((function(){var e,t,r=ce.Observable.empty(),o=(null===(e=n())||void 0===e||null===(t=e.mapPopups)||void 0===t?void 0:t.popups)||[];if(o.length){var i=o[0].id;r=ce.Observable.of((0,ge.hC)(i))}return r}))},removeMapInfoMarkerOnRemoveMapPopupEpic:function(e,t){var n=t.getState;return e.ofType(ge.HH).switchMap((function(){return(0,we.Mc)(n())?ce.Observable.of((0,m.aN)()):ce.Observable.empty()}))},setMapTriggerEpic:function(e,t){return e.ofType(m.zX,be.ok,_e.W).switchMap((function(){return ce.Observable.of("hover"===(0,ve.EI)(t.getState())?(0,f.H0)("mousemove","identifyFloatingTool"):(0,f.$X)("mousemove","identifyFloatingTool"))}))}};var Ge=n(26125),Ze=n(8316),ze=n(93152),Be=n(37275);function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach((function(t){Ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qe=(0,p.zB)({enabled:function(e){return e.mapInfo&&e.mapInfo.enabled||e.controls&&e.controls.info&&e.controls.info.enabled||!1},responses:ve.q7,validResponses:ve.o9,requests:ve.OK,format:ve.us,map:we.Od,layers:Oe.l2,point:ve.Bz,showModalReverse:function(e){return e.mapInfo&&e.mapInfo.showModalReverse},reverseGeocodeData:function(e){return e.mapInfo&&e.mapInfo.reverseGeocodeData},warning:function(e){return e.mapInfo&&e.mapInfo.warning},currentLocale:Ze.Pz,dockStyle:function(e){return(0,Ae.ic)(e,{height:!0})},formatCoord:function(e){return e.mapInfo&&e.mapInfo.formatCoord||Be.ZP.getConfigProp("defaultCoordinateFormat")},showCoordinateEditor:function(e){return e.mapInfo&&e.mapInfo.showCoordinateEditor},showEmptyMessageGFI:function(e){return(0,ve.x0)(e)},isEditingAllowed:Se.nq,isCesium:ze.c0,floatingIdentifyEnabled:function(e){return(0,we.Mc)(e)}}),We=(0,s.compose)((0,u.connect)((0,p.P1)(ve.Qf,ve.vR,(function(e){return e.browser&&e.browser.mobile}),(function(e,t,n){return{index:e,loaded:t,isMobile:n}})),{setIndex:m.oO})),Ke=(0,s.compose)(We,y.Yy,y.mI,(0,W.Z)((function(e){var t=e.loaded;return(0,r.isUndefined)(t)})))(d.Z),$e=(0,s.defaultProps)({formatCoord:"decimal",enabled:!1,draggable:!0,collapsible:!1,format:(0,Re.wR)(),requests:[],responses:[],viewerOptions:{},viewer:Ke,purgeResults:function(){},hideMarker:function(){},clearWarning:function(){},changeMousePointer:function(){},showRevGeocode:function(){},hideRevGeocode:function(){},containerProps:{continuous:!1},enabledCoordEditorButton:!0,showCoordinateEditor:!1,showModalReverse:!1,reverseGeocodeData:{},enableRevGeocode:!0,wrapRevGeocode:!1,style:{},point:{},layer:null,map:{},layers:[],panelClassName:"modal-dialog info-panel modal-content",headerClassName:"modal-header",bodyClassName:"modal-body info-wrap",dock:!0,headerGlyph:"",closeGlyph:"1-close",className:"square-button",currentLocale:"en-US",fullscreen:!1,showTabs:!0,showCoords:!0,showLayerTitle:!0,showMoreInfo:!0,showEdit:!1,position:"right",size:660,getToolButtons:function(e){e.showHighlightFeatureButton,e.currentFeature,e.highlight;var t=e.onEdit,n=void 0===t?function(){}:t,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["showHighlightFeatureButton","currentFeature","highlight","onEdit"]);return[{glyph:"info-sign",tooltipId:"identifyRevGeocodeSubmitText",visible:r.latlng&&r.enableRevGeocode&&r.lngCorrected&&r.showMoreInfo,onClick:function(){r.showRevGeocode({lat:r.latlng.lat,lng:r.lngCorrected})}},{glyph:"search-coords",tooltipId:r.showCoordinateEditor?"identifyHideCoordinateEditor":"identifyShowCoordinateEditor",visible:r.enabledCoordEditorButton,bsStyle:r.showCoordinateEditor?"success":"primary",onClick:function(){r.onToggleShowCoordinateEditor(r.showCoordinateEditor)}},{glyph:"pencil",visible:r.showEdit,tooltipId:"identifyEdit",onClick:function(){return n()}}].filter((function(e){return e&&e.visible}))},getFeatureButtons:function(e){var t=e.showHighlightFeatureButton,n=e.currentFeature,r=e.highlight,o=e.toggleHighlightFeature,i=void 0===o?function(){}:o,a=e.zoomToFeature,c=void 0===a?function(){}:a;return[{glyph:"map-filter",visible:t,tooltipId:r?"identifyStopHighlightingFeatures":"identifyHighlightFeatures",bsStyle:r?"success":"primary",onClick:function(){return i(!r)}},{glyph:"zoom-to",visible:r&&!!n&&n.length>0&&n.reduce((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.geometry;return e||!!n}),!1)||!1,tooltipId:"identifyZoomToFeature",onClick:c}]},showFullscreen:!1,validResponses:[],validator:Re.Te,zIndex:1050}),Qe=(0,s.compose)((0,u.connect)(qe,{purgeResults:m.g,closeIdentify:m.Mc,onSubmitClickPoint:m.sv,onToggleShowCoordinateEditor:m.RA,onChangeFormat:m.Zw,changeMousePointer:f.Mo,clearWarning:m.XP,hideMarker:m.aN,showRevGeocode:m.Pg,hideRevGeocode:m.u0,onEnableCenterToMarker:m.PM.bind(null,"enabled"),onEdit:m.am},(function(e,t,n){return Ve(Ve(Ve(Ve({},n),e),t),{},{enabled:e.enabled&&(e.isCesium||!n.showInMapPopup)&&!e.floatingIdentifyEnabled})})),(0,s.compose)((0,u.connect)((0,p.zB)({highlight:ve.hs,currentFeature:ve.IA,currentFeatureCrs:ve.Kc}),{toggleHighlightFeature:m.MO,zoomToExtent:f.Px}),S),(0,u.connect)((0,p.P1)(ze.$v,(function(e){return{mapType:e}})),{},(function(e,t,n){var r=e.mapType,o=n.showHighlightFeatureButton;return Ve(Ve({},function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(n,["showHighlightFeatureButton"])),{},{showHighlightFeatureButton:"openlayers"===r&&o})})),$e,We,y.mI,h)((function(e){var t,n,o=e.enabled,i=e.requests,a=void 0===i?[]:i,u=e.onClose,s=e.responses,p=void 0===s?[]:s,f=e.index,m=e.viewerOptions,d=void 0===m?{}:m,y=e.format,b=e.dock,g=void 0===b||b,h=e.position,v=e.size,O=e.fluid,S=e.validResponses,x=void 0===S?[]:S,C=e.viewer,R=void 0===C?function(){return null}:C,k=e.getToolButtons,D=void 0===k?function(){return[]}:k,L=e.getFeatureButtons,N=void 0===L?function(){return[]}:L,M=e.showFullscreen,F=e.reverseGeocodeData,U=void 0===F?{}:F,G=e.point,Z=e.dockStyle,z=void 0===Z?{}:Z,V=e.draggable,q=e.setIndex,W=e.warning,K=e.clearWarning,$=e.zIndex,Q=e.showEmptyMessageGFI,X=e.showEdit,J=e.isEditingAllowed,ee=e.onEdit,te=void 0===ee?function(){}:ee,ne=e.enabledCoordEditorButton,re=e.showCoordinateEditor,oe=e.onSubmitClickPoint,ie=e.onChangeFormat,ae=e.formatCoord,ce=e.loaded,le=e.validator,ue=void 0===le?function(){return null}:le,se=G&&G.latlng||null,pe=x[f],fe=(pe||{}).layer,me=null;se&&(me=se&&Math.round(1e17*se.lng)/1e17,me-=360*Math.floor(me/360+.5));var de=R,ye=D(Y(Y({},e),{},{lngCorrected:me,validResponses:x,latlng:se,showEdit:X&&J&&!!pe&&(0,I.j)(pe),onEdit:te.bind(null,fe&&{id:fe.id,name:fe.name,url:(0,r.get)(fe,"search.url")})})),be=a.length===(null===(t=ue(y))||void 0===t||null===(n=t.getNoValidResponses(p))||void 0===n?void 0:n.length)||0,ge=a.length-p.length,he=U.error?c().createElement(w.Z,{msgId:"identifyRevGeocodeError"}):U.display_name;return c().createElement("div",{id:"identify-container",className:o&&0!==a.length?"identify-active":""},c().createElement(A.Z,{bsStyle:"primary",glyph:"map-marker",open:o&&0!==a.length,size:v,fluid:O,position:h,draggable:V,onClose:u,dock:g,style:z,showFullscreen:M,zIndex:$,header:[c().createElement(l.Row,{className:"layer-select-row"},c().createElement("div",{className:"layer-col"},c().createElement("span",{className:"identify-icon glyphicon glyphicon-1-layer"}),c().createElement(B,{responses:x,index:f,loaded:ce,setIndex:q,missingResponses:ge,emptyResponses:be,validator:ue,format:y}),c().createElement(E.Z,{btnDefaultProps:{bsStyle:"primary",className:"square-button-md"},buttons:N(e),transitionProps:null}))),c().createElement(l.Row,{className:"coordinates-edit-row"},c().createElement("span",{className:"identify-icon glyphicon glyphicon-point"}),c().createElement("div",{className:"coordinate-editor"},c().createElement(_,{key:"coordinate-editor",formatCoord:ae,enabledCoordEditorButton:ne,onSubmit:oe,onChangeFormat:ie,edit:re,coordinate:{lat:se&&se.lat,lon:me}})),c().createElement(j,H({latlng:se,revGeocodeDisplayName:he},e)),c().createElement(E.Z,{btnDefaultProps:{bsStyle:"primary",className:"square-button-md"},buttons:ye,transitionProps:null}))].filter((function(e){return e}))},c().createElement(de,H({index:f,setIndex:q,format:y,missingResponses:ge,responses:p,requests:a,showEmptyMessageGFI:Q},d))),c().createElement(T.Z,null,c().createElement(P.Z,{fade:!0,title:c().createElement(w.Z,{msgId:"warning"}),size:"xs",show:W,onClose:K,buttons:[{text:c().createElement(w.Z,{msgId:"close"}),onClick:K,bsStyle:"primary"}]},c().createElement("div",{className:"ms-alert",style:{padding:15}},c().createElement("div",{className:"ms-alert-center text-center"},c().createElement(w.Z,{msgId:"identifyNoQueryableLayers"}))))))})),Xe=(0,u.connect)((function(e){return{infoFormat:(0,ve.us)(e)}}),{onInfoFormatChange:m.ws})(K.Z),Je=(0,u.connect)((function(e){return{trigger:(0,we.Mc)(e)?"hover":"click",hoverEnabled:(0,ve.qK)(e)}}),{onSetMapTrigger:m.wm})(ae);const et={IdentifyPlugin:i()(Qe,{Toolbar:{name:"info",position:6,tooltip:"info.tooltip",icon:c().createElement(l.Glyphicon,{glyph:"map-marker"}),help:c().createElement($.Z,{msgId:"helptexts.infoButton"}),action:m.TM,selector:function(e){return{bsStyle:e.mapInfo&&e.mapInfo.enabled?"success":"primary",active:!(!e.mapInfo||!e.mapInfo.enabled)}}},Settings:{tool:[c().createElement(Xe,{key:"featureinfoformat",label:c().createElement($.Z,{msgId:"infoFormatLbl"})}),c().createElement(Je,{key:"featureinfotrigger"})],position:3}}),reducers:{mapInfo:Ge.Z},epics:Ue}},21460:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ke});var r=n(45697),o=n.n(r),i=n(67294),a=n.n(i),c=n(22843),l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=e,a=r,c=o,l=i;if({NODE_ENV:"production"}.isTest){var u={},s=function(e){return u[e]=u[e]||{rootCount:0,iframesCreated:!1,timedOut:!1,fontLoaded:!1,requiredExtraTimeout:!1},u[e]};window.reporter=window.reporter||{modifyRootCount:function(e,t){s(e).rootCount+=t},iframesCreated:function(e){s(e).iframesCreated=!0},timedOut:function(e){s(e).timedOut=!0},fontLoaded:function(e){s(e).fontLoaded=!0},requiredExtraTimeout:function(e){s(e).requiredExtraTimeout=!0},getTests:function(){return u}}}n.timeoutAfter&&setTimeout((function(){a&&({NODE_ENV:"production"}.isTest&&window.reporter.modifyRootCount(l,-1),document.body.removeChild(a),a=0,n.onTimeout&&({NODE_ENV:"production"}.isTest&&window.reporter.timedOut(l),n.onTimeout()))}),n.timeoutAfter),c=function(){a&&a.firstChild.clientWidth===a.lastChild.clientWidth&&({NODE_ENV:"production"}.isTest&&window.reporter.modifyRootCount(l,-1),document.body.removeChild(a),a=0,{NODE_ENV:"production"}.isTest&&window.reporter.fontLoaded(l),t())},{NODE_ENV:"production"}.isTest&&window.reporter.modifyRootCount(l,1),{NODE_ENV:"production"}.isLegacy||c(document.body.appendChild(a=document.createElement("div")).innerHTML='<div style="position:fixed;white-space:pre;bottom:999%;right:999%;font:999px '+(n.generic?"":"'")+i+(n.generic?"":"'")+',serif">'+(n.sampleText||" ")+'</div><div style="position:fixed;white-space:pre;bottom:999%;right:999%;font:999px '+(n.generic?"":"'")+i+(n.generic?"":"'")+',monospace">'+(n.sampleText||" ")+"</div>"),{NODE_ENV:"production"}.isLegacy&&c(document.body.appendChild(a=document.createElement("div")).innerHTML='<table style=position:absolute;bottom:999%;right:999%;width:auto><tr><td style=position:relative><tr><td style="font:999px monospace;white-space:pre">.<span style="font:999px '+(n.generic?"":"'")+i+(n.generic?"":"'")+',serif">'+(n.sampleText||" ")+'</span>.</table><table style=position:absolute;bottom:999%;right:999%;width:auto><tr><td style=position:relative><tr><td style="font:999px monospace;white-space:pre">.<span style="font:999px '+(n.generic?"":"'")+i+(n.generic?"":"'")+',monospace">'+(n.sampleText||" ")+"</span>.</table>"),a&&({NODE_ENV:"production"}.isTest&&window.reporter.iframesCreated(l),{NODE_ENV:"production"}.isLegacy||(a.firstChild.appendChild(i=document.createElement("iframe")).style.width="999%",i.contentWindow.onresize=c,a.lastChild.appendChild(i=document.createElement("iframe")).style.width="999%",i.contentWindow.onresize=c),{NODE_ENV:"production"}.isLegacy&&(a.firstChild.firstChild.firstChild.firstChild.appendChild(i=document.createElement("iframe")).style.cssText="position:absolute;bottom:999%;right:999%;width:999%",i.attachEvent?i.contentWindow.attachEvent("onresize",c):i.contentWindow.onresize=c,a.lastChild.firstChild.firstChild.firstChild.appendChild(i=document.createElement("iframe")).style.cssText="position:absolute;bottom:999%;right:999%;width:999%",i.attachEvent?i.contentWindow.attachEvent("onresize",c):i.contentWindow.onresize=c),{NODE_ENV:"production"}.isTest||(i=setTimeout(c)),{NODE_ENV:"production"}.isTest&&(i=setTimeout((function(){a&&(window.reporter.requiredExtraTimeout(l),c())}))))},u=n(27418),s=n.n(u),p=n(72986),f=n.n(p),m=(n(41738),n(5346)),d=n(37275),y=n(1550),b=n(61545),g=n(22222),h=n(827),v=n(93152),O=n(75110),S=n(90183);function E(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var A=function(e){return(0,b.get)(e,e&&e.featuregrid&&e.featuregrid.open&&e.featuregrid.showFilteredObject?"query.filterObj.spatialField":"emptyObject")},P=function(e){return A(e)&&A(e).geometry},T=(0,g.P1)([function(e){return P(e)&&P(e).coordinates||[]},function(e){return P(e)&&P(e).type||"Polygon"},function(e){return P(e)&&P(e).id||"spatial_object"},function(e){return P(e)&&P(e).projection||"EPSG:3857"}],(function(e,t,n,r){var o={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:t,coordinates:e},style:{fillColor:"#FFFFFF",fillOpacity:"0.2",color:"#ffcc33"},id:n}]};return e.length>0&&t?(0,S.reprojectGeoJson)(o,r,"EPSG:4326").features:[]})),j=(0,g.P1)([T,function(e){return(0,b.get)(e,e&&e.highlight&&e.highlight.featuresPath||"highlight.emptyFeatures")||[]}],(function(e,t){return[].concat(E(t),E(e))})),x=n(74621),C=n(8316),R=n(38842);const k=(0,g.zB)({projectionDefs:h.pb,map:h.Od,mapType:v.$v,layers:O.Hi,features:j,loadingError:function(e){return e.mapInitialConfig&&e.mapInitialConfig.loadingError&&e.mapInitialConfig.loadingError.data},securityToken:x.y8,elevationEnabled:h.zT,shouldLoadFont:v.m6,isLocalizedLayerStylesEnabled:R.wk,localizedLayerStylesName:R.c3,currentLocaleLanguage:C.KV});var D=n(1321),_=n(45304),I=n(4206),L={drawStatus:null,drawOwner:null,drawMethod:null,options:{},features:[],tempFeatures:[]};var N=n(41156),M={status:null};var F=n(29386);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z={status:"disabled",layer:"featureselector",features:[],highlighted:0,featuresPath:"highlight.emptyFeatures",emptyFeatures:[]};var B=n(13652);var H=n(60604);function V(e){return function(e){if(Array.isArray(e))return Y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $=n(89255),Q=n(80416),X=n(81808),J=n(63516),ee=n(55105),te=n(82904),ne=n(24262),re=n(52259),oe=n(97395),ie=n(21914);function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ue={checkMapPermissions:function(e,t){var n=t.getState,r=void 0===n?function(){}:n;return e.ofType(J.XP).filter((function(){return(0,h.J9)(r())})).map((function(){var e=(0,h.J9)(r());return(0,X.I6)(e)}))},handleCreationLayerError:function(e,t){return e.ofType(y.TF).delay(500).switchMap((function(e){var n=(0,v.$v)(t.getState()),r=(0,O.CA)(t.getState(),e.options.id);return r&&(0,ne.isSupportedLayer)(r,n)?$.Observable.from([(0,Q.He)(e.options.id,{invalid:!0})]):$.Observable.empty()}))},handleCreationBackgroundError:function(e,t){return e.ofType(y.TF).delay(500).filter((function(e){var n=(0,O.x)(t.getState());return n&&e.options.id===n.id&&"background"===e.options.group})).switchMap((function(e){var n=(0,v.$v)(t.getState()),r=(0,b.head)((0,O.pV)(t.getState()).filter((function(t){return(0,ne.isSupportedLayer)(t,n)&&t.id!==e.options.id})));return r?$.Observable.from([(0,Q.He)(r.id,{visibility:!0}),(0,te.Xg)("backgroundSelector","currentLayer",r),(0,te.Xg)("backgroundSelector","tempLayer",r),(0,oe.Kp)({title:"warning",message:"notification.backgroundLayerNotSupported",action:{label:"close"},position:"tc"})]):$.Observable.of((0,oe.Kp)({title:"warning",message:"notification.noBackgroundLayerSupported",action:{label:"close"},position:"tc"}))}))},resetMapOnInit:function(e){return e.ofType(y.Ec).switchMap((function(){return $.Observable.of((0,H.cY)(),(0,te.fV)(),(0,Q.nN)(),(0,ie.XP)())}))},resetLimitsOnInit:function(e,t){return e.ofType(X.ok,y.Li).switchMap((function(){var e=(0,h.A0)(t.getState()),n=(0,h.zj)(t.getState()),r=(0,h.S)(t.getState());return $.Observable.of((0,y.BV)({restrictedExtent:n,crs:e,minZoom:r}))}))},zoomToExtentEpic:function(e,t){var n=t.getState,r=void 0===n?function(){}:n;return e.ofType(y.Qy).switchMap((function(e){var t=function(e){if((0,b.isArray)(e))return e.map((function(e){return"string"==typeof e||e instanceof String?Number(e):e}));if((0,b.isObject)(e)){var t=(0,b.mapValues)(e,(function(e){return"string"==typeof e||e instanceof String?Number(e):e}));return[t.minx,t.miny,t.maxx,t.maxy]}return null}(e.extent);if(!t)return $.Observable.empty();var n=re.default.getHook(re.default.ZOOM_TO_EXTENT_HOOK),o=(0,ee.CF)(r());return n?(n(t,{crs:e.crs,padding:o,maxZoom:e.maxZoom}),$.Observable.empty()):function(e,t){var n=0,r=e.extent,o=void 0===r?[]:r,i=S.default.reprojectBbox(o,e.crs,t.bbox&&t.bbox.crs||"EPSG:4326");if(i){var a=S.default.reproject(re.default.getCenterForExtent(o,e.crs),e.crs,"EPSG:4326");if("EPSG:4326"===e.crs&&o&&o[0]<=-180&&o[1]<=-90&&o[2]>=180&&o[3]>=90)n=1;else{var c=S.default.reprojectBbox(o,e.crs,t.projection||"EPSG:4326");n=re.default.getZoomForExtent(c,t.size,0,21,null)}e.maxZoom&&n>e.maxZoom&&(n=e.maxZoom);var l={minx:i[0],miny:i[1],maxx:i[2],maxy:i[3]},u=ce(ce({},t.bbox),{},{bounds:l});return $.Observable.of((0,y.o6)(a,n,u,t.size,e.mapStateSource,t.projection,t.viewerOptions))}return $.Observable.empty()}(ce(ce({},e),{},{extent:t}),(0,h.Od)(r()))}))}};var se=n(73814),pe=n(89602),fe=n(97266);function me(e){return{type:"CHANGE_SELECTION_STATE",geomType:e.geomType,point:e.point,line:e.line,polygon:e.polygon}}var de=n(56298),ye=n(33664);function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ge=function(){return a().createElement("span",null)};const he=function(e,t){return Promise.all([n(19137)("./"+e+"/index"),n(62769)("./"+e+"/plugins/index")]).then((function(e){var n,r,o=(n=e,r=1,function(e){if(Array.isArray(e))return e}(n)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(n,r)||function(e,t){if(e){if("string"==typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?be(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0].default,i=(0,ye.connect)((function(e){return{projectionDefs:(0,h.pb)(e),mousePosition:(0,h.x9)(e)}}),s()({},{onMapViewChanges:y.o6,onClick:y.FP,onMouseMove:y.ou,onLayerLoading:Q.Yz,onLayerLoad:Q.kI,onLayerError:Q.XG,onWarning:oe.Kp,onMouseOut:y.NE},t),(function(e,t,n){return s()({},n,e,s()({},t,{onMouseMove:e.mousePosition?t.onMouseMove:function(){}}))}))(o.LMap),a=(0,ye.connect)((function(e){return{enabled:e.controls&&e.controls.measure&&e.controls.measure.enabled||!1,measurement:(0,fe.VH)(e),useTreshold:e.measurement&&e.measurement.useTreshold||null,uom:e.measurement&&e.measurement.uom||{length:{unit:"m",label:"m"},area:{unit:"sqm",label:"m²"}}}}),{changeMeasurementState:pe.nl,updateMeasures:pe.Y_,resetGeometry:pe.wB,changeGeometry:pe.$3,setTextLabels:pe.CG,changeMeasurement:pe.Bd})(o.MeasurementSupport||ge),c=(0,ye.connect)((function(e){return{status:e.locate&&e.locate.state,messages:e.locale&&e.locale.messages?e.locale.messages.locate:void 0}}),{changeLocateState:de.jL,onLocateError:de.r})(o.Locate||ge),l=(0,ye.connect)((function(e){return e.draw||{}}),{onChangeDrawingStatus:I.Yf,onEndDrawing:I.fo,onGeometryChanged:I.Vw,onSelectFeatures:I.KD,onDrawingFeatures:I.uj,onDrawStopped:I.lo,setCurrentStyle:I.PY})(o.DrawSupport||ge),u=(0,ye.connect)((0,g.P1)((function(e){return function(e){return e&&e.box&&e.box.status}(e)}),(function(e){return{status:e}})),{onBoxEnd:N.zZ})(o.BoxSelectionSupport||ge),p=(0,ye.connect)((function(e){return e.highlight||{}}),{updateHighlighted:F._E})(o.HighlightFeatureSupport||ge),f=(0,ye.connect)((function(e){return{selection:e.selection||{}}}),{changeSelectionState:me})(o.SelectionSupport||ge),m=(0,ye.connect)(null,{onWarning:oe.Kp})(o.Layer||ge),d=[],b=(0,ye.connect)((0,g.P1)((function(e){return e.mapPopups&&e.mapPopups.popups||d}),(function(e){return{popups:e}})),{onPopupClose:se.hC})(o.PopupSupport||ge);return{Map:i,Layer:m,Feature:o.Feature||ge,tools:{measurement:a,locate:c,overview:o.Overview||ge,scalebar:o.ScaleBar||ge,draw:l,highlight:p,selection:f,popup:b,box:u}}}))};function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(){return(Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Se(e){return function(e){if(Array.isArray(e))return Ee(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ee(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function we(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pe(e,t){return(Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Te(e,t){return!t||"object"!==ve(t)&&"function"!=typeof t?je(e):t}function je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xe(e){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pe(e,t)}(c,e);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=xe(r);if(o){var n=xe(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Te(this,e)});function c(){var e;we(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ce(je(e=i.call.apply(i,[this].concat(n))),"state",{canRender:!0}),Ce(je(e),"getHighlightLayer",(function(t,n,r){var o=e.state.plugins;return a().createElement(o.Layer,{type:"vector",srs:t,position:n,key:"highlight",options:{name:"highlight"},env:r},e.props.features.map((function(e){return a().createElement(o.Feature,{msId:e.id,key:e.id,crs:t,type:e.type,style:e.style||null,geometry:e.geometry})})))})),Ce(je(e),"getTool",(function(t){return(0,b.isString)(t)?{name:t,impl:e.state.plugins.tools[t]}:t[e.props.mapType]||t})),Ce(je(e),"getMapOptions",(function(){return e.props.mapOptions&&e.props.mapOptions[e.props.mapType]||d.ZP.getConfigProp("defaultMapOptions")&&d.ZP.getConfigProp("defaultMapOptions")[e.props.mapType]})),Ce(je(e),"renderLayers",(function(){var t=e.props.map.projection||"EPSG:3857",n=[];e.props.isLocalizedLayerStylesEnabled&&n.push({name:e.props.localizedLayerStylesName,value:e.props.currentLocaleLanguage});var r=e.state.plugins;return[].concat(Se(e.props.layers),Se(e.props.additionalLayers)).filter(e.filterLayer).map((function(o,i){return a().createElement(r.Layer,{type:o.type,srs:t,position:i,key:o.id||o.name,options:o,securityToken:e.props.securityToken,env:n},e.renderLayerContent(o,t))})).concat(e.props.features&&e.props.features.length&&e.getHighlightLayer(t,e.props.layers.length,n)||[])})),Ce(je(e),"renderLayerContent",(function(t,n){var r=e.state.plugins;return t.features&&"vector"===t.type?t.features.map((function(e){return a().createElement(r.Feature,{key:e.id,msId:e.id,type:e.type,crs:n,geometry:e.geometry,features:e.features,featuresCrs:t.featuresCrs||"EPSG:4326",layerStyle:t.style,style:e.style||t.style||null,properties:e.properties})})):null})),Ce(je(e),"renderSupportTools",(function(){var t=e.props.items.filter((function(e){return!!e.Tool})).map((function(e){var t=e.Tool,n=e.name;return a().createElement(t,{key:n})}));return e.props.tools.map((function(t){var n=e.getTool(t),r=e.props.toolsOptions[n.name]&&e.props.toolsOptions[n.name][e.props.mapType]||e.props.toolsOptions[n.name]||{};return a().createElement(n.impl,Oe({key:n.name},r))})).concat(t)})),Ce(je(e),"filterLayer",(function(t){return!t.useForElevation||"cesium"===e.props.mapType||e.props.elevationEnabled})),Ce(je(e),"updatePlugins",(function(t){t.onLoadingMapPlugins(!0),he(t.mapType,t.actions).then((function(n){e.setState({plugins:n}),t.onLoadingMapPlugins(!1,t.mapType)}))})),e}return t=c,(n=[{key:"UNSAFE_componentWillMount",value:function(){var e=this,t=this.props,n=t.shouldLoadFont,r=t.fonts;n&&r&&(this.setState({canRender:!1}),Promise.all(r.map((function(t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,r){l(e,n,{timeoutAfter:t.timeoutAfter,onTimeout:r,sampleText:t.sampleText,generic:t.generic})}))}(t,{timeoutAfter:5e3}).catch((function(){e.props.onFontError({family:t})}))}))).then((function(){e.setState({canRender:!0})}))),this.updatePlugins(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.mapType===this.props.mapType&&e.actions===this.props.actions||this.updatePlugins(e)}},{key:"render",value:function(){if(this.props.map&&this.state.canRender&&this.state.plugins){var e=this.props.map.mapOptions,t=void 0===e?{}:e;return a().createElement(this.state.plugins.Map,Oe({id:"map"},this.props.options,{projectionDefs:this.props.projectionDefs},this.props.map,{mapOptions:s()({},t,this.getMapOptions()),zoomControl:this.props.zoomControl,onResolutionsChange:this.props.onResolutionsChange}),this.renderLayers(),this.renderSupportTools())}return this.props.loadingError?a().createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},className:"mapErrorMessage"},a().createElement(m.Z,{msgId:"map.loadingerror"}),":",this.props.loadingError):a().createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},className:"mapLoadingMessage"},this.props.loadingSpinner?a().createElement(f(),{spinnerName:"circle",overrideSpinnerClassName:"spinner"}):null,a().createElement(m.Z,{msgId:this.props.mapLoadingMessage}))}}])&&Ae(t.prototype,n),c}(a().Component);Ce(Re,"propTypes",{mapType:o().string,map:o().object,layers:o().array,additionalLayers:o().array,zoomControl:o().bool,mapLoadingMessage:o().string,loadingSpinner:o().bool,loadingError:o().string,tools:o().array,fonts:o().array,options:o().object,mapOptions:o().object,projectionDefs:o().array,toolsOptions:o().object,onFontError:o().func,onResolutionsChange:o().func,actions:o().object,features:o().array,securityToken:o().string,shouldLoadFont:o().bool,elevationEnabled:o().bool,isLocalizedLayerStylesEnabled:o().bool,localizedLayerStylesName:o().string,currentLocaleLanguage:o().string,items:o().array,onLoadingMapPlugins:o().func}),Ce(Re,"defaultProps",{mapType:"leaflet",actions:{},zoomControl:!1,mapLoadingMessage:"map.loading",loadingSpinner:!0,tools:["measurement","locate","scalebar","draw","highlight","popup","box"],options:{},mapOptions:{},fonts:["FontAwesome"],toolsOptions:{measurement:{},locate:{},scalebar:{leaflet:{position:"bottomright"}},overview:{overviewOpt:{position:"bottomright",collapsedWidth:25,collapsedHeight:25,zoomLevelOffset:-5,toggleDisplay:!0},layers:[{type:"osm"}]}},securityToken:"",additionalLayers:[],shouldLoadFont:!1,elevationEnabled:!1,onFontError:function(){},onResolutionsChange:function(){},items:[],onLoadingMapPlugins:function(){}});const ke=(0,c.rx)("Map",{component:(0,c.$j)(k,{onFontError:y.LP,onResolutionsChange:y.SO})(Re),reducers:{map:D.Z,layers:_.Z,draw:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I.hZ:return s()({},e,{drawStatus:t.status,drawOwner:t.owner,drawMethod:t.method,options:t.options,features:t.features,style:t.style});case I.kD:return s()({},e,{currentStyle:t.currentStyle});case I.DI:return s()({},e,{tempFeatures:t.features});case I.IC:return s()({},e,{tempFeatures:[]});default:return e}},box:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.gd:return s()({},e,{status:t.status});default:return e}},highlight:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F.NF:return s()({},e,{featuresPath:t.featuresPath||"highlight.emptyFeatures"});case F.F2:return G(G({},e),{},{status:t.status});case F.fu:return G(G({},e),{},{highlighted:t.features.length,features:t.features,status:t.status||e.status});default:return e}},maptype:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{mapType:"leaflet"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B.W:return{mapType:t.mapType};default:return e}},additionallayers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H.jJ:var n=(0,b.pickBy)({id:t.id,owner:t.owner,actionType:t.actionType,options:t.options},b.identity),r=(0,b.head)(e.filter((function(e){return e.id===n.id})));return r?e.map((function(e){return e.id===n.id?W(W({},r),n):W({},e)})):[].concat(V(e),[n]);case H.oy:var o=t.options,i=t.owner;return e.map((function(e,t){return e.owner===i?W(W({},e),{},{options:(0,b.isObject)(o)&&o[e.id]||(0,b.isArray)(o)&&o[t]||{}}):W({},e)}));case H.yg:var a=t.id,c=t.owner;return c?e.filter((function(e){return e.owner!==c})):e.filter((function(e){return e.id!==a}));case H.vD:return[];default:return e}}},epics:ue})},43526:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var r=n(67294),o=n.n(r),i=n(45697),a=n.n(i),c=n(58252),l=n(18093);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v={},O=(0,l.lifecycle)({componentDidMount:function(){if(v[this.props.id]){var e=document.getElementById(this.props.id);e&&e.parentNode&&!e.hasChildNodes()&&e.parentNode.replaceChild(v[this.props.id],e)}},shouldComponentUpdate:function(){return!1},componentWillUnmount:function(){v[this.props.id]=document.getElementById(this.props.id)}})((function(e){var t=e.id;return o().createElement("div",{id:t})})),S=[{element:o().createElement(O,{key:"attribution",id:"footer-attribution-container"})},{element:o().createElement(O,{key:"scalebar",id:"footer-scalebar-container"})}],E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(l,e);var t,n,r,i,a=(r=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=g(r);if(i){var n=g(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return y(this,e)});function l(){var e;f(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return h(b(e=a.call.apply(a,[this].concat(n))),"getPanels",(function(){return e.props.items.filter((function(e){return e.tools})).reduce((function(e,t){return e.concat(t.tools.map((function(e,n){return{name:t.name+n,panel:e,cfg:t.cfg.toolsCfg?t.cfg.toolsCfg[n]:{}}})))}),[])})),h(b(e),"getTools",(function(){return[S[0]].concat(s(e.props.items.sort((function(e,t){return t.position-e.position}))),[S[1]])})),e}return t=l,(n=[{key:"render",value:function(){return o().createElement(c.Z,{id:this.props.id,style:this.props.style,className:this.props.className,mapType:this.props.mapType,container:function(e){return o().createElement("div",e,e.children)},toolStyle:"primary",activeStyle:"default",stateSelector:"mapFooter",tool:function(e){return o().createElement("div",null,e.children)},tools:this.getTools(),panels:this.getPanels()})}}])&&m(t.prototype,n),l}(o().Component);h(E,"propTypes",{className:a().string,style:a().object,items:a().array,id:a().string,mapType:a().string}),h(E,"defaultProps",{items:[],className:"mapstore-map-footer",style:{},id:"mapstore-map-footer",mapType:"leaflet"});const w={MapFooterPlugin:E,reducers:{}}},95605:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P}),n(77890);var r=n(27418),o=n.n(r),i=n(33664),a=n(22222),c=n(45697),l=n.n(c),u=n(67294),s=n.n(u),p=n(72986),f=n.n(p);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.e(2620).then(n.t.bind(n,22620,23));var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(r);if(o){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return g(this,e)});function a(){return d(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return this.props.loading?s().createElement("div",{className:this.props.className,id:this.props.id},s().createElement(f(),{noFadeIn:!0,overrideSpinnerClassName:"spinner",spinnerName:this.props.spinner})):null}}])&&y(t.prototype,n),a}(s().Component);v(O,"propTypes",{id:l().string,loading:l().bool,className:l().string,spinner:l().string}),v(O,"defaultProps",{id:"mapstore-globalspinner",loading:!1,className:"ms2-loading",spinner:"circle"});const S=O;var E=n(75110),w=(0,a.P1)([E.l2],(function(e){return{loading:e&&e.some((function(e){return e.loading}))}})),A=(0,i.connect)(w)(S);const P={MapLoadingPlugin:o()(A,{Toolbar:{name:"maploading",position:1,tool:!0,priority:1}}),reducers:{}}},9860:(e,t,n)=>{"use strict";n.d(t,{default:()=>v});var r=n(67294),o=n.n(r),i=n(45697),a=n.n(i),c=(n(78998),n(27418)),l=n.n(c),u=n(58252);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(c,e);var t,n,r,i,a=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(r);if(i){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function c(){var e;p(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(y(e=a.call.apply(a,[this].concat(n))),"getPanels",(function(){return e.props.items.filter((function(e){return e.tools})).reduce((function(e,t){return e.concat(t.tools.map((function(e,n){var r,o;return{name:t.name+n,panel:e,cfg:(null==t||null===(r=t.cfg)||void 0===r||null===(o=r.toolsCfg)||void 0===o?void 0:o[n])||{}}})))}),[])})),g(y(e),"getTools",(function(){return e.props.items.sort((function(e,t){return e.position-t.position}))})),e}return t=c,(n=[{key:"render",value:function(){return o().createElement(u.Z,{id:this.props.id,style:this.props.style,className:this.props.className,mapType:this.props.mapType,container:function(e){return o().createElement("div",e,e.children)},toolStyle:"primary",activeStyle:"default",stateSelector:"omnibar",tool:function(e){return o().createElement("div",null,e.children)},tools:this.getTools(),panels:this.getPanels()})}}])&&f(t.prototype,n),c}(o().Component);g(h,"propTypes",{className:a().string,style:a().object,items:a().array,id:a().string,mapType:a().string}),g(h,"defaultProps",{items:[],className:"navbar-dx shadow",style:{},id:"mapstore-navbar",mapType:"leaflet"});const v={OmniBarPlugin:l()(h,{disablePluginIf:"{state('featuregridmode') === 'EDIT' || (state('router') && state('router').includes('/geostory/shared') && state('geostorymode') !== 'edit')}"}),reducers:{}}},11878:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Ee});var r=n(27418),o=n.n(r),i=n(67294),a=n.n(i),c=n(33664),l=n(18093),u=n(22222),s=n(62187),p=n(30381),f=n.n(p),m=n(61545),d=n(57604),y=n(57676),b=n(80416),g=n(97395),h=n(85148),v=n(75982),O=n(76843),S=n(97291);function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const A=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};return function(r){return r.withLatestFrom(e.startWith(t)).filter((function(e){var t=E(e,2)[1];return n(t)})).map((function(e){return E(e,1)[0]}))}};var P=n(89919),T=n(96361),j=n(89255);function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(e,t)||R(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||R(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=20,N=function(e,t){return"".concat(e,"/").concat(t)},M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,S.Li)(e()),r=(0,S.uy)(e()),o=(0,S.Ry)(e()),i=(0,O.KC)(e())||{},a=i.startPlaybackTime,c=i.endPlaybackTime,l=(0,O.dS)(e())===s.Q_.PLAY||(0,O.dS)(e())===s.Q_.PAUSE;return[o,r,"time",_({limit:L,time:a&&c&&l?N(a,c):void 0},t),(0,S.F3)(n)(e())]},F=function(e,t){if((0,S.uy)(e())){var n=(0,h.aK)((0,S.fP)(e()))(e()),r=(0,S.gB)(e());return"multidim-extension"!==(0,m.get)(r,"source.type")&&n&&n.length>0?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.fromValue,o=n.limit,i=void 0===o?L:o,a=(0,O.KC)(t())||{},c=a.startPlaybackTime,l=a.endPlaybackTime;return j.Observable.of(e.filter((function(e){return!c||!l||f()(e).isSameOrAfter(c)&&f()(e).isSameOrBefore(l)})).filter((function(e){return!r||f()(e).isAfter(r)})).slice(0,i))}(n,e,t):T.Ci.apply(void 0,C(M(e,t))).map((function(e){return e.DomainValues.Domain.split(",")}))}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fromValue,r=t.limit,o=void 0===r?L:r,i=t.sort,a=void 0===i?"asc":i,c=(0,O.z2)(e()),l=c.timeStep,u=c.stepUnit,s=f().duration(l,u),p=(0,O.KC)(e())||{},m=p.startPlaybackTime,d=p.endPlaybackTime,y=void 0!==n?n:m||(0,h.WT)(e())||(new Date).toString(),b=[];y!==n&&b.push(f()(y).toISOString());for(var g=0;g<o&&(y=f()(y).add("asc"===a?s:-1*s),!d||y.isBefore(d));g++)b.push(y.toISOString());return j.Observable.of(b)}(e,t)},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return{}};return function(t){var n=(0,h.AF)(e());return j.Observable.from(n.map((function(e){return(0,b.He)(e.id,{singleTile:!0})}))).concat(t).concat(j.Observable.from(n.map((function(e){return(0,b.He)(e.id,{singleTile:e.singleTile})}))))}},G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.start,r=t.end;return n&&r&&(f()(e).isBefore(n)||f()(e).isAfter(r))};const Z={retrieveFramesForPlayback:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(s.NH).exhaustMap((function(){return F(r,{fromValue:(0,O.KC)(r())&&(0,O.KC)(r()).startPlaybackTime&&(0,O.KC)(r()).endPlaybackTime?void 0:(0,h.WT)(r())}).map((function(e){return(0,s.wR)(e)})).let((0,P.hP)((0,s.zK)(!0),(0,s.zK)(!1)),(function(){return j.Observable.of((0,g.vU)({title:"There was an error retrieving animation",message:"Please contact the administrator"}),(0,s.sT)())})).let((0,P.hP)((0,y.aA)(!1,!0),(0,y.aA)(!1,!1))).concat(e.ofType(s.c9).filter((function(e){return e.frame%L==10})).switchMap((function(){return F(r,{fromValue:(0,O.yt)(r())}).map(s.hS).let((0,P.hP)((0,s.zK)(!0),(0,s.zK)(!1)))}))).takeUntil(e.ofType(s.N7,v.nk)).concat(j.Observable.of((0,y.aA)(!1,!1))).let(U(r))}))},updateCurrentTimeFromAnimation:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(s.c9).map((function(){return(0,O.Wq)(r())})).map((function(e){return e?(0,d.PZ)(e):(0,s.sT)()}))},timeDimensionPlayback:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(s.L9).exhaustMap((function(){return j.Observable.interval(1e3*(0,O.V3)(r())).startWith(0).let(A(e.ofType(s.NH,s.E7).map((function(e){return e.type===s.NH})))).map((function(){return(0,s.h1)((0,O.Np)(r())+1)})).merge(e.ofType(s.KB).map((function(e){var t=e.direction;return(0,s.h1)(Math.max(0,(0,O.Np)(r())+t))}))).concat(j.Observable.of((0,s.sT)())).takeUntil(e.ofType(s.N7,v.nk))}))},playbackToggleGuideLayerToFixedStep:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(s.Fi).exhaustMap((function(){return(0,S.uy)(r())?j.Observable.of((0,y.kq)(void 0)):j.Observable.of((0,y.kq)((0,m.get)((0,S.rV)(r()),"[0].id")))}))},playbackMoveStep:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(s.KB).filter((function(){return(0,O.dS)(r())!==s.Q_.PLAY})).switchMap((function(e){var t=e.direction,n=void 0===t?1:t,o=(0,O.rp)(r())||{},i=(0,h.WT)(r());return i&&o.forTime===i?j.Observable.of(n>0?o.next:o.previous):F(r,{limit:1,sort:n>0?"asc":"desc",fromValue:(0,h.WT)(r())}).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=x(e,1),n=t[0];return n}))})).filter((function(e){return!!e})).map((function(e){return(0,d.PZ)(e)}))},playbackCacheNextPreviousTimes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(d.mE,d.mD,y._V,s.N7,y.w).filter((function(){return(0,O.dS)(r())!==s.Q_.PLAY&&(0,O.dS)(r())!==s.Q_.PAUSE})).filter((function(){return(0,S.Li)(r())})).filter((function(e){return!!e})).switchMap((function(e){var t=e.time||(0,h.WT)(r());return j.Observable.forkJoin(T.Ci.apply(void 0,C(M(r,{sort:"asc",limit:1,fromValue:t}))).map((function(e){return e.DomainValues.Domain.split(",")})).map((function(e){return x(e,1)[0]})).catch((function(e){return e&&j.Observable.of(null)})),T.Ci.apply(void 0,C(M(r,{sort:"desc",limit:1,fromValue:t}))).map((function(e){return e.DomainValues.Domain.split(",")})).map((function(e){return x(e,1)[0]})).catch((function(e){return e&&j.Observable.of(null)}))).map((function(e){var n=x(e,2),r=n[0],o=n[1];return(0,s.Ym)({forTime:t,next:r,previous:o})}))}))},playbackFollowCursor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(d.mD).filter((function(e){return(e.type===d.mD||(0,O.dS)(r())===s.Q_.PLAY)&&G((0,h.WT)(r()),(0,S.YK)(r()))})).filter((function(){return(0,m.get)((0,O.z2)(r()),"following")})).switchMap((function(){return j.Observable.of((0,y.y3)((e=(0,h.WT)(r()),n=(t=(0,S.YK)(r())).start,o=t.end,i=f()(o).diff(f()(n)),{start:e,end:f()(e).add(i).toISOString()})));var e,t,n,o,i}))},playbackStopWhenDeleteLayer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(b.sb).filter((function(){return!(0,S.Li)(r())&&"PLAY"===(0,O.dS)(r())})).switchMap((function(){return j.Observable.of((0,s.sT)())}))}};var z=n(37307),B=n(82904),H=n(61868);function V(e){return function(e){if(Array.isArray(e))return Y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var q={timeStep:1,stepUnit:"days",frameDuration:2,following:!0},W=n(5346),K=n(80717),$=n(30294),Q=n(2576),X=n(65295),J=n(45869),ee=n(12346),te=n(73378);function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ie=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};try{if(!(0,m.isNaN)(parseInt(e,10))){var r=parseInt(e,10);return t(r<1?1:r)}return n()}catch(e){return n(e)}},ae=function(e){var t=e.startPlaybackTime,n=e.endPlaybackTime,r=f()(t).diff(n);return{startPlaybackTime:r>=0?n:t,endPlaybackTime:r>=0?t:n}};function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ue=(0,l.compose)((0,c.connect)((0,u.P1)(O.z2,S.Li,O.KC,(function(e,t,n){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({fixedStep:!t,playbackRange:n},e)})),{setPlaybackRange:s.VS,onSettingChange:s.oz,toggleAnimationMode:s.FH}),(0,l.compose)((0,c.connect)((0,u.P1)(S.YK,S.dJ,(function(e,t){return{layerRange:t,viewRange:e}})),{moveTo:y.y3}),(0,l.withHandlers)({toggleAnimationRange:function(e){var t=e.fixedStep,n=e.layerRange,r=e.viewRange,o=void 0===r?{}:r,i=e.setPlaybackRange,a=void 0===i?function(){}:i;return function(e){var r=t?o:n;r={startPlaybackTime:f()(r&&r.start||new Date).subtract(1,"days").toISOString(),endPlaybackTime:f()(r&&r.end||new Date).add(1,"days").toISOString()},a(e?r:void 0)}},setPlaybackToCurrentViewRange:function(e){var t=e.viewRange,n=void 0===t?{}:t,r=e.setPlaybackRange,o=void 0===r?function(){}:r;return function(){n.start&&n.end&&o({startPlaybackTime:f()(n.start).toISOString(),endPlaybackTime:f()(n.end).toISOString()})}},setPlaybackToCurrentLayerDataRange:function(e){var t=e.setPlaybackRange,n=void 0===t?function(){}:t,r=e.layerRange;return function(){return r&&n({startPlaybackTime:r.start,endPlaybackTime:r.end})}}}),(0,l.withProps)((function(e){var t=e.playbackRange,n=e.fixedStep,r=e.moveTo,o=void 0===r?function(){}:r,i=e.setPlaybackToCurrentViewRange,a=void 0===i?function(){}:i,c=e.setPlaybackToCurrentLayerDataRange,l=void 0===c?function(){}:c;return{playbackButtons:[{glyph:"search",tooltipId:"playback.settings.range.zoomToCurrentPlayackRange",onClick:function(){return o({start:t.startPlaybackTime,end:t.endPlaybackTime})}},{glyph:"resize-horizontal",tooltipId:"playback.settings.range.setToCurrentViewRange",onClick:function(){return a()}},{glyph:"1-layer",visible:!n,tooltipId:"playback.settings.range.fitToSelectedLayerRange",onClick:function(){return l()}}]}}))))((function(e){var t=e.following,n=e.frameDuration,r=e.timeStep,o=e.stepUnit,i=e.onSettingChange,c=void 0===i?function(){}:i,l=e.toggleAnimationMode,u=void 0===l?function(){}:l,s=e.toggleAnimationRange,p=void 0===s?function(){}:s,f=e.fixedStep,m=void 0!==f&&f,d=e.playbackRange,y=void 0===d?{}:d,b=e.setPlaybackRange,g=void 0===b?function(){}:b,h=e.playbackButtons,v=e.dateSelectorStyle,O=void 0===v?{padding:0,margin:0,border:"none"}:v,S=e.style,E=void 0===S?{}:S;return a().createElement("div",{className:"ms-playback-settings",style:E},a().createElement("h4",null,a().createElement(W.Z,{msgId:"timeline.settings.title"})),a().createElement($.FormGroup,{controlId:"timelineSettings"},a().createElement($.Form,{componentClass:"fieldset",inline:!0},a().createElement($.ControlLabel,null,a().createElement(W.Z,{msgId:"timeline.settings.snapToGuideLayer"})," ",a().createElement(Q.Z,{text:a().createElement(W.Z,{msgId:"timeline.settings.snapToGuideLayerTooltip"})})),a().createElement("span",null,a().createElement(J.Z,{checked:!m,onChange:function(){return u()}})))),a().createElement("h4",null,a().createElement(W.Z,{msgId:"playback.settings.title"})),a().createElement($.FormGroup,{controlId:"frameDuration"},a().createElement($.ControlLabel,null,a().createElement(W.Z,{msgId:"playback.settings.frameDuration"})),a().createElement($.InputGroup,null,a().createElement(te.Z,{componentClass:"input",type:"number",value:n,onChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ie(e,(function(e){c("frameDuration",e)}))}}),a().createElement($.InputGroup.Addon,null,"s"))),a().createElement($.ControlLabel,null,a().createElement(W.Z,{msgId:"playback.settings.step.label"})," ",a().createElement(Q.Z,{text:a().createElement(W.Z,{msgId:"playback.settings.step.tooltip"})})),a().createElement($.FormGroup,{controlId:"formPlaybackStep"},a().createElement($.Form,{componentClass:"fieldset",inline:!0},a().createElement(te.Z,{disabled:!m,componentClass:"input",type:"number",style:{input:{maxWidth:120}},value:r,onChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ie(e,(function(e){c("timeStep",e)}))}}),a().createElement($.FormControl,{disabled:!m,componentClass:"select",value:o,onChange:function(e){var t=e.target;return c("stepUnit",(void 0===t?{}:t).value)}},a().createElement(W.Z,{msgId:"playback.settings.step.year",msgParams:{number:r||1}},(function(e){return a().createElement("option",{value:"years"},e)})),a().createElement(W.Z,{msgId:"playback.settings.step.week",msgParams:{number:r||1}},(function(e){return a().createElement("option",{value:"weeks"},e)})),a().createElement(W.Z,{msgId:"playback.settings.step.day",msgParams:{number:r||1}},(function(e){return a().createElement("option",{value:"days"},e)})),a().createElement(W.Z,{msgId:"playback.settings.step.hour",msgParams:{number:r||1}},(function(e){return a().createElement("option",{value:"hour"},e)})),a().createElement(W.Z,{msgId:"playback.settings.step.minute",msgParams:{number:r||1}},(function(e){return a().createElement("option",{value:"minutes"},e)})),a().createElement(W.Z,{msgId:"playback.settings.step.second",msgParams:{number:r||1}},(function(e){return a().createElement("option",{value:"seconds"},e)}))))),a().createElement(ee.Z,{onSwitch:function(e){return p(e)},expanded:y.startPlaybackTime&&y.endPlaybackTime,title:a().createElement(W.Z,{msgId:"playback.settings.range.title"}),buttons:h},a().createElement($.FormGroup,{controlId:"formPlaybackMode",style:{margin:10}},a().createElement(X.Z,{tooltipId:"playback.settings.range.animationStart",glyph:"play",date:y.startPlaybackTime,onUpdate:function(e){return g(ae(re(re({},y),{},{startPlaybackTime:e})))},style:O,showButtons:!0}),a().createElement(X.Z,{glyph:"stop",tooltipId:"playback.settings.range.animationEnd",date:y.endPlaybackTime,onUpdate:function(e){return g(ae(re(re({},y),{},{endPlaybackTime:e})))},style:O,showButtons:!0}))),a().createElement($.FormGroup,{controlId:"formPlaybackFollowingMode"},a().createElement($.Form,{componentClass:"fieldset",inline:!0},a().createElement($.ControlLabel,null,a().createElement(W.Z,{msgId:"playback.settings.mode.following"})," ",a().createElement(Q.Z,{text:a().createElement(W.Z,{msgId:"playback.settings.mode.followingDescription"})})),a().createElement("span",null,a().createElement(J.Z,{checked:t,onChange:function(e){return c("following",e)}})))))}));var se=(0,l.compose)((0,l.withState)("showSettings","onShowSettings",!1),(0,l.withState)("collapsed","setCollapsed",!0),(0,l.withProps)((function(e){var t=e.setCollapsed;return{buttons:[{glyph:"minus",onClick:function(){return t(!0)}}]}}))),pe=(0,u.P1)(O.dS,S.Li,O.rp,O.PF,(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;return t?e===s.Q_.PLAY||e===s.Q_.PAUSE?r:{hasNext:!!n.next,hasPrevious:!!n.previous}:{hasNext:!0,hasPrevious:!0}})),fe=(0,l.compose)((0,c.connect)(pe,{stepMove:s.XN}),(0,l.withHandlers)({forward:function(e){var t=e.stepMove,n=void 0===t?function(){}:t;return function(){return n(1)}},backward:function(e){var t=e.stepMove,n=void 0===t?function(){}:t;return function(){return n(-1)}}}));const me=(0,l.compose)(se,fe)((function(e){var t=e.status,n=e.statusMap,r=e.play,o=void 0===r?function(){}:r,i=e.forward,c=void 0===i?function(){}:i,l=e.backward,u=void 0===l?function(){}:l,s=e.pause,p=void 0===s?function(){}:s,f=e.stop,m=void 0===f?function(){}:f,d=e.hasPrevious,y=e.hasNext,b=e.showSettings,g=e.onShowSettings,h=void 0===g?function(){}:g,v=e.settingsStyle,O=void 0===v?{}:v;return a().createElement("div",{style:{display:"flex"}},t!==n.PLAY&&t!==n.PAUSE&&b&&a().createElement(ue,{style:O}),a().createElement(K.Z,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:[{glyph:"step-backward",key:"back",onClick:u,disabled:!d,tooltip:a().createElement(W.Z,{msgId:"playback.backwardStep"})},{glyph:t===n.PLAY?"pause":"play",key:"play",active:t===n.PLAY||t===n.PAUSE,disabled:!y,bsStyle:t===n.PLAY||t===n.PAUSE?"success":"primary",onClick:function(){return t===n.PLAY?p():o()},tooltipId:y&&(t===n.PLAY?"playback.pause":t===n.PAUSE?"playback.paused":"playback.play")},{glyph:"stop",key:"stop",disabled:t!==n.PLAY&&t!==n.PAUSE,onClick:m,tooltip:!(t!==n.PLAY&&t!==n.PAUSE)&&a().createElement(W.Z,{msgId:"playback.stop"})},{glyph:"step-forward",key:"forward",onClick:c,disabled:!y,tooltip:y&&a().createElement(W.Z,{msgId:"playback.forwardStep"})},{glyph:"cog",key:"settings",bsStyle:t!==n.PLAY&&t!==n.PAUSE&&b?"success":"primary",active:(t!==n.PLAY||t!==n.PAUSE)&&!!b,disabled:t===n.PLAY||t===n.PAUSE,onClick:function(){return t!==n.PLAY&&h(!b)},tooltip:!(t===n.PLAY||t===n.PAUSE)&&a().createElement(W.Z,{msgId:"playback.settings.tooltip"})}]}))}));function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function he(e,t){return!t||"object"!==de(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Oe=(0,l.compose)((0,l.defaultProps)({statusMap:s.Q_}),(0,c.connect)((0,u.P1)(O.dS,h.WT,O.E2,(function(e,t,n){return{loading:n,currentTime:t,status:e}})),{play:s.hY,pause:s.wO,stop:s.sT}))(me),Se=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(c,e);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ve(r);if(o){var n=ve(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return he(this,e)});function c(){return ye(this,c),i.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){return a().createElement("div",{className:"playback-plugin"},a().createElement(Oe,this.props))}}])&&be(t.prototype,n),c}(a().Component);const Ee={PlaybackPlugin:o()(Se,{noRoot:!0,disablePluginIf:"{state('featuregridmode') === 'EDIT'}",Timeline:{name:"playback",position:1,priority:1}}),epics:Z,reducers:{playback:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{status:s.Q_.STOP,currentFrame:-1,settings:q},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.NH:return(0,H.t8)("status",s.Q_.PLAY,e);case s.E7:return(0,H.t8)("status",s.Q_.PAUSE,e);case s.N7:return(0,H.t8)("status",s.Q_.STOP,(0,H.t8)("currentFrame",-1,e));case s.L9:return(0,H.t8)("frames",t.frames,(0,H.t8)("currentFrame",-1,e));case s.NC:return(0,H.t8)("framesLoading",t.loading,e);case s.hQ:return(0,H.t8)("frames",[].concat(V(e.frames||[]),V(t.frames)),e);case s.c9:return(0,H.t8)("currentFrame",t.frame,e);case s.up:return(0,H.t8)("playbackRange",t.range,e);case s.FZ:return(0,H.t8)("settings[".concat(t.name,"]"),t.value,e);case s.E0:return(0,H.t8)("metadata",{next:t.next,previous:t.previous,forTime:t.forTime},e);case B.l:return(0,H.t8)("metadata",void 0,(0,H.t8)("framesLoading",void 0,(0,H.t8)("playbackRange",void 0,(0,H.t8)("frames",void 0,(0,H.t8)("currentFrame",-1,(0,H.t8)("status","STOP",(0,H.t8)("settings",q,e)))))));default:return e}},dimension:z.Z}}},6602:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Z}),n(97142);var r=n(61545),o=n(27418),i=n.n(o),a=n(45697),c=n.n(a),l=n(67294),u=n.n(l),s=n(30294),p=n(33664),f=n(22222),m=n(82904),d=n(86069),y=n(5346),b=n(7472);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={antiAliasing:!0,iconSize:24,legendDpi:96,fontFamily:"Verdana",fontSize:8,bold:!1,italic:!1,resolution:96,name:"",description:""},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.split("_")[0]};var O=n(75110),S=n(8316),E=n(38842),w=n(827),A=n(93152),P=n(90183),T=n(86638),j=n(52259);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?F(e):t}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Z={PrintPlugin:i()({loadPlugin:function(e){Promise.resolve().then(function(){var t=n(10947).default,o=t.Name,a=t.Description,l=t.Resolution,g=t.DefaultBackgroundOption,h=t.Sheet,v=t.LegendOption,x=t.MultiPageOption,C=t.LandscapeOption,D=t.ForceLabelsOption,Z=t.AntiAliasingOption,z=t.IconSizeOption,B=t.LegendDpiOption,H=t.Font,V=t.MapPreview,Y=t.PrintSubmit,q=t.PrintPreview,W=n(34049),K=W.preloadData,$=W.getMapfishPrintSpecification,Q=W.getLayoutName,X=W.getPrintScales,J=W.getNearestZoom,ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(m,e);var t,n,c,p,f=(c=m,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=U(c);if(p){var n=U(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return M(this,e)});function m(){var e;I(this,m);for(var t=arguments.length,n=new Array(t),c=0;c<t;c++)n[c]=arguments[c];return G(F(e=f.call.apply(f,[this].concat(n))),"getMapSize",(function(t){var n=t||e.getLayout();return{width:e.props.mapWidth,height:n&&n.map.height/n.map.width*e.props.mapWidth||270}})),G(F(e),"getLayout",(function(){var t=e.props.getLayoutName(e.props.printSpec);return(0,r.head)(e.props.capabilities.layouts.filter((function(e){return e.name===t})))})),G(F(e),"renderLayoutsAlternatives",(function(){return e.props.alternatives.map((function(t){return u().createElement(t.component,{key:"printoption_"+t.name,label:(0,T.S$)(e.context.messages,"print.alternatives."+t.name),enableRegex:t.regex})}))})),G(F(e),"renderPreviewPanel",(function(){return u().createElement(q,_({},e.props.previewOptions,{role:"body",prevPage:e.prevPage,nextPage:e.nextPage}))})),G(F(e),"renderError",(function(){return e.props.error?u().createElement(s.Row,null,u().createElement(s.Col,{xs:12},u().createElement("div",{className:"print-error"},u().createElement("span",null,e.props.error)))):null})),G(F(e),"renderWarning",(function(e){return e?null:u().createElement(s.Row,null,u().createElement(s.Col,{xs:12},u().createElement("div",{className:"print-warning"},u().createElement("span",null,u().createElement(y.Z,{msgId:"print.layoutWarning"})))))})),G(F(e),"renderPrintPanel",(function(){var t=e.getLayout(),n=e.props.getLayoutName(e.props.printSpec),r=e.getMapSize(t);return u().createElement(s.Grid,{fluid:!0,role:"body"},e.renderError(),e.renderWarning(t),u().createElement(s.Row,null,u().createElement(s.Col,{xs:12,md:6},u().createElement(o,{label:(0,T.S$)(e.context.messages,"print.title"),placeholder:(0,T.S$)(e.context.messages,"print.titleplaceholder")}),u().createElement(a,{label:(0,T.S$)(e.context.messages,"print.description"),placeholder:(0,T.S$)(e.context.messages,"print.descriptionplaceholder")}),u().createElement(s.Accordion,{defaultActiveKey:"1"},u().createElement(s.Panel,{className:"print-layout",header:(0,T.S$)(e.context.messages,"print.layout"),eventKey:"1",collapsible:!0},u().createElement(h,{key:"sheetsize",layouts:e.props.capabilities.layouts,label:(0,T.S$)(e.context.messages,"print.sheetsize")}),e.renderLayoutsAlternatives()),u().createElement(s.Panel,{className:"print-legend-options",header:(0,T.S$)(e.context.messages,"print.legendoptions"),eventKey:"2",collapsible:!0},u().createElement(H,{label:(0,T.S$)(e.context.messages,"print.legend.font")}),u().createElement(D,{label:(0,T.S$)(e.context.messages,"print.legend.forceLabels")}),u().createElement(Z,{label:(0,T.S$)(e.context.messages,"print.legend.antiAliasing")}),u().createElement(z,{label:(0,T.S$)(e.context.messages,"print.legend.iconsSize")}),u().createElement(B,{label:(0,T.S$)(e.context.messages,"print.legend.dpi")})))),u().createElement(s.Col,{xs:12,md:6,style:{textAlign:"center"}},u().createElement(l,{label:(0,T.S$)(e.context.messages,"print.resolution")}),u().createElement(V,_({width:r.width,height:r.height,mapType:e.props.mapType,onMapRefresh:function(){return e.configurePrintMap()},layout:n,layoutSize:t&&t.map||{width:10,height:10},resolutions:(0,j.getResolutions)(),useFixedScales:e.props.useFixedScales,env:e.props.localizedLayerStylesEnv},e.props.mapPreviewOptions)),e.isBackgroundIgnored()?u().createElement(g,{label:(0,T.S$)(e.context.messages,"print.defaultBackground")}):null,u().createElement(Y,_({},e.props.submitConfig,{disabled:!t,onPrint:e.print})),e.renderDownload())))})),G(F(e),"renderDownload",(function(){return e.props.pdfUrl&&!e.props.usePreview?u().createElement("iframe",{src:e.props.pdfUrl,style:{visibility:"hidden",display:"none"}}):null})),G(F(e),"renderBody",(function(){return e.props.pdfUrl&&e.props.usePreview?e.renderPreviewPanel():e.renderPrintPanel()})),G(F(e),"isAllowed",(function(t){return-1===e.props.ignoreLayers.indexOf(t.type)})),G(F(e),"isBackgroundIgnored",(function(){return e.props.layers.filter((function(t){return t.visibility&&!e.isAllowed(t)})).length>0})),G(F(e),"filterLayers",(function(t){var n=e.props.layers.filter((function(t){return t.visibility&&e.isAllowed(t)}));if(e.isBackgroundIgnored()&&e.props.defaultBackground&&t.defaultBackground){var r=e.props.layers.filter((function(t){return t.type===e.props.defaultBackground}))[0];return[i()({},r,{visibility:!0})].concat(k(n))}return n})),G(F(e),"configurePrintMap",(function(t,n){var r=t||e.props.map,o=n||e.props.printSpec;if(r&&r.bbox&&e.props.capabilities){var i=(0,P.reprojectBbox)([r.bbox.bounds.minx,r.bbox.bounds.miny,r.bbox.bounds.maxx,r.bbox.bounds.maxy],r.bbox.crs,r.projection),a=e.getMapSize();if(e.props.useFixedScales){var c=e.props.getZoomForExtent(i,a,e.props.minZoom,e.props.maxZoom),l=X(e.props.capabilities),u=J(r.zoom,l);e.props.configurePrintMap(r.center,c,u,l[u],e.filterLayers(o),r.projection,e.props.currentLocale)}else e.props.configurePrintMap(r.center,r.zoom,r.zoom,e.props.scales[r.zoom],e.filterLayers(o),r.projection,e.props.currentLocale)}})),G(F(e),"print",(function(){var t=e.props.printSpec;e.props.isLocalizedLayerStylesEnabled&&(t=R(R({},t),{},{env:e.props.localizedLayerStylesEnv,language:e.props.currentLocaleLanguage})),e.props.setPage(0),e.props.onBeforePrint(),e.props.preloadData(t).then((function(t){var n=e.props.getPrintSpecification(t);e.props.onPrint(e.props.capabilities.createURL,R(R({},n),e.props.overrideOptions))})).catch((function(t){e.props.printError("Error pre-loading data:"+t.message)}))})),e}return t=m,(n=[{key:"UNSAFE_componentWillMount",value:function(){if(this.props.usePreview&&!window.PDFJS){var e=document.createElement("script");e.type="text/javascript",e.src="https://unpkg.com/pdfjs-dist@1.4.79/build/pdf.combined.js",document.head.appendChild(e)}this.configurePrintMap()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.open&&!this.props.open,n=this.props.open&&this.props.syncMapPreview&&(0,j.mapUpdated)(this.props.map,e.map),r=e.printSpec.defaultBackground!==this.props.printSpec.defaultBackground;(t||n||r)&&this.configurePrintMap(e.map,e.printSpec)}},{key:"render",value:function(){return(this.props.capabilities||this.props.error)&&this.props.open?this.props.withContainer?this.props.withPanelAsContainer?u().createElement(s.Panel,{className:"mapstore-print-panel",header:u().createElement("span",null,u().createElement("span",{className:"print-panel-title"},u().createElement(y.Z,{msgId:"print.paneltitle"})),u().createElement("span",{className:"print-panel-close panel-close",onClick:this.props.toggleControl})),style:this.props.style},this.renderBody()):u().createElement(b.Z,{id:"mapstore-print-panel",style:R({left:"17%",top:"50px",zIndex:1990},this.props.style)},u().createElement("span",{role:"header"},u().createElement("span",{className:"print-panel-title"},u().createElement(y.Z,{msgId:"print.paneltitle"})),u().createElement("button",{onClick:this.props.toggleControl,className:"print-panel-close close"},this.props.closeGlyph?u().createElement(s.Glyphicon,{glyph:this.props.closeGlyph}):u().createElement("span",null,"×"))),this.renderBody()):this.renderBody():null}}])&&L(t.prototype,n),m}(u().Component);G(ee,"propTypes",{map:c().object,layers:c().array,capabilities:c().object,printSpec:c().object,printSpecTemplate:c().object,withContainer:c().bool,withPanelAsContainer:c().bool,open:c().bool,pdfUrl:c().string,title:c().string,style:c().object,mapWidth:c().number,mapType:c().string,alternatives:c().array,toggleControl:c().func,onBeforePrint:c().func,setPage:c().func,onPrint:c().func,printError:c().func,configurePrintMap:c().func,preloadData:c().func,getPrintSpecification:c().func,getLayoutName:c().func,error:c().string,getZoomForExtent:c().func,minZoom:c().number,maxZoom:c().number,usePreview:c().bool,mapPreviewOptions:c().object,syncMapPreview:c().bool,useFixedScales:c().bool,scales:c().array,ignoreLayers:c().array,defaultBackground:c().string,closeGlyph:c().string,submitConfig:c().object,previewOptions:c().object,currentLocale:c().string,currentLocaleLanguage:c().string,overrideOptions:c().object,isLocalizedLayerStylesEnabled:c().bool,localizedLayerStylesEnv:c().object}),G(ee,"contextTypes",{messages:c().object}),G(ee,"defaultProps",{withContainer:!0,withPanelAsContainer:!1,title:"print.paneltitle",toggleControl:function(){},onBeforePrint:function(){},setPage:function(){},onPrint:function(){},configurePrintMap:function(){},printSpecTemplate:{},preloadData:K,getPrintSpecification:$,getLayoutName:Q,getZoomForExtent:j.defaultGetZoomForExtent,pdfUrl:null,mapWidth:370,mapType:"leaflet",minZoom:1,maxZoom:23,alternatives:[{name:"legend",component:v,regex:/legend/},{name:"2pages",component:x,regex:/2_pages/},{name:"landscape",component:C,regex:/landscape/}],usePreview:!0,mapPreviewOptions:{enableScalebox:!1,enableRefresh:!1},syncMapPreview:!0,useFixedScales:!1,scales:[],ignoreLayers:["google","bing"],defaultBackground:"osm",closeGlyph:"1-close",submitConfig:{buttonConfig:{bsSize:"small",bsStyle:"primary"},glyph:""},previewOptions:{buttonStyle:"primary"},style:{},currentLocale:"en-US",overrideOptions:{}});var te=(0,f.P1)([function(e){return e.controls.print&&e.controls.print.enabled||e.controls.toolbar&&"print"===e.controls.toolbar.active},function(e){return e.print&&e.print.capabilities},function(e){return e.print&&e.print.spec&&i()({},e.print.spec,e.print.map||{})},function(e){return e.print&&e.print.pdfUrl},function(e){return e.print&&e.print.error},w.Od,O.l2,w.up,function(e){return e.browser&&(!e.browser.ie||e.browser.ie11)},S.Pz,S.KV,A.$v,E.wk,E.fY],(function(e,t,n,r,o,i,a,c,l,u,s,p,f,m){return{open:e,capabilities:t,printSpec:n,pdfUrl:r,error:o,map:i,layers:a.filter((function(e){return!e.loadingError})),scales:c,usePreview:l,currentLocale:u,currentLocaleLanguage:s,mapType:p,isLocalizedLayerStylesEnabled:f,localizedLayerStylesEnv:m}})),ne=(0,p.connect)(te,{toggleControl:m.Xi.bind(null,"print",null),onPrint:d.gV,printError:d.OS,onBeforePrint:d.MW,setPage:m.Xg.bind(null,"print","currentPage"),configurePrintMap:d.h9})(ee);e(ne)}.bind(null,n)).catch(n.oe)},enabler:function(e){return e.print&&e.print.enabled||e.toolbar&&"print"===e.toolbar.active}},{disablePluginIf:"{state('mapType') === 'cesium' || !state('printEnabled')}",Toolbar:{name:"print",position:7,help:u().createElement(y.Z,{msgId:"helptexts.print"}),tooltip:"printbutton",icon:u().createElement(s.Glyphicon,{glyph:"print"}),exclusive:!0,panel:!0,priority:1},BurgerMenu:{name:"print",position:2,text:u().createElement(y.Z,{msgId:"printbutton"}),icon:u().createElement(s.Glyphicon,{glyph:"print"}),action:m.Xi.bind(null,"print",null),priority:2,doNotHide:!0}}),reducers:{print:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{spec:h,capabilities:null,map:null,isLoading:!1,pdfUrl:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.kM:return"print"===t.control?i()({},e,{pdfUrl:null,isLoading:!1,error:null}):e;case d.qp:var n=(0,r.get)(t,"capabilities.layouts",[{name:"A4"}]),o=n.filter((function(t){return v(t.name)===e.spec.sheet})).length?e.spec.sheet:v(n[0].name);return i()({},e,{capabilities:t.capabilities,spec:i()({},e.spec||{},{sheet:o,resolution:t.capabilities&&t.capabilities.dpis&&t.capabilities.dpis.length&&t.capabilities.dpis[0].value})});case d.U6:return i()({},e,{spec:i()({},e.spec,g({},t.name,t.value))});case d.PB:var a=t.layers.map((function(e){return e.title?i()({},e,{title:(0,r.isObject)(e.title)&&t.currentLocale&&e.title[t.currentLocale]||(0,r.isObject)(e.title)&&e.title.default||e.title}):e}));return i()({},e,{map:{center:t.center,zoom:t.zoom,scaleZoom:t.scaleZoom,scale:t.scale,layers:a,projection:t.projection},error:null});case d.HA:var c=t.zoom-e.map.scaleZoom;return i()({},e,{map:i()({},e.map,{scaleZoom:t.zoom,zoom:e.map.zoom+c,scale:t.scale})});case d.Yk:return i()({},e,{map:i()({},e.map,{size:t.size})});case d.Fp:return i()({},e,{isLoading:!0,pdfUrl:null,error:null});case d.EZ:return i()({},e,{isLoading:!1,pdfUrl:t.url,error:null});case d.WB:case d.aN:return i()({},e,{isLoading:!1,pdfUrl:null,error:t.error});case d.qH:return i()({},e,{isLoading:!1,pdfUrl:null,error:null});default:return e}}}}},58888:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Z});var r=n(67294),o=n.n(r),i=n(22843),a=n(22222),c=n(827),l=n(1550),u=n(33664),s=n(98939),p=n(45697),f=n.n(p),m=n(83606);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(41165);var O,S,E,w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(c,e);var t,n,r,i,a=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v(r);if(i){var n=v(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return h(this,e)});function c(){return y(this,c),a.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){return o().createElement("div",{id:this.props.id},o().createElement(m.Z,{id:"helpbadge-"+(this.props.children.key||this.props.id),isVisible:this.props.helpEnabled,helpText:this.props.helpText,changeHelpText:this.props.changeHelpText,changeHelpwinVisibility:this.props.changeHelpwinVisibility}),this.props.children)}}])&&b(t.prototype,n),c}(o().Component);O=w,S="propTypes",E={id:f().string,helpText:f().oneOfType([f().string,f().element]),helpEnabled:f().bool,changeHelpText:f().func,changeHelpwinVisibility:f().func},S in O?Object.defineProperty(O,S,{value:E,enumerable:!0,configurable:!0,writable:!0}):O[S]=E;const A=w,P=(0,u.connect)((function(e){return{helpEnabled:e.controls&&e.controls.help&&e.controls.help.enabled}}),{changeHelpText:s.n2,changeHelpwinVisibility:s.SA})(A);var T=n(81756),j=n(75964),x=n(52259),C=n(27418),R=n.n(C);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(87231);var F=(0,a.P1)([c.Od,c._e],(function(e,t){return{minZoom:t,currentZoomLvl:e&&e.zoom,scales:(0,x.getScales)(e&&e.projection||"EPSG:3857",e&&e.mapOptions&&e.mapOptions.view&&e.mapOptions.view.DPI||null)}})),U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(c,e);var t,n,r,i,a=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=M(r);if(i){var n=M(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return N(this,e)});function c(){return _(this,c),a.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){return o().createElement(P,{id:"mapstore-scalebox-container",key:"scalebox-help",helpText:o().createElement(T.Z,{msgId:"helptexts.scaleBox"})},o().createElement(j.Z,D({key:"scaleBox",label:o().createElement(T.Z,{msgId:"mapScale"})},this.props)))}}])&&I(t.prototype,n),c}(o().Component),G=(0,i.$j)(F,{onChange:l.sO})(U);const Z={ScaleBoxPlugin:R()(G,{disablePluginIf:"{state('mapType') === 'cesium'}"},{MapFooter:{name:"scale",position:2,tool:!0,priority:1}}),reducers:{}}},40439:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Le});var r=n(61545),o=n(30381),i=n.n(o),a=n(27418),c=n.n(a),l=n(67294),u=n.n(l),s=n(30294),p=n(33664),f=n(18093),m=n(22222),d=n(57604),y=n(62187),b=n(57676),g=n(5346),h=n(15135),v=n(38482),O=n(80717),S=n(65295),E=n(85148),w=n(55105),A=n(76843),P=n(97291),T=n(84715),j=n(6724),x=n(75480),C=n(55237);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e,t){return i()(t).diff(e)>0};const I=(0,f.withHandlers)({clickHandler:function(e){var t=e.selectedLayer,n=e.offsetEnabled,o=e.status,i=e.setCurrentTime,a=void 0===i?function(){}:i,c=e.selectGroup,l=void 0===c?function(){}:c;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.time,c=e.group,u=e.what,s=e.event;if("PLAY"!==o)switch(u){case"group-label":c&&"PLAY"!==o&&l(c);break;default:var p=s&&s.target&&s.target.closest(".vis-custom-time"),f=p&&p.getAttribute("class"),m=f&&(0,r.trim)(f.replace("vis-custom-time",""));i&&!n&&"startPlaybackTime"!==m&&"endPlaybackTime"!==m&&a(i.toISOString(),t)}}},timechangedHandler:function(e){var t=e.currentTime,n=e.setOffset,r=void 0===n?function(){}:n,o=e.setCurrentTime,i=void 0===o?function(){}:o,a=e.currentTimeRange,c=void 0===a?{}:a,l=e.playbackRange,u=e.setPlaybackRange,s=void 0===u?function(){}:u,p=e.selectedLayer;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.time,o=e.id;if("startPlaybackTime"!==o&&"endPlaybackTime"!==o)"currentTime"===o&&(c.end?_(n,c.end)?i(n.toISOString(),null):(i(c.end),r(n.toISOString())):i(n.toISOString(),p)),"offsetTime"===o&&(_(t,n)?r(n.toISOString()):(i(n.toISOString()),r(t)));else{var a=k(k({},l),{},D({},o,n.toISOString())),u=(0,C.og)(a.startPlaybackTime,a.endPlaybackTime),f=u.start,m=u.end;_(f,m)&&s({startPlaybackTime:f,endPlaybackTime:m})}}}});function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e){return function(e){if(Array.isArray(e))return U(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const G=(0,f.compose)((0,f.withPropsOnChange)(["rangeItems","playbackRange","playbackEnabled","selectedLayer"],(function(e){var t=e.rangeItems,n=void 0===t?[]:t,r=e.playbackEnabled,o=e.playbackRange;return{rangeItems:r&&o&&void 0!==o.startPlaybackTime&&void 0!==o.endPlaybackTime?[].concat(F(n),[N(N({id:"playback-range"},(0,C.og)(o.startPlaybackTime,o.endPlaybackTime)),{},{type:"background",className:"ms-playback-range"})]).filter((function(e){return e})):n}})),(0,f.compose)((0,f.withHandlers)({onUpdate:function(e){var t=e.moveCurrentRange,n=void 0===t?function(){}:t;return function(e){var t=e.id,r=e.start;"current-range"===t&&n(r.toISOString())}}}),(0,f.withPropsOnChange)(["options","onUpdate"],(function(e){var t=e.options,n=void 0===t?{}:t,r=e.onUpdate,o=void 0===r?function(){}:r;return{options:N(N({},n),{},{snap:null,editable:{add:!1,updateTime:!1,updateGroup:!1,remove:!1,overrideItems:!1},onMove:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;o(e),t(e)}})}})),(0,f.withPropsOnChange)(["rangeItems","currentTime","offsetEnabled","selectedLayer","currentTimeRange","readOnly"],(function(e){var t=e.currentTimeRange,n=e.rangeItems,r=void 0===n?[]:n,o=e.readOnly;return{rangeItems:e.offsetEnabled&&void 0!==t.start&&void 0!==t.end?[].concat(F(r),[N(N({id:"current-range",editable:{updateTime:!o,updateGroup:!1,remove:!1}},(0,C.og)(t.start,t.end)),{},{type:"background",className:"ms-current-range"})]).filter((function(e){return e})):r}}))),(0,f.withPropsOnChange)(["currentTime","playbackRange","playbackEnabled","offsetEnabled","currentTimeRange"],(function(e){var t=e.currentTime,n=e.playbackRange,r=e.playbackEnabled,o=e.offsetEnabled,i=e.currentTimeRange;return{customTimes:[t?{currentTime:t}:{},r&&n&&n.startPlaybackTime&&n.endPlaybackTime?n:{},o&&i?{offsetTime:i.end}:{}].reduce((function(e,t){return t?N(N({},e),t):N({},e)}),{})}})));var Z=n(45697),z=n.n(Z),B=n(16307),H=n.n(B);function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $(e,t){return!t||"object"!==V(t)&&"function"!=typeof t?Q(e):t}function Q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(61805),H().timeline.components.items.BackgroundItem.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dom.box["timeline-item"]=this,this.dirty=!0)};var ee=function(){},te=["currentTimeTick","click","contextmenu","doubleClick","groupDragged","changed","rangechange","rangechanged","select","drop","timechange","timechanged","mouseOver","mouseMove","mouseleave","itemover","itemout","mouseDown","mouseUp"],ne={},re={};(0,r.each)(te,(function(e){return ne[e]=z().func,re["".concat(e,"Handler")]=ee,[ne,re]}));var oe={items:z().array,rangeItems:z().array,groups:z().array,options:z().object,selectionOptions:z().object,selection:z().array,customTimes:z().shape({datetime:z().instanceOf(Date),id:z().string}),animate:z().oneOfType([z().bool,z().object]),currentTime:z().oneOfType([z().string,z().instanceOf(Date),z().number])},ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(l,e);var t,n,o,a,c=(o=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=X(o);if(a){var n=X(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return $(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),J(Q(t=c.call(this,e)),"setAllItems",(function(e){t.$el.setItems([].concat(Y(e||[]),Y(t.props.rangeItems||[])))})),J(Q(t),"setItems",(function(e){(e.length||0)+(t.props.rangeItems&&t.props.rangeItems.length||0)>0?t.$el.initialFitDone?t.setAllItems(e):(t.setAllItems(e),t.$el.emit("changed")):t.$el.initialRangeChangeDone&&t.setAllItems(e)})),t.state={customTimes:[]},t}return t=l,(n=[{key:"componentDidMount",value:function(){var e=this,t=this.refs.container;this.$el=new(H().Timeline)(t,void 0,this.props.options),te.forEach((function(t){return e.$el.on(t,e.props["".concat(t,"Handler")])})),this.init()}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.items,r=t.groups,o=t.options,i=t.selection,a=t.customTimes,c=t.readOnly,l=t.rangeItems,u=n!==e.items,s=r!==e.groups,p=o!==e.options,f=a!==e.customTimes,m=i!==e.selection,d=c!==e.readOnly,y=l!==e.rangeItems;return u||s||p||f||m||d||y}},{key:"componentDidUpdate",value:function(e){this.init(e)}},{key:"componentWillUnmount",value:function(){this.$el.destroy()}},{key:"render",value:function(){return u().createElement("div",{ref:"container",className:this.props.readOnly?"read-only-timeline":"",onMouseOut:this.props.onMouseOutHandler})}},{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.props,o=n.items,a=n.rangeItems,c=n.groups,l=n.options,u=n.selection,s=n.selectionOptions,p=void 0===s?{}:s,f=n.customTimes,m=n.animate,d=void 0===m||m,y=n.currentTime,b=l;if(d&&(b=(0,r.omit)(l,"start","end"),l.start&&l.end?this.$el.setWindow(l.start,l.end,{animation:d}):this.$el.setWindow(i()().subtract(1,"month"),i()().add(1,"month"),{animation:d})),this.$el.setOptions(b),c.length>0){var g=new(H().DataSet);g.add(c),this.$el.setGroups(g)}if(o&&o!==t.items)this.setItems(o);else if(a!==t.rangeItems){var h=this.$el&&this.$el.itemsData&&this.$el.itemsData.getDataSet();if(h){var v=(0,r.intersectionBy)(a||[],t.rangeItems||[],"id"),O=(0,r.differenceBy)(a||[],t.rangeItems||[],"id"),S=(0,r.differenceBy)(t.rangeItems||[],a||[],"id");v.map((function(e){return h.update(e)})),O.map((function(e){return h.add(e)})),S.map((function(e){var t=e.id;return h.remove(t)}))}else this.setItems(o)}this.$el.setSelection(u,p),y&&this.$el.setCurrentTime(y);var E=(0,r.keys)(this.state.customTimes),w=(0,r.keys)(f),A=(0,r.difference)(w,E),P=(0,r.difference)(E,w),T=(0,r.intersection)(E,w);(0,r.each)(P,(function(t){return e.$el.removeCustomTime(t)})),(0,r.each)(A,(function(t){var n=f[t];e.$el.addCustomTime(n,t)})),(0,r.each)(T,(function(t){var n=f[t];e.$el.setCustomTime(n,t)})),this.setState({customTimes:f}),(this.props.readOnly!==t.readOnly||this.props.readOnly&&A.length>0)&&(0,r.each)(this.$el.customTimes,(function(n){e.props.readOnly?n.hammer.off("panstart panmove panend"):!0===t.readOnly&&(n.hammer.on("panstart",n._onDragStart.bind(n)),n.hammer.on("panmove",n._onDrag.bind(n)),n.hammer.on("panend",n._onDragEnd.bind(n)))}))}}])&&W(t.prototype,n),l}(u().Component);J(ie,"propTypes",(0,r.assign)(oe,ne)),J(ie,"defaultProps",(0,r.assign)({items:[],groups:[],options:{},selection:[],customTimes:{}},re));const ae=ie;function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var se=(0,T.o)((function(e,t){return e===t||!(0,r.isNil)(e)&&!(0,r.isNil)(t)&&e.id===t.id&&e.title===t.title&&e.name===t.name}))(P.rV,(function(e){return e})),pe=(0,f.compose)((0,p.connect)((0,m.P1)(P.YK,P.__,se,P.E2,(function(e,t,n,r){return{viewRange:e,items:t,layers:n,loading:r}}))),(0,f.withPropsOnChange)((function(e,t){var n=e.layers,o=void 0===n?[]:n,i=e.loading,a=e.selectedLayer,c=t.layers,l=t.loading,u=t.selectedLayer,s=e.hideLayersName!==t.hideLayersName;return i!==l||a!==u||s||o&&c&&o.length!==c.length||(0,r.differenceBy)(o,c||[],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.title,r=e.name;return t+n+r})).length>0}),(function(e){var t=e.layers,n=void 0===t?[]:t,o=e.loading,i=void 0===o?{}:o,a=e.selectedLayer;return{groups:n.map((function(e){return{id:e.id,className:(i[e.id]?"loading":"")+(e.id&&e.id===a?" selected":""),content:'<div class="timeline-layer-label-container">'+(i[e.id]?'<div class="timeline-layer-icon"><div class="timeline-spinner"></div></div>':'<div class="timeline-layer-icon">'.concat(e.id&&e.id===a?'<i class="glyphicon glyphicon-time"></i>':"","</div>"))+'<div class="timeline-layer-title">'.concat((0,r.isString)(e.title)?e.title:e.name,"</div>")+"</div>"}}))}}))),fe=(0,f.compose)((0,p.connect)((0,m.P1)(E.WT,P.m_,(function(e,t){return{currentTime:e,currentTimeRange:t}})),{setCurrentTime:b.HM,moveCurrentRange:d.PZ,setOffset:d.pF})),me=(0,f.compose)((0,p.connect)((0,m.zB)({playbackRange:A.KC,status:A.dS}),{setPlaybackRange:y.VS})),de=(0,f.compose)((0,p.connect)((0,m.P1)(P.Li,(function(e){return{selectedLayer:e}})),{selectGroup:b.kq})),ye=(0,f.compose)((0,p.connect)((function(){return{}}),{rangechangedHandler:b.y3}));const be=(0,f.compose)(fe,me,de,I,ye,pe,(0,f.defaultProps)({key:"timeline",options:{maxHeight:"90%",verticalScroll:!0,stack:!1,showMajorLabels:!0,showCurrentTime:!1,zoomMin:10,zoomable:!0,type:"background",margin:{item:0,axis:0},format:{minorLabels:{minute:"h:mma",hour:"ha"}},itemsAlwaysDraggable:!0,moment:function(e){return i()(e).utc()}}}),(0,f.withPropsOnChange)(["viewRange","options"],(function(e){var t=e.viewRange,n=void 0===t?{}:t;return{options:le(le({},e.options),n)}})),(0,f.withPropsOnChange)(["status"],(function(e){return{readOnly:"PLAY"===e.status}})),G,(0,j.Z)((function(e){var t=e.loading;return t&&t.timeline}),(function(){return u().createElement("div",{style:{margin:"auto",fontWeight:"bold"}},u().createElement(x.Z,{style:{display:"inline-block",verticalAlign:"middle"}}),u().createElement(g.Z,{msgId:"loading"}))}),{white:!0}))(ae);var ge=n(89255),he=n(59979),ve=n(38560);function Oe(){return(Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){we(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function we(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ae=(0,f.compose)((0,f.withProps)({collapseHintPopoverOptions:{placement:"top",props:{title:u().createElement("span",null,u().createElement(s.Glyphicon,{glyph:"time"})," ",u().createElement("strong",null,u().createElement(g.Z,{msgId:"timeline.collapsed.title"})))},content:u().createElement(g.Z,{msgId:"timeline.collapsed.tooltip"})}}),(0,f.mapPropsStream)((function(e){return e.combineLatest(function(e){return e.distinctUntilKeyChanged("collapsed").filter((function(e){return e.collapsed})).take(1).switchMap((function(e){var t=e.collapseHintPopoverOptions;return ge.Observable.timer(5e3).startWith({popoverOptions:t}).concat(ge.Observable.of({}))})).startWith({})}(e),(function(e,t){return Ee(Ee({},e),t)}))})),(0,f.branch)((function(e){return e.popoverOptions}),he.Z,h.Z))(ve.Z);const Pe=(0,f.compose)((0,p.connect)((0,m.P1)(P.zb,P.qJ,(function(e,t){return{collapsed:e,visible:t}})),{setCollapsed:b.w2}),(0,f.branch)((function(e){return!e.visible}),f.renderNothing),(0,f.withHandlers)({onClick:function(e){var t=e.collapsed,n=e.setCollapsed;return function(){return n(!t)}}}),(0,f.withProps)((function(e){var t=e.collapsed;return{bsStyle:t?"primary":"success",tooltipId:t?"timeline.show":"timeline.hide"}})))((function(e){return u().createElement(Ae,Oe({},e,{bsSize:"xsmall"}),u().createElement(s.Glyphicon,{glyph:"time"}))}));function Te(){return(Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){Ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Re=(0,h.Z)(ve.Z),ke=function(e){return(0,r.isString)(e)&&-1!==e.indexOf("%")},De=function(e){return parseInt(e,10)/100},_e=function(e,t){return i()(t).diff(e)>0},Ie=(0,f.compose)((0,p.connect)((0,m.P1)(P.pn,P.rV,E.WT,P.m_,E.RP,A.KC,A.dS,P.YK,(function(e,t,n,r,o,i,a,c){return{visible:e,layers:t,currentTime:n,currentTimeRange:r,offsetEnabled:o,playbackRange:i,status:a,viewRange:c}})),{setCurrentTime:b.HM,onOffsetEnabled:b.PQ,setOffset:d.pF,setPlaybackRange:y.VS,moveRangeTo:b.y3}),(0,f.branch)((function(e){var t=e.visible,n=void 0===t||t,r=e.layers,o=void 0===r?[]:r;return!n||0===Object.keys(o).length}),f.renderNothing),(0,f.withState)("options","setOptions",{collapsed:!0}),(0,p.connect)((0,m.P1)(P.cX,(function(e){return{mapSync:e}})),{toggleMapSync:b.Z7}),(0,f.compose)((0,f.compose)((0,f.withStateHandlers)((function(){return{}}),{onResize:function(){return function(e){return{containerWidth:e.width}}}}),(0,v.Z)({querySelector:".ms2",closest:!0,debounceTime:100})),(0,f.defaultProps)({style:{marginBottom:35,marginLeft:100,marginRight:80}}),(0,p.connect)((0,m.P1)((function(e){return(0,w.ic)(e,{right:!0,bottom:!0,left:!0})}),(function(e){return{mapLayoutStyle:e}}))),(0,f.withProps)((function(e){var t=e.containerWidth,n=e.style,r=e.mapLayoutStyle,o=n||{},i=o.marginLeft,a=o.marginRight,c=r.left,l=void 0===c?0:c,u=r.right,s=void 0===u?0:u;if(s=ke(s)&&De(s)*t||s,l=ke(l)&&De(l)*t||l,t){var p=t-s-l-i-a;return{hide:p<410,compactToolbar:p<880,style:xe(xe(xe({},n),r),{},{minWidth:410})}}return{style:xe(xe(xe({},n),r),{},{minWidth:410})}})),(0,f.branch)((function(e){return e.hide}),f.renderNothing),(0,f.setDisplayName)("TimelinePlugin")))((function(e){var t=e.items,n=e.options,o=e.setOptions,a=e.mapSync,c=e.toggleMapSync,l=void 0===c?function(){}:c,p=e.currentTime,f=e.setCurrentTime,m=e.offsetEnabled,d=e.onOffsetEnabled,y=e.currentTimeRange,b=e.setOffset,h=e.style,v=e.status,E=e.viewRange,w=e.moveRangeTo,A=e.compactToolbar,P=n.hideLayersName,T=n.collapsed,j=(0,r.head)(t&&t.filter((function(e){return"playback"===e.name}))),x=j&&j.plugin,C=function(e,t,n,r){var o=i()(n.end).diff(n.start)/2;if("time-current"===t&&n&&n.start.toString()!==i()(e).add(-1*o).toString()&&n.end.toString()!==i()(e).add(o).toString()&&w({start:i()(e).add(-1*o),end:i()(e).add(o)}),"range-start"===t||"range-end"===t){var a=i()(r.end).diff(r.start),c=i()(r.start).add(a/2);w(a/2<=o?{start:i()(c).add(-1*o),end:i()(c).add(o)}:{start:i()(c).add(-1*a*5/2),end:i()(c).add(5*a/2)})}};return u().createElement("div",{style:xe(xe({position:"absolute",marginBottom:35,marginLeft:100,background:"transparent"},h),{},{right:T?"auto":h.right||0}),className:"timeline-plugin".concat(P?" hide-layers-name":"").concat(m?" with-time-offset":"")},m&&u().createElement(S.Z,{clickable:!T,glyph:"range-start",onIconClick:function(e,t){return"PLAY"!==v&&C(e,t,E,y)},tooltip:u().createElement(g.Z,{msgId:"timeline.rangeStart"}),showButtons:!0,date:p||y&&y.start,onUpdate:function(e){return(y&&_e(e,y.end)||!y)&&"PLAY"!==v&&f(e)},className:"shadow-soft",style:{position:"absolute",top:-5,left:2,transform:"translateY(-100%)"}}),u().createElement("div",{className:"timeline-plugin-toolbar".concat(A?" ms-collapsed":"")},m&&y?u().createElement(S.Z,{clickable:!T,glyph:"range-end",onIconClick:function(e,t){return"PLAY"!==v&&C(e,t,E,y)},tooltip:u().createElement(g.Z,{msgId:"timeline.rangeEnd"}),date:y.end,showButtons:!0,onUpdate:function(e){return"PLAY"!==v&&_e(p,e)&&b(e)}}):u().createElement(S.Z,{clickable:!T,glyph:"time-current",showButtons:!0,onIconClick:function(e,t){return"PLAY"!==v&&C(e,t,E)},tooltip:u().createElement(g.Z,{msgId:"timeline.currentTime"}),date:p||y&&y.start,onUpdate:function(e){return(y&&_e(e,y.end)||!y)&&"PLAY"!==v&&f(e)}}),u().createElement("div",{className:"timeline-plugin-btn-group"},u().createElement(O.Z,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:[{glyph:"list",tooltip:u().createElement(g.Z,{msgId:P?"timeline.showLayerName":"timeline.hideLayerName"}),bsStyle:P?"primary":"success",visible:!T,active:!P,onClick:function(){return o(xe(xe({},n),{},{hideLayersName:!P}))}},{glyph:"time-offset",bsStyle:m?"success":"primary",active:m,disabled:"PLAY"===v,tooltip:u().createElement(g.Z,{msgId:m?"timeline.disableRange":"timeline.enableRange"}),onClick:function(){"PLAY"!==v&&d(!m)}},{glyph:"map-synch",tooltip:u().createElement(g.Z,{msgId:a?"timeline.mapSyncOn":"timeline.mapSyncOff"}),bsStyle:a?"success":"primary",active:a,onClick:function(){return l(!a)}}]}),x&&u().createElement(x,Te({},j,{settingsStyle:{right:T||A?40:"unset"}}))),u().createElement(Re,{onClick:function(){return o(xe(xe({},n),{},{collapsed:!T}))},className:"square-button-sm ms-timeline-expand",bsStyle:"primary",tooltip:u().createElement(g.Z,{msgId:T?"timeline.expand":"timeline.collapse"})},u().createElement(s.Glyphicon,{glyph:T?"chevron-up":"chevron-down"}))),!T&&u().createElement(be,{offsetEnabled:m,playbackEnabled:!0,hideLayersName:P}))}));const Le={TimelinePlugin:c()(Ie,{disablePluginIf:"{state('mapType') === 'cesium'}",WidgetsTray:{tool:u().createElement(Pe,null),position:0}}),reducers:{dimension:n(37307).Z,timeline:n(55545).Z},epics:n(26325).ZP}},83520:(e,t,n)=>{"use strict";n.d(t,{Z:()=>D});var r=n(67294),o=n.n(r),i=n(45697),a=n.n(i),c=n(33664),l=(n(50329),n(64317)),u=n(31255),s=n(55105),p=n(22222),f=n(27418),m=n.n(f),d=n(58252);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),e}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?T(e):t}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var x=function(e){E(n,e);var t=A(n);function n(){return v(this,n),t.apply(this,arguments)}return S(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=h(e,["children"]);return o().createElement(l.CSSTransitionGroup,g({},n,{transitionName:"toolbarexpand",transitionEnterTimeout:500,transitionLeaveTimeout:300}),t)}}]),n}(o().Component),C=function(e){E(n,e);var t=A(n);function n(){return v(this,n),t.apply(this,arguments)}return S(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=h(e,["children"]);return o().createElement("div",n,t)}}]),n}(o().Component),R=function(e){E(n,e);var t=A(n);function n(){var e;v(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return b(T(e=t.call.apply(t,[this].concat(o))),"getPanel",(function(e){return!0===e.panel?e.plugin:e.panel})),b(T(e),"getPanels",(function(){return e.getTools().filter((function(e){return e.panel})).map((function(t){return{name:t.name,title:t.title,cfg:t.cfg,panel:e.getPanel(t),items:t.items,wrap:t.wrap||!1}}))})),b(T(e),"getTools",(function(){var t=e.props.items.filter((function(e){return!e.alwaysVisible}))||[];return e.props.items.filter((function(n){return n.alwaysVisible||1===t.length||e.props.allVisible})).filter((function(t){return!t.showWhen||t.showWhen(e.props)})).map((function(e,t){return m()({},e,{position:e.position||t})})).sort((function(e,t){return e.position-t.position}))})),e}return S(n,[{key:"render",value:function(){var e=this.props.disableAnimation?C:x;return o().createElement(d.Z,{id:this.props.id,className:"mapToolbar btn-group-"+this.props.layout,toolCfg:this.props.btnConfig,container:e,mapType:this.props.mapType,toolStyle:this.props.buttonStyle,activeStyle:this.props.pressedButtonStyle,toolSize:this.props.buttonSize,stateSelector:this.props.stateSelector,tools:this.getTools(),panels:this.getPanels(),activePanel:this.props.active,style:this.props.style,panelStyle:this.props.panelStyle,panelClassName:this.props.panelClassName})}}]),n}(o().Component);b(R,"propTypes",{id:a().string,tools:a().array,mapType:a().string,style:a().object,panelStyle:a().object,panelClassName:a().string,disableAnimation:a().bool,active:a().string,items:a().array,allVisible:a().bool,layout:a().string,stateSelector:a().string,buttonStyle:a().string,buttonSize:a().string,pressedButtonStyle:a().string,btnConfig:a().object}),b(R,"contextTypes",{messages:a().object,router:a().object}),b(R,"defaultProps",{id:"mapstore-toolbar",style:{},panelStyle:{minWidth:"300px",right:"52px",zIndex:100,position:"absolute",overflow:"auto",left:"450px"},panelClassName:"toolbar-panel",disableAnimation:!1,items:[],allVisible:!0,layout:"vertical",stateSelector:"toolbar",buttonStyle:"primary",buttonSize:null,pressedButtonStyle:"success",btnConfig:{className:"square-button"}});var k=function(e){return(0,p.P1)([function(t){return t.controls&&t.controls[e]&&t.controls[e].active},function(t){return t.controls&&t.controls[e]&&t.controls[e].expanded},u.Rd,function(e){return(0,s.ic)(e,{right:!0,bottom:!0})}],(function(t,n,r,o){return{active:t,allVisible:n,stateSelector:e,layout:r?"horizontal":"vertical",style:o}}))};const D={ToolbarPlugin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"toolbar";return(0,c.connect)(k(e))(R)},reducers:{controls:n(25108).Z}}},19461:(e,t,n)=>{"use strict";n.d(t,{Z:()=>U}),n(48966);var r=n(27418),o=n.n(r),i=n(67294),a=n.n(i),c=n(30294),l=n(33664),u=n(22222),s=n(1550),p=n(45697),f=n.n(p),m=n(38560),d=n(50966),y=n(52259),b=n(37275);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?E(e):t}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(l,e);var t,n,r,o,i=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=w(r);if(o){var n=w(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return S(this,e)});function l(){var e;h(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return A(E(e=i.call.apply(i,[this].concat(n))),"addTooltip",(function(t){var n=a().createElement(c.Tooltip,{id:"locate-tooltip"},e.props.tooltip);return a().createElement(d.Z,{placement:e.props.tooltipPlace,key:"overlay-trigger."+e.props.id,overlay:n},t)})),A(E(e),"zoomToMaxExtent",(function(){var t=e.props.mapConfig.maxExtent,n=e.props.mapConfig.size,r=1,o=e.props.mapConfig.center,i=e.props.mapConfig.projection||"EPSG:3857";t&&"[object Array]"===Object.prototype.toString.call(t)&&(r=(0,y.getZoomForExtent)(t,n,0,21),0===(o=(0,y.getCenterForExtent)(t,i)).x&&0===o.y||(o=(0,b.qg)(o,"EPSG:4326")));var a=(0,y.getBbox)(o,r,n);e.props.changeMapView(o,r,a,e.props.mapConfig.size,null,e.props.mapConfig.projection)})),A(E(e),"zoomToInitialExtent",(function(){var t=e.props.mapInitialConfig,n=(0,y.getBbox)(t.center,t.zoom,e.props.mapConfig.size);e.props.changeMapView(t.center,t.zoom,n,e.props.mapConfig.size,null,e.props.mapConfig.projection)})),e}return t=l,(n=[{key:"render",value:function(){var e=this;return this.addTooltip(a().createElement(m.Z,{id:this.props.id,style:this.props.style,bsSize:this.props.btnSize,onClick:function(){return e.props.useInitialExtent?e.zoomToInitialExtent():e.zoomToMaxExtent()},className:this.props.className,bsStyle:this.props.bsStyle},this.props.glyphicon?a().createElement(c.Glyphicon,{glyph:this.props.glyphicon}):null,this.props.glyphicon&&this.props.text?" ":null,this.props.text,this.props.help))}}])&&v(t.prototype,n),l}(a().Component);A(P,"propTypes",{id:f().string,image:f().string,glyphicon:f().string,text:f().string,btnSize:f().oneOf(["large","small","xsmall"]),mapConfig:f().object,mapInitialConfig:f().object,changeMapView:f().func,btnType:f().oneOf(["normal","image"]),help:f().oneOfType([f().string,f().element]),tooltip:f().element,tooltipPlace:f().string,className:f().string,useInitialExtent:f().bool,bsStyle:f().string,style:f().object}),A(P,"defaultProps",{id:"mapstore-zoomtomaxextent",glyphicon:"resize-full",text:void 0,btnSize:"xsmall",btnType:"normal",useInitialExtent:!1,tooltipPlace:"left",bsStyle:"default",className:"square-button"});const T=P;var j=n(5346),x=n(827);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var N=(0,u.P1)([x.Od,function(e){return e.mapInitialConfig}],(function(e,t){return{mapConfig:e,mapInitialConfig:t}})),M=(0,l.connect)(N,{changeMapView:s.o6})(T),F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(c,e);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=L(r);if(o){var n=L(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return I(this,e)});function c(){return k(this,c),i.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){return a().createElement(M,R({key:"zoomToMaxExtent"},this.props,{useInitialExtent:!0}))}}])&&D(t.prototype,n),c}(a().Component);const U={ZoomAllPlugin:o()(F,{Toolbar:{name:"ZoomAll",position:7,tooltip:"zoombuttons.zoomAllTooltip",icon:a().createElement(c.Glyphicon,{glyph:"resize-full"}),help:a().createElement(j.Z,{msgId:"helptexts.zoomToMaxExtentButton"}),tool:!0,priority:1}}),reducers:{}}},68783:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y}),n(7594);var r=n(27418),o=n.n(r),i=n(67294),a=n.n(i),c=n(33664),l=n(22222),u=n(1550),s=n(9192),p=n(5346),f=n(827),m=(0,l.P1)([f.Od],(function(e){return{currentZoom:e&&e.zoom,id:"zoomin-btn",step:1,glyphicon:"plus"}})),d=(0,c.connect)(m,{onZoom:u.sO})(s.Z);const y={ZoomInPlugin:o()(d,{disablePluginIf:"{state('mapType') === 'cesium'}",Toolbar:{name:"ZoomIn",position:3,tooltip:"zoombuttons.zoomInTooltip",help:a().createElement(p.Z,{msgId:"helptexts.zoomIn"}),tool:!0,priority:1}}),reducers:{}}},13573:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h}),n(7594);var r=n(27418),o=n.n(r),i=n(67294),a=n.n(i),c=n(33664),l=n(22222),u=n(1550),s=n(9192),p=n(5346),f=n(827);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=(0,l.P1)([f.Od,f._e],(function(e,t){return{currentZoom:e&&e.zoom,id:"zoomout-btn",step:-1,glyphicon:"minus",minZoom:t}})),g=(0,c.connect)(b,{onZoom:u.sO},(function(e,t,n){return d(d(d({},e),t),n)}))(s.Z);const h={ZoomOutPlugin:o()(g,{disablePluginIf:"{state('mapType') === 'cesium'}",Toolbar:{name:"ZoomOut",position:4,tooltip:"zoombuttons.zoomOutTooltip",help:a().createElement(p.Z,{msgId:"helptexts.zoomOut"}),tool:!0,priority:1}}),reducers:{}}},7872:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var r=n(70570),o=n.n(r),i=n(4925),a=n.n(i),c=n(50277),l=n.n(c),u=n(25518),s=n.n(u),p=n(64322),f=n.n(p),m=n(35339),d=n.n(m),y=n(7790),b=n.n(y),g=n(28753),h=n.n(g),v=n(78465),O=n.n(v),S=n(28424),E=n.n(S),w=n(76886),A=n.n(w),P=n(37679),T=n.n(P),j=n(7909),x=n.n(j);const C={google:{HYBRID:T(),ROADMAP:o(),TERRAIN:a(),SATELLITE:l()},bing:{Aerial:s(),AerialWithLabels:E()},osm:{mapnik:f()},mapquest:{osm:x()},ol:{undefined:b()},nasagibs:{Night2012:O()},OpenTopoMap:{OpenTopoMap:A()},unknown:h(),s2cloudless:{"s2cloudless:s2cloudless":d()}}},58252:(e,t,n)=>{"use strict";n.d(t,{Z:()=>D});var r=n(61545),o=n(27418),i=n.n(o),a=n(45697),c=n.n(a),l=n(67294),u=n.n(l),s=n(30294),p=n(33664),f=n(3523),m=n(82904),d=n(98939),y=n(83606),b=n(5346),g=n(50966),h=n(38560);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=(0,p.connect)((function(e){return{isVisible:e.controls&&e.controls.help&&e.controls.help.enabled}}),{changeHelpText:d.n2,changeHelpwinVisibility:d.SA})(y.Z),k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(l,e);var t,n,o,a,c=(o=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=x(o);if(a){var n=x(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return T(this,e)});function l(){var e;w(this,l);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return C(j(e=c.call.apply(c,[this].concat(n))),"getToolConfig",(function(t){return t.tool?{}:e.props.toolCfg})),C(j(e),"getTool",(function(t){if(t.tool)return!0===t.tool?t.plugin:t.tool;var n=function(){return{}},o={};return t.exclusive?(n=function(n){return{active:n.controls&&n.controls[e.props.stateSelector]&&n.controls[e.props.stateSelector].active===t.name}},o[e.props.eventSelector]=m.Xg.bind(null,e.props.stateSelector,"active",t.name,!0)):t.toggle?(n=function(n){return{bsStyle:n.controls[t.toggleControl||t.name]&&n.controls[t.toggleControl||t.name][t.toggleProperty||"enabled"]?e.props.activeStyle:e.props.toolStyle,active:n.controls[t.toggleControl||t.name]&&n.controls[t.toggleControl||t.name][t.toggleProperty||"enabled"]||!1}},o[e.props.eventSelector]=m.Xi.bind(null,t.toggleControl||t.name,t.toggleProperty||null)):t.action&&(o[e.props.eventSelector]=(0,r.partial)(t.action,e.context),n=t.selector||n),(0,p.connect)(n,o,(function(t,n,r){return e.mergeHandlers(E(E({},r),t),n)}))(e.props.tool)})),C(j(e),"renderTool",(function(t,n){if(t.element)return t.element;var r=t.help?u().createElement(R,{className:"mapstore-helpbadge",helpText:t.help}):u().createElement("span",null),o=t.tooltip?u().createElement(b.Z,{msgId:t.tooltip}):null,i=e.getTool(t),a=e.getToolConfig(t),c=t.childTools||[];return e.addTooltip(u().createElement(i,O({},a,{pluginCfg:t.cfg,tooltip:o,style:t.style,btnSize:e.props.toolSize,bsStyle:e.props.toolStyle,help:r,key:t.name||"tool"+n,mapType:e.props.mapType},t.cfg,{items:t.items||[]}),t.cfg&&t.cfg.glyph?u().createElement(s.Glyphicon,{glyph:t.cfg.glyph}):t.icon,r," ",t.text,c.length>0&&u().createElement(l,O({},t.innerProps,{mapType:e.props.mapType,tools:c,panels:t.childPanels}))),t)})),C(j(e),"renderTools",(function(){return e.props.tools.map(e.renderTool)})),C(j(e),"renderPanels",(function(){return e.props.panels.filter((function(e){return!e.panel.loadPlugin})).map((function(t){var n=t.panel,r=u().createElement(n,O({key:t.name,mapType:e.props.mapType},t.cfg,t.props||{},{items:t.items||[]})),o=t.title?u().createElement(b.Z,{msgId:t.title}):null;return t.wrap?u().createElement(s.Collapse,{key:"mapToolBar-item-collapse-"+t.name,in:e.props.activePanel===t.name},u().createElement(s.Panel,{header:o,style:e.props.panelStyle,className:e.props.panelClassName},r)):r}))})),C(j(e),"mergeHandlers",(function(e,t){return Object.keys(t).reduce((function(n,r){return i()(n,C({},r,e[r]?(0,f.qC)(e[r],t[r]):t[r]))}),e)})),C(j(e),"addTooltip",(function(t,n){if(n.tooltip){var r=u().createElement(s.Tooltip,{id:e.props.id+"-"+n.name+"-tooltip"},u().createElement(b.Z,{msgId:n.tooltip}));return u().createElement(g.Z,{key:e.props.id+"-"+n.name+"-overlay",rootClose:!0,placement:"left",overlay:r},t)}return t})),e}return t=l,(n=[{key:"render",value:function(){var e=this.props.container;return u().createElement("span",{id:this.props.id,style:this.props.containerWrapperStyle},u().createElement(e,{id:this.props.id+"-container",style:this.props.style,className:this.props.className},this.renderTools()),this.renderPanels())}}])&&A(t.prototype,n),l}(u().Component);C(k,"propTypes",{id:c().string.isRequired,container:c().func,containerWrapperStyle:c().object,tool:c().func,className:c().string,style:c().object,tools:c().array,panels:c().array,mapType:c().string,toolStyle:c().string,activeStyle:c().string,toolSize:c().string,stateSelector:c().string.isRequired,eventSelector:c().string,panelStyle:c().object,panelClassName:c().string,activePanel:c().string,toolCfg:c().object}),C(k,"contextTypes",{messages:c().object,router:c().object}),C(k,"defaultProps",{container:s.Panel,className:"tools-container",style:{},toolStyle:"default",activeStyle:"primary",tools:[],panels:[],tool:h.Z,mapType:"leaflet",eventSelector:"onClick",panelStyle:{},panelClassName:"tools-container-panel",toolSize:null,toolCfg:{}});const D=k},81756:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(33664),o=n(5346);const i=(0,r.connect)((function(e){return{locale:e.locale&&e.locale.currentLocale,messages:e.locale&&e.locale.messages||[]}}))(o.Z)},10947:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AntiAliasingOption:()=>ft,DefaultBackgroundOption:()=>yt,Description:()=>it,Font:()=>bt,ForceLabelsOption:()=>pt,IconSizeOption:()=>mt,LandscapeOption:()=>st,LegendDpiOption:()=>dt,LegendOption:()=>lt,MapPreview:()=>gt,MultiPageOption:()=>ut,Name:()=>ot,PrintPreview:()=>vt,PrintSubmit:()=>ht,Resolution:()=>at,Sheet:()=>ct,TextWithLabel:()=>rt,default:()=>Ot});var r=n(67294),o=n.n(r),i=n(30294),a=n(33664),c=n(3523),l=n(82904),u=n(86069),s=n(45697),p=n.n(s);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(l,e);var t,n,r,a,c=(r=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(r);if(a){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b(this,e)});function l(){var e;m(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(g(e=c.call.apply(c,[this].concat(n))),"onChange",(function(t){e.props.onChange(t.target.value)})),e}return t=l,(n=[{key:"render",value:function(){var e=this.props.items.map((function(e){return o().createElement("option",{key:e.value,value:e.value},e.name)}));return o().createElement(i.FormGroup,null,this.props.label?o().createElement(i.ControlLabel,null,this.props.label):null,o().createElement(i.FormControl,{ref:"input",value:this.props.selected,componentClass:"select",onChange:this.onChange},e))}}])&&d(t.prototype,n),l}(o().Component);v(O,"propTypes",{items:p().array,label:p().string,onChange:p().func,selected:p().string}),v(O,"defaultProps",{items:[],label:"Choice",onChange:function(){},selected:""});const S=O;var E=n(38560),w=n(73378);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?C(e):t}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(l,e);var t,n,r,a,c=(r=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=R(r);if(a){var n=R(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return x(this,e)});function l(){var e;P(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return k(C(e=c.call.apply(c,[this].concat(n))),"onChangeFamily",(function(t){e.props.onChangeFamily(t)})),k(C(e),"onChangeSize",(function(t){e.props.onChangeSize(parseInt(t,10))})),k(C(e),"toggleBold",(function(){e.props.onChangeBold(!e.props.bold)})),k(C(e),"toggleItalic",(function(){e.props.onChangeItalic(!e.props.italic)})),e}return t=l,(n=[{key:"render",value:function(){return o().createElement(i.Grid,{fluid:!0},o().createElement(i.Row,null,o().createElement(i.Col,{xs:12},o().createElement("label",{className:"control-label"},this.props.label))),o().createElement(i.Row,null,o().createElement(i.Col,{xs:5},o().createElement(S,{ref:"family",onChange:this.onChangeFamily,label:"",items:this.props.fonts.map((function(e){return{name:e,value:e}})),selected:this.props.family})),o().createElement(i.Col,{xs:3},o().createElement(w.Z,{ref:"size",type:"number",value:this.props.size,min:0,precision:0,onChange:this.onChangeSize})),o().createElement(i.Col,{xs:2},o().createElement(E.Z,{bsStyle:"primary",bsSize:"small",active:this.props.bold,onClick:this.toggleBold},o().createElement(i.Glyphicon,{glyph:"bold"}))),o().createElement(i.Col,{xs:2},o().createElement(E.Z,{bsStyle:"primary",bsSize:"small",active:this.props.italic,onClick:this.toggleItalic},o().createElement(i.Glyphicon,{glyph:"italic"})))))}}])&&T(t.prototype,n),l}(o().Component);k(D,"propTypes",{fonts:p().array,label:p().string,onChangeFamily:p().func,onChangeSize:p().func,onChangeBold:p().func,onChangeItalic:p().func,family:p().string,size:p().number,bold:p().bool,italic:p().bool}),k(D,"defaultProps",{fonts:["Verdana","Serif","SansSerif","Arial","Courier New","Tahoma","Times New Roman"],label:"Font",onChangeFamily:function(){},onChangeSize:function(){},family:"",size:8,bold:!1,italic:!1});const _=D;var I,L,N,M=n(27418),F=n.n(M),U=n(34049),G=n(75964);function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Y(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?q(e):t}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(u,e);var t,r,a,c,l=(a=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=W(a);if(c){var n=W(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Y(this,e)});function u(){var e;B(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return K(q(e=l.call.apply(l,[this].concat(n))),"getRatio",(function(){return e.props.width&&e.props.layoutSize&&e.props.resolutions?e.props.layoutSize.width/e.props.width*e.props.printRatio:1})),K(q(e),"getResolutions",(function(){return e.props.width&&e.props.layoutSize&&e.props.resolutions?e.props.resolutions.map((function(t){return t*e.getRatio()})):e.props.resolutions})),K(q(e),"adjustResolution",(function(t){var n=e.getRatio(),r=Math.round(96/n);return F()({},t,{params:F()({},t.params,{format_options:"dpi:"+r,"MAP.RESOLUTION":r})})})),K(q(e),"renderLayerContent",(function(e,t){return e.features&&"vector"===e.type?e.features.map((function(n){return o().createElement(N,{crs:t,key:n.id,type:n.type,geometry:n.geometry,features:n.features,msId:n.id,featuresCrs:e.featuresCrs||"EPSG:4326",layerStyle:e.style,style:n.style||e.style||null,properties:n.properties})})):null})),e}return t=u,(r=[{key:"UNSAFE_componentWillMount",value:function(){var e=n(8026)("./"+this.props.mapType+"/index");I=e.LMap,L=e.LLayer,N=e.Feature,n(14807)("./"+this.props.mapType+"/plugins/index").default}},{key:"render",value:function(){var e=this,t=F()({},this.props.style,{width:this.props.width+"px",height:this.props.height+"px"}),n=this.getResolutions(),r=n?{view:{resolutions:n}}:{},a=this.props.map&&this.props.map.projection||"EPSG:3857";return this.props.map&&this.props.map.center?o().createElement("div",{className:"print-map-preview"},o().createElement(I,z({ref:"mappa"},this.props.map,{resize:this.props.height,style:t,interactive:!1,onMapViewChanges:this.props.onMapViewChanges,zoomControl:!1,zoom:this.props.useFixedScales&&this.props.scales?(0,U.getMapZoom)(this.props.map.scaleZoom,this.props.scales):this.props.map.zoom,center:this.props.map.center,id:"print_preview",registerHooks:!1,mapOptions:r}),this.props.layers.map((function(t,n){return o().createElement(L,{key:t.id||t.name,position:n,type:t.type,options:F()({},e.adjustResolution(t),{srs:a}),env:e.props.env},e.renderLayerContent(t,a))}))),this.props.enableScalebox?o().createElement(G.Z,{id:"mappreview-scalebox",currentZoomLvl:this.props.map.scaleZoom,scales:this.props.scales,onChange:this.props.onChangeZoomLevel}):null,this.props.enableRefresh?o().createElement(E.Z,{bsStyle:"primary",onClick:this.props.onMapRefresh,className:"print-mappreview-refresh"},o().createElement(i.Glyphicon,{glyph:"refresh"})):null):null}}])&&H(t.prototype,r),u}(o().Component);K($,"propTypes",{map:p().object,layers:p().array,style:p().object,scales:p().array,onChangeZoomLevel:p().func,onMapViewChanges:p().func,onMapRefresh:p().func,height:p().number,width:p().number,mapType:p().string,enableRefresh:p().bool,enableScalebox:p().bool,resolutions:p().array,printRatio:p().number,layout:p().string,layoutSize:p().object,useFixedScales:p().bool,env:p().object}),K($,"defaultProps",{map:null,layers:[],mapType:"leaflet",style:{display:"block",border:"1px solid black",position:"relative"},onChangeZoomLevel:function(){},onMapViewChanges:function(){},onMapRefresh:function(){},width:370,height:270,enableRefresh:!0,enableScalebox:!0,printRatio:96/72,useFixedScales:!1});const Q=$;function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e,t){return(te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ne(e,t){return!t||"object"!==X(t)&&"function"!=typeof t?re(e):t}function re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}(l,e);var t,n,r,a,c=(r=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=oe(r);if(a){var n=oe(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ne(this,e)});function l(){var e;J(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ie(re(e=c.call.apply(c,[this].concat(n))),"onChange",(function(){e.props.onChange(!e.refs.input.props.checked)})),ie(re(e),"isEnabled",(function(){return e.props.isEnabled?e.props.isEnabled(e.props.layouts):0===e.props.layouts.length||e.props.layouts.some((function(t){return t.name.match(e.props.enableRegex)}))})),e}return t=l,(n=[{key:"render",value:function(){return o().createElement(i.Checkbox,{disabled:!this.isEnabled(),ref:"input",checked:this.props.checked,onChange:this.onChange},this.props.label)}}])&&ee(t.prototype,n),l}(o().Component);ie(ae,"propTypes",{layouts:p().array,enableRegex:p().oneOfType([p().object,p().string]),label:p().string,onChange:p().func,checked:p().bool,isEnabled:p().func}),ie(ae,"defaultProps",{layouts:[],enableRegex:/^.*$/,label:"Option",onChange:function(){},checked:!1});const ce=ae;var le=n(86638);function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function me(e,t){return!t||"object"!==ue(t)&&"function"!=typeof t?de(e):t}function de(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(l,e);var t,n,r,a,c=(r=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ye(r);if(a){var n=ye(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return me(this,e)});function l(){var e;se(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return be(de(e=c.call.apply(c,[this].concat(n))),"onChange",(function(t){e.props.onChange(t.target.value)})),be(de(e),"renderOptions",(function(){return e.props.options.map((function(t){return o().createElement(i.Radio,{key:t.label,disabled:!e.isEnabled(),ref:"input"+t.value,checked:e.props.selected===t.value,onChange:e.onChange,value:t.value},(0,le.S$)(e.context.messages,t.label))}))})),be(de(e),"isEnabled",(function(){return e.props.isEnabled?e.props.isEnabled(e.props.layouts):0===e.props.layouts.length||e.props.layouts.some((function(t){return t.name.match(e.props.enableRegex)}))})),e}return t=l,(n=[{key:"render",value:function(){return o().createElement("span",{className:"form-inline"},this.renderOptions())}}])&&pe(t.prototype,n),l}(o().Component);be(ge,"propTypes",{layouts:p().array,enableRegex:p().oneOfType([p().object,p().string]),options:p().array,onChange:p().func,selected:p().string,isEnabled:p().func}),be(ge,"contextTypes",{messages:p().object}),be(ge,"defaultProps",{layouts:[],enableRegex:/^.*$/,options:[{label:"Option1",value:"Option1"},{label:"Option2",value:"Option2"}],onChange:function(){},selected:"Option1"});const he=ge;var ve=n(30301);function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function we(e,t){return(we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ae(e,t){return!t||"object"!==Oe(t)&&"function"!=typeof t?Pe(e):t}function Pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&we(e,t)}(l,e);var t,n,r,a,c=(r=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Te(r);if(a){var n=Te(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ae(this,e)});function l(){var e;Se(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return je(Pe(e=c.call.apply(c,[this].concat(n))),"onDocumentComplete",(function(t){e.props.setPages(t&&t.numPages||0)})),je(Pe(e),"firstPage",(function(){e.props.currentPage>0&&e.props.setPage(0)})),je(Pe(e),"lastPage",(function(){e.props.currentPage<e.props.pages-1&&e.props.setPage(e.props.pages-1)})),je(Pe(e),"prevPage",(function(){e.props.currentPage>0&&e.props.setPage(e.props.currentPage-1)})),je(Pe(e),"nextPage",(function(){e.props.currentPage<e.props.pages-1&&e.props.setPage(e.props.currentPage+1)})),je(Pe(e),"zoomIn",(function(){e.props.setScale(e.props.scale*e.props.zoomFactor)})),je(Pe(e),"zoomOut",(function(){e.props.setScale(e.props.scale/e.props.zoomFactor)})),e}return t=l,(n=[{key:"render",value:function(){return window.PDFJS?(window.PDFJS.workerSrc="https://unpkg.com/pdfjs-dist@1.4.79/build/pdf.worker.js",o().createElement("div",null,o().createElement("div",{style:this.props.style},o().createElement(ve.BB,{file:this.props.url,onLoadSuccess:this.onDocumentComplete},o().createElement(ve.T3,{pageNumber:this.props.currentPage+1,scale:this.props.scale}))),o().createElement("div",{style:{marginTop:"10px"}},o().createElement(E.Z,{bsStyle:this.props.buttonStyle,style:{marginRight:"10px"},onClick:this.props.back},o().createElement(i.Glyphicon,{glyph:"arrow-left"})),o().createElement(E.Z,{bsStyle:this.props.buttonStyle,disabled:this.props.scale>=this.props.maxScale,onClick:this.zoomIn},o().createElement(i.Glyphicon,{glyph:"zoom-in"})),o().createElement(E.Z,{bsStyle:this.props.buttonStyle,disabled:this.props.scale<=this.props.minScale,onClick:this.zoomOut},o().createElement(i.Glyphicon,{glyph:"zoom-out"})),o().createElement("label",{style:{marginLeft:"10px",marginRight:"10px"}},this.props.scale,"x"),o().createElement("div",{className:"print-download btn btn-"+this.props.buttonStyle},o().createElement("a",{href:this.props.url,target:"_blank"},o().createElement(i.Glyphicon,{glyph:"save"}))),o().createElement(E.Z,{bsStyle:this.props.buttonStyle,disabled:0===this.props.currentPage,onClick:this.firstPage},o().createElement(i.Glyphicon,{glyph:"step-backward"})),o().createElement(E.Z,{bsStyle:this.props.buttonStyle,disabled:0===this.props.currentPage,onClick:this.prevPage},o().createElement(i.Glyphicon,{glyph:"chevron-left"})),o().createElement("label",{style:{marginLeft:"10px",marginRight:"10px"}},this.props.currentPage+1," / ",this.props.pages),o().createElement(E.Z,{bsStyle:this.props.buttonStyle,disabled:this.props.currentPage===this.props.pages-1,onClick:this.nextPage},o().createElement(i.Glyphicon,{glyph:"chevron-right"})),o().createElement(E.Z,{bsStyle:this.props.buttonStyle,disabled:this.props.currentPage===this.props.pages-1,onClick:this.lastPage},o().createElement(i.Glyphicon,{glyph:"step-forward"}))))):null}}])&&Ee(t.prototype,n),l}(o().Component);je(xe,"propTypes",{url:p().string,scale:p().number,currentPage:p().number,pages:p().number,zoomFactor:p().number,minScale:p().number,maxScale:p().number,back:p().func,setScale:p().func,setPage:p().func,setPages:p().func,style:p().object,buttonStyle:p().string}),je(xe,"defaultProps",{url:null,scale:1,minScale:.25,maxScale:8,currentPage:0,pages:1,zoomFactor:2,back:function(){},setScale:function(){},setPage:function(){},setPages:function(){},style:{height:"500px",width:"800px",overflow:"auto",backgroundColor:"#888",padding:"10px"},buttonStyle:"default"});const Ce=xe;var Re=n(72986),ke=n.n(Re),De=n(5346);function _e(e){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(){return(Ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Me(e,t){return(Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fe(e,t){return!t||"object"!==_e(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ze=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Me(e,t)}(l,e);var t,n,r,a,c=(r=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ue(r);if(a){var n=Ue(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Fe(this,e)});function l(){return Le(this,l),c.apply(this,arguments)}return t=l,(n=[{key:"render",value:function(){var e=this.props.glyph?o().createElement(i.Glyphicon,{glyph:this.props.glyph}):o().createElement("span",null);return o().createElement(E.Z,Ie({className:"print-submit",disabled:this.props.disabled},this.props.buttonConfig,{style:{marginTop:"10px",marginRight:"5px"},onClick:this.props.onPrint}),this.props.loading?o().createElement(ke(),{spinnerName:"circle",overrideSpinnerClassName:"spinner",noFadeIn:!0}):e," ",o().createElement(De.Z,{msgId:"print.submit"}))}}])&&Ne(t.prototype,n),l}(o().Component);Ge(Ze,"propTypes",{loading:p().bool,onPrint:p().func,disabled:p().bool,buttonConfig:p().object,glyph:p().string}),Ge(Ze,"defaultProps",{loading:!1,onPrint:function(){},disabled:!1,buttonConfig:{bsSize:"large"},glyph:"print"});const ze=Ze;var Be=n(61545);function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ve(){return(Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function We(e,t){return(We=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ke(e,t){return!t||"object"!==He(t)&&"function"!=typeof t?$e(e):t}function $e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qe(e){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Je=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&We(e,t)}(c,e);var t,n,r,i,a=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Qe(r);if(i){var n=Qe(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ke(this,e)});function c(){var e;Ye(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Xe($e(e=a.call.apply(a,[this].concat(n))),"getLayoutName",(function(t){return e.props.layoutNames?(0,Be.isFunction)(e.props.layoutNames)?e.props.layoutNames(t):e.props.layoutNames[t]||t:t})),Xe($e(e),"getSheetFormats",(function(){return e.props.layouts.reduce((function(t,n){var r=n.name.match(e.props.sheetRegex);return r&&r.length>0&&-1===t.indexOf(r[r.length-1])&&t.concat([r[r.length-1]])||t}),[]).map((function(t){return{name:e.getLayoutName(t),value:t}}))})),e}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=(e.children,e.sheetRegex,e.layouts,function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["children","sheetRegex","layouts"]));return o().createElement(S,Ve({},t,{items:this.getSheetFormats()}))}}])&&qe(t.prototype,n),c}(o().Component);Xe(Je,"propTypes",{layouts:p().array,sheetRegex:p().oneOfType([p().object,p().string]),label:p().string,onChange:p().func,selected:p().string,layoutNames:p().oneOfType([p().object,p().func])}),Xe(Je,"defaultProps",{layouts:[],sheetRegex:/^[^_]+/,label:"Sheet Size",onChange:function(){},selected:""});const et=Je;var tt=function(e){return e.print&&e.print.capabilities&&e.print.capabilities.layouts.filter((function(t){return 0===t.name.indexOf(e.print.spec.sheet)}))||[]},nt=n(37275),rt=function(e){return o().createElement(i.FormGroup,null,e.label&&o().createElement(i.ControlLabel,null,e.label)||null,o().createElement(i.FormControl,e))},ot=(0,a.connect)((function(e){return{value:e.print&&e.print.spec&&e.print.spec.name||"",type:"text"}}),{onChange:(0,c.qC)(u.d$.bind(null,"name"),(function(e){return e.target.value}))})(rt),it=(0,a.connect)((function(e){return{value:e.print&&e.print.spec&&e.print.spec.description||"",componentClass:"textarea"}}),{onChange:(0,c.qC)(u.d$.bind(null,"description"),(function(e){return e.target.value}))})(rt),at=(0,a.connect)((function(e){return{selected:e.print&&e.print.spec&&e.print.spec.resolution||"",items:e.print&&e.print.capabilities&&e.print.capabilities.dpis.map((function(e){return{name:e.name+" dpi",value:e.value}}))||[]}}),{onChange:u.d$.bind(null,"resolution")})(S),ct=(0,a.connect)((function(e){return{selected:e.print&&e.print.spec&&e.print.spec.sheet}}),{onChange:u.d$.bind(null,"sheet")})(et),lt=(0,a.connect)((function(e){return{checked:e.print&&e.print.spec&&!!e.print.spec.includeLegend,layouts:tt(e)}}),{onChange:u.d$.bind(null,"includeLegend")})(ce),ut=(0,a.connect)((function(e){return{checked:e.print&&e.print.spec.includeLegend&&e.print.spec&&!!e.print.spec.twoPages,layouts:tt(e),isEnabled:function(){return function(e){return e.print&&e.print.spec&&e.print.spec.includeLegend}(e)}}}),{onChange:u.d$.bind(null,"twoPages")})(ce),st=(0,a.connect)((function(e){return{selected:e.print&&e.print.spec&&e.print.spec.landscape?"landscape":"portrait",layouts:tt(e),options:[{label:"print.alternatives.landscape",value:"landscape"},{label:"print.alternatives.portrait",value:"portrait"}]}}),{onChange:(0,c.qC)(u.d$.bind(null,"landscape"),(function(e){return"landscape"===e}))})(he),pt=(0,a.connect)((function(e){return{checked:e.print&&e.print.spec&&!!e.print.spec.forceLabels}}),{onChange:u.d$.bind(null,"forceLabels")})(ce),ft=(0,a.connect)((function(e){return{checked:e.print&&e.print.spec&&!!e.print.spec.antiAliasing}}),{onChange:u.d$.bind(null,"antiAliasing")})(ce),mt=(0,a.connect)((function(e){return{value:e.print&&e.print.spec&&e.print.spec.iconSize,type:"number"}}),{onChange:(0,c.qC)(u.d$.bind(null,"iconSize"),(function(e){return parseInt(e.target.value,10)}))})(rt),dt=(0,a.connect)((function(e){return{value:e.print&&e.print.spec&&e.print.spec.legendDpi,type:"number"}}),{onChange:(0,c.qC)(u.d$.bind(null,"legendDpi"),(function(e){return parseInt(e.target.value,10)}))})(rt),yt=(0,a.connect)((function(e){return{checked:e.print&&e.print.spec&&!!e.print.spec.defaultBackground}}),{onChange:u.d$.bind(null,"defaultBackground")})(ce),bt=(0,a.connect)((function(e){return{family:e.print&&e.print.spec&&e.print.spec.fontFamily,size:e.print&&e.print.spec&&e.print.spec.fontSize,bold:e.print&&e.print.spec&&e.print.spec.bold,italic:e.print&&e.print.spec&&e.print.spec.italic}}),{onChangeFamily:u.d$.bind(null,"fontFamily"),onChangeSize:u.d$.bind(null,"fontSize"),onChangeBold:u.d$.bind(null,"bold"),onChangeItalic:u.d$.bind(null,"italic")})(_),gt=(0,a.connect)((function(e){return{map:e.print&&e.print.map,layers:e.print&&e.print.map&&e.print.map.layers||[],scales:e.print&&e.print.capabilities&&e.print.capabilities.scales.slice(0).reverse().map((function(e){return parseFloat(e.value)}))||[]}}),{onChangeZoomLevel:u.pQ,onMapViewChanges:u.z})(Q),ht=(0,a.connect)((function(e){return{loading:e.print&&e.print.isLoading||!1}}))(ze),vt=(0,a.connect)((function(e){return{url:e.print&&nt.ZP.getProxiedUrl(e.print.pdfUrl),scale:e.controls&&e.controls.print&&e.controls.print.viewScale||.5,currentPage:e.controls&&e.controls.print&&e.controls.print.currentPage||0,pages:e.controls&&e.controls.print&&e.controls.print.pages||1}}),{back:u._4,setPage:l.Xg.bind(null,"print","currentPage"),setPages:l.Xg.bind(null,"print","pages"),setScale:l.Xg.bind(null,"print","viewScale")})(Ce);const Ot={Name:ot,Description:it,Resolution:at,DefaultBackgroundOption:yt,Sheet:ct,LegendOption:lt,MultiPageOption:ut,LandscapeOption:st,ForceLabelsOption:pt,AntiAliasingOption:ft,IconSizeOption:mt,LegendDpiOption:dt,Font:bt,MapPreview:gt,PrintSubmit:ht,PrintPreview:vt}},37307:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(57604),o=n(80416),i=n(82904),a=n(61868),c=n(30381),l=n.n(c),u=n(61545);const s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.XV:return(0,a.t8)("data[".concat(t.dimension,"][").concat(t.layerId,"]"),t.data,e);case r.mE:return(0,a.t8)("currentTime",t.time,e);case r.at:return(0,a.t8)("offsetTime",t.offsetTime,e);case r.mD:if(e.offsetTime&&e.currentTime){var n=l()(e.offsetTime).diff(e.currentTime),c=l()(t.time).add(n);return(0,a.t8)("currentTime",t.time,(0,a.t8)("offsetTime",c.toISOString(),e))}return(0,a.t8)("currentTime",t.time,e);case o.sb:var s=(0,u.mapValues)(e.data,(function(e){return(0,u.pickBy)(e,(function(e,n){return n!==t.node}))}));return(0,a.t8)("data",s,e);case i.l:return(0,a.t8)("data",void 0,(0,a.t8)("currentTime",void 0,(0,a.t8)("offsetTime",void 0,e)));default:return e}}},26125:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(21914),o=n(81808),i=n(82904),a=n(27418),c=n.n(a),l=n(61545),u=n(13652);function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t,n){var r="vector"===n,o=r?t.reqId:(0,l.findIndex)(e.requests||[],(function(e){return e.reqId===t.reqId}));if(-1!==o){if(["exceptions","error"].includes(n)){var i=e.requests.filter((function(e,t){return t!==o})),a=e.responses.filter((function(e,t){return t!==o}));return d(d({},e),{},{responses:a,requests:i})}var u=e.configuration,s=e.requests,f=e.responses||[],m="hover"===(null==u?void 0:u.trigger);if(!r){var y={response:t[n],queryParams:t.requestParams,layerMetadata:t.layerMetadata,layer:t.layer};m?f=[].concat(p(f),[y]):f[o]=y}var b={loaded:!0,index:0};return c()({},e,d(d(d({},r&&{requests:s}),!(0,l.isUndefined)(b)&&b),{},{responses:p(f)}))}return e}var g={enabled:!0,configuration:{}};const h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.Re:return c()({},e,{warning:"NO_QUERYABLE_LAYERS"});case r.ih:return c()({},e,{warning:null});case r.Xw:return c()({},e,{enabled:t.enabled});case r.ph:return c()({},e,{enabled:!e.enabled});case r.gG:return c()({},e,{index:t.index});case r.oz:return c()({},e,{highlight:t.enabled});case r.Pn:var a=t.reqId,l=t.request,f=e.requests||[];return c()({},e,{requests:[].concat(p(f),[{request:l,reqId:a}])});case r.DZ:e.index,e.loaded;var m=s(e,["index","loaded"]);return d(d({},m),{},{queryableLayers:[],responses:[],requests:[]});case r.XL:return b(e,t,"data");case r.Ih:return b(e,t,"exceptions");case r.km:return b(e,t,"error");case r.xy:return c()({},e,{clickPoint:t.point,clickLayer:t.layer||null,itemId:t.itemId||null,overrideParams:t.overrideParams||null,filterNameList:t.filterNameList||null});case r.e8:return d(d({},e),{},{configuration:d(d({},e.configuration),{},{infoFormat:t.infoFormat})});case r.E0:return c()({},e,{showMarker:!0});case r.F9:return c()({},e,{showMarker:!1});case r.X_:return c()({},e,{showModalReverse:!0,reverseGeocodeData:t.reverseGeocodeData});case r.pb:return c()({},e,{showModalReverse:!1,reverseGeocodeData:void 0});case i.l:return c()({},e,{showMarker:!1,responses:[],requests:[]});case r.qb:var y,h=n(55745),v=n(65442),O={type:"Feature",properties:{},geometry:{type:"Point",coordinates:[t.request.lng,t.request.lat]}},S=t.metadata&&t.metadata.units;switch(S){case"m":S="meters";break;case"deg":S="degrees";break;case"mi":S="miles";break;default:S="meters"}var E,w=t.metadata&&t.metadata.resolution||1,A=h(O,(t.metadata.buffer||1)*w,S),P=(t.layer.features||[]).filter((function(e){try{return"FeatureCollection"===e.type&&e.features&&e.features.length?e.features.reduce((function(e,n){var r=n.properties.useGeodesicLines&&n.properties.geometryGeodesic?d(d({},n),{},{geometry:n.properties.geometryGeodesic}):n;return e||v(A,w&&t.metadata.buffer&&S?h(r,1,"meters"):r)}),!1):v(A,w&&t.metadata.buffer&&S?h(e,1,"meters"):e)}catch(e){return!1}})),T=e.responses||[],j="hover"===(null==e||null===(y=e.configuration)||void 0===y?void 0:y.trigger)||!1,x={response:{crs:null,features:P,totalFeatures:"unknown",type:"FeatureCollection"},queryParams:t.request,layerMetadata:t.metadata,format:"JSON"};j?(T=[].concat(p(T),[x]),E={reqId:0}):(T[e.requests.length]=x,E={reqId:e.requests.length});var C=[].concat(p(e.requests),[{}]);return b(c()({},e,{requests:C,queryableLayers:t.queryableLayers,responses:p(T)}),E,"vector");case r.lF:return c()({},e,{centerToMarker:t.status});case r.ZF:return d(d({},e),{},{configuration:d(d({},e.configuration),{},{showEmptyMessageGFI:!e.configuration.showEmptyMessageGFI})});case o.ok:return d(d({},e),{},{configuration:t.config.mapInfoConfiguration||e.configuration||{}});case r.GI:return d(d({},e),{},{formatCoord:t.format});case r.B1:return d(d({},e),{},{showCoordinateEditor:!t.showCoordinateEditor});case r.gc:return d(d({},e),{},{currentEditFeatureQuery:t.query});case r.zX:return d(d({},e),{},{configuration:d(d({},e.configuration),{},{trigger:t.trigger})});case u.W:return"cesium"===t.mapType?d(d({},e),{},{configuration:d(d({},e.configuration),{},{trigger:"click"})}):e;default:return e}}},46618:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(62520),o=n(27418),i=n.n(o);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{layout:{},boundingMapRect:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.d:var n=t.layout,o=n.boundingMapRect,a=void 0===o?{}:o,l=u(n,["boundingMapRect"]);return i()({},e,{layout:i()({},l,l),boundingMapRect:c({},a)});default:return e}}},75751:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(69293),o=n(27418),i=n.n(o),a=n(61545);function c(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{enabled:!1,showMapDetails:!0,errors:[],searchFilter:{},searchText:"",results:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.h6:return i()({},e,{searchText:t.text});case r.r:return i()({},e,{searchFilter:s(s({},e.searchFilter),{},p({},t.filter,t.filterData))});case r.MJ:return i()({},e,{searchFilter:t.searchFilter});case r.sj:return i()({},e,{contexts:t.contexts});case r.br:return i()({},e,{loading:t.value,loadFlags:s(s({},e.loadFlags||{}),"loading"!==t.name?p({},t.name,t.value):{})});case r.qF:return i()({},e,{metadata:i()({},e.metadata,p({},t.prop,t.value))});case r.hU:return i()({},e,{loading:!0,start:t.params&&t.params.start,limit:t.params&&t.params.limit,searchText:t.searchText});case r.IL:if(t.maps&&t.maps.results&&Array.isArray(t.maps.results))return i()({},e,t.maps,{loading:!1,start:t.params&&t.params.start,limit:t.params&&t.params.limit,searchText:t.searchText});var n=""!==t.maps.results?[t.maps.results]:[];return i()({},e,t.maps,{results:n,loading:!1});case r.qA:return{loadingError:t.error};case r.Xh:for(var o=""===e.results||(0,a.isNil)(e.results)?[]:c(e.results),l=0;l<o.length;l++)o[l].id&&o[l].id===t.resourceId&&(o[l]=i()({},o[l],{updating:!0}));return i()({},e,{results:o});case r.vY:for(var u=""===e.results?[]:c(e.results),f=0;f<u.length;f++){var m;u[f].id&&u[f].id===t.resourceId&&(u[f]=i()({},u[f],(p(m={},t.name,decodeURIComponent(t.value)),p(m,"updating",!1),p(m,"loadingError",t.error?t.error:null),m)))}return i()({},e,{results:u});case r.zg:for(var d=""===e.results?[]:c(e.results),y=0;y<d.length;y++)d[y].id&&d[y].id===t.resourceId&&(d[y]=i()({},d[y],{deleting:!0}));return i()({},e,{results:d});case r.a3:var b=""===e.results?[]:c(e.results),g={results:[].concat(c(b),[t.metadata]),totalCount:e.totalCount+1};return i()({},e,g);case r.n8:case r.W5:for(var h=""===e.results?[]:c(e.results),v=0;v<h.length;v++)h[v].id&&h[v].id===t.resourceId&&(h[v]=i()({},h[v],{updating:!1}));return i()({},e,{results:h});case r.QB:var O=""===e.results?[]:c(e.results),S=i()({},e,{results:O.map((function(e){return e.id===t.mapId?i()({},e,{permissionLoading:!0}):e}))});return S;default:return e}}},55545:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(80416),o=n(82904),i=n(57676),a=n(61868),c=n(61545);const l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{settings:{autoSelect:!0,collapsed:!1}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.M5:return(0,a.t8)("settings.collapsed",t.collapsed,e);case i.w:return(0,a.t8)("settings.mapSync",t.mapSync,e);case i.Lv:return(0,a.t8)("range",{start:t.start,end:t.end},e);case i.iv:return(0,a.t8)("rangeData[".concat(t.layerId,"]"),{range:t.range,histogram:t.histogram,domain:t.domain},e);case i.br:return t.layerId?(0,a.t8)("loading[".concat(t.layerId,"]"),t.loading,e):(0,a.t8)("loading.timeline",t.loading,e);case i._V:return(0,a.t8)("selectedLayer",t.layerId,e);case r.sb:var n=e;return(0,c.assign)({},e,{rangeData:(0,c.has)(n.rangeData,t.node)?(0,c.pickBy)(n.rangeData,(function(e,n){return n!==t.node})):n.rangeData,loading:(0,c.has)(n.rangeData,t.node)?(0,c.pickBy)(n.loading,(function(e,n){return n!==t.node})):n.loading,selectedLayer:e.selectedLayer===t.node?void 0:e.selectedLayer});case o.l:return(0,c.assign)({},e,{range:void 0,rangeData:void 0,selectedLayer:void 0,loading:void 0,MouseEvent:void 0});default:return e}}},31935:(e,t,n)=>{"use strict";n.d(t,{YL:()=>c,B0:()=>l,Mz:()=>u,TC:()=>s,qS:()=>p,Pe:()=>f,TP:()=>m});var r=n(22222),o=n(75110),i=n(93152),a=n(24262),c=function(e){return e.backgroundSelector&&e.backgroundSelector.source},l=function(e){return e.backgroundSelector&&e.backgroundSelector.modalParams},u=function(e){return e.backgroundSelector&&e.backgroundSelector.backgrounds||[]},s=function(e){return e.backgroundSelector&&e.backgroundSelector.lastRemovedId},p=function(e){return e.backgroundSelector&&e.backgroundSelector.confirmDeleteBackgroundModal},f=function(e){return e.backgroundSelector&&e.backgroundSelector.allowDeletion},m=(0,r.P1)(o.l2,i.$v,(function(e,t){return e.filter((function(e){return e&&"background"===e.group})).map((function(e){return(0,a.invalidateUnsupportedLayer)(e,t)}))||[]}))},88113:(e,t,n)=>{"use strict";n.d(t,{b6:()=>u,PG:()=>s,_x:()=>p,Mm:()=>f,dP:()=>m,SX:()=>d,ZL:()=>y,_S:()=>b,iH:()=>g,R7:()=>h,Q7:()=>v,n7:()=>O,bA:()=>S,hm:()=>E,E2:()=>w,Cb:()=>A,eK:()=>P,Im:()=>T,e8:()=>j,$t:()=>x,kS:()=>C,y:()=>R,l2:()=>k,HN:()=>D});var r=n(22222),o=n(61545),i=n(827);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e){return(0,o.get)(e,"catalog.services")},s=(0,r.P1)((function(e){return(0,o.get)(e,"catalog.default.staticServices")}),u,(function(e,t){return c(c({},t),(0,o.pick)(e,"default_map_backgrounds"))})),p=function(e){return(0,o.get)(e,"catalog.default.tileSizes",[256,512])},f=function(e){return(0,o.get)(e,"controls.metadataexplorer.group")},m=function(e){return(0,o.get)(e,"catalog.saving")},d=function(e){return(0,o.get)(e,"catalog.result")},y=function(e){return(0,o.get)(e,"catalog.openCatalogServiceList")},b=function(e){return(0,o.get)(e,"catalog.newService")},g=function(e){return(0,o.get)(e,"catalog.newService.type","csw")},h=function(e){return(0,o.get)(e,'catalog.services["'.concat((0,o.get)(e,"catalog.selectedService"),'"]'))},v=function(e){return(0,o.get)(e,'catalog.services["'.concat((0,o.get)(e,"catalog.selectedService"),'"].type'),function(e){return(0,o.get)(e,'catalog.default.staticServices["'.concat((0,o.get)(e,"catalog.selectedService"),'"].type'),"csw")}(e))},O=function(e){return(0,o.get)(e,'catalog.services["'.concat((0,o.get)(e,"catalog.selectedService"),'"].layerOptions'),{})},S=function(e){return(0,o.get)(e,"catalog.searchOptions")},E=function(e){return(0,o.get)(e,"catalog.loadingError")},w=function(e){return(0,o.get)(e,"catalog.loading",!1)},A=function(e){return(0,o.get)(e,"catalog.selectedService")},P=function(e){return(0,o.get)(e,"catalog.mode","view")},T=function(e){return(0,o.get)(e,"catalog.layerError")},j=function(e){return(0,o.get)(e,"catalog.searchOptions.text","")},x=function(e){return"metadataexplorer"===(0,o.get)(e,"controls.toolbar.active")||(0,o.get)(e,"controls.metadataexplorer.enabled")},C=function(e){return((0,o.get)(e,"localConfig.authenticationRules")||[]).filter((function(e){return"authkey"===e.method})).map((function(e){return e.authkeyParamName}))||[]},R=function(e){return(0,o.get)(e,"catalog.pageSize",4)},k=function(e){return(0,o.get)(e,"catalog.delayAutoSearch",1e3)},D=(0,r.zB)({projection:i.uy})},31255:(e,t,n)=>{"use strict";n.d(t,{u$:()=>g,PI:()=>h,_w:()=>v,eO:()=>O,kG:()=>S,P3:()=>E,bq:()=>P,LB:()=>T,b4:()=>j,M0:()=>x,Li:()=>C,Rd:()=>R,g5:()=>k,Sj:()=>D,o:()=>_,eK:()=>I,jY:()=>L,ND:()=>N,OK:()=>M,tU:()=>F,ou:()=>U,DK:()=>G,Gl:()=>Z,uz:()=>z,Ci:()=>B,Ae:()=>H,gz:()=>V,He:()=>Y,P4:()=>q,kd:()=>W,TC:()=>K,nq:()=>$,Vf:()=>Q});var r=n(61545),o=n(75110),i=n(78889),a=n(8316),c=n(52259),l=n(96958),u=n(85148),s=n(74621),p=n(93152),f=n(24260);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=o.CA,g=function(e){return(0,r.get)(e,"featuregrid.selectedLayer")},h=function(e){return(0,r.get)(e,"featuregrid.chartDisabled",!1)},v=function(e){return e&&e.featuregrid&&e.featuregrid.select},O=function(e){return e&&e.featuregrid&&e.featuregrid.changes},S=function(e){return e&&e.featuregrid&&e.featuregrid.newFeatures},E=function(e){return(0,r.head)(v(e))},w=function(e){var t=(0,f.Qs)(e);if(t){var n=(0,i.findGeometryProperty)(t);return n&&n.localType}return null},A=["Geometry","GeometryCollection"],P=function(e){return!(0,r.head)(A.filter((function(t){return w(e)===t})))},T=function(e){return O(e)&&O(e).length>0},j=function(e){return S(e)&&S(e).length>0},x=function(e){return e&&e.featuregrid&&e.featuregrid.filters},C=function(e){return b(e,g(e))},R=function(e){return e&&e.featuregrid&&e.featuregrid.open},k=function(e,t){return(0,r.get)(x(e),t)},D=function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.title||e.name}(b(e,g(e)));return(0,r.isObject)(t)?t[(0,a.Pz)(e)]||t.default||"":t},_=function(e){return((0,f.L)(e)||[]).map((function(t){var n=function(e,t){return(0,r.get)(e,"featuregrid.attributes[".concat(t.name||t.attribute,"]"))}(e,t);return n?d(d({},t),n):t}))},I=function(e){return e&&e.featuregrid&&e.featuregrid.mode},L=function(e){return(v(e)||[]).length},N=function(e){return(0,l.rK)(O(e))},M=function(e){return function(e){var t=E(e);if(t){var n=(0,l.rK)(O(e));return!((!n[t.id]||null===n[t.id].geometry)&&(n[t.id]&&null===n[t.id].geometry||t._new&&(0,r.head)(S(e))&&null===(0,r.head)(S(e)).geometry||(!t._new||!(0,r.head)(S(e))||null===(0,r.head)(S(e)).geometry)&&null===t.geometry))}return!1}(e)},F=function(e){return(0,r.get)(e,"featuregrid.showAgain",!1)},U=function(e){if((0,r.get)(e,"featuregrid.showTimeSync",!1)){var t=g(e);return(0,u.jo)({id:t},"time")(e)}return null},G=function(e){return(0,r.get)(e,"featuregrid.timeSync",!1)},Z=function(e){return(0,r.get)(e,"featuregrid.showPopoverSync",!0)},z=function(e){return e&&e.featuregrid&&e.featuregrid.saving},B=function(e){return e&&e.featuregrid&&e.featuregrid.saved},H=function(e){return e&&e.featuregrid&&e.featuregrid.drawing},V=function(e){return(0,r.get)(e,"featuregrid.multiselect",!1)},Y=function(e){return(0,c.isSimpleGeomType)(w(e))},q=function(e){return e.featuregrid&&e.featuregrid.dockSize},W=function(e){var t=b(e,g(e));return t&&t.name||""},K=function(e){var t=function(e){return(0,r.get)(b(e,g(e)),"params")}(e);return{viewParams:t&&(t.VIEWPARAMS||t.viewParams||t.viewparams),cqlFilter:t&&(t.CQL_FILTER||t.cqlFilter||t.cql_filter)}},$=function(e){var t=(0,s.L3)(e),n=function(e){return(0,r.get)(e,"featuregrid.editingAllowedRoles",["ADMIN"])}(e)||["ADMIN"],o=function(e){return e&&e.featuregrid&&e.featuregrid.canEdit}(e);return(-1!==n.indexOf(t)||o)&&!(0,p.c0)(e)},Q=function(e){return(0,r.get)(e,"featuregrid.pagination")}},38842:(e,t,n)=>{"use strict";n.d(t,{wk:()=>a,Yf:()=>c,c3:()=>l,fY:()=>u});var r=n(61545),o=n(22222),i=n(8316),a=function(e){return(0,r.has)(e,"localConfig.localizedLayerStyles")},c=function(e){var t=(0,r.get)(e,"localConfig.plugins.dashboard",[]),n=(0,r.find)(t,(function(e){return"DashboardEditor"===e.name}))||{};return(0,r.get)(n,"cfg.catalog.localizedLayerStyles",!1)},l=function(e){return(0,r.get)(e,"localConfig.localizedLayerStyles.name","mapstore_language")},u=(0,o.P1)(a,l,i.KV,(function(e,t,n){var r=[];return e&&r.push({name:t,value:n}),r}))},55105:(e,t,n)=>{"use strict";n.d(t,{Nr:()=>s,ic:()=>p,Jz:()=>m,VM:()=>d,CF:()=>y});var r=n(61545),o=n(827),i=n(52259);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e){return e.maplayout&&e.maplayout.layout||{}},s=function(e){return e.maplayout&&e.maplayout.boundingMapRect||{}},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=u(e);return n&&Object.keys(n).filter((function(e){return t[e]})).reduce((function(e,t){return c(c({},e),{},l({},t,n[t]))}),{})||{}},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=u(e),o=!!(0,r.head)(t.filter((function(e){return n[e.key]})).map((function(e){return"not"===e.type?n[e.key]!==e.value&&n[e.key]:n[e.key]===e.value})));return o},m=function(e){return f(e,[{key:"right",value:658}])},d=function(e){return f(e,[{key:"bottom",value:30,type:"not"}])},y=function(e){var t=(0,o.Od)(e),n=s(e);return n&&t&&t.size&&{left:(0,i.parseLayoutValue)(n.left,t.size.width),bottom:(0,i.parseLayoutValue)(n.bottom,t.size.height),right:(0,i.parseLayoutValue)(n.right,t.size.width),top:(0,i.parseLayoutValue)(n.top,t.size.height)}}},97266:(e,t,n)=>{"use strict";n.d(t,{iL:()=>s,cD:()=>p,jM:()=>f,VH:()=>d,on:()=>y});var r=n(93152),o=n(7147),i=n(61868),a=n(8797);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(e){return(0,o.Iz)(e)&&!e.measurement.isDrawing&&(0,r.m6)(e)},p=function(e){return e&&e.measurement&&e.measurement.showAddAsAnnotation},f=function(e){return e&&e.measurement&&e.measurement.trueBearing&&e.measurement.trueBearing.measureTrueBearing},m=function(e){var t=e.measurement.feature||{};return t.geometry&&(t=(0,i.t8)("geometry.coordinates",(0,a.validateFeatureCoordinates)(t.geometry||{}),t)),t},d=function(e){return e.measurement&&l(l({},e.measurement),{},{feature:m(e)})||{}},y=function(e){var t;return null==e||null===(t=e.measurement)||void 0===t?void 0:t.geomType}},76843:(e,t,n)=>{"use strict";n.d(t,{z2:()=>o,V3:()=>i,dS:()=>a,yt:()=>l,E2:()=>u,Np:()=>s,KC:()=>p,Wq:()=>f,rp:()=>m,PF:()=>d});var r=n(22222),o=function(e){return e&&e.playback&&e.playback.settings},i=function(e){return(o(e)||{}).frameDuration||5},a=function(e){return e&&e.playback&&e.playback.status},c=function(e){return e&&e.playback&&e.playback.frames},l=function(e){var t=c(e)||[];return t[t.length-1]},u=function(e){return e&&e.playback&&e.playback.framesLoading},s=function(e){return e&&e.playback&&e.playback.currentFrame},p=function(e){return function(e){return e&&e.playback&&e.playback.playbackRange}(e)},f=function(e){return(c(e)||[])[s(e)]},m=function(e){return e&&e.playback&&e.playback.metadata},d=(0,r.P1)(c,s,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return{hasNext:e[t+1],hasPrevious:e[t-1]}}))},24260:(e,t,n)=>{"use strict";n.d(t,{qj:()=>u,Bu:()=>s,UM:()=>p,X1:()=>f,L:()=>m,HY:()=>d,Mz:()=>y,F0:()=>b,dc:()=>g,b0:()=>h,hk:()=>v,Qs:()=>O,gy:()=>S,M7:()=>E,VD:()=>w});var r=n(61545);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(e){return(0,r.get)(e,"query.filterObj.featureTypeName")},l=function(e){return function(t){return(0,r.get)(t,'query.featureTypes["'.concat(e,'"]'))}},u=function(e,t){return(0,r.get)(l(t)(e),"original")},s=function(e){return e&&e.query&&e.query.searchUrl},p=function(e){return e&&e.query&&e.query.url},f=function(e){return e&&e.query&&e.query.filterObj},m=function(e){return(0,r.get)(l(c(e))(e),"attributes")},d=function(e){return(0,r.get)(e,"query.typeName")},y=function(e){return(0,r.get)(e,"query.result.features")},b=function(e){var t=(0,r.get)(e,"query.result");return i(i({},t),{},{features:(t&&t.features||[]).filter((function(e){return!(0,r.isNil)(e.geometry)}))})},g=function(e,t){var n=e&&e.query&&e.query.result&&e.query.result.features;return(0,r.head)(n.filter((function(e){return e.id===t})))},h={startIndex:function(e){return(0,r.get)(e,"query.filterObj.pagination.startIndex")},maxFeatures:function(e){return(0,r.get)(e,"query.filterObj.pagination.maxFeatures")},resultSize:function(e){return(0,r.get)(e,"query.result.features.length")},totalFeatures:function(e){return(0,r.get)(e,"query.result.totalFeatures")}},v=function(e,t){var n=l(t)(e);return!!(n&&n.attributes&&n.geometry&&n.original)},O=function(e){return u(e,c(e))},S=function(e){return(0,r.get)(e,"query.featureLoading")},E=function(e){return(0,r.get)(e,"query.syncWmsFilter",!1)},w=function(e){var t=(0,r.get)(e,"query.filterObj.crossLayerFilter"),n=(0,r.get)(e,"query.filterObj.spatialField"),o=(0,r.get)(e,"query.filterObj.filterFields");return!!(o&&(0,r.head)(o)||n&&(n.method&&n.operation&&n.geometry||(0,r.isArray)(n)&&(0,r.findIndex)(n,(function(e){return e.method&&e.operation&&e.geometry}))>-1)||t&&t.collectGeometries&&t.operation)}},69842:(e,t,n)=>{"use strict";n.d(t,{qh:()=>p,GK:()=>f,Nl:()=>m,vE:()=>d,gC:()=>y,hI:()=>b,Vc:()=>g,BU:()=>h,Vx:()=>v,a8:()=>O,IM:()=>S,G$:()=>E});var r=n(61545),o=n(22222),i=n(75110),a=n(8316),c=n(86638);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){return(0,r.get)(e,"queryform.crossLayerFilter")},f=function(e){return((0,i.l2)(e)||[]).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=e.group;return"wms"===t&&"background"!==n})).map((function(t){var n=t.title;return u(u({},function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,["title"])),{},{title:(0,c.MZ)((0,a.Pz)(e),n)})}))},m=function(e){return(0,r.get)(e,"queryform.spatialField.geometry")},d=function(e){return(0,r.get)(e,"queryform.spatialField")},y=(0,o.P1)((function(e){return(0,r.get)(e,"queryform.attributePanelExpanded")}),(function(e){return(0,r.get)(e,"queryform.spatialPanelExpanded")}),(function(e){return(0,r.get)(e,"queryform.crossLayerExpanded")}),(function(e,t,n){return{attributePanelExpanded:e,spatialPanelExpanded:t,crossLayerExpanded:n}})),b=function(e){return(0,r.get)(e,"layerFilter.persisted")},g=function(e){return(0,r.get)(e,"layerFilter.applied")},h=function(e){return(0,r.get)(e,"queryform.spatialField.method")},v=function(e){return(0,r.get)(e,"queryform.maxFeaturesWPS")},O=function(e){return m(e)&&m(e).type||"Polygon"},S=function(e){return m(e)&&m(e).projection||"EPSG =4326"},E=function(e){return m(e)&&m(e).coordinates||[]}},97291:(e,t,n)=>{"use strict";n.d(t,{YK:()=>h,zb:()=>v,en:()=>O,cX:()=>S,__:()=>P,E2:()=>T,Li:()=>j,fP:()=>x,uy:()=>C,gB:()=>R,Ry:()=>k,m_:()=>D,dJ:()=>_,rV:()=>I,qJ:()=>L,pn:()=>N,F3:()=>M});var r=n(61545),o=n(22222),i=n(84715),a=n(90183),c=n(55237),l=n(85148),u=n(827),s=n(75110);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=function(e){return(0,r.get)(e,"timeline.range")},v=function(e){return(0,r.get)(e,"timeline.settings.collapsed")},O=function(e){return(0,r.get)(e,"timeline.settings.autoSelect")},S=function(e){return(0,r.get)(e,"timeline.settings.mapSync")},E=function(e,t){return(e||[]).reduce((function(e,n){return[].concat(d(e),d(function(e,t){var n=y(e.split("/"),3),r=n[0],o=n[1],i=n[2];if(i&&"0"!==i){var a=(0,c.Xu)({start:r,end:o,duration:i},t),l=a.count,u=a.start,s=a.end;return l>50?[{start:r,end:o,duration:i,type:"range",content:"".concat(l," items")}]:(0,c.tr)({start:u,end:s,duration:i}).map((function(e){return{start:new Date(e),end:new Date(e),type:"point"}}))}return isNaN(new Date(r).getTime())?null:[{start:new Date(r),end:new Date(o||r),type:o?"range":"point"}]}(n,t)))}),[]).filter((function(e){return e&&e.start}))},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(e.domain&&e.domain.values)return E(e.domain.values,t);if(e.histogram&&e.histogram.domain&&e.histogram.values){var n=e.histogram.domain.split("/"),r=y(n,3),o=r[0],i=r[1],a=r[2],l=Math.max.apply(Math,d(e.histogram.values)),u=(0,c.jb)({start:o,end:i,duration:a});return e.histogram.values.map((function(e,t){return f(f({},u[t]),{},{type:"range",itemType:"histogram",count:e,className:"histogram-item",content:'<div><div class="histogram-box" style="height: '.concat(100*e/l,'%"></div> <span class="histogram-count">').concat(e,"</span></div>")})}))}return[]},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return e&&e.values||e&&e.domain&&!(0,c._q)(e.domain)?E(e.values||e.domain.split(","),t):n&&n.histogram?w(n,t):[]},P=(0,i.y)(l.m$,h,(function(e){return(0,r.get)(e,"timeline.rangeData")}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return d(Object.keys(e).map((function(r){return A(e[r],t,n[r]).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(f({content:" "},e),{},{group:r})}))})).reduce((function(e,t){return[].concat(d(e),d(t))}),[]))})),T=function(e){return(0,r.get)(e,"timeline.loading")},j=function(e){return(0,r.get)(e,"timeline.selectedLayer")},x=function(e){return(0,s.CA)(e,j(e))},C=function(e){return x(e)&&x(e).name},R=function(e){return x(e)&&x(e).dimensions&&(0,r.head)(x(e).dimensions.filter((function(e){return"time"===e.name})))},k=function(e){return(0,r.get)(R(e),"source.url")},D=(0,o.P1)(l.WT,l.ns,(function(e,t){return{start:e,end:t}})),_=function(e){return(0,l.oP)(e,j(e))},I=l.AF,L=(0,o.P1)(I,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length>0})),N=function(e){return!v(e)&&L(e)},M=function(e){return function(t){var n=((0,u.Od)(t)||{}).bbox;if(!n)return{};var o=(0,l.Qw)(e,"time")(t),i=(0,r.get)(o,"source.version"),c=Object.keys(n.bounds).reduce((function(e,t){return f(f({},e),{},m({},t,parseFloat(n.bounds[t])))}),{});if(!c||!S(t))return{};if("1.1"!==i){var s=(0,l.Qw)(e,"space")(t),p=(0,r.get)(s,"domain.CRS");if(!p||!c||!S(t))return{};var d=y((0,a.reprojectBbox)(c,(0,u.uy)(t),p),4),b=d[0],g=d[1],h=d[2],v=d[3];return h<b&&"EPSG:4326"===p&&(h+=360),{bbox:"".concat(b,",").concat(g,",").concat(h,",").concat(v),crs:p}}var O=c.minx,E=c.miny,w=c.maxx,A=c.maxy,P=n.crs;return{bbox:"".concat(O,",").concat(E,",").concat(w,",").concat(A,",").concat(P)}}}},96958:(e,t,n)=>{"use strict";n.d(t,{t3:()=>s,WQ:()=>f,dM:()=>m,rK:()=>d,Lo:()=>g,gP:()=>S,S9:()=>E,AV:()=>w,Sc:()=>A,a3:()=>P,IC:()=>T,wT:()=>j,cZ:()=>x,ek:()=>C,Qc:()=>R,Cf:()=>D,dJ:()=>_,DR:()=>I,f1:()=>L});var r=n(61545),o=n(78889);function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(e,t,n){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return(0,r.findIndex)(e,(function(e){return e<=n&&n<e+t}))}(t,n,e);return-1===o?o:o*n+e-t[o]},p={id:"empty_row",get:function(){}},f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0;return t[s(e,n,r)]||l({},p)},m=function(e,t){return t[e]},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,r.isArray)(e)?e.reduce((function(e,t){return l(l({},e),{},u({},t.id,l(l({},e[t.id]),t.updated)))}),{}):{}},y=function(e,t){var n=Object.keys(t).filter((function(e){return"geometry"!==e})).reduce((function(e,n){return l(l({},e),{},u({},n,t[n]))}),{}),r=Object.keys(t).filter((function(e){return"geometry"===e})).reduce((function(e,n){return l(l({},e),{},u({},n,t[n]))}),{});return l(l(l({},e),r),{},{properties:l(l({},e&&e.properties||{}),n)})},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,o=(0,r.findIndex)(e,t);return o>=0?e.map((function(e,t){return t===o?n:e})):[].concat(i(e),[n])},g=function(e){return((0,o.getFeatureTypeProperties)(e)||[]).filter((function(e){return!(0,o.isGeometryType)(e)}))},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return t.map((function(t){return n<=t&&t<=r?0:Math.abs(t-e)})).reduce((function(e,t,n,r){return t>r[e]&&n||e}),0)},v=function(e,t){return t.filter((function(t,n){return n!==e}))},O=function(e,t,n){return e.filter((function(e,r){return r<t||r>=t+n}))},S=function(e,t,n,r){for(var o,i,a=e;a<=t&&void 0===o;a++)-1===s(a*r,n,r)&&(o=a);for(var c=t;c>=e&&void 0===i;c--)-1===s(c*r,n,r)&&(i=c);return[o,i].filter((function(e){return void 0!==e}))},E=function(e,t,n){var r=e.startPage,o=e.endPage,i=S(r,o,t,n),a=i[1]-i[0]+1;return{startIndex:i[0]*n,maxFeatures:a*n}},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.editable,o=void 0!==r&&r,i=n.sortable,a=void 0===i||i,c=n.resizable,l=void 0===c||c,u=n.filterable,s=void 0===u||u,p=n.defaultSize,f=void 0===p?200:p,m=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},d=m.getEditor,y=void 0===d?function(){}:d,b=m.getFilterRenderer,h=void 0===b?function(){}:b,v=m.getFormatter,O=void 0===v?function(){}:v;return g(e).filter((function(e){return!(t[e.name]&&t[e.name].hide)})).map((function(e){return{sortable:a,key:e.name,width:t[e.name]&&t[e.name].width||f||void 0,name:t[e.name]&&t[e.name].label||e.name,resizable:l,editable:o,filterable:s,editor:y(e),formatter:O(e),filterRenderer:h(e,e.name)}}))},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},a=(0,o.findGeometryProperty)(n);return e.map((function(e){return l(l({},e),{},{events:e.events&&Object.keys(e.events).reduce((function(o,i){return l(l({},o),{},u({},i,(function(o,a){return e.events[i](t(a.rowIdx),a,n,r)})))}),{})},"geometry"===e.key&&a?{filterRenderer:i(l(l({},a),{},{localType:"geometry"}),a.name),filterable:!0,geometryPropName:a.name}:{})}))},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return Object.keys(e).reduce((function(i,a){return l(l({},i),{},u({},a,(function(){for(var i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];return e[a].apply(e,c.concat([t,n,r,o]))})))}),{})},T=function(e,t){return!!(0,o.getPropertyDesciptor)(e,t)},j=function(e,t,n){return(0,o.isValidValueForPropertyName)(e,(a=n,"geometry"===(i=t)?function(e){return(0,r.get)((0,o.findGeometryProperty)(e),"name")}(a):i),n);var i,a},x=function(){return"EPSG:4326"},C=function(e,t,n){return function(r){return t.length>0?r._new:!e||e&&!!n[r.id]}},R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return y(e,t[e.id]||{})},k=/\s*(!==|!=|<>|<=|>=|===|==|=|<|>)?\s*(-?\d*\.?\d*)\s*/,D=function(e,t){if("string"===t)return{newVal:(0,r.trim)(e),operator:"ilike"};var n,o=k.exec(e),i="=";return o?("!=="===(i=o[1]||"=")|"!="===i?i="<>":"==="===i|"=="===i&&(i="="),n=parseFloat(o[2])):n=parseFloat(e,10),{newVal:n,operator:i}},_=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.attribute,o=t.operator,i=t.value,a=t.type,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=(null===(e=c.groupFields)||void 0===e?void 0:e.filter((function(e){return n!==e.id&&1!==e.id})))||[];if(("string"===a||"number"===a)&&(0,r.isString)(i)&&-1!==(null==i?void 0:i.indexOf(","))){var s,p=(null==i?void 0:i.split(",").filter(r.identity))||[],f=(null===(s=c.filterFields)||void 0===s?void 0:s.filter((function(e){return n!==e.attribute})))||[];return l(l({},c),{},{groupFields:u.concat([{id:n,logic:"OR",groupId:1,index:0}]),filterFields:f.concat(p.map((function(e){var t=D(e,a),r=t.operator,o=t.newVal;return{attribute:n,rowId:Date.now(),type:a,groupId:n,operator:r,value:o}}))),spatialField:c.spatialField,spatialFieldOperator:c.spatialFieldOperator})}return l(l({},c),{},{groupFields:u.concat([{id:1,logic:"AND",groupId:1,index:0}]),filterFields:"geometry"===a?c.filterFields:(0,r.isNil)(i)?(c.filterFields||[]).filter((function(e){return e.attribute!==n})):b(c.filterFields||[],{attribute:n},{attribute:n,rowId:Date.now(),type:a,groupId:1,operator:o,value:i}),spatialField:"geometry"===a?i:c.spatialField,spatialFieldOperator:(0,r.isArray)(i)?"OR":""})},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.startIndex,n=void 0===t?0:t,r=e.maxFeatures,o=void 0===r?1:r,i=e.totalFeatures,a=void 0===i?0:i,c=e.resultSize;return{page:Math.ceil(n/o),resultSize:c,size:o,total:a,maxPages:Math.ceil(a/o)-1}},L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.endPage,o=t.startPage,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.pages,c=i.features,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=l.size,s=l.maxStoredPages,p=l.startIndex,f=S(o,n,a,u),m=f[1]-f[0]+1,d=(0,r.get)(e,"features",[]);d.length!==m*u&&(d=d.concat((0,r.fill)(Array(m*u-d.length>0?m*u-d.length:d.length),!1)));var y=a,b=c,g=y.length+m-Math.max(s,n-o+1);if(g>0)for(var E=o*u,w=n*u,A=E+(w-E)/2,P=0;P<g;P++){var T=h(A,a,E,w),j=T*u;y=v(T,y),b=O(c,j,u)}for(var x=[],C=0;C<m;C++)x.push(p+u*C);return{pages:y.concat(x),features:b.concat(d)}}},34049:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getGeomType:()=>T,isAnnotationLayer:()=>j,getOpacity:()=>x,preloadData:()=>C,toAbsoluteURL:()=>R,normalizeUrl:()=>k,getLayoutName:()=>D,getPrintScales:()=>_,getNearestZoom:()=>I,getMapZoom:()=>L,getMapSize:()=>N,getMapfishPrintSpecification:()=>M,getMapfishLayersSpecification:()=>F,specCreators:()=>U,getWMTSMatrixIds:()=>G,rgbaTorgb:()=>Z,toOpenLayers2Style:()=>z,getOlDefaultStyle:()=>B});var r=n(90183),o=n(33044),i=n(52259),a=n(43378),c=n(58767),l=n(43143),u=n(45992),s=n(18056),p=n(7294),f=n(93201),m=n(18672),d=n(61545),y=n(32420),b=n(53231),g=n(8575),h=n(27418),v=n.n(h);function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A,P=(0,i.getGoogleMercatorScales)(0,21),T=function(e){return e.features&&e.features[0]&&e.features[0].geometry?e.features[0].geometry.type:e.features&&e.features[0].features&&e.features[0].style&&e.features[0].style.type?e.features[0].style.type:void 0},j=function(e){return"annotations"===e.id||"Measurements"===e.name},x=function(e){return e.opacity||(0===e.opacity?0:1)},C=function(e){var t=(0,d.filter)(e.layers,{type:"wfs"});return t.length>0?Promise.all(t.map((function(t){return(0,y.getFeature)(t.url,t.name,E({outputFormat:"application/json",srsName:e.projection},(0,a.optionsToVendorParams)(t)||{})).then((function(e){var n=e.data;return{id:t.id,geoJson:n}}))}))).then((function(t){return E(E({},e),{},{layers:(e.layers||[]).map((function(e){var n=(0,d.find)(t,{id:e.id});return"wfs"===e.type&&n?E(E({},e),n):e}))})})):new Promise((function(t){t(e)}))},R=function(e,t){return-1!==e.search(/^\/\//)?window.location.protocol+e:-1!==e.search(/:\/\//)?e:-1!==e.search(/^\//)?(t||window.location.origin)+e:e},k=function(e){var t=(0,d.isArray)(e)?e[0]:e;return-1!==t.indexOf("?")&&(t=t.substring(0,t.indexOf("?"))),A.toAbsoluteURL(t)},D=function(e){var t=[e.sheet];return e.includeLegend?e.twoPages&&t.push("2_pages_legend"):t.push("no_legend"),e.landscape&&t.push("landscape"),t.join("_")},_=function(e){return e.scales.slice(0).reverse().map((function(e){return parseFloat(e.value)}))||[]},I=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P,r=n[Math.round(e)];return t.reduce((function(e,t,n){return t<r?e:n}),0)},L=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P,r=t[Math.round(e)];return n.reduce((function(e,t,n){return t<r?e:n}),0)+1},N=function(e,t){if(e){var n=e.rotation?e.map.height:e.map.width;return{width:t,height:(e.rotation?e.map.width:e.map.height)/n*t}}return{width:100,height:100}},M=function(e){var t=(0,r.reproject)(e.center,"EPSG:4326",e.projection);return{units:(0,r.getUnits)(e.projection),srs:(0,r.normalizeSRS)(e.projection||"EPSG:3857"),layout:A.getLayoutName(e),dpi:parseInt(e.resolution,10),outputFilename:"mapstore-print",geodetic:!1,mapTitle:e.name||"",comment:e.description||"",layers:A.getMapfishLayersSpecification(e.layers,e,"map"),pages:[{center:[t.x,t.y],scale:e.scale||P[Math.round(e.scaleZoom)],rotation:0}],legends:A.getMapfishLayersSpecification(e.layers,e,"legend")}},F=function(e,t,n){return e.filter((function(e){return A.specCreators[e.type]&&A.specCreators[e.type][n]})).map((function(e){return A.specCreators[e.type][n](e,t)}))},U={wms:{map:function(e,t){return{baseURL:A.normalizeUrl(e.url)+"?",opacity:x(e),singleTile:!1,type:"WMS",layers:[e.name],format:e.format||"image/png",styles:[e.style||""],customParams:(0,o.addAuthenticationParameter)(A.normalizeUrl(e.url),v()({TRANSPARENT:!0,TILED:!0,EXCEPTIONS:"application/vnd.ogc.se_inimage",scaleMethod:"accurate",ENV:(0,b.generateEnvString)(t.env)},e.baseParams||{},e.params||{},E({},(0,a.optionsToVendorParams)({layerFilter:e.layerFilter,filterObj:e.filterObj}))))}},legend:function(e,t){return{name:e.title||e.name,classes:[{name:"",icons:[A.normalizeUrl(e.url)+g.format({query:(0,o.addAuthenticationParameter)(A.normalizeUrl(e.url),E({TRANSPARENT:!0,EXCEPTIONS:"application/vnd.ogc.se_xml",VERSION:"1.1.1",SERVICE:"WMS",REQUEST:"GetLegendGraphic",LAYER:e.name,LANGUAGE:t.language||"",STYLE:e.style||"",SCALE:t.scale,height:t.iconSize,width:t.iconSize,minSymbolSize:t.iconSize,LEGEND_OPTIONS:"forceLabels:"+(t.forceLabels?"on":"")+";fontAntialiasing:"+t.antiAliasing+";dpi:"+t.legendDpi+";fontStyle:"+((t.bold?"bold":t.italic&&"italic")||"")+";fontName:"+t.fontFamily+";fontSize:"+t.fontSize,format:"image/png"},v()({},e.params)))})]}]}}},vector:{map:function(e,t){return{type:"Vector",name:e.name,opacity:x(e),styleProperty:"ms_style",styles:{1:A.toOpenLayers2Style(e,e.style),Polygon:A.toOpenLayers2Style(e,e.style,"Polygon"),LineString:A.toOpenLayers2Style(e,e.style,"LineString"),Point:A.toOpenLayers2Style(e,e.style,"Point"),FeatureCollection:A.toOpenLayers2Style(e,e.style,"FeatureCollection")},geoJson:(0,r.reprojectGeoJson)({type:"FeatureCollection",features:j(e)&&(0,c._P)(e.features)||e.features.map((function(e){return E(E({},e),{},{properties:E(E({},e.properties),{},{ms_style:e&&e.geometry&&e.geometry.type&&e.geometry.type.replace("Multi","")||1})})}))},"EPSG:4326",t.projection)}}},wfs:{map:function(e){return{type:"Vector",name:e.name,opacity:x(e),styleProperty:"ms_style",styles:{1:A.toOpenLayers2Style(e,e.style),Polygon:A.toOpenLayers2Style(e,e.style,"Polygon"),LineString:A.toOpenLayers2Style(e,e.style,"LineString"),Point:A.toOpenLayers2Style(e,e.style,"Point"),FeatureCollection:A.toOpenLayers2Style(e,e.style,"FeatureCollection")},geoJson:e.geoJson&&{type:"FeatureCollection",features:e.geoJson.features.map((function(e){return E(E({},e),{},{properties:E(E({},e.properties),{},{ms_style:e&&e.geometry&&e.geometry.type&&e.geometry.type.replace("Multi","")||1})})}))}}}},osm:{map:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{baseURL:"http://a.tile.openstreetmap.org/",opacity:x(e),singleTile:!1,type:"OSM",maxExtent:[-20037508.3392,-20037508.3392,20037508.3392,20037508.3392],tileSize:[256,256],extension:"png",resolutions:[156543.03390625,78271.516953125,39135.7584765625,19567.87923828125,9783.939619140625,4891.9698095703125,2445.9849047851562,1222.9924523925781,611.4962261962891,305.74811309814453,152.87405654907226,76.43702827453613,38.218514137268066,19.109257068634033,9.554628534317017,4.777314267158508,2.388657133579254,1.194328566789627,.5971642833948135]}}},mapquest:{map:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{baseURL:"http://otile1.mqcdn.com/tiles/1.0.0/map/",opacity:x(e),singleTile:!1,type:"OSM",maxExtent:[-20037508.3392,-20037508.3392,20037508.3392,20037508.3392],tileSize:[256,256],extension:"png",resolutions:[156543.03390625,78271.516953125,39135.7584765625,19567.87923828125,9783.939619140625,4891.9698095703125,2445.9849047851562,1222.9924523925781,611.4962261962891,305.74811309814453,152.87405654907226,76.43702827453613,38.218514137268066,19.109257068634033,9.554628534317017,4.777314267158508,2.388657133579254,1.194328566789627,.5971642833948135]}}},wmts:{map:function(e,t){var n=t.projection,r=(0,p.getTileMatrix)(e,n),i=r.tileMatrixSet,a=r.tileMatrixSetName;if(!i)throw Error("tile matrix not found for pdf EPSG"+n);var c=A.getWMTSMatrixIds(e,i),l=A.normalizeUrl((0,d.castArray)(e.url)[0]),u={};return l.indexOf("{Style}")>=0&&(u={dimensions:["Style"],params:{STYLE:e.style}}),E(E({baseURL:encodeURI(l),format:e.format||"image/png",type:"WMTS",layer:e.name,"customParams ":(0,o.addAuthenticationParameter)(e.capabilitiesURL,v()({TRANSPARENT:!0}))},u),{},{matrixIds:c,matrixSet:a,style:e.style,name:e.name,requestEncoding:"RESTful"===e.requestEncoding?"REST":e.requestEncoding,opacity:x(e),version:e.version||"1.0.0"})}},tileprovider:{map:function(e){var t,n,r=(t=(0,u.getLayerConfig)(e.provider,e),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(t,n)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];if(!(0,d.isEmpty)(i)){var a,c=(0,s.ut)(E(E({},i),{},{url:null!==(a=null==i?void 0:i.url)&&void 0!==a?a:o}));if(!c)throw Error("No base URL found for this layer");var l=c.indexOf("{");return{baseURL:c.slice(0,l),path_format:c.slice(l).replace("{x}","${x}").replace("{y}","${y}").replace("{z}","${z}"),type:"xyz",extension:c.split(".").pop()||"png",opacity:x(e),tileSize:[256,256],maxExtent:[-20037508.3392,-20037508.3392,20037508.3392,20037508.3392],resolutions:[156543.03390625,78271.516953125,39135.7584765625,19567.87923828125,9783.939619140625,4891.9698095703125,2445.9849047851562,1222.9924523925781,611.4962261962891,305.74811309814453,152.87405654907226,76.43702827453613,38.218514137268066,19.109257068634033,9.554628534317017,4.777314267158508,2.388657133579254,1.194328566789627,.5971642833948135].filter((function(e,t){var n=!0;return i.maxNativeZoom&&(n=n&&t<=i.maxNativeZoom),n}))}}return{}}},tms:{map:function(e){var t=e.tileMapUrl.split(e.tileMapService+"/")[1];return{type:"tms",opacity:x(e),layer:t,baseURL:e.tileMapService.substring(0,e.tileMapService.lastIndexOf("/1.0.0")),tileSize:e.tileSize,format:(0,f.A)(e.tileMapUrl),maxExtent:[-20037508.3392,-20037508.3392,20037508.3392,20037508.3392],resolutions:e.tileSets.map((function(e){return e.resolution}))}}}},G=function(e,t){var n=[],o=(0,r.normalizeSRS)(e.srs||"EPSG:3857",e.allowedSRS),i=(0,m.U2)(o).getMetersPerUnit();return t&&t.TileMatrix.map((function(e){var t=e["ows:Identifier"],r=28e-5*e.ScaleDenominator/i,o=[(0,d.toNumber)(e.TileWidth),(0,d.toNumber)(e.TileHeight)],a=e.TopLeftCorner&&e.TopLeftCorner.split(" ").map((function(e){return(0,d.toNumber)(e)})),c=[(0,d.toNumber)(e.MatrixWidth),(0,d.toNumber)(e.MatrixHeight)];return n.push({identifier:t,matrixSize:c,resolution:r,tileSize:o,topLeftCorner:a})})),n},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return-1!==e.indexOf("rgba")?"rgb".concat(e.slice(e.indexOf("("),e.lastIndexOf(",")),")"):e},z=function(e,t,n){return t&&"marker"!==e.styleName?{fillColor:(0,l.qj)(t.fillColor),fillOpacity:t.fillOpacity,externalGraphic:t.iconUrl,pointRadius:t.radius,strokeColor:(0,l.qj)(t.color),strokeOpacity:t.opacity,strokeWidth:t.weight}:A.getOlDefaultStyle(e,n)},B=function(e,t){switch(t||T(e)||""){case"Polygon":case"MultiPolygon":return{fillColor:"#0000FF",fillOpacity:.1,strokeColor:"#0000FF",strokeOpacity:1,strokeWidth:3,strokeDashstyle:"dash",strokeLinecap:"round"};case"MultiLineString":case"LineString":return{strokeColor:"#0000FF",strokeOpacity:1,strokeWidth:3};case"Point":case"MultiPoint":return"marker"===e.styleName?{externalGraphic:"http://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/images/marker-icon.png",graphicWidth:25,graphicHeight:41,graphicXOffset:-12,graphicYOffset:-41}:{fillColor:"#FF0000",fillOpacity:0,strokeColor:"#FF0000",pointRadius:5,strokeOpacity:1,strokeWidth:1};default:return{fillColor:"#0000FF",fillOpacity:.1,strokeColor:"#0000FF",pointRadius:5,strokeOpacity:1,strokeWidth:1}}};A={toAbsoluteURL:R,getLayoutName:D,getMapfishLayersSpecification:F,specCreators:U,normalizeUrl:k,toOpenLayers2Style:z,getWMTSMatrixIds:G,getOlDefaultStyle:B}},84715:(e,t,n)=>{"use strict";n.d(t,{y:()=>c,o:()=>l});var r=n(61545),o=n(22222),i=function(e,t){return e===t},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return function(t,n){return Array.isArray(t)&&Array.isArray(n)?t===n||t.length===n.length&&t.reduce((function(t,r,o){return t&&e(r,n[o])}),!0):(0,r.isObject)(t)&&(0,r.isObject)(n)?t===n||Object.keys(t).length===Object.keys(n).length&&Object.keys(t).reduce((function(r,o){return r&&e(t[o],n[o])}),!0):t===n}},c=(0,o.wN)(o.PW,(function(e,t){return(0,r.isEqualWith)(e,t,a())})),l=function(e){return(0,o.wN)(o.PW,(function(t,n){return(0,r.isEqualWith)(t,n,a(e))}))}},93201:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(61545),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.split("?")[0].split("@");if(t.length>1){var n=t[t.length-1];if((0,r.includes)(["png","png8","jpeg","vnd.jpeg-png","gif"],n))return n}return null}},83139:(e,t,n)=>{"use strict";n.d(t,{Xq:()=>r});var r=function(e,t){return new Promise((function(n,r){var o=t||{},i=o.width,a=void 0===i?64:i,c=o.height,l=void 0===c?64:c,u=o.contain,s=o.type,p=void 0===s?"image/jpeg":s,f=o.quality,m=void 0===f?.5:f,d=new Image;d.crossOrigin="anonymous",d.onload=function(){var e=d.naturalWidth/d.naturalHeight,t=a,r=l,o=a/l,i=document.createElement("canvas");i.setAttribute("width",a),i.setAttribute("height",l),i.style.width=a+"px",i.style.height=l+"px";var c=i.getContext("2d"),s=!u&&e<o||u&&e>o?[t,t/e]:[r*e,r];c.save(),c.translate(t/2,r/2),c.drawImage(d,-s[0]/2,-s[1]/2,s[0],s[1]),c.restore();var f=i.toDataURL(p,m);n(f)},d.onerror=function(e){r(e)},d.src=e}))}},91983:(e,t,n)=>{"use strict";n.d(t,{PD:()=>G,ZP:()=>z,CG:()=>Z});var r=n(89255),o=n(96909),i=n(96842),a=n(75110),c=n(827),l=n(37275),u=n(62520),s=n(82904),p=n(81808),f=n(33528),m=n(21914),d=n(80416),y=n(7877),b=n(31255),g=n(20721),h=n.n(g),v=n(57546),O=n.n(v),S=n(27418),E=n.n(S),w=n(75982),A=n(31398),P=(n(24384),n(61545)),T=n(69293),j=n(93152),x=(n(74621),n(63516),n(10284),n(52259),n(86638)),C=n(91312);function R(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||k(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){if(e){if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(89919);var N=n(7147);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState;return e.ofType("GEONODE:CREATE_MAP_THUMBNAIL","GEONODE:CREATE_LAYER_THUMBNAIL").do((function(){try{$("#_thumbnail_processing").modal("show")}catch(e){console.log(e)}})).exhaustMap((function(e){var t=e.type,o=n(),l=(0,a.l2)(o),u=(0,c.Od)(o),s="GEONODE:CREATE_MAP_THUMBNAIL"===t,p=s?O()(u,"info.id"):l[l.length-1].name,f=s?"maps":"layers",m=u.size,d=m.width,y=m.height,b=u.bbox.bounds,g=b.maxx,h=b.minx,v=b.maxy,S={bbox:[h,g,b.miny,v],srid:u.bbox.crs,center:u.center,zoom:u.zoom,width:d,height:y,layers:l.filter((function(e){return"background"!==e.group&&e.visibility})).map((function(e){return e.name})).join(",")};return(0,i.Vi)(f,p,S).do((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=e.status;try{$("#_thumbnail_feedbacks").find(".modal-title").text(n),$("#_thumbnail_feedbacks").find(".modal-body").text(t),$("#_thumbnail_feedbacks").modal("show")}catch(e){console.log(e)}})).mapTo({type:"THUMBNAIL_UPDATE"}).catch((function(e){var t=e.code,n=e.message;try{"ECONNABORTED"===t?($("#_thumbnail_feedbacks").find(".modal-title").text("Timeout"),$("#_thumbnail_feedbacks").find(".modal-body").text("Failed from timeout: Could not create Thumbnail"),$("#_thumbnail_feedbacks").modal("show")):($("#_thumbnail_feedbacks").find(".modal-title").text("Error: "+n),$("#_thumbnail_feedbacks").find(".modal-body").text("Could not create Thumbnail"),$("#_thumbnail_feedbacks").modal("show"))}catch(e){console.log(e)}finally{return r.Observable.of({type:"THUMBNAIL_UPDATE_ERROR"})}})).do((function(){try{$("#_thumbnail_processing").modal("hide")}catch(e){console.log(e)}}))}))},Z=function(e,t){return e.ofType(p.ok,f.DA,s.dc,f.sF,f.$O,m.cb,m.ph,m.XL,m.Ih,s.kM,s.At,d.cI,d.g6,m.km,m.DZ).switchMap((function(){var e=t.getState();if(O()(e,"browser.mobile")){var n=F({},(0,y.Qp)(e)?{bottom:"50%"}:{bottom:void 0});return r.Observable.of((0,u.F)({boundingMapRect:n}))}var o=(0,l.u8)("mapLayout")||{left:{sm:300,md:500,lg:600},right:{md:658},bottom:{sm:30}};if("embedded"===O()(e,"mode")){var i={height:"calc(100% - "+o.bottom.sm+"px)"},a=F({},(0,y.Qp)(e)?{bottom:"50%"}:{bottom:void 0});return r.Observable.of((0,u.F)(F(F({},i),{},{boundingMapRect:a})))}var c=O()(e,"controls.drawer.resizedWidth"),s=h()([O()(e,"controls.queryPanel.enabled")&&{left:o.left.lg}||null,O()(e,"controls.widgetBuilder.enabled")&&{left:o.left.md}||null,O()(e,"layers.settings.expanded")&&{left:o.left.md}||null,O()(e,"controls.drawer.enabled")&&{left:c||o.left.sm}||null].filter((function(e){return e})))||{left:0},p=h()([O()(e,"controls.details.enabled")&&{right:o.right.md}||null,O()(e,"controls.annotations.enabled")&&{right:o.right.md}||null,O()(e,"controls.metadataexplorer.enabled")&&{right:o.right.md}||null,O()(e,"controls.measure.enabled")&&(0,N.Iz)(e)&&{right:o.right.md}||null,O()(e,"mapInfo.enabled")&&(0,y.Qp)(e)&&{right:o.right.md}||null].filter((function(e){return e})))||{right:0},f=100*(0,b.P4)(e),m=(0,b.Rd)(e)&&{bottom:f+"%",dockSize:f}||{bottom:o.bottom.sm},d=(0,b.Rd)(e)&&{transform:"translate(0, -"+o.bottom.sm+"px)"}||{transform:"none"},g={height:"calc(100% - "+o.bottom.sm+"px)"},v=F(F(F({},m),s),p);return r.Observable.of((0,u.F)(F(F(F(F(F(F({},s),p),m),d),g),{},{boundingMapRect:v})))}))};const z={mapSaveMapResourceEpic:function(e,t){return e.ofType(T.Vm).exhaustMap((function(e){var n,o=e.resource,i=(0,P.mapValues)(o.attributes,(function(e){if((0,P.isObject)(e)){var t=null;try{t=JSON.stringify(e)}catch(e){t=null}return t}return e})),a=(0,P.keys)(i).filter((function(e){return"thumbnail"!==e&&"details"!==e&&!(0,P.isNil)(i[e])}));return r.Observable.forkJoin((n=(0,P.get)(o,"attributes.context"),n?(0,C.RX)(n,{withData:!1}):r.Observable.of(null)),o.id?(0,C.id)(o):(0,C.SN)(o)).switchMap((function(e){var n,c,l=(c=2,function(e){if(Array.isArray(e))return e}(n=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(n,c)||k(n,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=l[0],f=l[1];return(a.length>0?r.Observable.forkJoin(a.map((function(e){return(0,C.rX)({id:f,name:e,value:i[e]})}))):r.Observable.of([])).switchMap((function(){return r.Observable.from([].concat(R(o.id?[(0,p.I6)(f)]:[]),R(o.id?[(0,p.H0)(o.data,f)]:[]),[o.id?(0,s.Xi)("mapSave"):(0,s.Xi)("mapSaveAs"),(0,p.SI)(o.id)],R(o.id?[]:[(0,T.sK)(f,E()({id:f,canDelete:!0,canEdit:!0,canCopy:!0},o.metadata),o.data),(0,w.VF)(u?"/context/".concat(u.name,"/").concat(f):"/viewer/".concat((0,j.$v)(t.getState()),"/").concat(f))]))).merge(r.Observable.of((0,A.c)({title:"map.savedMapTitle",message:"map.savedMapMessage",autoDismiss:6,position:"tc"})))}))})).catch((function(e){var t=e.status,n=e.statusText,o=e.data,i=e.message,a=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["status","statusText","data","message"]);return r.Observable.of((0,p.$D)(t?{status:t,statusText:n,data:o}:i||a),(0,A.d)(I(I({},(0,x.e$)(e,"geostore","mapsError")),{},{autoDismiss:6,position:"tc"})))})).startWith(o.id?(0,T.AS)(o.metadata):(0,T.jD)(o.metadata))}))},_setFeatureEditPermission:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState;return e.ofType(d.c7).filter((function(e){return"layer"===e.nodeType&&!(0,l.u8)("disableCheckEditPermissions")})).switchMap((function(){var e=(0,a.Iz)(n()||{});return e?(0,i.e4)(e).map((function(e){return(0,f.HT)(e)})).startWith((0,f.HT)({canEdit:!1})).catch((function(){return r.Observable.empty()})):r.Observable.of((0,f.HT)({canEdit:!1}))}))},_setThumbnail:G,_setStyleEditorPermission:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState;return e.ofType(o.wL,d.c7).filter((function(e){var t=e.nodeType;return t&&"layer"===t&&!(0,l.u8)("disableCheckEditPermissions")||!t&&!(0,l.u8)("disableCheckEditPermissions")})).switchMap((function(e){var t=(0,a.Iz)(n()||{});return t?(0,i.Um)(t).map((function(e){var t=e.canEdit;return(0,o.xR)(t)})).startWith((0,o.xR)(e.canEdit)).catch((function(){return r.Observable.empty()})):r.Observable.of((0,o.xR)(!1))}))},updateMapLayoutEpic:Z}},79047:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var r=!1},25258:(e,t,n)=>{(e.exports=n(9252)()).push([e.id,"\r\n.msgapi .background-preview-button-label {\r\n    position: absolute;\r\n    overflow: hidden;\r\n    font-weight: bold;\r\n    font-size: 12px;\r\n    text-align: center;\r\n    -webkit-transition: all 0.0s;\r\n    -moz-transition: all 0.0s;\r\n    -o-transition: all 0.0s;\r\n    transition: all 0.0s;\r\n\r\n}\r\n\r\n.msgapi .background-preview-button-label div {\r\n    overflow: hidden;\r\n    opacity: 0.8;\r\n    box-shadow: 0 7px 14px rgba(0,0,0,0.12), 0 5px 5px rgba(0,0,0,0.11);\r\n    -webkit-box-shadow:  0 7px 14px rgba(0,0,0,0.12), 0 5px 5px rgba(0,0,0,0.11);\r\n    -moz-box-shadow:  0 7px 14px rgba(0,0,0,0.12), 0 5px 5px rgba(0,0,0,0.11);\r\n}\r\n\r\n.msgapi .background-preview-button-container {\r\n    -webkit-transition: all 0.3s;\r\n    -moz-transition: all 0.3s;\r\n    -o-transition: all 0.3s;\r\n    transition: all 0.3s;\r\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n}\r\n\r\n.msgapi .background-preview-button-frame {\r\n    overflow: hidden;\r\n    -webkit-transition: all 0.3s;\r\n    -moz-transition: all 0.3s;\r\n    -o-transition: all 0.3s;\r\n    transition: all 0.3s;\r\n}\r\n\r\n.msgapi .background-preview-button-frame img{\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.msgapi .background-preview-button-container:hover {\r\n    cursor: pointer;\r\n    box-shadow: none;\r\n}\r\n\r\n.msgapi .background-preview-button-container:active {\r\n    opacity: 0.6;\r\n}\r\n",""])},66193:(e,t,n)=>{(e.exports=n(9252)()).push([e.id,"\r\n.msgapi .background-preview-icon-frame {\r\n    overflow: hidden;\r\n}\r\n\r\n.msgapi .background-preview-icon-frame img{\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.msgapi .background-preview-icon-container-horizontal {\r\n    cursor: pointer;\r\n    float: left;\r\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n}\r\n\r\n.msgapi .background-preview-icon-container-horizontal:hover {\r\n    cursor: pointer;\r\n    box-shadow: none;\r\n    opacity: 0.9;\r\n}\r\n\r\n.msgapi .background-preview-icon-container-horizontal:active {\r\n    opacity: 0.6;\r\n}\r\n\r\n.msgapi .background-preview-icon-container-horizontal.disabled-icon {\r\n    cursor: not-allowed;\r\n    float: left;\r\n    opacity: 0.5;\r\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n}\r\n\r\n.msgapi .background-preview-icon-container-vertical {\r\n    cursor: pointer;\r\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n}\r\n\r\n.msgapi .background-preview-icon-container-vertical:hover {\r\n    cursor: pointer;\r\n    box-shadow: none;\r\n    opacity: 0.9;\r\n}\r\n\r\n.msgapi .background-preview-icon-container-vertical:active {\r\n    opacity: 0.6;\r\n}\r\n\r\n.msgapi .background-preview-icon-container-vertical.disabled-icon {\r\n    cursor: not-allowed;\r\n    opacity: 0.5;\r\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n}\r\n",""])},8439:(e,t,n)=>{(e.exports=n(9252)()).push([e.id,".msgapi .mapToolbar .mapstore-tb-helpbadge {\r\n    display: block;\r\n    background-color: #777;\r\n    position: absolute;\r\n    z-index: 1000;\r\n    top : -10px;\r\n    left: -10px;\r\n}\r\n\r\n\r\n.msgapi #helpbadge-zoomToMaxExtent {\r\n    display: inline;\r\n    position: absolute;\r\n    left: 34px;\r\n    top: 72px;\r\n    z-index: 100000\r\n}\r\n\r\n.msgapi #helpbadge-scaleBox {\r\n    display: inline;\r\n    position: absolute;\r\n    left: 116px;\r\n    bottom: 48px;\r\n    z-index: 100000\r\n}\r\n\r\n.msgapi #helpbadge-seachBar {\r\n    display: inline;\r\n    position: absolute;\r\n    left: 46px;\r\n    top: 10px;\r\n    z-index: 100000\r\n}\r\n\r\n\r\n.msgapi .btn .badge {\r\n    position: absolute;\r\n    top: -10px;\r\n    left: -10px;\r\n}\r\n\r\n.msgapi .themed .btn .badge {\r\n    top: -35px;\r\n    left: -50px;\r\n}\r\n\r\n.msgapi .badge {\r\n    cursor: pointer;\r\n}\r\n\r\n.msgapi #helpbadge-scaleBox {\r\n    left: 0 !important;\r\n}\r\n\r\n.msgapi #mapstore-navbar #helpbadge-search-help {\r\n    position: absolute;\r\n    left: -10px;\r\n    bottom: -8px;\r\n    z-index: 1;\r\n}\r\n",""])},82288:(e,t,n)=>{(e.exports=n(9252)()).push([e.id,".msgapi #mapstore-burger-menu {\r\n    position: absolute;\r\n    right: 0;\r\n    top: 0;\r\n}\r\n\r\n.msgapi .burger-menu-submenu {\r\n    display: none;\r\n    position: absolute;\r\n    left: -160px;\r\n    top: 0px;\r\n    background-color: white;\r\n    width: 160px;\r\n    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);\r\n}\r\n\r\n.msgapi .burger-menu-submenu li:hover {\r\n    background-color: #dddddd;\r\n}\r\n\r\n.msgapi .burger-menu-submenu li a {\r\n    display: block;\r\n    padding: 10px 15px;\r\n}\r\n\r\n.msgapi .burger-menu-submenu li a:hover {\r\n    text-decoration: none;\r\n    background-color: #dddddd;\r\n}\r\n\r\n.msgapi #mapstore-burger-menu .dropdown-menu > li > a:hover > span > .burger-menu-submenu,\r\n.msgapi .burger-menu-submenu > li > a:hover > span > .burger-menu-submenu {\r\n    display: block;\r\n}\r\n\r\n.msgapi .burger-menu-submenu span {\r\n    overflow: hidden;\r\n}\r\n\r\n.msgapi #mapstore-navbar #mapstore-burger-menu {\r\n    position: relative;\r\n    float: right;\r\n    left: 0;\r\n}\r\n",""])},20701:(e,t,n)=>{(e.exports=n(9252)()).push([e.id,".msgapi .swipe-header-left-button {\r\n    float: left;\r\n}\r\n\r\n.msgapi .swipe-header-right-button {\r\n    float: right;\r\n}\r\n",""])},24846:(e,t,n)=>{(e.exports=n(9252)()).push([e.id,".msgapi .mapErrorMessage {\r\n    font-size: 16px;\r\n    color: red;\r\n}\r\n",""])},6934:(e,t,n)=>{(e.exports=n(9252)()).push([e.id,".msgapi #mapstore-globalspinner  {\r\n    width: 28px;\r\n    height: 28px;\r\n    box-shadow: 0px 0px 4px 2px rgba(0, 0, 0, 0.2);\r\n    background-color: white;\r\n    background-size: 80px 80px;\r\n    background-repeat: no-repeat;\r\n    border-radius: 4px;\r\n    border: 1px solid #999;\r\n    z-index: 10;\r\n    top: 90px;\r\n    left: 2px;\r\n    position: absolute;\r\n    margin: 8px;\r\n}\r\n\r\n.msgapi #mapstore-globalspinner .circle-wrapper {\r\n    margin-left: 2px;\r\n    margin-top: 1px;\r\n}\r\n\r\n.msgapi #mapstore-toolbar #mapstore-globalspinner {\r\n    position: static;\r\n    width: 42px;\r\n    margin: 0;\r\n    margin-top: 0;\r\n    height: 35px;\r\n    box-shadow: none;\r\n}\r\n\r\n.msgapi .ms2-loading .sk-circle-wrapper {\r\n     width: 30px;\r\n     height: 30px;\r\n     margin-left: 10px !important;\r\n     margin-top: 10px !important;\r\n }\r\n",""])},90603:(e,t,n)=>{(e.exports=n(9252)()).push([e.id,"/*viewer navbar */\r\n.msgapi .navbar-dx{\r\n\tposition:absolute;\r\n\tright:0;\r\n\ttop:0;\r\n}\r\n\r\n.msgapi .navbar-dx > ul{\r\n\tpadding:0;\r\n}\r\n\r\n.msgapi .navbar-dx > ul > li{\r\n\tfloat: left;\r\n\tlist-style:none;\r\n}\r\n\r\n.msgapi .navbar-dx .search-wrap .MapSearchBar{\r\n    right: 0;\r\n    top: 0;\r\n    left: 0;\r\n}\r\n\r\n.msgapi .navbar-dx .search-wrap .form-control,.msgapi .navbar-dx .search-wrap .form-control:focus{\r\n    border-color: #fff;\r\n    border-right: 0;\r\n    webkit-box-shadow: none;\r\n    box-shadow: none;\r\n}\r\n.msgapi .navbar-dx .search-wrap .MapSearchBar .input-group-addon{\r\n    border: 0;\r\n}\r\n.msgapi .navbar-dx .search-result-list{\r\n    left: 0;\r\n    max-height: none;\r\n}\r\n\r\n.msgapi .navbar-dx .dropdown-menu {\r\n\tmargin:0;\r\n\tpadding-top: 0;\r\n}\r\n\r\n@media (min-width: 1200px) {\r\n    .msgapi .navbar-dx .search-wrap {\r\n       width: 500px;\r\n       height: 50px;\r\n    }\r\n}\r\n\r\n.msgapi .navbar-dx > * {\r\n\tdisplay: inline-block;\r\n}\r\n/* Page Navbar */\r\n.msgapi .navbar-home .dropdown {\r\n\tfloat: right;\r\n}\r\n.msgapi .navbar-home .navbar-header {\r\n\tmargin-top: 7px;\r\n\tmargin-left: 10px;\r\n\tmargin-right: 10px;\r\n\tdisplay: inline-block;\r\n}\r\n",""])},43248:(e,t,n)=>{(e.exports=n(9252)()).push([e.id,".msgapi #mappreview-scalebox {\r\n    position: relative;\r\n    top: -36px;\r\n    width: 150px;\r\n    left: 10px;\r\n}\r\n\r\n.msgapi .print-error {\r\n    height: 100px;\r\n    color: #600;\r\n    background-color: #E8BABA;\r\n    border: solid #600 1px;\r\n    border-radius: 10px;\r\n    padding: 10px;\r\n}\r\n.msgapi .print-error span, .msgapi .print-warning span {\r\n    display: inline-block;\r\n    max-height: 80px;\r\n    overflow: auto;\r\n    width: 100%;\r\n}\r\n.msgapi .print-warning {\r\n    height: 50px;\r\n    color: #660;\r\n    background-color: #E6E8BA;\r\n    border: solid #660 1px;\r\n    border-radius: 10px;\r\n    padding: 10px;\r\n}\r\n.msgapi .print-preview-panel .spinner {\r\n    display: inline-block;\r\n}\r\n\r\n.msgapi .print-mappreview-refresh {\r\n    position: relative;\r\n    top: -83px;\r\n    right: -155px;\r\n    z-index: 1000;\r\n}\r\n.msgapi #mapstore-print-panel.modal-dialog {\r\n    z-index: 2000;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .modal-body {\r\n    max-height: calc(100vh - 190px);\r\n    overflow-y: auto;\r\n}\r\n\r\n.msgapi .mapstore-print-panel {\r\n    width: 850px;\r\n    position: absolute;\r\n    top: 50px;\r\n    right: 60px;\r\n    zIndex: 100;\r\n}\r\n\r\n.msgapi .mapstore-print-panel .form-inline label {\r\n    margin-right: 20px;\r\n}\r\n\r\n.msgapi .mapstore-print-panel .print-download {\r\n    margin-right: 10px;\r\n    display: inline-block;\r\n    width: 30px;\r\n    height: 34px;\r\n    border: solid 1px #CCC;\r\n    padding: 7px;\r\n    border-radius: 4px;\r\n    padding-right: 25px;\r\n    padding-left: 11px;\r\n    top: 2px;\r\n    position: relative;\r\n}\r\n\r\n.msgapi .print-layout .panel-title {\r\n    padding-left: 10px;\r\n}\r\n\r\n.msgapi .print-layout .panel-title a{\r\n    text-decoration: none;\r\n}\r\n\r\n.msgapi .print-layout .panel-title a:hover{\r\n    color: #d6d6d6;\r\n}\r\n\r\n.msgapi .print-legend-options .panel-title {\r\n    padding-left: 10px;\r\n}\r\n\r\n.msgapi .print-legend-options .panel-title a{\r\n    text-decoration: none;\r\n}\r\n\r\n.msgapi .print-legend-options .panel-title a:hover{\r\n    color: #d6d6d6;\r\n}\r\n\r\n\r\n@media (min-width: 992px) {\r\n    .msgapi #mapstore-print-panel {\r\n        width: 825px;\r\n    }\r\n}\r\n\r\n@media (max-width: 991px) {\r\n    .msgapi #mapstore-print-panel {\r\n        width: 700px;\r\n    }\r\n}\r\n\r\n@media (max-width: 767px) {\r\n    .msgapi #mapstore-print-panel {\r\n        width: 98%;\r\n    }\r\n}\r\n\r\n.msgapi #mapstore-print-panel .modal-body .print-mappreview-refresh {\r\n    top: -96px;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .print-submit {\r\n    float: right;\r\n}\r\n\r\n@media (min-width: 768px) {\r\n    .msgapi #mapstore-print-panel input[type=radio] {\r\n        margin: 0 8px 0 20px;\r\n    }\r\n}\r\n\r\n.msgapi #mapstore-print-panel .print-map-preview {\r\n    margin-bottom: 15px;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .panel-default {\r\n    border: none;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .panel-heading .panel-title {\r\n    font-weight: bold;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .panel-heading {\r\n    padding-left: 0;\r\n    background-color: transparent;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .panel-body {\r\n    padding: 10px;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .form-control {\r\n    padding: 0 10px;\r\n    height: 25px;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .print-download {\r\n    margin-right: 10px;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .print-download a {\r\n    color: white;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .print-legend-options .container-fluid {\r\n    padding-left: 0;\r\n    padding-right: 0;\r\n}\r\n",""])},85488:(e,t,n)=>{(e.exports=n(9252)()).push([e.id,".msgapi #mapstore-scalebox {\r\n    /*z-index: 10;\r\n    bottom: 6px;\r\n    left: -2px;\r\n    position: absolute;\r\n    margin: 8px;\r\n    width: 148px;*/\r\n}\r\n\r\n.msgapi #mapstore-scalebox-container {\r\n    /*z-index: 10;\r\n    bottom: -16px;\r\n    right: 55px;\r\n    left: auto;\r\n    position: absolute;\r\n    margin: 8px;\r\n    width: 148px;*/\r\n}\r\n",""])},20729:(e,t,n)=>{(e.exports=n(9252)()).push([e.id,".msgapi .mapToolbar {\r\n    position: absolute;\r\n    bottom: 5px;\r\n    right: 0;\r\n    z-index: 1000;\r\n    margin-bottom: 35px;\r\n    margin-right: 5px;\r\n}\r\n\r\n.msgapi .toolbarexpand-enter {\r\n  opacity: 0.01;\r\n}\r\n\r\n.msgapi .toolbarexpand-enter.toolbarexpand-enter-active {\r\n  opacity: 1;\r\n  transition: opacity 500ms ease-in;\r\n}\r\n\r\n.msgapi .toolbarexpand-leave {\r\n  opacity: 1;\r\n}\r\n\r\n.msgapi .toolbarexpand-leave.toolbarexpand-leave-active {\r\n  opacity: 0.01;\r\n  transition: opacity 300ms ease-in;\r\n}\r\n\r\n.msgapi #navigationBar .toolbar-panel {\r\n    bottom: 80px !important;\r\n}\r\n\r\n.msgapi #identifyBar .mapToolbar {\r\n    top: auto !important;\r\n    bottom: 5px;\r\n    right: 212px !important;\r\n}\r\n",""])},80374:(e,t,n)=>{(e.exports=n(9252)()).push([e.id,".msgapi #zoomin-btn, .msgapi #zoomout-btn {\r\n    z-index: 1;\r\n    position: relative;\r\n}\r\n",""])},60536:(e,t,n)=>{(e.exports=n(9252)()).push([e.id,".msgapi #mapstore-zoomtomaxextent {\r\n    z-index: 1;\r\n    position: relative;\r\n}\r\n",""])},2349:(e,t,n)=>{var r=n(25258);"string"==typeof r&&(r=[[e.id,r,""]]),n(14246)(r,{}),r.locals&&(e.exports=r.locals)},29080:(e,t,n)=>{var r=n(66193);"string"==typeof r&&(r=[[e.id,r,""]]),n(14246)(r,{}),r.locals&&(e.exports=r.locals)},41165:(e,t,n)=>{var r=n(8439);"string"==typeof r&&(r=[[e.id,r,""]]),n(14246)(r,{}),r.locals&&(e.exports=r.locals)},20533:(e,t,n)=>{var r=n(82288);"string"==typeof r&&(r=[[e.id,r,""]]),n(14246)(r,{}),r.locals&&(e.exports=r.locals)},17097:(e,t,n)=>{var r=n(20701);"string"==typeof r&&(r=[[e.id,r,""]]),n(14246)(r,{}),r.locals&&(e.exports=r.locals)},41738:(e,t,n)=>{var r=n(24846);"string"==typeof r&&(r=[[e.id,r,""]]),n(14246)(r,{}),r.locals&&(e.exports=r.locals)},77890:(e,t,n)=>{var r=n(6934);"string"==typeof r&&(r=[[e.id,r,""]]),n(14246)(r,{}),r.locals&&(e.exports=r.locals)},78998:(e,t,n)=>{var r=n(90603);"string"==typeof r&&(r=[[e.id,r,""]]),n(14246)(r,{}),r.locals&&(e.exports=r.locals)},97142:(e,t,n)=>{var r=n(43248);"string"==typeof r&&(r=[[e.id,r,""]]),n(14246)(r,{}),r.locals&&(e.exports=r.locals)},87231:(e,t,n)=>{var r=n(85488);"string"==typeof r&&(r=[[e.id,r,""]]),n(14246)(r,{}),r.locals&&(e.exports=r.locals)},50329:(e,t,n)=>{var r=n(20729);"string"==typeof r&&(r=[[e.id,r,""]]),n(14246)(r,{}),r.locals&&(e.exports=r.locals)},7594:(e,t,n)=>{var r=n(80374);"string"==typeof r&&(r=[[e.id,r,""]]),n(14246)(r,{}),r.locals&&(e.exports=r.locals)},48966:(e,t,n)=>{var r=n(60536);"string"==typeof r&&(r=[[e.id,r,""]]),n(14246)(r,{}),r.locals&&(e.exports=r.locals)},2750:(e,t,n)=>{e.exports=n.p+"MapStore2/web/client/components/background/img/default.jpg"},25518:(e,t,n)=>{e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/Aerial.jpg"},28424:(e,t,n)=>{e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/AerialWithLabels.jpg"},37679:(e,t,n)=>{e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/HYBRID.jpg"},78465:(e,t,n)=>{e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/NASA_NIGHT.jpg"},76886:(e,t,n)=>{e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/OpenTopoMap.jpg"},70570:(e,t,n)=>{e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/ROADMAP.jpg"},50277:(e,t,n)=>{e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/SATELLITE.jpg"},4925:(e,t,n)=>{e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/TERRAIN.jpg"},28753:(e,t,n)=>{e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/dafault.jpg"},64322:(e,t,n)=>{e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/mapnik.jpg"},7909:(e,t,n)=>{e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/mapquest-osm.jpg"},7790:e=>{e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wgARCAD1APUDAREAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAf/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAGwgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH//EABQQAQAAAAAAAAAAAAAAAAAAAJD/2gAIAQEAAQUCcH//xAAUEQEAAAAAAAAAAAAAAAAAAACQ/9oACAEDAQE/AXB//8QAFBEBAAAAAAAAAAAAAAAAAAAAkP/aAAgBAgEBPwFwf//EABQQAQAAAAAAAAAAAAAAAAAAAJD/2gAIAQEABj8CcH//xAAUEAEAAAAAAAAAAAAAAAAAAACQ/9oACAEBAAE/IXB//9oADAMBAAIAAwAAABCSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSf/8QAFBEBAAAAAAAAAAAAAAAAAAAAkP/aAAgBAwEBPxBwf//EABQRAQAAAAAAAAAAAAAAAAAAAJD/2gAIAQIBAT8QcH//xAAUEAEAAAAAAAAAAAAAAAAAAACQ/9oACAEBAAE/EHB//9k="},35339:(e,t,n)=>{e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/s2cloudless.jpg"},12993:()=>{},58618:()=>{},120:()=>{},45804:()=>{}}]);