(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[8618],{44948:(e,t,r)=>{function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r(45697),y=r(67294),h=r(61545),d=h.isEqual,g=h.isArray,b=h.castArray,v=r(27418),O=r(9669),w=r(80379).geometryToLayer,S=r(66287).createStylesAsync,L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(y,e);var t,r,o,n,f=(o=y,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(o);if(n){var r=u(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return c(this,e)});function y(){var e;a(this,y);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return m(p(e=f.call.apply(f,[this].concat(r))),"createLayer",(function(t){t.geometry&&e.addFeature(i(i({},t),{},{style:t.style&&b(t.style)||void 0})),t.features&&t.features.forEach((function(r){var o=v({},t,{type:r.type,geometry:r.geometry,style:r.style&&b(r.style)||void 0,properties:r.properties});e.addFeature(o)}))})),m(p(e),"removeLayer",(function(t){e._layers&&(e._layers.forEach((function(e){t.container.removeLayer(e)})),e._layers=[])})),e}return t=y,(r=[{key:"componentDidMount",value:function(){this._layers=[],(this.props.container&&this.props.geometry||this.props.features)&&this.createLayer(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){d(e.properties,this.props.properties)&&d(e.geometry,this.props.geometry)&&e.features===this.props.features&&e.style===this.props.style&&e.styleName===this.props.styleName||(this.removeLayer(e),this.createLayer(e))}},{key:"componentWillUnmount",value:function(){this.removeLayer(this.props)}},{key:"render",value:function(){return null}},{key:"addFeature",value:function(e){var t=this;if(g(e.style)){var r=S(e.style);O.all(r).then((function(r){t.addLayer(e,r)}))}else this.addLayer(e,e.style)}},{key:"addLayer",value:function(e,t){var r=this,o=w({type:e.type,geometry:e.geometry,properties:e.properties,msId:e.msId},{style:t,styleName:e.styleName});e.container.addLayer(o),o.on("click",(function(t){e.onClick&&e.onClick({pixel:{x:t.originalEvent&&t.originalEvent.x,y:t.originalEvent&&t.originalEvent.y},latlng:t.latlng},r.props.options.handleClickOnLayer?r.props.options.id:null)})),o.setOpacity||(o.setOpacity=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.originalStyle||this.options&&this.options.style||this.options||{};this.originalStyle=i({},t);var r=t.opacity,n=void 0===r?1:r,a=t.fillOpacity,s=void 0===a?1:a,l=t.color,c=t.fillColor,p=t.radius,u=t.weight,m={color:l,fillColor:c,radius:p,weight:u,opacity:n*e,fillOpacity:s*e};o.setStyle&&o.setStyle(m)}),this._layers.push(o)}}])&&s(t.prototype,r),y}(y.Component);m(L,"propTypes",{msId:f.oneOfType([f.string,f.number]),type:f.string,styleName:f.string,properties:f.object,container:f.object,geometry:f.object,features:f.array,style:f.object,onClick:f.func,options:f.object}),e.exports=L},52792:(e,t,r)=>{function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r(45697),y=r(67294),h=r(44712),d=r(27418),g=r(61545).isEqual,b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(b,e);var t,r,o,n,f=(o=b,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(o);if(n){var r=u(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return c(this,e)});function b(){var e;a(this,b);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return m(p(e=f.call.apply(f,[this].concat(r))),"setLayerVisibility",(function(t){t!==(e.props.options&&!1!==e.props.options.visibility)&&(t?e.addLayer():e.removeLayer(),e.updateZIndex())})),m(p(e),"setLayerOpacity",(function(t){t!==(e.props.options&&void 0!==e.props.options.opacity?e.props.options.opacity:1)&&e.layer&&e.layer.setOpacity&&e.layer.setOpacity(t)})),m(p(e),"generateOpts",(function(t,r,o){return d({},t,r?{zIndex:r,srs:e.props.srs}:null,{zoomOffset:-e.props.zoomOffset,onError:function(){e.props.onCreationError(t)},securityToken:o})})),m(p(e),"updateZIndex",(function(t){var r=t||e.props.position;r&&e.layer&&e.layer.setZIndex&&e.layer.setZIndex(r)})),m(p(e),"createLayer",(function(t,r,o,n){if(t){var i=e.generateOpts(r,o,n);e.layer=h.createLayer(t,i),e.layer&&(e.layer.layerName=r.name,e.layer.layerId=r.id),e.forceUpdate()}})),m(p(e),"updateLayer",(function(t,r){var o=h.updateLayer(t.type,e.layer,e.generateOpts(t.options,t.position,t.securityToken),e.generateOpts(r.options,r.position,r.securityToken));o&&(e.removeLayer(),e.layer=o,e.addLayer())})),m(p(e),"addLayer",(function(){if(e.isValid()&&(e.props.map.addLayer(e.layer),e.props.options.refresh&&e.layer.setParams)){var t=0;e.refreshTimer=setInterval((function(){e.layer.setParams(d({},e.props.options.params,{_refreshCounter:t++}))}),e.props.options.refresh)}})),m(p(e),"removeLayer",(function(){e.isValid()&&e.props.map.removeLayer(e.layer)})),m(p(e),"isValid",(function(){if(e.layer){var t=h.isValid(e.props.type,e.layer);return e.valid=t,t}return!1})),e}return t=b,(r=[{key:"componentDidMount",value:function(){this.valid=!0,this.createLayer(this.props.type,this.props.options,this.props.position,this.props.securityToken),this.props.options&&this.layer&&!1!==this.props.options.visibility&&(this.addLayer(),this.updateZIndex())}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.options&&!1!==e.options.visibility;this.setLayerVisibility(t);var r=e.options&&void 0!==e.options.opacity?e.options.opacity:1;this.setLayerOpacity(r),e.position!==this.props.position&&this.updateZIndex(e.position),this.updateLayer(e,this.props)}},{key:"shouldComponentUpdate",value:function(e){var t=this;return!["map","type","srs","position","zoomOffset","onClick","options","children"].reduce((function(r,o){switch(o){case"map":case"type":case"srs":case"position":case"zoomOffset":case"onClick":case"children":return r&&t.props[o]===e[o];case"options":return r&&(t.props[o]===e[o]||g(i(i({},t.props[o]),{},{loading:!1}),i(i({},e[o]),{},{loading:!1})));default:return r}}),!0)}},{key:"componentWillUnmount",value:function(){this.layer&&this.props.map&&(this.removeLayer(),this.refreshTimer&&clearInterval(this.refreshTimer))}},{key:"render",value:function(){var e=this;if(this.props.children){var t=this.layer,r=t?y.Children.map(this.props.children,(function(r){return r?y.cloneElement(r,{container:t,styleName:e.props.options&&e.props.options.styleName,onClick:e.props.onClick,options:e.props.options||{}}):null})):null;return y.createElement(y.Fragment,null,r)}return h.renderLayer(this.props.type,this.props.options,this.props.map,this.props.map.id,this.layer)}}])&&s(t.prototype,r),b}(y.Component);m(b,"propTypes",{map:f.object,type:f.string,srs:f.string,options:f.object,position:f.number,zoomOffset:f.number,onCreationError:f.func,onClick:f.func,securityToken:f.string}),m(b,"defaultProps",{onCreationError:function(){},options:{}}),e.exports=b},15813:(e,t,r)=>{"use strict";r.d(t,{Z:()=>L});var o=r(45697),n=r.n(o),i=r(67294),a=r.n(i),s=r(56307),l=r.n(s),c=r(27418),p=r.n(c);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r(80687),r(7243);var w={follow:!0,remainActive:!0,stopFollowingOnDrag:!0,locateOptions:{maximumAge:2e3,enableHighAccuracy:!1,timeout:1e4,watch:!0}};l().Control.MSLocate=l().Control.Locate.extend({setMap:function(e){this._map=e,this._layer=this.options.layer||new(l().LayerGroup),this._layer.addTo(e),this._event=void 0,this._prevBounds=null;var t={};l().extend(t,this.options.markerStyle,this.options.followMarkerStyle),this.options.followMarkerStyle=t,t={},l().extend(t,this.options.circleStyle,this.options.followCircleStyle),this.options.followCircleStyle=t,this._resetVariables(),this._map.on("unload",this._unload,this)},setLocateOptions:function(e){this.options.locateOptions=v({},e)},_setClasses:function(e){return this._map.fire("locatestatus",{state:e}),e},_updateContainerStyle:function(){this._isFollowing()?this._setClasses("following"):this._active&&this._setClasses("active")},_cleanClasses:function(){return null},setStrings:function(e){this.options.strings=p()({},this.options.strings,e)}});var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(a,e);var t,r,o,n,i=(o=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=g(o);if(n){var r=g(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return h(this,e)});function a(){var e;m(this,a);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return O(d(e=i.call.apply(i,[this].concat(r))),"onLocationError",(function(t){e.props.onLocateError(t.message),e.props.changeLocateState("DISABLED")})),O(d(e),"locateControlState",(function(t){"requesting"===t.state&&"LOCATING"!==e.props.status?e.props.changeLocateState("LOCATING"):"following"!==t.state||e.fol?"active"===t.state&&"ENABLED"!==e.props.status&&e.props.changeLocateState("ENABLED"):e.props.changeLocateState("FOLLOWING")})),e}return t=a,(r=[{key:"componentDidMount",value:function(){this.props.map&&(this.locate=new(l().Control.MSLocate)(this.mergeOptions(this.props)),this.locate.setMap(this.props.map),this.props.map.on("locatestatus",this.locateControlState),this.locate.options.onLocationError=this.onLocationError,this.locate.options.onLocationOutsideMapBounds=this.onLocationError),this.props.status.enabled&&this.locate.start()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.fol=!1,e.status!==this.props.status&&("ENABLED"!==e.status||this.locate._active?"FOLLOWING"===e.status&&this.locate._active&&!this.locate._following?(this.fol=!0,this.locate.stop(),this.locate.start()):"DISABLED"===e.status&&(this.locate._following=!1,this.locate.stop()):this.locate.start()),e.messages!==this.props.messages&&(this.locate.setStrings(e.messages),"DISABLED"!==e.status&&this.locate.drawMarker(this.locate._map)),e.maxZoom!==this.props.maxZoom&&this.locate.setLocateOptions(this.mergeOptions(e).locateOptions)}},{key:"render",value:function(){return null}},{key:"mergeOptions",value:function(e){return v(v({},w),{},{locateOptions:v(v({},w.locateOptions),{},{maxZoom:e.maxZoom})})}}])&&f(t.prototype,r),a}(a().Component);O(S,"displayName","Locate"),O(S,"propTypes",{map:n().object,status:n().string,messages:n().object,maxZoom:n().number,changeLocateState:n().func,onLocateError:n().func}),O(S,"defaultProps",{id:"overview",status:"DISABLED",maxZoom:1/0,changeLocateState:function(){},onLocateError:function(){}});const L=S},39726:(e,t,r)=>{function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=r(56307),m=r(45697),f=r(67294),y=r(37275).ZP,h=r(90183),d=h.reprojectBbox,g=h.reproject,b=r(27418),v=r(52259),O=v.getGoogleMercatorResolutions,w=v.EXTENT_TO_ZOOM_HOOK,S=v.RESOLUTIONS_HOOK,L=v.COMPUTE_BBOX_HOOK,P=v.GET_PIXEL_FROM_COORDINATES_HOOK,x=v.GET_COORDINATES_FROM_PIXEL_HOOK,j=v.ZOOM_TO_EXTENT_HOOK,_=v.registerHook,T=r(89255),C=r(61545).throttle;r(19540);var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(h,e);var t,r,o,m,y=(o=h,m=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=c(o);if(m){var r=c(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return s(this,e)});function h(){var e;n(this,h);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return p(l(e=y.call.apply(y,[this].concat(r))),"state",{}),p(l(e),"getDocument",(function(){return e.props.document||document})),p(l(e),"getResolutions",(function(){return e.props.resolutions})),p(l(e),"_updateMapPositionFromNewProps",(function(t){var r=function(e,t){return void 0!==e&&void 0!==t&&e.toFixed(12)-t.toFixed(12)==0},o=t.center,n=e.props.center,i=e.map.getCenter(),a=r(o.x,n.x)&&r(o.y,n.y)||r(o.x,i.lng)&&r(o.y,i.lat),s=t.zoom,l=e.props.zoom,c=e.map.getZoom(),p=s===l||s===c;a||p?p?a||e.map.setView([t.center.y,t.center.x]):e.map.setZoom(t.zoom):e.map.setView([t.center.y,t.center.x],Math.round(t.zoom))})),p(l(e),"updateMapInfoState",(function(){var t=e.map.getBounds().toBBoxString().split(","),r={height:e.map.getSize().y,width:e.map.getSize().x},o=e.map.getCenter();e.props.onMapViewChanges({x:o.lng,y:o.lat,crs:"EPSG:4326"},e.map.getZoom(),{bounds:{minx:parseFloat(t[0]),miny:parseFloat(t[1]),maxx:parseFloat(t[2]),maxy:parseFloat(t[3])},crs:"EPSG:4326",rotation:0},r,e.props.id,e.props.projection)})),p(l(e),"setMousePointer",(function(t){e.map&&(e.map.getContainer().style.cursor=t||"auto")})),p(l(e),"mouseMoveEvent",(function(t){var r=t.latlng.wrap();e.props.onMouseMove({x:r.lng||0,y:r.lat||0,z:e.elevationLayer&&e.elevationLayer.getElevation(r,t.containerPoint)||void 0,crs:"EPSG:4326",pixel:{x:t.containerPoint.x,y:t.containerPoint.x},latlng:{lat:t.latlng.lat,lng:t.latlng.lng,z:e.elevationLayer&&e.elevationLayer.getElevation(t.latlng,t.containerPoint)||void 0},rawPos:[t.latlng.lat,t.latlng.lng]})})),p(l(e),"registerHooks",(function(){e.props.hookRegister.registerHook(w,(function(t){var r=g([t[0],t[1]],e.props.projection,"EPSG:4326"),o=g([t[2],t[3]],e.props.projection,"EPSG:4326");return e.map.getBoundsZoom([[r.y,r.x],[o.y,o.x]])-1})),e.props.hookRegister.registerHook(S,(function(){return e.getResolutions()})),e.props.hookRegister.registerHook(L,(function(t,r){var o=u.latLng([t.y,t.x]),n=e.map._getNewPixelOrigin(o,r),i=new u.Bounds(n,n.add(e.map.getSize())),a=e.map.unproject(i.getBottomLeft(),r),s=e.map.unproject(i.getTopRight(),r),l=new u.LatLngBounds(a,s).toBBoxString().split(",");return{bounds:{minx:parseFloat(l[0]),miny:parseFloat(l[1]),maxx:parseFloat(l[2]),maxy:parseFloat(l[3])},crs:"EPSG:4326",rotation:0}})),e.props.hookRegister.registerHook(P,(function(t){var r=g(t,e.props.projection,"EPSG:4326"),o=e.map.latLngToContainerPoint([r.y,r.x]);return[o.x,o.y]})),e.props.hookRegister.registerHook(x,(function(t){var r=e.map.containerPointToLatLng(t),o=g([r.lng,r.lat],"EPSG:4326",e.props.projection);return[o.x,o.y]})),e.props.hookRegister.registerHook(j,(function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.padding,n=r.crs,i=r.maxZoom,a=r.duration,s=o&&u.point(o.left||0,o.top||0),l=o&&u.point(o.right||0,o.bottom||0),c=d(t,n,"EPSG:4326");e.map.fitBounds([[c[1],c[0]],[c[3],c[2]]],{paddingTopLeft:s,paddingBottomRight:l,maxZoom:i,duration:a,animate:0!==a&&void 0})}))})),p(l(e),"addLayerObservable",(function(t,r){!t.layer.layerId||t.layer&&t.layer.options&&"vector"===t.layer.options.msLayer||t&&t.layer&&t.layer.on&&r&&(t.layer._ms2LoadingTileCount=0,t.layer.layerLoadingStream$=new T.Subject,t.layer.layerLoadStream$=new T.Subject,t.layer.layerErrorStream$=new T.Subject,t.layer.layerErrorStream$.bufferToggle(t.layer.layerLoadingStream$,(function(){return t.layer.layerLoadStream$})).subscribe({next:function(r){var o=t.layer._ms2LoadingTileCount||r&&r.length||0;r&&r.length>0&&e.props.onLayerError(r[0].target.layerId,o,r.length),t.layer._ms2LoadingTileCount=0}}))})),e}return t=h,(r=[{key:"UNSAFE_componentWillMount",value:function(){if(this.zoomOffset=0,this.props.mapOptions&&this.props.mapOptions.view&&this.props.mapOptions.view.resolutions&&this.props.mapOptions.view.resolutions.length>0){var e=u.CRS.EPSG3857.scale,t=this.props.mapOptions.view.resolutions[0]/O(0,23)[0];this.crs=b({},u.CRS.EPSG3857,{scale:function(r){return e.call(u.CRS.EPSG3857,r)/Math.pow(2,Math.round(Math.log2(t)))}}),this.zoomOffset=Math.round(Math.log2(t))}}},{key:"componentDidMount",value:function(){var e=this,t=this.props.limits,r=void 0===t?{}:t,o=r.restrictedExtent&&r.crs&&d(r.restrictedExtent,r.crs,"EPSG:4326"),n=b({},this.props.interactive?{}:{dragging:!1,touchZoom:!1,scrollWheelZoom:!1,doubleClickZoom:!1,boxZoom:!1,tap:!1,attributionControl:!1,maxBounds:o&&u.latLngBounds([[o[1],o[0]],[o[3],o[2]]]),maxBoundsViscosity:o&&1,minZoom:r&&r.minZoom,maxZoom:r&&r.maxZoom||23},this.props.mapOptions,this.crs?{crs:this.crs}:{}),i=u.map(this.getDocument().getElementById(this.props.id),b({zoomControl:!1},n)).setView([this.props.center.y,this.props.center.x],Math.round(this.props.zoom));this.map=i,this.props.zoomControl&&(this.mapZoomControl=u.control.zoom(),this.map.addControl(this.mapZoomControl)),this.attribution=u.control.attribution(),this.attribution.addTo(this.map);var a=this.getDocument();this.props.mapOptions.attribution&&this.props.mapOptions.attribution.container&&(a.querySelector(this.props.mapOptions.attribution.container).appendChild(this.attribution.getContainer()),a.querySelector(".leaflet-control-container .leaflet-control-attribution")&&a.querySelector(".leaflet-control-container .leaflet-control-attribution").parentNode.removeChild(a.querySelector(".leaflet-control-container .leaflet-control-attribution"))),this.map.on("moveend",this.updateMapInfoState),this.map.on("singleclick",(function(t){e.props.onClick&&e.props.onClick({pixel:{x:t.containerPoint.x,y:t.containerPoint.y},latlng:{lat:t.latlng.lat,lng:t.latlng.lng,z:e.elevationLayer&&e.elevationLayer.getElevation(t.latlng,t.containerPoint)||void 0},rawPos:[t.latlng.lat,t.latlng.lng],modifiers:{alt:t.originalEvent.altKey,ctrl:t.originalEvent.ctrlKey,metaKey:t.originalEvent.metaKey,shift:t.originalEvent.shiftKey}})}));var s=C(this.mouseMoveEvent,100);this.map.on("dragstart",(function(){e.map.off("mousemove",s)})),this.map.on("dragend",(function(){e.map.on("mousemove",s)})),this.map.on("mousemove",s),this.map.on("contextmenu",(function(){e.props.onRightClick&&e.props.onRightClick(event.containerPoint)})),this.map.on("mouseout",(function(){setTimeout((function(){return e.props.onMouseOut()}),150)})),this.updateMapInfoState(),this.setMousePointer(this.props.mousePointer),this.forceUpdate(),this.map.on("layeradd",(function(t){if(t.layer._ms2Added){var r=t.layer.layerLoadingStream$&&t.layer.layerLoadingStream$.isStopped;e.addLayerObservable(t,r)}else t.layer._ms2Added=!0,t.layer.getElevation&&(e.elevationLayer=t.layer),t.layer.layerId&&(t.layer&&t.layer.options&&"vector"===t.layer.options.msLayer||t&&t.layer&&t.layer.on&&(e.addLayerObservable(t,!0),t.layer.options&&t.layer.options.hideLoading||(e.props.onLayerLoading(t.layer.layerId),t.layer.layerLoadingStream$.next()),t.layer.on("loading",(function(r){e.props.onLayerLoading(r.target.layerId),t.layer.layerLoadingStream$.next()})),t.layer.on("load",(function(r){e.props.onLayerLoad(r.target.layerId),t.layer.layerLoadStream$.next()})),t.layer.on("tileloadstart ",(function(){t.layer._ms2LoadingTileCount++})),(t.layer.options&&!t.layer.options.hideErrors||!t.layer.options)&&t.layer.on("tileerror",(function(e){t.layer.layerErrorStream$.next(e)})),t.layer.on("loaderror",(function(t){e.props.onLayerError(t.target.layerId)}))))})),this.map.on("layerremove",(function(e){e.layer.layerLoadingStream$&&(e.layer.layerLoadingStream$.complete(),e.layer.layerLoadStream$.complete(),e.layer.layerErrorStream$.complete())})),this.drawControl=null,this.props.registerHooks&&this.registerHooks()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this;if(e.mousePointer!==this.props.mousePointer&&this.setMousePointer(e.mousePointer),this.map&&e.mapStateSource!==this.props.id&&this._updateMapPositionFromNewProps(e),e.zoomControl!==this.props.zoomControl&&(e.zoomControl?(this.mapZoomControl=u.control.zoom(),this.map.addControl(this.mapZoomControl)):this.mapZoomControl&&!e.zoomControl&&(this.map.removeControl(this.mapZoomControl),this.mapZoomControl=void 0)),e.resize!==this.props.resize&&setTimeout((function(){t.map&&t.map.invalidateSize(!1)}),0),this.props.limits!==e.limits){var r=e.limits,o=void 0===r?{}:r,n=this.props.limits;if(o.restrictedExtent!==(n&&n.restrictedExtent)){var i=o.restrictedExtent&&o.crs&&d(o.restrictedExtent,o.crs,"EPSG:4326");this.map.setMaxBounds(o.restrictedExtent&&u.latLngBounds([[i[1],i[0]],[i[3],i[2]]]))}o.minZoom!==(n&&n.minZoom)&&this.map.setMinZoom(o.minZoom)}return!1}},{key:"componentWillUnmount",value:function(){var e=this.getDocument(),t=this.props.mapOptions.attribution&&this.props.mapOptions.attribution.container&&e.querySelector(this.props.mapOptions.attribution.container);if(t&&this.attribution.getContainer()&&t.querySelector(".leaflet-control-attribution"))try{t.removeChild(this.attribution.getContainer())}catch(e){}this.mapZoomControl&&(this.map.removeControl(this.mapZoomControl),this.mapZoomControl=void 0),this.map.off(),this.map.remove(),this.map=void 0}},{key:"render",value:function(){var e=this,t=this.map,r=this.props.projection,o=t?f.Children.map(this.props.children,(function(o){return o?f.cloneElement(o,{map:t,projection:r,zoomOffset:e.zoomOffset,onCreationError:e.props.onCreationError,onClick:e.props.onClick}):null})):null;return f.createElement("div",{id:this.props.id,style:this.props.style},o)}}])&&i(t.prototype,r),h}(f.Component);p(E,"propTypes",{id:m.string,document:m.object,center:y.PropTypes.center,zoom:m.number.isRequired,mapStateSource:y.PropTypes.mapStateSource,style:m.object,projection:m.string,onMapViewChanges:m.func,onClick:m.func,onRightClick:m.func,mapOptions:m.object,limits:m.object,zoomControl:m.bool,mousePointer:m.string,onMouseMove:m.func,onLayerLoading:m.func,onLayerLoad:m.func,onLayerError:m.func,resize:m.number,measurement:m.object,changeMeasurementState:m.func,registerHooks:m.bool,interactive:m.bool,resolutions:m.array,hookRegister:m.object,onCreationError:m.func,onMouseOut:m.func}),p(E,"defaultProps",{id:"map",onMapViewChanges:function(){},onCreationError:function(){},onClick:null,onMouseMove:function(){},zoomControl:!0,mapOptions:{zoomAnimation:!0,attributionControl:!1},projection:"EPSG:3857",center:{x:13,y:45,crs:"EPSG:4326"},zoom:5,onLayerLoading:function(){},onLayerLoad:function(){},onLayerError:function(){},resize:0,registerHooks:!0,hookRegister:{registerHook:_},style:{},interactive:!0,resolutions:O(0,23),onMouseOut:function(){}}),e.exports=E},42047:(e,t,r)=>{function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=r(45697),d=r(67294),g=r(27418),b=r(56307),v=r(61545).slice,O=r(90183),w=O.reproject,S=O.calculateAzimuth,L=O.calculateDistance,P=O.transformLineToArcs,x=r(8797),j=x.convertUom,_=x.getFormattedBearingValue;r(21787);var T={km:2,ha:2,m:2,mi:2,ac:2,yd:0,ft:0,nm:2,sqkm:2,sqha:2,sqm:2,sqmi:2,sqac:2,sqyd:2,sqft:2,sqnm:2};b.getMeasureWithTreshold=function(e,t,r,o,n,i,a){return e>t?b.GeometryUtil.formattedNumber(j(e,r,o),n[o])+" "+a:b.GeometryUtil.formattedNumber(e,n[r])+" "+i};var C=b.GeometryUtil.readableDistance;b.GeometryUtil.readableDistance=function(e,t,r,o,n,i){if(!i)return C.apply(null,arguments);if("Bearing"===i.geomType)return i.bearing;var a=b.Util.extend({},T,n),s=i.uom.length,l=s.unit,c=s.label,p=b.GeometryUtil.formattedNumber(j(e,"m",l),a[l])+" "+c;return i.useTreshold&&(t&&(p=b.getMeasureWithTreshold(e,1e3,"m","km",a,"m","km")),"mi"===l&&(p=b.getMeasureWithTreshold(j(e,"m","yd"),1760,"yd","mi",a,"yd","mi"))),p};var E=b.GeometryUtil.readableArea;b.GeometryUtil.readableArea=function(e,t,r,o){if(!o)return E.apply(null,arguments);var n=o.uom.area,i=n.unit,a=n.label,s=b.Util.extend({},T,r),l=b.GeometryUtil.formattedNumber(j(e,"sqm",i),s[i])+" "+a;return o.useTreshold&&(t&&(l=b.getMeasureWithTreshold(e,1e6,"sqm","sqkm",s,"m²","km²")),"sqmi"===i&&(l=b.getMeasureWithTreshold(j(e,"sqm","sqyd"),3097600,"sqyd","sqmi",s,"yd²","mi²"))),l};var k=b.Draw.Polygon.prototype._getMeasurementString;b.Draw.Polygon.prototype._getMeasurementString=function(){if(!this.options.uom)return k.apply(this,arguments);var e=this._area,t="";if(!e&&!this.options.showLength)return null;if(this.options.showLength&&(t=b.Draw.Polyline.prototype._getMeasurementString.call(this)),e){var r={uom:this.options.uom,useTreshold:this.options.useTreshold};t+=this.options.showLength?"<br>":""+b.GeometryUtil.readableArea(e,this.options.metric,this.options.precision,r)}return t};var M=b.Draw.Polyline.prototype._getMeasurementString;b.Draw.Polyline.prototype._getMeasurementString=function(){if(!this.options.uom)return M.apply(this,arguments);var e,t=this._currentLatLng,r=this._markers[this._markers.length-1].getLatLng();e=b.GeometryUtil.isVersion07x()?r&&t&&t.distanceTo?this._measurementRunningTotal+t.distanceTo(r)*(this.options.factor||1):this._measurementRunningTotal||0:r&&t?this._measurementRunningTotal+this._map.distance(t,r)*(this.options.factor||1):this._measurementRunningTotal||0;var o={uom:this.options.uom,useTreshold:this.options.useTreshold,geomType:this.options.geomType,bearing:this.options.bearing?_(this.options.bearing,this.options.trueBearing):0};return b.GeometryUtil.readableDistance(e,this.options.metric,this.options.feet,this.options.nautic,this.options.precision,o)};var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(h,e);var t,r,o,n,s=(o=h,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(o);if(n){var r=f(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return u(this,e)});function h(){var e;l(this,h);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return y(m(e=s.call.apply(s,[this].concat(r))),"onDrawStart",(function(){e.props.map.off("click",e.restartDrawing,m(e)),e.removeArcLayer(),e.props.map.doubleClickZoom&&e.props.map.doubleClickZoom.disable(),e.drawing=!0})),y(m(e),"onDrawCreated",(function(t){e.drawing=!1,e.props.map.addLayer(t.layer),e.lastLayer=t.layer;var r=e.lastLayer&&e.lastLayer.toGeoJSON()||{};if("LineString"===e.props.measurement.geomType&&(r=g({},r,{geometry:g({},r.geometry,{coordinates:P(r.geometry.coordinates)})})),"Point"===e.props.measurement.geomType){var o=e.drawControl._marker.getLatLng(),n={x:o.lng,y:o.lat,srs:"EPSG:4326"},i=g({},e.props.measurement,{point:n,feature:r});e.props.changeMeasurementState(i)}else{var a=g({},e.props.measurement,{feature:r});e.props.changeMeasurementState(a)}e.props.measurement.lineMeasureEnabled&&e.lastLayer&&e.addArcsToMap([r]),setTimeout((function(){e.props.map.off("click",e.restartDrawing,m(e)),e.props.map.on("click",e.restartDrawing,m(e))}),100)})),y(m(e),"onDrawVertex",(function(){var t=e.drawControl._markers||[];"Bearing"===e.props.measurement.geomType&&t.length>=2?setTimeout((function(){e.drawControl._markers=v(e.drawControl._markers,0,2),e.drawControl._poly._latlngs=v(e.drawControl._poly._latlngs,0,2),e.drawControl._poly._originalPoints=v(e.drawControl._poly._originalPoints,0,2),e.updateMeasurementResults(),e.drawControl._finishShape(),e.drawControl.disable()}),100):e.updateMeasurementResults()})),y(m(e),"addArcsToMap",(function(t){e.removeLastLayer();var r=t.map((function(e){return g({},e,{geometry:g({},e.geometry,{coordinates:P(e.geometry.coordinates)})})}));e.arcLayer=b.geoJson(r,{style:{color:"#ffcc33",opacity:1,weight:1,fillColor:"#ffffff",fillOpacity:.2,clickable:!1}}),e.props.map.addLayer(e.arcLayer),r&&r.length>0&&e.arcLayer.addData(r)})),y(m(e),"updateMeasurementResults",(function(){if(e.drawing&&e.drawControl){var t=0,r=0,o=0,n=e.drawControl._currentLatLng;if("LineString"===e.props.measurement.geomType&&e.drawControl._markers&&e.drawControl._markers.length>1){var i=e.drawControl._markers.reduce((function(e,t){var r=t.getLatLng(),o=r.lng,n=r.lat;return[].concat(a(e),[[o,n]])}),[]);t=L(i,e.props.measurement.lengthFormula)}else if("Polygon"===e.props.measurement.geomType&&e.drawControl._poly){var s=[].concat(a(e.drawControl._poly.getLatLngs()),[n]);r=b.GeometryUtil.geodesicArea(s)}else"Bearing"===e.props.measurement.geomType&&e.drawControl._markers&&e.drawControl._markers.length>0&&(o=e.calculateBearing());var l=g({},e.props.measurement,{point:null,len:t,area:r,bearing:o});e.props.changeMeasurementState(l)}})),y(m(e),"restartDrawing",(function(){e.props.map.off("click",e.restartDrawing,m(e)),e.props.map.doubleClickZoom&&e.props.map.doubleClickZoom.enable(),e.props.map.removeLayer(e.lastLayer),e.drawControl.enable(),e.drawing=!0})),y(m(e),"addDrawInteraction",(function(t){if(e.removeDrawInteraction(),e.props.map.on("draw:created",e.onDrawCreated,m(e)),e.props.map.on("draw:drawstart",e.onDrawStart,m(e)),e.props.map.on("draw:drawvertex",e.onDrawVertex,m(e)),e.props.map.on("mousemove",e.updateBearing,m(e)),e.props.updateOnMouseMove&&e.props.map.on("mousemove",e.updateMeasurementResults,m(e)),"Point"===t.measurement.geomType)e.drawControl=new b.Draw.Marker(e.props.map,{repeatMode:!1});else if("LineString"===t.measurement.geomType||"Bearing"===t.measurement.geomType){var r=e.uomLengthOptions(t);e.drawControl=new b.Draw.Polyline(e.props.map,i(i({shapeOptions:{color:"#ffcc33",weight:2},showLength:!0,useTreshold:t.useTreshold,uom:t.uom,geomType:t.measurement.geomType},r),{},{repeatMode:!1,icon:new b.DivIcon({iconSize:new b.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new b.DivIcon({iconSize:new b.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),trueBearing:t.measurement.trueBearing}))}else if("Polygon"===t.measurement.geomType){var o=e.uomAreaOptions(t);e.drawControl=new b.Draw.Polygon(e.props.map,i(i({shapeOptions:{color:"#ffcc33",weight:2,fill:"rgba(255, 255, 255, 0.2)"},showArea:!0,allowIntersection:!1,showLength:!1,repeatMode:!1,useTreshold:t.useTreshold,uom:t.uom,geomType:t.measurement.geomType},o),{},{icon:new b.DivIcon({iconSize:new b.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new b.DivIcon({iconSize:new b.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"})}))}e.drawControl.enable()})),y(m(e),"removeDrawInteraction",(function(){null!==e.drawControl&&void 0!==e.drawControl&&(e.drawControl.disable(),e.drawControl=null,e.removeLastLayer(),e.removeArcLayer(),e.props.map.off("draw:created",e.onDrawCreated,m(e)),e.props.map.off("draw:drawstart",e.onDrawStart,m(e)),e.props.map.off("draw:drawvertex",e.onDrawVertex,m(e)),e.props.map.off("mousemove",e.updateBearing,m(e)),e.props.map.off("click",e.restartDrawing,m(e)),e.props.updateOnMouseMove&&e.props.map.off("mousemove",e.updateMeasurementResults,m(e)),e.props.map.doubleClickZoom&&e.props.map.doubleClickZoom.enable())})),y(m(e),"removeLastLayer",(function(){e.lastLayer&&e.props.map.removeLayer(e.lastLayer)})),y(m(e),"removeArcLayer",(function(){e.arcLayer&&e.props.map.removeLayer(e.arcLayer)})),y(m(e),"uomLengthOptions",(function(e){var t=e.uom.length.unit;return{metric:"m"===t||"km"===t,nautic:"nm"===t,feet:"ft"===t}})),y(m(e),"uomAreaOptions",(function(e){var t=e.uom.area.unit;return{metric:"sqm"===t||"sqkm"===t,nautic:"sqnm"===t,feet:"sqft"===t}})),y(m(e),"calculateBearing",(function(){var t,r=e.drawControl._currentLatLng,o=e.drawControl._markers,n=[o[0].getLatLng().lng,o[0].getLatLng().lat];return 1===o.length?t=[r.lng,r.lat]:2===o.length&&(t=[o[1].getLatLng().lng,o[1].getLatLng().lat]),n=w(n,"EPSG:4326",e.props.projection),t=w(t,"EPSG:4326",e.props.projection),S(n,t,e.props.projection)})),y(m(e),"updateBearing",(function(){if("Bearing"===e.props.measurement.geomType&&e.drawControl._markers&&e.drawControl._markers.length>0){var t=e.props.measurement&&e.props.measurement.trueBearing;e.drawControl.setOptions({bearing:e.calculateBearing(),trueBearing:t})}})),e}return t=h,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if((e&&e.uom&&e.uom.length&&e.uom.length.unit)!==(this.props&&this.props.uom&&this.props.uom.length&&this.props.uom.length.unit)&&this.drawControl){var t=this.uomLengthOptions(e);this.drawControl.setOptions(i(i({},t),{},{uom:e.uom}))}if((e&&e.uom&&e.uom.area&&e.uom.area.unit)!==(this.props&&this.props.uom&&this.props.uom.area&&this.props.uom.area.unit)&&this.drawControl){var r=this.uomAreaOptions(e);this.drawControl.setOptions(i(i({},r),{},{uom:e.uom}))}(e.measurement.geomType&&e.measurement.geomType!==this.props.measurement.geomType||e.measurement.geomType&&this.props.measurement.geomType&&(e.measurement.lineMeasureEnabled||e.measurement.areaMeasureEnabled||e.measurement.bearingMeasureEnabled)&&!this.props.enabled&&e.enabled)&&this.addDrawInteraction(e),e.measurement.geomType||this.removeDrawInteraction()}},{key:"render",value:function(){var e=this.props.messages||!!this.context.messages&&this.context.messages.drawLocal;return e&&(b.drawLocal=e),null}}])&&c(t.prototype,r),h}(d.Component);y(D,"displayName","MeasurementSupport"),y(D,"propTypes",{map:h.object,metric:h.bool,feet:h.bool,nautic:h.bool,enabled:h.bool,useTreshold:h.bool,projection:h.string,measurement:h.object,changeMeasurementState:h.func,messages:h.object,uom:h.object,updateOnMouseMove:h.bool}),y(D,"contextTypes",{messages:h.object}),y(D,"defaultProps",{uom:{length:{unit:"m",label:"m"},area:{unit:"sqm",label:"m²"}},updateOnMouseMove:!1,metric:!0,nautic:!1,useTreshold:!1,feet:!1}),e.exports=D},21975:(e,t,r)=>{function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r(45697),u=r(67294),m=r(17244),f=r(56307),y=r(44712),h=r(27418);r(91730);var d={position:"bottomright",width:300,height:150,collapsedWidth:25,collapsedHeight:25,zoomLevelOffset:-5,zoomLevelFixed:null,zoomAnimation:!1,toggleDisplay:!0,autoToggleDisplay:!1,minimized:!0},g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,o,c,p=(o=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(o);if(c){var r=l(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return s(this,e)});function u(){return n(this,u),p.apply(this,arguments)}return t=u,(r=[{key:"componentDidMount",value:function(){var e=h({},d,this.props.overviewOpt);if(this.props.layers){var t=[];this.props.layers.forEach((function(e){t.push(y.createLayer(e.type,e.options||{}))})),1===t.length?this.overview=new m(t[0],e):t.length>1&&(this.overview=new m(f.layerGroup(t),e))}this.props.map&&this.overview&&this.overview.addTo(this.props.map)}},{key:"render",value:function(){return null}}])&&i(t.prototype,r),u}(u.Component);c(g,"displayName","Overview"),c(g,"propTypes",{map:p.object,overviewOpt:p.object,layers:p.array}),c(g,"defaultProps",{id:"overview",overviewOpt:{},layers:[{type:"osm",options:{}}]}),e.exports=g},20564:(e,t,r)=>{function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r(45697),u=r(67294),m=r(56307),f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,o,c,p=(o=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(o);if(c){var r=l(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return s(this,e)});function u(){return n(this,u),p.apply(this,arguments)}return t=u,(r=[{key:"componentDidMount",value:function(){if(this.scalebar=m.control.scale(this.props),this.props.map&&(this.scalebar.addTo(this.props.map),this.props.container)){document.querySelector(this.props.container).appendChild(this.scalebar.getContainer());var e=document.querySelector(".leaflet-control-container .leaflet-control-scale-line");e&&e.parentNode&&e.parentNode.removeChild(e)}}},{key:"componentWillUnmount",value:function(){if(this.props.container&&this.scalebar&&this.scalebar.getContainer())try{document.querySelector(this.props.container).removeChild(this.scalebar.getContainer())}catch(e){}}},{key:"render",value:function(){return null}}])&&i(t.prototype,r),u}(u.Component);c(f,"propTypes",{map:p.object,position:p.oneOf(["topleft","topright","bottomleft","bottomright"]),maxWidth:p.number,metric:p.bool,imperial:p.bool,updateWhenIdle:p.bool,container:p.string}),c(f,"defaultProps",{map:null,position:"bottomleft",maxWidth:100,metric:!0,imperial:!1,updateWhenIdle:!1}),e.exports=f},19540:(e,t,r)=>{var o=r(56307);o.Evented.addInitHook((function(){this._singleClickTimeout=null,this.on("click",this._scheduleSingleClick,this),this.on("dblclick dragstart zoomstart",this._cancelSingleClick,this)})),o.Evented.include({_cancelSingleClick:function(){setTimeout(this._clearSingleClickTimeout.bind(this),0)},_scheduleSingleClick:function(e){this._clearSingleClickTimeout(),this._singleClickTimeout=setTimeout(this._fireSingleClick.bind(this,e),this.options.singleClickTimeout||500)},_fireSingleClick:function(e){e.originalEvent._stopped||this.fire("singleclick",o.Util.extend(e,{type:"singleclick"}))},_clearSingleClickTimeout:function(){null!==this._singleClickTimeout&&(clearTimeout(this._singleClickTimeout),this._singleClickTimeout=null)}})},61444:(e,t,r)=>{var o=r(56307),n=r(44712);r(71851);var i=r(27418);o.BingLayer.prototype.loadMetadata=function(){if(!this.metaRequested){this.metaRequested=!0;var e=this,t="_bing_metadata_"+o.Util.stamp(this);window[t]=function(r){e.meta=r,window[t]=void 0;var o=document.getElementById(t);return o.parentNode.removeChild(o),r.errorDetails?(e.fire("load",{layer:e}),e.onError(r)):(e.initMetadata(r),null)};var r="file:"===document.location.protocol?"https":document.location.protocol.slice(0,-1),n=r+"://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.options.type+"?include=ImageryProviders&jsonp="+t+"&key="+this._key+"&UriScheme="+r,i=document.createElement("script");i.type="text/javascript",i.src=n,i.id=t,document.getElementsByTagName("head")[0].appendChild(i)}},o.BingLayer.prototype.onError=function(e){return this.options.onError?this.options.onError(e):null},n.registerType("bing",{create:function(e){var t=e.apiKey,r={subdomains:[0,1,2,3],type:e.name,attribution:"Bing",culture:"",onError:e.onError,maxNativeZoom:e.maxNativeZoom||19,maxZoom:e.maxZoom||23};return e.zoomOffset&&(r=i({},r,{zoomOffset:e.zoomOffset})),new o.BingLayer(t,r)},isValid:function(e){return!e.meta||!e.meta.statusCode||200===e.meta.statusCode}})},51735:(e,t,r)=>{var o=r(56307);e.exports=o.TileLayer.extend({initialize:function(e){o.TileLayer.prototype.initialize.call(this,this.url,e)}})},26696:(e,t,r)=>{var o=r(44712),n=r(56307);r(14767),o.registerType("google",(function(e){return n.gridLayer.googleMutant({type:e.name.toLowerCase(),maxNativeZoom:e.maxNativeZoom||18,maxZoom:e.maxZoom||20})}))},90671:(e,t,r)=>{var o=r(44712),n=r(71305),i=r(27418);r(17820),o.registerType("graticule",{create:function(e){var t=i({interval:20,showOriginLabel:!0,redraw:"move"},e);return n?new n(t):null},isValid:function(){return!!n}})},52031:(e,t,r)=>{function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(44712),a=r(57167);i.registerType("mapquest",{create:function(e){return a?a.mapLayer(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({maxZoom:23},e)):(e&&e.onError&&e.onError(),!1)},isValid:function(){return!!a}})},51254:(e,t,r)=>{var o=r(44712),n=r(56307);o.registerType("osm",(function(e){return n.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',zoomOffset:e.zoomOffset||0,maxNativeZoom:e.maxNativeZoom||19,maxZoom:e.maxZoom||23})}))},35659:(e,t,r)=>{var o=r(44712),n=r(56307);o.registerType("tms",(function(e){return n.tileLayer("".concat(e.tileMapUrl,"/{z}/{x}/{y}.").concat(e.extension),{hideErrors:e.hideErrors||!0,tms:!0})}))},70826:(e,t,r)=>{function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}var a=r(44712),s=r(56307),l=r(45992);a.registerType("tileprovider",(function(e){var t,r,a=(t=l.getLayerConfig(e.provider,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({maxZoom:23},e)),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],o=!0,n=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);o=!0);}catch(e){n=!0,i=e}finally{try{o||null==s.return||s.return()}finally{if(n)throw i}}return r}}(t,r)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=a[0],p=a[1];return s.tileLayer(c,p)}))},10733:(e,t,r)=>{var o=r(44712),n=r(61545).isNil,i=r(56307),a=function e(t,r){t.eachLayer&&t.eachLayer((function(t){t.setOpacity&&t.setOpacity(r),e(t,r)}))};o.registerType("vector",{create:function(e){var t=function(e){var t=e.hideLoading,r=i.geoJson([],{pointToLayer:"marker"!==e.styleName?function(t,r){return i.circleMarker(r,t.style||e.style)}:null,hideLoading:t});return r.setOpacity=function(e){a(r,e)},r.on("layeradd",(function(t){var o=t.layer;r.setOpacity(n(r.opacity)?e.opacity:r.opacity,o)})),r}(e);return t.opacity=n(e.opacity)?1:e.opacity,t},update:function(e,t,r){t.opacity!==r.opacity&&(e.opacity=t.opacity)},render:function(){return null}})},32755:(e,t,r)=>{"use strict";var o=r(61545),n=r(56307),i=r.n(n),a=r(43143),s=r(90183),l=r(44712),c=r.n(l),p=r(43378),u=r(32420),m=r(38848);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=function(e,t){e.fireEvent("loading");var r=(0,p.optionsToVendorParams)(t),o=function(){e.fireEvent("loadError")};return(0,u.getFeature)(t.url,t.name,y({outputFormat:"application/json",maxFeatures:1e3,srsname:(0,s.normalizeSRS)("EPSG:4326")},r)).then((function(t){return 200===t.status?(e.clearLayers(),e.addData(t.data),e.fireEvent("load")):(console.error(t),o(new Error("status code of response:"+t.status))),e})).catch((function(e){o()}))},g=function(e){var t=e||{},r=t.color,o=t.fillColor;return y(y({},function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},i=Object.keys(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(t,["color","fillColor"])),{},{color:(0,a.qq)(r,1),fillColor:(0,a.qq)(o,1)})},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style&&e.style[0]||e.style;return g(t)},v=function(e,t){var r=b(t);e.setStyle(r),e.options.style=r,e.styleName=t.styleName},O=function e(t,r){t.eachLayer&&t.eachLayer((function(t){t.setOpacity&&t.setOpacity(r),e(t,r)}))},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=b(e),n=function(t,o){return"marker"===e.styleName?i().marker(o,r):i().circleMarker(o,r)},a=new(i().GeoJSON)(t,{pointToLayer:n,style:r});return a.setOpacity=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=y({},a.options.style||{}),r=t.fillOpacity,o=void 0===r?1:r,n=t.opacity,i=void 0===n?1:n,s=y(y({},t),{},{opacity:i*e,fillOpacity:o*e});a.setStyle(g(s)),O(a,e)},a.on("layeradd",(function(){v(a,e),a.setOpacity((0,o.isNil)(a.opacity)?e.opacity:a.opacity)})),a};c().registerType("wfs",{create:function(e){var t=w(e);return d(t,e),t.opacity=(0,o.isNil)(e.opacity)?1:e.opacity,t},update:function(e,t,r){if(t.opacity!==r.opacity&&(e.opacity=t.opacity),(0,m.needsReload)(r,t)&&d(e,t),(0,o.isEqual)(t.style,r.style)||v(e,t),t.styleName!==r.styleName){var n=e.toGeoJSON().features;return w(t,n)}return null},render:function(){return null}})},36366:(e,t,r)=>{function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var n=r(67294),i=r(5346).Z,a=r(44712),s=r(43378).optionsToVendorParams,l=r(95784),c=r(56307),p=r(27418),u=r(61545),m=u.isArray,f=u.isNil,y=r(33044),h=y.addAuthenticationToSLD,d=y.addAuthenticationParameter,g=r(3901),b=g.loadTile,v=g.getElevation,O=r(24262).creditsToAttribution,w=r(33358).isVectorFormat;r(12787),c.NonTiledLayer.WMSCustom=c.NonTiledLayer.WMS.extend({initialize:function(e,t){this._wmsUrl=e;var r=c.extend({},this.defaultWmsParams);for(var o in t)this.options.hasOwnProperty(o)||"CRS"===o.toUpperCase()||"maxNativeZoom"===o||(r[o]=t[o]);this.wmsParams=r,c.setOptions(this,t)},removeParams:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;return t.forEach((function(t){return delete e.wmsParams[t]})),r||this.redraw(),this}}),c.nonTiledLayer.wmsCustom=function(e,t){return new c.NonTiledLayer.WMSCustom(e,t)},c.TileLayer.MultipleUrlWMS=c.TileLayer.WMS.extend({initialize:function(e,t){this._url=e[0],this._urls=e,this._urlsIndex=0;var r=c.extend({},this.defaultWmsParams),o=t.tileSize||this.options.tileSize;for(var n in t.detectRetina&&c.Browser.retina?r.width=r.height=2*o:r.width=r.height=o,t)this.options.hasOwnProperty(n)||"CRS"===n.toUpperCase()||"maxNativeZoom"===n||(r[n]=t[n]);this.wmsParams=r,c.setOptions(this,t)},getTileUrl:function(e){var t=this._map,r=this.options.tileSize,o=e.multiplyBy(r),n=o.add([r,r]),i=this._crs.project(t.unproject(o,e.z)),a=this._crs.project(t.unproject(n,e.z)),s=this._wmsVersion>=1.3&&this._crs===c.CRS.EPSG4326?[a.y,i.x,i.y,a.x].join(","):[i.x,a.y,a.x,i.y].join(",");this._urlsIndex++,this._urlsIndex===this._urls.length&&(this._urlsIndex=0);var l=c.Util.template(this._urls[this._urlsIndex],{s:this._getSubdomain(e)});return l+c.Util.getParamString(this.wmsParams,l,!0)+"&BBOX="+s},removeParams:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;return t.forEach((function(t){return delete e.wmsParams[t]})),r||this.redraw(),this}}),c.tileLayer.multipleUrlWMS=function(e,t){return new c.TileLayer.MultipleUrlWMS(e,t)},c.TileLayer.ElevationWMS=c.TileLayer.MultipleUrlWMS.extend({initialize:function(e,t,r){this._tiles={},this._nodata=r,c.TileLayer.MultipleUrlWMS.prototype.initialize.apply(this,arguments)},_addTile:function(e){var t=this.getTileUrl(e);b(t,e,this._tileCoordsToKey(e))},getElevation:function(e,t){try{var r=this._getTileFromCoords(e),o=v(this._tileCoordsToKey(r),this._getTileRelativePixel(r,t),this.getTileSize().x,this._nodata);return o.available?o.value:n.createElement(i,{msgId:o.message})}catch(e){return n.createElement(i,{msgId:"elevationLoadingError"})}},_getTileFromCoords:function(e){var t=this._map.project(e).divideBy(256).floor();return p(t,{z:this._tileZoom})},_getTileRelativePixel:function(e,t){var r=Math.floor(t.x-this._getTilePos(e).x-this._map._getMapPanePos().x),o=Math.min(this.getTileSize().x-1,Math.floor(t.y-this._getTilePos(e).y-this._map._getMapPanePos().y));return new c.Point(r,o)},_removeTile:function(){},_abortLoading:function(){}}),c.tileLayer.elevationWMS=function(e,t,r){return new c.TileLayer.ElevationWMS(e,t,r)};var S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,r){return f(e[r])?t:p(t,o({},r,e[r]))}),{})};function L(e){var t=void 0!==e.opacity?e.opacity:1,r=s(e),o=p({},e.baseParams,{attribution:e.credits&&O(e.credits),layers:e.name,styles:e.style||"",format:(w(e.format)?"image/png":e.format)||"image/png",transparent:void 0===e.transparent||e.transparent,tiled:void 0===e.tiled||e.tiled,opacity:t,zIndex:e.zIndex,version:e.version||"1.3.0",tileSize:e.tileSize||256,maxZoom:e.maxZoom||23,maxNativeZoom:e.maxNativeZoom||18},p(e._v_?{_v_:e._v_}:{},r||{}));return h(o,e)}function P(e){return e.map((function(e){return e.split("?")[0]}))}a.registerType("wms",{create:function(e){var t=P(m(e.url)?e.url:[e.url]),r=S(L(e)||{});return t.forEach((function(t){return d(t,r,e.securityToken)})),e.useForElevation?c.tileLayer.elevationWMS(t,r,e.nodata||-9999):e.singleTile?c.nonTiledLayer.wmsCustom(t[0],r):c.tileLayer.multipleUrlWMS(t,r)},update:function(e,t,r){if(r.singleTile!==t.singleTile||r.tileSize!==t.tileSize||r.securityToken!==t.securityToken&&t.visibility){var n=P(m(t.url)?t.url:[t.url]),i=L(t)||{};return n.forEach((function(e){return d(e,i,t.securityToken)})),t.singleTile?c.nonTiledLayer.wmsCustom(n[0],i):c.tileLayer.multipleUrlWMS(n,i)}var a=p({},l.filterWMSParamOptions(L(r)),h(r.params||{},r)),s=p({},l.filterWMSParamOptions(L(t)),h(t.params||{},t)),u=Object.keys(s).filter((function(e){return s[e]!==a[e]})),f=Object.keys(a).filter((function(e){return a[e]!==s[e]})),y={};return f.length>0&&e.removeParams(f,u.length>0),u.length>0&&(y=u.reduce((function(e,t){return p({},e,o({},t,s[t]))}),y),e.setParams(S(p(y,y.params,h(t.params||{},t))))),null}})},49825:(e,t,r)=>{"use strict";r.r(t);var o=r(44712),n=r.n(o),i=r(90183),a=r(56307),s=r.n(a),l=r(27418),c=r.n(l),p=r(33044),u=r(7294),m=r(24961),f=r.n(m),y=r(61545),h=r(33358);s().tileLayer.wmts=function(e,t,r){return new(f())(e,t,r)};var d=function(e){var t=function(e){return e.map((function(e){return e.split("?")[0]}))}((0,y.isArray)(e.url)?e.url:[e.url]),r=function(e){var t=(0,i.normalizeSRS)(e.srs||"EPSG:3857",e.allowedSRS),r=u.getTileMatrixSet(e.tileMatrixSet,t,e.allowedSRS,e.matrixIds);return c()({requestEncoding:e.requestEncoding,layer:e.name,style:e.style||"",format:((0,h.isVectorFormat)(e.format)?"image/png":e.format)||"image/png",tileMatrixSet:r,version:e.version||"1.0.0",tileSize:e.tileSize||256,CRS:(0,i.normalizeSRS)(e.srs||"EPSG:3857",e.allowedSRS),maxZoom:e.maxZoom||23,maxNativeZoom:e.maxNativeZoom||18},e.params||{})}(e)||{};t.forEach((function(t){return(0,p.addAuthenticationParameter)(t,r,e.securityToken)}));var o=(0,i.normalizeSRS)(e.srs||"EPSG:3857",e.allowedSRS),n=u.getTileMatrix(e,o),a=n.tileMatrixSet,l=n.matrixIds;return s().tileLayer.wmts(t,r,{tileMatrixPrefix:e.tileMatrixPrefix||r.tileMatrixSet+":"||o+":",originY:e.originY||20037508.3428,originX:e.originX||-20037508.3428,ignoreErrors:e.ignoreErrors||!1,matrixIds:l,matrixSet:a})};n().registerType("wmts",{create:d,update:function(e,t,r){return r.securityToken!==t.securityToken||r.format!==t.format?d(t):null}})},35701:(e,t,r)=>{e.exports={BingLayer:r(61444),Commons:r(51735),GraticuleLayer:r(90671),GoogleLayer:r(26696),MapQuest:r(52031),OSMLayer:r(51254),TMSLayer:r(35659),TileProviderLayer:r(70826),WFSLayer:r(32755).default,WMSLayer:r(36366),WMTSLayer:r(49825),VectorLayer:r(10733)}},56307:e=>{e.exports=window.L},57167:e=>{e.exports=window.MQ},47042:(e,t,r)=>{var o=r(56307),n=r(61545).isFunction;r(24402),r(12509),e.exports={extra:{getIcon:function(e){var t=e.iconPrefix||"fa";return o.ExtraMarkers.icon({icon:t+"-"+e.iconGlyph,markerColor:e.iconColor||"blue",shape:e.iconShape||"square",prefix:t,extraClasses:e.highlight?"marker-selected":""})}},standard:{getIcon:function(e){return o.icon({iconUrl:e.iconUrl||e.symbolUrlCustomized||e.symbolUrl,shadowUrl:e.shadowUrl,iconSize:e.iconSize,shadowSize:e.shadowSize,iconAnchor:e.iconAnchor,shadowAnchor:e.shadowAnchor,popupAnchor:e.popupAnchor})}},html:{getIcon:function(e,t){return o.divIcon(n(e.html)?e.html(t):e.html)}}}},80379:(e,t,r)=>{function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(56307),s=r(47042),l=r(27418),c=r(66287),p=c.isMarkerStyle,u=c.isSymbolStyle,m=function e(t,r,o){for(var n,i=[],a=t.length,s=0;s<a;s++)n=r?e(t[s],r-1,o):(o||this.coordsToLatLng)(t[s]),i.push(n);return i},f=function(e){if("GeometryCollection"===e.geometry.type)return!1;var t=e.style;return t&&(p(t)||u(t)||t.iconUrl||t.iconGlyph)},y={coordsToLatLngF:function(e){return new a.LatLng(e[1],e[0],e[2])},coordsToLatLngs:m,isMarker:f,getPointLayer:function(e,t,r,o){return e?e(t,r):y.pointToLayer(r,t,n(n({},o.style),{},{styleName:o.styleName,highlight:o.highlight}))},pointToLayer:function(e,t,r){var o=r.Point||r.MultiPoint||r,n=function(e,t){if(e&&e.iconGlyph){var r=e.iconLibrary||"extra";if(s[r])return s[r].getIcon(e)}return e&&e.html&&t?s.html.getIcon(e,t):e&&e.iconUrl||e.symbolUrlCustomized||e.symbolUrl?s.standard.getIcon(e):null}(o,t);return n?a.marker(e,{icon:n,opacity:o&&o.opacity||1}):a.marker(e,{opacity:o&&o.opacity||1})},toValidGeoJSON:function(){},createTextPointMarkerLayer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pointToLayer,r=e.geojson,o=e.latlng,i=e.options,s=e.style,l=void 0===s?{}:s,c=e.highlight,p=void 0!==c&&c;if(r.properties&&r.properties.isText){var u=a.divIcon({html:'<span style="\n                font:'.concat(l.font,";\n                color:").concat(l.fillColor,";\n                -webkit-text-stroke-width:",1,"px;\n                -webkit-text-stroke-color:").concat(l.color,';">').concat(r.properties.valueText,"</span>"),className:""});return new a.Marker(o,{icon:u})}return y.getPointLayer(t,r,o,n(n({},i),{},{style:l,highlight:p}))},createPolygonCircleLayer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.geojson,r=e.style,o=void 0===r?{}:r,i=e.latlngs,s=void 0===i?[]:i,l=e.coordsToLatLng,c=void 0===l?function(){}:l;if(t.properties&&t.properties.isCircle){var p=c(t.properties.center);return a.circle(p,n(n({},o),{},{radius:t.properties.radius}))}return new a.Polygon(s,o)},geometryToLayer:function(e,t){var r,o="Feature"===e.type?e.geometry:e,i=o?o.coordinates:null,s=[],c=n({styleName:t.styleName,style:t.style&&t.style[0]||t.style},e),p=t&&!f(c)?function(e,t){return"marker"===c.styleName?a.marker(t,c.style):a.circleMarker(t,c.style&&c.style[0]||c.style)}:null,u=t&&t.coordsToLatLng||y.coordsToLatLngF;if(!i&&!o)return null;var h,d,g,b,v=c.style||l({},t.style&&t.style[o.type]||t.style,{highlight:t.style&&t.style.highlight});switch(o.type){case"Point":return h=u(i),y.createTextPointMarkerLayer({pointToLayer:p,geojson:e,latlng:h,options:t,style:v,highlight:v&&v.highlight});case"MultiPoint":for(g=0,b=i.length;g<b;g++)h=u(i[g]),(r=y.createTextPointMarkerLayer({pointToLayer:p,geojson:e,latlng:h,options:t,style:v,highlight:v&&v.highlight})).msId=e.id,s.push(r);return new a.FeatureGroup(s);case"LineString":return v=y.updateHighlightStyle(v),d=m(i,"LineString"===o.type?0:1,u),(r=new a.Polyline(d,v)).msId=e.id,r;case"MultiLineString":for(v=y.updateHighlightStyle(v),g=0,b=(d=m(i,"LineString"===o.type?0:1,u)).length;g<b;g++)(r=new a.Polyline(d[g],v)).msId=e.id,r&&s.push(r);return new a.FeatureGroup(s);case"Polygon":return v=y.updateHighlightStyle(v),d=m(i,"Polygon"===o.type?1:2,u),(r=y.createPolygonCircleLayer({geojson:e,style:v,latlngs:d,coordsToLatLng:u})).msId=e.id,r;case"MultiPolygon":for(v=y.updateHighlightStyle(v),g=0,b=(d=m(i,"Polygon"===o.type?1:2,u)).length;g<b;g++)(r=y.createPolygonCircleLayer({geojson:e,style:v,latlngs:d,coordsToLatLng:u})).msId=e.id,r&&s.push(r);return new a.FeatureGroup(s);case"GeometryCollection":for(g=0,b=o.geometries.length;g<b;g++)(r=y.geometryToLayer({geometry:o.geometries[g],type:"Feature",properties:e.properties},t))&&s.push(r);return new a.FeatureGroup(s);default:throw new Error("Invalid GeoJSON object.")}},updateHighlightStyle:function(e){var t=e.highlight;return t?l({},e,{dashArray:t?"10":null}):e}};e.exports=y},95784:(e,t,r)=>{var o=r(27418),n={PARAM_OPTIONS:["layers","styles","format","transparent","version","tiled","zindex","_v_","cql_filter","sld"],wmsToLeafletOptions:function(e){var t=void 0!==e.opacity?e.opacity:1;return o({layers:e.name,styles:e.style||"",format:e.format||"image/png",transparent:void 0===e.transparent||e.transparent,tiled:void 0===e.tiled||e.tiled,opacity:t},e.params||{})},getWMSURL:function(e){return e.split("?")[0]},filterWMSParamOptions:function(e){var t={};return Object.keys(e).forEach((function(r){r&&r.toLowerCase&&n.PARAM_OPTIONS.indexOf(r.toLowerCase())>=0&&(t[r]=e[r])})),t}};e.exports=n},24961:(e,t,r)=>{function o(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}var i=r(56307),a=r(52259).getScales,s=r(90183).parseString,l=r(61545),c=l.head,p=l.isNumber,u=i.TileLayer.extend({defaultWmtsParams:{service:"WMTS",request:"GetTile",version:"1.3.0",layer:"",style:"",tileMatrixSet:"",format:"image/jpeg"},initialize:function(e,t,r){this._url=e[0],this._urls=e,this._urlsIndex=0;var o=i.extend({},this.defaultWmtsParams),n=t.tileSize||this.options.tileSize;for(var a in t.detectRetina&&i.Browser.retina?o.width=o.height=2*n:o.width=o.height=n,t)this.options.hasOwnProperty(a)||"crs"===a||(o[a]=t[a]);this.wmtsParams=o,this.matrixIds=r.matrixIds&&this.getMatrix(r.matrixIds,r)||this.getDefaultMatrix(r),this.matrixSet=r.matrixSet&&r.matrixSet.TileMatrix||[],this.ignoreErrors=r.ignoreErrors||!1,i.setOptions(this,t)},getWMTSParams:function(e,t,r,o,n){var i=a()[r],l=c(e.map((function(t,r){if(r===e.length-1)return null;var o=parseFloat(t.ScaleDenominator),n=parseFloat(e[r+1].ScaleDenominator);return o>=i&&n<i?i-n>(o-n)/2?{id:r,data:t}:{id:r+1,data:e[r+1]}:null})).filter((function(e){return e}))),u=l&&p(l.id)&&l.id+""||0===e.length&&r||null;if(!t[u])return null;var m=t[u].identifier,f=l.data&&l.data.TopLeftCorner&&s(l.data.TopLeftCorner)||t[u].topLeftCorner,y=f.lng||f.x,h=f.lat||f.y,d=Math.round((o.x-y)/n),g=-Math.round((o.y-h)/n),b=l.data&&l.data.MatrixWidth&&l.data.MatrixHeight&&{cols:{min:0,max:l.data.MatrixWidth-1},rows:{min:0,max:l.data.MatrixHeight-1}},v=t[u].ranges||b;return v&&!function(e,t,r){return!(e<r.cols.min||e>r.cols.max||t<r.rows.min||t>r.rows.max)}(d,g,v)?null:{ident:m,tilecol:d,tilerow:g}},getTileUrl:function(e){var t=this._map,r=t.options.crs,n=this.options.tileSize,a=e.multiplyBy(n);a.x+=1,a.y-=1;var s=a.add([n,n]),l=r.project(t.unproject(a,e.z)),c=r.project(t.unproject(s,e.z)).x-l.x,p=this.getWMTSParams(o(this.matrixSet),o(this.matrixIds),e.z,l,c);if(!p)return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";this._urlsIndex++,this._urlsIndex===this._urls.length&&(this._urlsIndex=0);var u=i.Util.template(this._urls[this._urlsIndex],{s:this._getSubdomain(e),TileRow:p.tilerow,TileCol:p.tilecol,TileMatrixSet:this.options.tileMatrixSet,TileMatrix:p.ident,Style:this.options.style});return"RESTful"===this.options.requestEncoding?u:u+i.Util.getParamString(this.wmtsParams,u,!0)+"&tilematrix="+p.ident+"&tilerow="+p.tilerow+"&tilecol="+p.tilecol},getMatrix:function(e,t){return e.map((function(e){return{identifier:e.identifier,topLeftCorner:new i.LatLng(t.originY,t.originX),ranges:e.ranges||null}}))},getDefaultMatrix:function(e){for(var t=new Array(22),r=0;r<22;r++)t[r]={identifier:e.tileMatrixPrefix+r,topLeftCorner:new i.LatLng(e.originY,e.originX)};return t},onError:function(){return!this.ignoreErrors}});e.exports=u},49770:(e,t,r)=>{(e.exports=r(9252)()).push([e.id,".msgapi .leaflet-control-minimap {\r\n    border:solid rgba(255, 255, 255, 1.0) 4px;\r\n    box-shadow: 0 1px 5px rgba(0,0,0,0.65);\r\n    border-radius: 3px;\r\n    background: #f8f8f9;\r\n    transition: all .2s;\r\n}\r\n.msgapi .leafletbottom.leafletright, .msgapi .leaflet-control-minimap{\r\n    position:relative;\r\n    bottom:5px;\r\n}\r\n.msgapi .leaflet-control-minimap a {\r\n    background-color: rgba(255, 255, 255, 1.0);\r\n    background-repeat: no-repeat;\r\n    z-index: 99999;\r\n    transition: all .2s;\r\n}\r\n\r\n.msgapi .leaflet-control-minimap a.minimized-bottomright {\r\n    -webkit-transform: rotate(180deg);\r\n    transform: rotate(180deg);\r\n    border-radius: 0px;\r\n    bottom: -3px;\r\n    right: -3px;\r\n}\r\n\r\n.msgapi .leaflet-control-minimap a.minimized-topleft {\r\n    -webkit-transform: rotate(0deg);\r\n    transform: rotate(0deg);\r\n    border-radius: 0px;\r\n}\r\n\r\n.msgapi .leaflet-control-minimap a.minimized-bottomleft {\r\n    -webkit-transform: rotate(270deg);\r\n    transform: rotate(270deg);\r\n    border-radius: 0px;\r\n}\r\n\r\n.msgapi .leaflet-control-minimap a.minimized-topright {\r\n    -webkit-transform: rotate(90deg);\r\n    transform: rotate(90deg);\r\n    border-radius: 0px;\r\n}\r\n\r\n.msgapi .leaflet-control-minimap-toggle-display{\r\n    background-size: cover;\r\n    position: absolute;\r\n    border-radius: 3px 0px 0px 0px;\r\n}\r\n\r\n.msgapi .leaflet-control-minimap-toggle-display-bottomright {\r\n    bottom: 0;\r\n    right: 0;\r\n}\r\n\r\n.msgapi .leaflet-control-minimap-toggle-display-topleft{\r\n    top: 0;\r\n    left: 0;\r\n    -webkit-transform: rotate(180deg);\r\n    transform: rotate(180deg);\r\n}\r\n\r\n.msgapi .leaflet-control-minimap-toggle-display-bottomleft{\r\n    bottom: 0;\r\n    left: 0;\r\n    -webkit-transform: rotate(90deg);\r\n    transform: rotate(90deg);\r\n}\r\n\r\n.msgapi .leaflet-control-minimap-toggle-display-topright{\r\n    top: 0;\r\n    right: 0;\r\n    -webkit-transform: rotate(270deg);\r\n    transform: rotate(270deg);\r\n}\r\n\r\n/* Old IE */\r\n.msgapi .leaflet-oldie .leaflet-control-minimap {\r\n    border: 1px solid #999;\r\n}\r\n\r\n.msgapi .leaflet-oldie .leaflet-control-minimap a {\r\n    background-color: #fff;\r\n}\r\n\r\n.msgapi .leaflet-oldie .leaflet-control-minimap a.minimized {\r\n    filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=2);\r\n}\r\n",""])},91730:(e,t,r)=>{var o=r(49770);"string"==typeof o&&(o=[[e.id,o,""]]),r(14246)(o,{}),o.locals&&(e.exports=o.locals)}}]);