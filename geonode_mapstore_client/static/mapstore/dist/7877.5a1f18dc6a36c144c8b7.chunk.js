(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[7877],{17106:(n,t,e)=>{"use strict";e.d(t,{SV:()=>s,IO:()=>d});var r=e(22222),o=e(2510),u=e(86494),i=e(37275),a=e(22843);function c(n){return function(n){if(Array.isArray(n))return f(n)}(n)||function(n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}(n)||function(n,t){if(n){if("string"==typeof n)return f(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?f(n,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}var l=function(n){return n.context&&n.context.currentContext},s=function(n){return n.context&&n.context.resource},p=(0,r.P1)((function(){return(0,u.get)(i.ZP.getConfigProp("plugins"),"desktop")}),(function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{desktop:[].concat(c(n),["Context"])}})),g=(0,r.P1)((function(n){return(0,u.get)(l(n),"plugins")}),(function(n){return(0,u.get)(l(n),"userPlugins")}),(function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return n&&{desktop:[].concat(c((0,u.get)(n,"desktop",[])),c(t.filter((function(n){return n.active}))))}})),m=((0,r.P1)(l,(function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.templates})),function(n){return function(n){return(0,u.get)(n,"context.loading")}(n)?function(n){return p(n)}(n):g(n)||p(n)}),d=function(n){return(0,r.P1)(l,m,(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!t||(0,u.findIndex)((0,u.get)(e,"desktop",[]),(function(t){return t.name===n}))>-1}))};(0,r.P1)((function(n){return(0,a.bh)(n,(0,o.Hy)(n))}),(function(n){return JSON.stringify(n)}))},2510:(n,t,e)=>{"use strict";e.d(t,{Hy:()=>u,nR:()=>i});var r=e(86494),o=function(n){return n.localConfig},u=function(n){return(o(n)||{}).monitorState},i=function(n){return(0,r.get)(o(n),"defaultMapOptions.floatingIdentifyDelay",500)}},8316:(n,t,e)=>{"use strict";e.d(t,{Pz:()=>u,Ps:()=>i,KV:()=>a});var r=e(22222),o=e(86494),u=function(n){return n.locale&&n.locale.current||"en-US"},i=function(n){return n.locale&&n.locale.messages||{}},a=(0,r.P1)([u],(function(n){return(0,o.head)(n.split("-"))}))},827:(n,t,e)=>{"use strict";e.d(t,{Od:()=>i,uy:()=>a,J9:()=>c,_H:()=>f,HJ:()=>l,pb:()=>s,zj:()=>g,A0:()=>m,S:()=>d,pQ:()=>v,_e:()=>I,up:()=>y,Zs:()=>b,x9:()=>P,zT:()=>O,Mc:()=>j});var r=e(90183),o=e(22222),u=e(86494),i=function(n){return n.map&&n.map.present||n.map||n.config&&n.config.map||null},a=(0,o.P1)([i],(function(n){return n&&n.projection})),c=function(n){return(0,u.get)(n,"mapInitialConfig.mapId")&&parseInt((0,u.get)(n,"mapInitialConfig.mapId"),10)||function(n){return(0,u.get)(i(n),"mapId")&&parseInt((0,u.get)(i(n),"mapId"),10)||null}(n)},f=function(n){return(0,u.get)(i(n),"info")},l=function(n){var t=(0,u.get)(f(n),"canEdit");return void 0===t?(0,u.get)(n,"context.resource.canEdit"):t},s=function(n){return n.localConfig&&n.localConfig.projectionDefs||[]},p=function(n){return n.localConfig&&n.localConfig.mapConstraints||{}},g=function(n){return p(n).restrictedExtent},m=function(n){return p(n).crs},d=function(n){var t=p(n),e=a(n);return e&&(0,u.get)(t,'projectionsConstraints["'.concat(e,'"].minZoom'))||(0,u.get)(t,"minZoom")},v=function(n){return(0,u.get)(i(n),"bbox")},I=function(n){return(0,u.get)(function(n){return(0,u.get)(i(n),"limits")}(n),"minZoom")},y=(0,o.P1)([function(n){return(0,u.get)(i(n),"resolutions")},a],(function(n,t){if(n&&t){var e=r.default.getUnits(t);return n.map((function(n){return 3779.527559055118*n*("degrees"===e?111194.87428468118:1)}))}return[]})),b=function(n){return n.map&&n.map.present&&n.map.present.info&&n.map.present.info.name||""},h=function(n){return(0,u.get)(i(n),"eventListeners.mousemove",[])},P=function(n){return!!h(n).length},O=function(n){return h(n).includes("mouseposition")},j=function(n){return h(n).includes("identifyFloatingTool")}},7877:(n,t,e)=>{"use strict";e.d(t,{xt:()=>g,Qp:()=>m,us:()=>d,x0:()=>v,bI:()=>I,Bz:()=>y,H_:()=>b,A4:()=>h,Ap:()=>P,ij:()=>O,lN:()=>j,oq:()=>w,hs:()=>x,Qf:()=>C,q7:()=>k,OK:()=>A,vR:()=>S,o9:()=>E,IA:()=>D,Kc:()=>_,Dg:()=>H,AO:()=>Z,EI:()=>F,qK:()=>K});var r=e(86494),o=e(22222),u=e(827),i=e(17106),a=e(8316),c=e(7412),f=e(93152);function l(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}function s(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?l(Object(e),!0).forEach((function(t){p(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):l(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function p(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var g=(0,o.P1)(f.c0,(function(n){var t;return!(null==n||null===(t=n.mapInfo)||void 0===t||!t.showInMapPopup)}),(function(n,t){return!n&&t})),m=(0,o.P1)((function(n){return(0,r.get)(n,"mapInfo.requests")||[]}),(0,i.IO)("Identify"),g,(function(n,t,e){return!e&&!!n&&n.length>0&&t})),d=function(n){return(0,r.get)(n,"mapInfo.configuration.infoFormat","text/plain")},v=function(n){return(0,r.get)(n,"mapInfo.configuration.showEmptyMessageGFI",!0)},I=function(n){return(0,r.get)(n,"mapInfo.configuration",{})},y=function(n){return n&&n.mapInfo&&n.mapInfo.clickPoint},b=function(n){return n&&n.mapInfo&&n.mapInfo.clickLayer},h=function(n){return(0,r.get)(n,"mapInfo.itemId",null)},P=function(n){return(0,r.get)(n,"mapInfo.overrideParams",{})},O=function(n){return(0,r.get)(n,"mapInfo.filterNameList",[])},j=(0,o.P1)((function(n){return!(0,r.get)(n,"mapInfo.enabled",!1)}),(function(n){return(0,r.get)(n,"controls.measure.enabled")&&((0,r.get)(n,"measurement.lineMeasureEnabled")||(0,r.get)(n,"measurement.areaMeasureEnabled")||(0,r.get)(n,"measurement.bearingMeasureEnabled"))}),(function(n){var t=(0,r.get)(n,"draw.drawStatus",!1);return t&&"clean"!==t&&"stop"!==t}),(function(n){return(0,r.get)(n,"annotations.editing")}),(0,i.IO)("Identify"),(function(n,t,e,r,o){return n||!!t||e||!!r||!o})),w=(0,o.zB)({format:d,map:u.Od,point:y,currentLocale:a.Pz,maxItems:function(n){return(0,r.get)(n,"mapInfo.configuration.maxItems")}}),x=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.mapInfo&&n.mapInfo.highlight},C=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n&&n.mapInfo&&n.mapInfo.index},k=function(n){return n.mapInfo&&n.mapInfo.responses||[]},A=function(n){var t;return(null==n||null===(t=n.mapInfo)||void 0===t?void 0:t.requests)||[]},S=function(n){var t;return null==n||null===(t=n.mapInfo)||void 0===t?void 0:t.loaded},E=(0,o.P1)(A,k,d,(function(n,t,e){var r=(0,c.Te)(e);return n.length===t.length&&r.getValidResponses(t)})),M=(0,o.P1)(E,C,(function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return n[t]})),D=function(n){var t=M(n)||{};return(0,r.get)(t,"layerMetadata.features")},_=function(n){var t=M(n)||{};return(0,r.get)(t,"layerMetadata.featuresCrs")},z=function(n){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.style||t.geometry&&("Point"===t.geometry.type||"MultiPoint"===t.geometry.type)?n:(0,r.omit)(n,"radius")}},q=function(n){return function(t){return s(s({},t),{},{style:z(n)(t)})}},H=(0,o.P1)(y,x,D,_,(function(n){return n&&n.mapInfo&&n.mapInfo.showMarker}),(function(n){return(0,r.get)(n,"mapInfo.highlightStyle",{color:"#3388ff",weight:4,radius:4,dashArray:"",fillColor:"#3388ff",fillOpacity:.2})}),(function(n,t,e,o,u,i){return u&&n?t?s(s({},n),{},{featuresCrs:o,features:e&&(0,r.isArray)(e)&&e.map(q(i))}):n:void 0})),Z=function(n){var t;return null===(t=n.mapInfo)||void 0===t?void 0:t.currentEditFeatureQuery},F=function(n){return(0,r.get)(n,"mapInfo.configuration.trigger","click")},K=function(n){return!(0,f.c0)(n)}}}]);