(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[5764],{82385:(e,t,r)=>{"use strict";r.d(t,{nr:()=>n,B8:()=>o,LE:()=>i,$Z:()=>a,Cp:()=>u});var n="MAP_EDITOR:SHOW",o="MAP_EDITOR:HIDE",i="MAP_EDITOR:SAVE",a=function(e,t){return{type:n,owner:e,map:t}},u=function(e){return{type:o,owner:e}}},93848:(e,t,r)=>{"use strict";r.d(t,{Ai:()=>i,AQ:()=>a,Gl:()=>u,wd:()=>c,V9:()=>l,ih:()=>s,B8:()=>d,ww:()=>E,HP:()=>f,ri:()=>p,gd:()=>y,nr:()=>m,ty:()=>I,GZ:()=>D,O6:()=>v,Vt:()=>O,Ug:()=>g,Ke:()=>A,Cp:()=>b,pW:()=>_,Gr:()=>T,gG:()=>h,oo:()=>M,Gh:()=>S,$G:()=>w,I5:()=>R,d8:()=>P,y5:()=>C,Az:()=>j,$Z:()=>k,Ql:()=>G,Ul:()=>V,TU:()=>L,E0:()=>N,Yt:()=>U});var n=r(61545),o=r(27693),i="MEDIA_EDITOR:ADDING_MEDIA",a="MEDIA_EDITOR:CHOOSE_MEDIA",u="MEDIA_EDITOR:EDITING_MEDIA",c="GEOSTORY:EDIT_MEDIA",l="MEDIA_EDITOR:LOAD_MEDIA",s="MEDIA_EDITOR:LOAD_MEDIA_SUCCESS",d="MEDIA_EDITOR:HIDE",E="MEDIA_EDITOR:SAVE_MEDIA",f="MEDIA_EDITOR:SET_MEDIA_TYPE",p="MEDIA_EDITOR:SET_MEDIA_SERVICE",y="MEDIA_EDITOR:SELECT_ITEM",m="MEDIA_EDITOR:SHOW",I="MEDIA_EDITOR:UPDATE_ITEM",D="MEDIA_EDITOR:IMPORT_IN_LOCAL",v="MEDIA_EDITOR:REMOVE_MEDIA",O="MEDIA_EDITOR:LOADING_SELECTED_MEDIA",g="MEDIA_EDITOR:LOADING_MEDIA_LIST",A=function(e){return{type:a,resource:e}},b=function(){return{type:d}},_=function(e,t,r){return{type:l,params:e,mediaType:t,sourceId:r}},T=function(e){var t=e.mediaType,r=e.sourceId,n=e.params,o=e.resultData;return{type:s,mediaType:t,sourceId:r,params:n,resultData:o}},h=function(e){var t=e.type,r=e.source,n=e.data;return{type:E,mediaType:t,source:r,data:n}},M=function(e){return{type:"MEDIA_EDITOR:SAVE_MEDIA_SUCCESS",mediaType:e.mediaType,source:e.source,data:e.data,id:e.id}},S=function(e){return{type:y,id:e}},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"merge";return{type:I,item:e,mode:t}},R=function(e){return{type:i,adding:e}},P=function(e){return{type:p,id:(0,n.isObject)(e)?e.value:e}},C=function(e){return{type:f,mediaType:e}},j=function(e){return{type:u,editing:e}},k=function(e,t){return{type:m,owner:e,settings:t}},G=function(e){var t=e.path,r=e.owner;return{type:c,path:t,owner:void 0===r?"geostory":r}},V=function(e){var t=e.resource,r=e.sourceType,n=void 0===r?o.r.GEOSTORY:r,i=e.owner;return{type:D,resource:t,sourceType:n,owner:void 0===i?"geostory":i}},L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"geostory";return{type:v,mediaType:e,owner:t}},N=function(e){return{type:O,loading:e}},U=function(){return{type:g}}},52826:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(67294),o=r.n(n),i=r(70390),a=r(32425),u=r(80628),c=r(30294),l=r(92579);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var y=(0,u.Z)((function(e){var t=e.src,r=e.width,u=e.height,l=e.resolution,s=e.thumbnail,E=e.controls,p=e.play,y=e.onPlay,m=void 0===y?function(){}:y,I=e.onStart,D=void 0===I?function(){}:I,v=e.fit,O=e.loop,g=e.volume,A=void 0===g?1:g,b=e.muted,_=p,T=f((0,n.useState)(_),2),h=T[0],M=T[1],S=f((0,n.useState)(),2),w=S[0],R=S[1],P=f((0,n.useState)(p),2),C=P[0],j=P[1],k="cover"===v;(0,n.useEffect)((function(){!h&&_&&(M(!0),j(!0)),h&&D(h)}),[h,_]);var G,V=(G=r/u,k?G<l?[u*l,u]:[r,r/l]:"contain"===v?G<l?[r,r/l]:[u*l,u]:[r,r/l]),L="contain"===v||k?u:V[1],N=!k&&E,U=!!k||O;return o().createElement("div",{className:"ms-video",style:{position:"relative",width:r,height:L,display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"}},t&&o().createElement(o().Fragment,null,h&&o().createElement(i.ZP,{url:t,width:V[0],height:V[1],playing:_,loop:U,volume:A,muted:b,style:k?{left:"50%",top:"50%",transform:"translate(-50%, -50%)",position:"absolute"}:{},controls:N,pip:!1,fileConfig:{attributes:{controlsList:"nodownload",disablePictureInPicture:!0}},youtubeConfig:{playerVars:{controls:N?2:0,modestbranding:1,rel:0}},onReady:function(){return j(!1)},onError:function(e){return R(e)},onPause:function(){return m(!1)},onPlay:function(){return m(!0)}}),(!h||h&&(C||w))&&o().createElement("div",{className:"ms-video-cover",style:d(d({position:"absolute",width:V[0],height:V[1],display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 1.0)"},!(C||w)&&{cursor:"pointer"}),!_&&s&&{backgroundImage:"url(".concat(s,")"),backgroundSize:k?"cover":"640px auto",backgroundPosition:"center",backgroundRepeat:"no-repeat"}),onClick:function(){M(!0),j(!0),m(!0)}},C&&o().createElement(a.Z,{size:70}),w&&"Error",!(C||w)&&!_&&o().createElement(c.Glyphicon,{glyph:"play",style:{fontSize:V[1]/4>100?100:V[1]/4,mixBlendMode:"difference",color:"#ffffff"}}))),!N&&o().createElement("div",{className:"ms-video-mask-cover",style:{position:"absolute",width:V[0],height:V[1]}}))}));const m=function(e){var t=e.id,r=e.src,i=e.resolution,a=void 0===i?16/9:i,u=e.autoplay,c=e.inView,s=e.description,d=e.showCaption,E=e.caption,p=void 0===E?s:E,m=e.thumbnail,I=e.credits,D=e.controls,v=void 0===D||D,O=e.fit,g=e.loop,A=e.muted,b=e.onPlay,_=void 0===b?function(){}:b,T=e.mode,h=e.containerInView,M=(void 0===h||h)&&c,S=f((0,n.useState)(!1),2),w=S[0],R=S[1],P=function(e){R(e),_(e)};return(0,n.useEffect)((function(){T===l.nl.EDIT&&P(!1)}),[T]),(0,n.useEffect)((function(){T===l.nl.VIEW&&M&&(u||"cover"===O)&&P(!0)}),[M,u,O,T]),(0,n.useEffect)((function(){T===l.nl.VIEW&&!M&&w&&P(!1)}),[M,w,T]),o().createElement("div",{id:t,key:"".concat(t,"-").concat(O,"-").concat(T),className:"ms-media ms-media-video"},o().createElement(y,{src:r,play:w&&T===l.nl.VIEW,resolution:a,thumbnail:m,controls:v&&T===l.nl.VIEW,onPlay:P,fit:O,loop:g,muted:A}),I&&o().createElement("div",{className:"ms-media-credits"},o().createElement("small",null,I)),d&&p&&o().createElement("div",{className:"ms-media-caption"},o().createElement("small",null,p)))}},2870:(e,t,r)=>{"use strict";r.d(t,{Q:()=>o}),r(61545);var n=r(53005),o=function(e,t){var r=e.format,o=e.queryParams,i=void 0===o?{}:o;return i.info_format||i.outputFormat||r&&n.O7[r]||t.format}},27693:(e,t,r)=>{"use strict";r.d(t,{r:()=>n,D:()=>o});var n={GEOSTORY:"geostory",GEOSTORE:"geostore"},o={type:"osm",title:"Open Street Map",name:"mapnik",source:"osm",group:"background",visibility:!0,id:"mapnik__0",loading:!1,loadingError:!1}}}]);