(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[8854],{33528:(e,t,n)=>{"use strict";n.d(t,{gJ:()=>r,Oj:()=>o,jp:()=>i,CM:()=>a,DU:()=>l,aO:()=>s,v6:()=>u,K8:()=>p,IN:()=>c,zh:()=>m,AH:()=>f,Ub:()=>d,_9:()=>y,JB:()=>g,oh:()=>b,AY:()=>h,yi:()=>v,SW:()=>E,Hk:()=>O,iQ:()=>T,dY:()=>S,$:()=>A,_u:()=>C,gG:()=>P,DI:()=>M,dZ:()=>w,qw:()=>R,f$:()=>F,bZ:()=>L,$O:()=>I,sF:()=>j,Gk:()=>x,vO:()=>D,ut:()=>G,MK:()=>U,VV:()=>_,B8:()=>N,VM:()=>k,a3:()=>V,Xp:()=>B,DA:()=>Z,sK:()=>q,yA:()=>H,r:()=>Y,iB:()=>z,WB:()=>W,EH:()=>X,Yd:()=>$,Hg:()=>J,Lz:()=>K,ye:()=>Q,Jb:()=>ee,d:()=>te,fT:()=>ne,Ib:()=>re,Pl:()=>oe,UB:()=>ie,Uh:()=>ae,QT:()=>le,oL:()=>se,Ap:()=>ue,KD:()=>pe,Z_:()=>ce,Vw:()=>me,sY:()=>fe,kA:()=>de,gr:()=>ye,pX:()=>ge,F5:()=>be,MO:()=>he,dq:()=>ve,DY:()=>Ee,oO:()=>Oe,uF:()=>Te,a8:()=>Se,Pv:()=>Ae,an:()=>Ce,lg:()=>Pe,nY:()=>Me,nG:()=>we,lx:()=>Re,$S:()=>Fe,gc:()=>Le,Uz:()=>Ie,fO:()=>je,$E:()=>xe,cE:()=>De,JK:()=>Ge,YV:()=>Ue,t9:()=>_e,YG:()=>Ne,HT:()=>ke,MY:()=>Ve,ve:()=>Be,hB:()=>Ze,Ox:()=>qe,zd:()=>He,aT:()=>Ye,VH:()=>ze,Yb:()=>We,Jr:()=>Xe,pP:()=>$e,gL:()=>Je});var r="FEATUREGRID:SET_UP",o="FEATUREGRID:SELECT_FEATURES",i="FEATUREGRID:DESELECT_FEATURES",a="FEATUREGRID:CLEAR_SELECTION",l="FEATUREGRID:SET_SELECTION_OPTIONS",s="FEATUREGRID:TOGGLE_MODE",u="FEATUREGRID:TOGGLE_FEATURES_SELECTION",p="FEATUREGRID:FEATURES_MODIFIED",c="FEATUREGRID:NEW_FEATURE",m="FEATUREGRID:SAVE_CHANGES",f="FEATUREGRID:SAVING",d="FEATUREGRID:START_EDITING_FEATURE",y="FEATUREGRID:START_DRAWING_FEATURE",g="FEATUREGRID:DELETE_GEOMETRY",b="FEATUREGRID:DELETE_GEOMETRY_FEATURE",h="FEATUREGRID:SAVE_SUCCESS",v="FEATUREGRID:CLEAR_CHANGES",E="FEATUREGRID:SAVE_ERROR",O="FEATUREGRID:DELETE_SELECTED_FEATURES",T="SET_FEATURES",S="FEATUREGRID:SORT_BY",A="FEATUREGRID:SET_LAYER",C="QUERY:UPDATE_FILTER",P="FEATUREGRID:CHANGE_PAGE",M="FEATUREGRID:GEOMETRY_CHANGED",w="DOCK_SIZE_FEATURES",R="FEATUREGRID:TOGGLE_TOOL",F="FEATUREGRID:CUSTOMIZE_ATTRIBUTE",L="ASK_CLOSE_FEATURE_GRID_CONFIRM",I="FEATUREGRID:OPEN_GRID",j="FEATUREGRID:CLOSE_GRID",x="FEATUREGRID:CLEAR_CHANGES_CONFIRMED",D="FEATUREGRID:FEATURE_GRID_CLOSE_CONFIRMED",G="FEATUREGRID:SET_PERMISSION",U="FEATUREGRID:DISABLE_TOOLBAR",_="FEATUREGRID:ACTIVATE_TEMPORARY_CHANGES",N="FEATUREGRID:DEACTIVATE_GEOMETRY_FILTER",k="FEATUREGRID:ADVANCED_SEARCH",V="FEATUREGRID:ZOOM_ALL",B="FEATUREGRID:INIT_PLUGIN",Z="FEATUREGRID:SIZE_CHANGE",q="FEATUREGRID:TOGGLE_SHOW_AGAIN_FLAG",H="FEATUREGRID:HIDE_SYNC_POPOVER",Y="FEATUREGRID:UPDATE_EDITORS_OPTIONS",z="FEATUREGRID:LAUNCH_UPDATE_FILTER_FUNC",W="FEATUREGRID:SET_SYNC_TOOL",X={EDIT:"EDIT",VIEW:"VIEW"},$="FEATUREGRID:START_SYNC_WMS",J="FEATUREGRID:STOP_SYNC_WMS",K="STORE_ADVANCED_SEARCH_FILTER",Q="LOAD_MORE_FEATURES",ee="FEATUREGRID:QUERY_RESULT",te="FEATUREGRID:SET_TIME_SYNC",ne="FEATUREGRID:SET_PAGINATION";function re(){return{type:q}}function oe(){return{type:H}}function ie(e,t){return{type:ee,features:e,pages:t}}function ae(e){return{type:K,filterObj:e}}function le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:B,options:e}}function se(){return{type:x}}function ue(){return{type:D}}function pe(e,t){return{type:o,features:e,append:t}}function ce(e){return{type:r,options:e}}function me(e){return{type:M,features:e}}function fe(){return{type:d}}function de(){return{type:y}}function ye(e){return{type:i,features:e}}function ge(){return{type:g}}function be(e){return{type:b,features:e}}function he(){return{type:a}}function ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.multiselect,n=void 0!==t&&t;return{type:l,multiselect:n}}function Ee(e,t){return{type:S,sortBy:e,sortOrder:t}}function Oe(e,t){return{type:P,page:e,size:t}}function Te(e){return{type:A,id:e}}function Se(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:C,update:e,append:t}}function Ae(e,t){return{type:R,tool:e,value:t}}function Ce(e,t,n){return{type:F,name:e,key:t,value:n}}function Pe(){return{type:s,mode:X.EDIT}}function Me(){return{type:s,mode:X.VIEW}}function we(e,t){return{type:p,features:e,updated:t}}function Re(e){return{type:c,features:e}}function Fe(){return{type:m}}function Le(){return{type:h}}function Ie(){return{type:O}}function je(){return{type:f}}function xe(){return{type:v}}function De(){return{type:E}}function Ge(){return{type:L}}function Ue(){return{type:j}}function _e(){return{type:I}}function Ne(e){return{type:U,disabled:e}}function ke(e){return{type:G,permission:e}}function Ve(){return{type:k}}function Be(){return{type:V}}function Ze(){return{type:$}}function qe(e,t){return{type:Z,size:e,dockProps:t}}var He=function(e){return{type:Q,pages:e}},Ye=function(e){return{type:_,activated:e}},ze=function(e){return{type:N,deactivated:e}},We=function(e){return{type:te,value:e}},Xe=function(e){return{type:ne,size:e}},$e=function(e){return{type:z,updateFilterAction:e}},Je=function(e){return{type:W,syncWmsFilter:e}}},89602:(e,t,n)=>{"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{lD:()=>i,yK:()=>a,gf:()=>l,Qr:()=>s,Kx:()=>u,V:()=>p,Wt:()=>c,Qw:()=>m,GI:()=>f,MT:()=>d,XX:()=>y,sc:()=>g,qg:()=>b,Kf:()=>h,ES:()=>v,ud:()=>E,Bd:()=>O,Gd:()=>T,$3:()=>S,el:()=>A,CG:()=>C,h2:()=>P,NR:()=>M,RM:()=>w,dD:()=>R,wB:()=>F,Y_:()=>L,nl:()=>I,S1:()=>j});var i="CHANGE_MEASUREMENT_TOOL",a="CHANGE_MEASUREMENT_STATE",l="MEASUREMENT:CHANGE_UOM",s="MEASUREMENT:CHANGED_GEOMETRY",u="MEASUREMENT:SET_TEXT_LABELS",p="MEASUREMENT:SET_CURRENT_FEATURE",c="MEASUREMENT:ADD_AS_LAYER",m="MEASUREMENT:RESET_GEOMETRY",f="MEASUREMENT:CHANGE_FORMAT",d="MEASUREMENT:CHANGE_COORDINATES",y="MEASUREMENT:ADD_MEASURE_AS_ANNOTATION",g="MEASUREMENT:UPDATE_MEASURES",b="MEASUREMENT:INIT",h="MEASUREMENT:SET_MEASUREMENT_CONFIG",v="MEASUREMENT:SET_ANNOTATION_MEASUREMENT";function E(e,t,n,r,o){return{type:y,features:e,textLabels:t,uom:n,save:r,properties:o}}function O(e){return function(t){t(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:i},e)}(e))}}function T(e,t,n){return{type:l,uom:e,value:t,previousUom:n}}function S(e){return{type:s,features:e}}function A(e,t){return{type:h,property:e,value:t}}function C(e){return{type:u,textLabels:e}}function P(e){return{type:p,featureIndex:e}}function M(e,t,n){return{type:c,features:e,textLabels:t,uom:n}}function w(e){return{type:f,format:e}}function R(e){return{type:d,coordinates:e}}function F(){return{type:m}}function L(e){return{type:g,measures:e}}function I(e){return{type:a,pointMeasureEnabled:e.pointMeasureEnabled,lineMeasureEnabled:e.lineMeasureEnabled,areaMeasureEnabled:e.areaMeasureEnabled,bearingMeasureEnabled:e.bearingMeasureEnabled,geomType:e.geomType,values:e.values,feature:e.feature,point:e.point,len:e.len,area:e.area,bearing:e.bearing,lenUnit:e.lenUnit,areaUnit:e.areaUnit}}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:b,defaultOptions:e}}},45567:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(24852),o=n.n(r),i=n(67076),a=["onSort","isDraggable","items","containerId"];function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=(0,i.compose)((0,i.branch)((function(e){var t=e.isDraggable;return void 0===t||t}),(function(e){return function(t){var n=t.onSort,r=t.isDraggable,i=t.items,s=void 0===i?[]:i,p=t.containerId,c=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,a),m=s.map((function(e,t){return u(u({},e),{},{onSort:n,isDraggable:r,sortId:t,key:e.id||t,containerId:p})}));return o().createElement(e,l({},u(u({},c),{},{isDraggable:r}),{items:m}))}})))},74226:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>T});var r=n(49977),o=n.n(r),i=n(23570),a=n.n(i),l=n(62192),s=n(8797),u=n(89602),p=n(80416),c=n(58767),m=n(82904),f=n(33528),d=n(21914),y=n(7147),g=n(97266),b=n(1550),h=n(42780);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const T={addAnnotationFromMeasureEpic:function(e){return e.ofType(u.XX).switchMap((function(e){var t=e.features,n=e.textLabels,r=e.uom,i=e.save,s=e.properties||{},p=s.id,f=void 0===p?a()():p,d=s.visibility,y=void 0===d||d,g=E(E({},(0,l.tL)(t,n,r,f,"Annotations created from measurements",c.Eo)),{},{newFeature:i,visibility:y});return o().Observable.of((0,m.Xi)("annotations",null),(0,h.A9)(),(0,u.el)("exportToAnnotation",!1),(0,h.yg)(g))}))},addAsLayerEpic:function(e){return e.ofType(u.Wt).switchMap((function(e){var t=e.features,n=e.textLabels,r=e.uom,i=(0,l.tL)(t,n,r,a()());return o().Observable.of((0,p.A4)({type:"vector",id:a()(),name:"Measurements",hideLoading:!0,features:[i],visibility:!0}))}))},openMeasureEpic:function(e,t){return e.ofType(m.At).filter((function(e){return"measure"===e.control&&e.value&&(0,y.Iz)(t.getState())})).switchMap((function(){return o().Observable.of((0,f.YV)(),(0,d.g)(),(0,d.aN)())}))},closeMeasureEpics:function(e,t){return e.ofType(m.kM).filter((function(e){return"measure"===e.control&&!(0,y.QF)(t.getState())})).switchMap((function(){return o().Observable.of((0,h.Rx)())}))},setMeasureStateFromAnnotationEpic:function(e,t){return e.ofType(u.ES).switchMap((function(e){var n,r,i=e.features,a=e.properties,s=(0,g.on)(t.getState())===(null===(n=(0,l.k2)(i))||void 0===n?void 0:n[0]);return o().Observable.of(!s&&(0,u.Bd)({geomType:null===(r=(0,l.k2)(i))||void 0===r?void 0:r[0]}),(0,m.Xg)("measure","enabled",!0),(0,m.Xg)("annotations","enabled",!1),(0,h.r1)(a.id,!1))}))},addCoordinatesEpic:function(e,t){var n=t.getState,r=void 0===n?function(){}:n;return e.ofType(b.TR).filter((function(){var e=r().controls.measure,t=e.showCoordinateEditor,n=e.enabled;return t&&n})).switchMap((function(e){var t,n,i,a=e.point,l=(null===(t=r())||void 0===t?void 0:t.measurement)||{},p=l.currentFeature,c=l.features,m=void 0===c?[]:c,f=l.geomType,d=(null==a?void 0:a.latlng)||{},y=d.lng,g=d.lat,b=(null===(n=m[p])||void 0===n||null===(i=n.geometry)||void 0===i?void 0:i.coordinates)||[],h=void 0!==(b="Polygon"===f?b[0]:b)?b.findIndex((function(e){return!(0,s.wd)(e)})):-1;return-1!==h?((b=b.map((function(e){return{lon:e[0],lat:e[1]}})))[h]={lon:y,lat:g},o().Observable.of((0,u.dD)(b))):o().Observable.empty()}))}}},50981:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Je});var r=n(27418),o=n.n(r),i=n(24852),a=n.n(i),l=n(57588),s=n(71703),u=n(22222),p=n(42780),c=n(82904),m=n(89602),f=n(7147),d=n(93152),y=n(97266),g=n(63202),b=n(81756),h=n(43624),v=n.n(h),E=n(27361),O=n.n(E),T=n(18446),S=n.n(T),A=n(59854),C=n.n(A),P=n(45697),M=n.n(P),w=n(20),R=n(23570),F=n.n(R),L=n(89077),I=n(86638),j=n(62192),x=n(8797),D=n(5346),G=n(47361),U=n(65539),_=n(80717),N=n(43129),k=n(15135),V=n(91175),B=n.n(V),Z=n(7654),q=n.n(Z),H=n(41609),Y=n.n(H),z=n(45567),W=n(58767),X=n(38261),$=n(81763),J=n.n($),K=n(86267),Q=n(94192),ee=n(67076),te=function(e,t,n){return J()(parseFloat(e))&&!isNaN(parseFloat(e))?(0,x.Ov)(parseFloat(e),t,n):e},ne=function(e,t,n){return J()(parseFloat(e))&&!isNaN(parseFloat(e))?parseFloat((0,x.Ov)(e,n,t).toFixed(4)):e};const re=(0,ee.compose)((0,ee.defaultProps)({valueUom:"m",displayUom:"m",units:[{value:"degrees",label:"deg",originUom:"degrees"},{value:"ft",label:"ft",originUom:"m"},{value:"m",label:"m",originUom:"m"},{value:"km",label:"km",originUom:"m"},{value:"mi",label:"mi",originUom:"m"},{value:"nm",label:"nm",originUom:"m"}]}),(0,ee.withStateHandlers)((function(e){var t=e.displayUom;return{uom:void 0===t?"nm":t}}),{setUom:function(){return function(e){return{uom:e}}}}),(0,ee.withState)("localValue","setLocalValue"),(0,ee.withPropsOnChange)(["value","localValue","uom","valueUom"],(function(e){var t=e.value,n=e.localValue,r=e.uom,o=e.valueUom;return{value:t===te(n,r,o)?n:ne(t,r,o)}})),(0,ee.withHandlers)({onChange:function(e){var t=e.uom,n=e.projection,r=e.valueUom,o=e.onChange,i=void 0===o?function(){}:o,a=e.setLocalValue,l=void 0===a?function(){}:a;return function(e){l(e),i(te(e,t,r),n)}}}))((function(e){var t=e.value,n=e.units,r=void 0===n?[]:n,o=e.uom,i=e.projection,s=void 0===i?"EPSG:3857":i,u=e.style,p=void 0===u?{display:"inline-flex",width:"100%"}:u,c=e.setUom,m=void 0===c?function(){}:c,f=e.onChange,d=void 0===f?function(){}:f,y=(0,K.getUnits)(s);return a().createElement(l.FormGroup,{style:p},a().createElement(Q.Z,{value:t,placeholder:"radius",name:"radius",onChange:function(e){return d(e,o)},step:1,type:"number"}),a().createElement(l.FormControl,{componentClass:"select",placeholder:"select",value:o,onChange:function(e){return m(e.target.value)},style:{width:85}},r.filter((function(e){var t=e.originUom;return y===t})).map((function(e){return a().createElement("option",{key:e.value,value:e.value},e.label)}))))}));function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function le(e){return function(e){if(Array.isArray(e))return se(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?se(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ue(){return(ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e,t){return(me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e,t){return!t||"object"!==oe(t)&&"function"!=typeof t?de(e):t}function de(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var be=(0,k.Z)(l.Glyphicon),he=(0,k.Z)(l.DropdownButton),ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ye(r);if(o){var n=ye(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return fe(this,e)});function s(){var e;pe(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ge(de(e=i.call.apply(i,[this].concat(n))),"getValidationStateRadius",(function(e){var t=parseFloat(e);return q()(t)?"error":null})),ge(de(e),"renderLabelTexts",(function(t,n){var r=n.textLabels,o=n.featurePropValue;return"Polygon"===e.props.type?!Y()(r)&&r[t].text:0!==t?Y()(r)?!Y()(o)&&o[0].formattedValue:r[t-1].text:null})),ge(de(e),"validateCoordinates",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props.components,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0;if(t&&t.length){var o=t.filter(W.Tl);return n?o.length>e.props.componentsValidation[e.props.type].min||o.length>=e.props.componentsValidation[e.props.type].min&&!(0,W.Tl)(t[r]):o.length>=e.props.componentsValidation[e.props.type].min}return!1})),ge(de(e),"validateCircle",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props.components,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.props.properties.radius;if(t&&t.length){var r=B()(t);return!q()(parseFloat(n))&&(0,W.Tl)(r)}return!1})),ge(de(e),"validateText",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props.components,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.props.properties.valueText;if(t&&t.length){var r=B()(t);return!!n&&(0,W.Tl)(r)}return!1})),ge(de(e),"isValid",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props.components,n=arguments.length>1?arguments[1]:void 0;return e[e.props.componentsValidation[e.props.type].validation](t,!1,n)})),ge(de(e),"addCoordPolygon",(function(t){if("Polygon"===e.props.type){var n,r,o,i=t.filter(W.Tl),a=(null===(n=e.props.features[e.props.currentFeature])||void 0===n||null===(r=n.geometry)||void 0===r||null===(o=r.coordinates)||void 0===o?void 0:o[0])||[],l=void 0!==a?a.findIndex((function(e){return!(0,W.Tl)({lon:e[0],lat:e[1]})})):-1;return t.concat([i.length&&0!==l?i[0]:{lat:"",lon:""}])}return t})),ge(de(e),"change",(function(t,n){var r=e.props.components,o=q()(parseFloat(n.lat))?"":parseFloat(n.lat),i=q()(parseFloat(n.lon))?"":parseFloat(n.lon);r[t]={lat:o,lon:i};var a=e.addCoordPolygon(r);e.props.onChange(a,e.props.properties.radius,e.props.properties.valueText,e.props.mapProjection),e.isValid(r)?(e.props.isMouseEnterEnabled||"LineString"===e.props.type||"Polygon"===e.props.type)&&e.props.onHighlightPoint(r[t]):((e.props.isMouseLeaveEnabled||"LineString"===e.props.type||"Polygon"===e.props.type)&&e.props.onHighlightPoint(null),e.props.onSetInvalidSelected("coords",r.map(W.bh)))})),e}return t=s,(n=[{key:"renderCircle",value:function(){var e=this;return a().createElement("div",{style:{flex:1,overflowY:"auto",padding:"0 10px"}},a().createElement("div",null,a().createElement(l.FormGroup,{validationState:this.getValidationStateRadius(this.props.properties.radius)},a().createElement(l.ControlLabel,null,a().createElement(D.Z,{msgId:"annotations.editor.radius"})),a().createElement(re,ue({placeholder:"radius"},this.props.measureOptions,{value:this.props.properties.radius,projection:this.props.mapProjection,name:"radius",onChange:function(t,n){e.isValid(e.props.components,t)?e.props.onChangeRadius(parseFloat(t),e.props.components.map(W.bh),n):""!==t?e.props.onChangeRadius(parseFloat(t),[],n):(e.props.onChangeRadius(null,e.props.components.map(W.bh),n),e.props.onSetInvalidSelected("radius",e.props.components.map(W.bh)))},step:1,type:"number"})))))}},{key:"render",value:function(){var e=this,t=this.props.features[this.props.currentFeature||0],n=O()(t,"geometry.textLabels",[]),r=O()(t,"properties.values",[]),o=this.props,i=o.componentsValidation,s=o.type,u=le(this.props.components),p=u.filter(W.Tl).length===u.length,c=this[i[s].validation]()&&p,m=[{value:"decimal",text:a().createElement(D.Z,{msgId:"annotations.editor.decimal"})},{value:"aeronautical",text:a().createElement(D.Z,{msgId:"annotations.editor.aeronautical"})}],f=[{glyph:c?"ok-sign text-success":"exclamation-mark text-danger",tooltipId:c?"annotations.editor.valid":i[s].notValid,visible:!0},{Element:function(){return a().createElement(he,{noCaret:!0,title:a().createElement(be,{glyph:"cog"}),pullRight:!0,className:"square-button-md no-border",tooltip:"Format"},m.map((function(t){var n=t.text,r=t.value;return a().createElement(l.MenuItem,{active:e.props.format===r,key:r,onClick:function(){return e.props.onChangeFormat(r)}},n)})))}},{glyph:"plus",tooltipId:"annotations.editor.add",disabled:"Bearing"!==s&&this.props.properties.disabled,visible:!i[s].add||!i[s].max||this.props.components.length!==i[s].max,onClick:function(){var t=le(e.props.components);t=t.concat([{lat:"",lon:""}]),e.props.onChange(t,e.props.properties.radius,e.props.properties.valueText,e.props.mapProjection)}}];return a().createElement("div",{style:{display:"flex",flexDirection:"column",flex:1}},a().createElement("div",{className:"measure-feature-selector"},a().createElement("div",null,this.props.showFeatureSelector?a().createElement(N.ZP,{value:this.props.currentFeature,disabled:this.props.properties.disabled,options:[].concat(le(this.props.features.map((function(t,n){var r=O()(t,"properties.values",[]),o="bearing"===(r[0]||{}).type?"Bearing":t.geometry.type;if(o!==e.props.type)return null;var i="LineString"===o?"Length":"Bearing"===o?"Bearing":"Area",a=r.length>0?"".concat(i," ").concat(r[0].formattedValue):"",l=r.length>1&&"Polygon"===o?", Perimeter: ".concat(r[1].formattedValue):"";return{label:"".concat(o," (").concat(a).concat(l,")"),value:n}}))),[{label:(0,I.S$)(this.context.messages,"annotations.editor.newFeature"),value:this.props.features.length}]).filter((function(e){return!!e})),onChange:function(t){return e.props.onChangeCurrentFeature(null==t?void 0:t.value)}}):null),a().createElement("div",null,a().createElement(_.Z,{btnGroupProps:{className:"pull-right"},btnDefaultProps:{className:"square-button-md no-border"},buttons:f}))),"Circle"===this.props.type&&this.renderCircle(),"Circle"===this.props.type&&a().createElement("div",{style:{flex:1,overflowY:"auto",paddingLeft:10,marginTop:10}},a().createElement("div",null,a().createElement(l.ControlLabel,null,a().createElement(D.Z,{msgId:"annotations.editor.center"})))),a().createElement("div",{className:"coordinates-row-container"},this.props.components.map((function(t,o){return a().createElement(a().Fragment,null,e.props.showLengthAndBearingLabel&&a().createElement("div",{className:"label-texts"},a().createElement("span",null,e.renderLabelTexts(o,{textLabels:n,featurePropValue:r}))),a().createElement(X.Z,{format:e.props.format,aeronauticalOptions:e.props.aeronauticalOptions,sortId:o,key:o+" key",disabled:e.props.properties.disabled&&(0,W.Tl)(t),renderer:e.props.renderer,isDraggable:e.props.isDraggable,isDraggableEnabled:e.props.isDraggable&&e[i[s].validation]()&&!e.props.properties.disabled,showDraggable:e.props.isDraggable&&!("Point"===e.props.type||"Text"===e.props.type||"Circle"===e.props.type),formatVisible:!1,removeVisible:i[s].remove,removeEnabled:e[i[s].validation](e.props.components,i[s].remove,o),onSubmit:e.change,onMouseEnter:function(t){(e.props.isMouseEnterEnabled||"LineString"===e.props.type||"Polygon"===e.props.type||"MultiPoint"===e.props.type)&&e.props.onHighlightPoint(t)},onMouseLeave:function(){(e.props.isMouseLeaveEnabled||"LineString"===e.props.type||"Polygon"===e.props.type||"MultiPoint"===e.props.type)&&e.props.onHighlightPoint(null)},onSort:function(t,n){var r=e.props.components.reduce((function(r,o,i){return t===i?[].concat(le(r),t>n?[ae({},o),B()(e.props.components.filter((function(e,t){return t===n})))]:[B()(e.props.components.filter((function(e,t){return t===n}))),ae({},o)]):n===i?le(r):[].concat(le(r),[ae({},o)])}),[]).filter((function(e){return e}));e.isValid(r)?e.props.onChange(r):e.props.properties.isValidFeature&&e.props.onSetInvalidSelected("coords",e.props.components.map(W.bh))},idx:o,component:t,onRemove:function(){var t=e.props.components.filter((function(e,t){return t!==o}));e.isValid(t)?(e.props.isMouseEnterEnabled||"LineString"===e.props.type&&o!==t.length||"Polygon"===e.props.type?e.props.onHighlightPoint(t[o]):e.props.onHighlightPoint(null),e.props.onChange(t)):e.props.properties.isValidFeature&&e.props.onSetInvalidSelected("coords",e.props.components.map(W.bh))}}))}))),(!this.props.components||0===this.props.components.length)&&a().createElement("div",{className:"text-center",style:{padding:15,paddingBottom:30}},a().createElement("i",null,a().createElement(D.Z,{msgId:"annotations.editor.addByClick"}))))}}])&&ce(t.prototype,n),s}(a().Component);ge(ve,"propTypes",{components:M().array,measureOptions:M().object,onSetInvalidSelected:M().func,onChange:M().func,onChangeRadius:M().func,onHighlightPoint:M().func,onChangeText:M().func,onChangeFormat:M().func,onChangeCurrentFeature:M().func,format:M().string,aeronauticalOptions:M().object,componentsValidation:M().object,transitionProps:M().object,properties:M().object,mapProjection:M().string,features:M().array,currentFeature:M().number,showFeatureSelector:M().bool,type:M().string,isDraggable:M().bool,isMouseEnterEnabled:M().bool,isMouseLeaveEnabled:M().bool,showLengthAndBearingLabel:M().bool,renderer:M().string}),ge(ve,"contextTypes",{messages:M().object}),ge(ve,"defaultProps",{components:[],measureOptions:{},onChange:function(){},onChangeRadius:function(){},onHighlightPoint:function(){},onChangeFormat:function(){},onChangeText:function(){},onChangeCurrentFeature:function(){},onSetInvalidSelected:function(){},componentsValidation:{Bearing:{min:2,max:2,add:!0,remove:!0,validation:"validateCoordinates",notValid:"annotations.editor.notValidPolyline"},Polygon:{min:3,add:!0,remove:!0,validation:"validateCoordinates",notValid:"annotations.editor.notValidPolyline"},LineString:{min:2,add:!0,remove:!0,validation:"validateCoordinates",notValid:"annotations.editor.notValidPolyline"},MultiPoint:{min:2,add:!0,remove:!0,validation:"validateCoordinates",notValid:"annotations.editor.notValidPolyline"},Point:{min:1,max:1,add:!0,remove:!1,validation:"validateCoordinates",notValid:"annotations.editor.notValidMarker"},Circle:{min:1,max:1,add:!0,remove:!1,validation:"validateCircle",notValid:"annotations.editor.notValidCircle"},Text:{min:1,max:1,add:!0,remove:!1,validation:"validateText",notValid:"annotations.editor.notValidText"}},transitionProps:{transitionName:"switch-panel-transition",transitionEnterTimeout:300,transitionLeaveTimeout:300},features:[],isDraggable:!0,isMouseEnterEnabled:!1,isMouseLeaveEnabled:!1,properties:{},type:"Point"});const Ee=(0,z.Z)(ve);function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ae(e,t){return(Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ce(e,t){return!t||"object"!==Oe(t)&&"function"!=typeof t?Pe(e):t}function Pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function we(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.e(8545).then(n.bind(n,98545));var Re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ae(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Me(r);if(o){var n=Me(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ce(this,e)});function s(){var e;Te(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return we(Pe(e=i.call.apply(i,[this].concat(n))),"onGeomClick",(function(t){e.props.geomType!==t&&e.props.toggleMeasure({geomType:t})})),we(Pe(e),"onResetClick",(function(){e.props.toggleMeasure({geomType:null})})),we(Pe(e),"getToolTips",(function(){return{lineToolTip:a().createElement(l.Tooltip,{id:"tooltip-button.line"},e.props.lengthLabel),areaToolTip:a().createElement(l.Tooltip,{id:"tooltip-button.area"},e.props.areaLabel),bearingToolTip:a().createElement(l.Tooltip,{id:"tooltip-button.bearing"},e.isTrueBearing()?e.props.trueBearingLabel:e.props.bearingLabel)}})),we(Pe(e),"renderMeasurements",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n={style:"decimal",minimumIntegerDigits:1,maximumFractionDigits:2,minimumFractionDigits:2};return a().createElement(l.Grid,{fluid:!0,style:{maxHeight:400}},e.props.lineMeasureEnabled&&a().createElement(l.Row,null,a().createElement(l.FormGroup,{style:{display:"flex",alignItems:"center"}},e.props.lineMeasureValueEnabled&&a().createElement(l.Col,{xs:6},a().createElement("span",null,e.props.lengthLabel,": "),a().createElement("span",{id:"measure-len-res",className:"measure-value"},a().createElement("h3",null,a().createElement("strong",null,a().createElement(G.Z,{key:"len",numberParams:n,value:e.props.formatLength(e.props.uom.length.unit,e.props.measurement.len)})," ",e.props.uom.length.label)))),a().createElement(l.Col,{xs:6},a().createElement(w.DropdownList,{disabled:t,value:e.props.uom.length.label,onChange:function(t){e.props.onChangeUom("length",t,e.props.uom)},data:e.props.uomLengthValues,textField:"label",valueField:"value"})))),e.props.areaMeasureEnabled&&a().createElement(l.Row,null,a().createElement(l.FormGroup,{style:{display:"flex",alignItems:"center"}},e.props.areaMeasureValueEnabled&&a().createElement(l.Col,{xs:6},a().createElement("span",null,e.props.areaLabel,": "),a().createElement("span",{id:"measure-area-res",className:"measure-value"},a().createElement("h3",null,a().createElement("strong",null,a().createElement(G.Z,{key:"area",numberParams:n,value:e.props.formatArea(e.props.uom.area.unit,e.props.measurement.area)})," ",e.props.uom.area.label)))),a().createElement(l.Col,{xs:6},a().createElement(w.DropdownList,{disabled:t,value:e.props.uom.area.label,onChange:function(t){e.props.onChangeUom("area",t,e.props.uom)},data:e.props.uomAreaValues,textField:"label",valueField:"value"})))),e.props.bearingMeasureEnabled&&e.props.bearingMeasureValueEnabled&&a().createElement(l.Row,null,a().createElement(l.FormGroup,{style:{display:"flex",alignItems:"center",minHeight:34}},a().createElement(l.Col,{xs:6},a().createElement("span",null,e.isTrueBearing()?e.props.trueBearingLabel:e.props.bearingLabel,": "),a().createElement("span",{id:"measure-bearing-res",className:"measure-value"},a().createElement("h3",null,a().createElement("strong",null,e.props.formatBearing(e.props.measurement.bearing||0,e.isTrueBearing()&&e.props.measurement.trueBearing))))))))})),we(Pe(e),"renderPanel",(function(t){return e.props.showResults?e.renderMeasurements(t):null})),we(Pe(e),"renderLabel",(function(t){return e.props.showButtonsLabels?a().createElement("span",{className:"option-text"},(0,I.S$)(e.context.messages,t)):null})),we(Pe(e),"renderText",(function(t,n){return t?a().createElement("span",null,a().createElement("span",{className:"option-icon"},a().createElement(l.Glyphicon,{glyph:t})),e.renderLabel(n)):e.renderLabel(n)})),we(Pe(e),"isTrueBearing",(function(){return e.props.measurement&&e.props.measurement.trueBearing&&e.props.measurement.trueBearing.measureTrueBearing})),e}return t=s,(n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.geomType||this.props.toggleMeasure({geomType:"LineString"})}},{key:"shouldComponentUpdate",value:function(e){return!S()(e,this.props)}},{key:"render",value:function(){var e,t,n,r=this,o=O()(this.props.measurement,"features",[])[this.props.measurement.currentFeature||0],i=(null==o||null===(e=o.properties)||void 0===e?void 0:e.disabled)||!1,s=0===(this.props.measurement.features||[]).length||i;this.props.useSingleFeature?(t=(O()(this.props.measurement,"feature.geometry.type")||"").toLowerCase(),n=(O()(this.props.measurement,-1!==t.indexOf("polygon")?"feature.geometry.coordinates[0]":"feature.geometry.coordinates")||[]).map((function(e){return{lon:e[0],lat:e[1]}}))):(t=O()(o,"geometry.type","").toLowerCase(),n=(O()(o,-1!==t.indexOf("polygon")?"geometry.coordinates[0]":"geometry.coordinates")||[]).map((function(e){return{lon:e[0],lat:e[1]}})));var u=(this.props.measurement||{}).exportToAnnotation,p=void 0!==u&&u;return a().createElement(U.Z,{id:this.props.id,style:{overflow:"visible"},header:a().createElement("div",null,a().createElement(l.ButtonToolbar,{style:{width:"100%",marginBottom:15,marginTop:8,display:"flex",justifyContent:"center"}},a().createElement(_.Z,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:[{glyph:this.props.lineGlyph,active:!!this.props.lineMeasureEnabled,bsStyle:this.props.lineMeasureEnabled?"success":"primary",tooltip:this.renderText(this.props.inlineGlyph&&this.props.lineGlyph,"measureComponent.MeasureLength"),onClick:function(){return r.onGeomClick("LineString")},disabled:!this.props.lineMeasureEnabled&&i},{active:!!this.props.areaMeasureEnabled,bsStyle:this.props.areaMeasureEnabled?"success":"primary",glyph:this.props.areaGlyph,tooltip:this.renderText(this.props.inlineGlyph&&this.props.areaGlyph,"measureComponent.MeasureArea"),onClick:function(){return r.onGeomClick("Polygon")},disabled:!this.props.areaMeasureEnabled&&i},{visible:!this.props.disableBearing,active:!!this.props.bearingMeasureEnabled,bsStyle:this.props.bearingMeasureEnabled?"success":"primary",glyph:this.props.bearingGlyph,tooltip:this.renderText(this.props.inlineGlyph&&this.props.bearingGlyph,this.isTrueBearing()?"measureComponent.MeasureTrueBearing":"measureComponent.MeasureBearing"),onClick:function(){return r.onGeomClick("Bearing")},disabled:!this.props.bearingMeasureEnabled&&i}]}),a().createElement(_.Z,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:[{glyph:"remove",visible:!!this.props.withReset,tooltip:a().createElement(D.Z,{msgId:"measureComponent.resetTooltip"}),onClick:function(){return r.onResetClick()}}]}),a().createElement(_.Z,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:[{glyph:"ext-json",disabled:s,visible:!!(this.props.bearingMeasureEnabled||this.props.areaMeasureEnabled||this.props.lineMeasureEnabled)&&this.props.showExportToGeoJSON,tooltip:a().createElement(D.Z,{msgId:"measureComponent.exportToGeoJSON"}),onClick:function(){(0,L.LR)(JSON.stringify((0,j.tL)(r.props.measurement.features,r.props.measurement.textLabels,r.props.uom,F()(),"MapStore Measurements")),"measurements.json","application/geo+json")}},{glyph:"1-layer",visible:!!(this.props.bearingMeasureEnabled||this.props.areaMeasureEnabled||this.props.lineMeasureEnabled)&&this.props.showAddAsLayer,disabled:s||p,tooltip:a().createElement(D.Z,{msgId:"measureComponent.addAsLayer"}),onClick:function(){return r.props.onAddAsLayer(r.props.measurement.features,r.props.measurement.textLabels,r.props.uom)}},{glyph:p?"floppy-disk":"comment",tooltip:a().createElement(D.Z,{msgId:p?"measureComponent.saveMeasure":"measureComponent.addAsAnnotation"}),onClick:function(){r.props.onAddAnnotation(r.props.measurement.features,r.props.measurement.textLabels,r.props.uom,!p,{id:r.props.measurement.id,visibility:r.props.measurement.visibility})},disabled:s,visible:!!(this.props.bearingMeasureEnabled||this.props.areaMeasureEnabled||this.props.lineMeasureEnabled)&&this.props.showAddAsAnnotation}]})),this.renderPanel(i))},this.props.showCoordinateEditor&&a().createElement(l.Grid,{fluid:!0,style:{maxHeight:400,borderTop:"1px solid #ddd"}},this.props.bearingMeasureEnabled||this.props.areaMeasureEnabled||this.props.lineMeasureEnabled?a().createElement(l.Row,{style:this.props.isCoordinateEditorEnabled?{}:{pointerEvents:"none",opacity:.5}},a().createElement(Ee,{key:"measureEditor",isMouseEnterEnabled:!0,isMouseLeaveEnabled:!0,format:this.props.format,currentFeature:this.props.measurement.currentFeature,features:this.props.measurement.features,mapProjection:this.props.mapProjection,onChangeFormat:this.props.onChangeFormat,onHighlightPoint:this.props.onHighlightPoint,onChange:this.props.onChangeCoordinates,onChangeCurrentFeature:this.props.onChangeCurrentFeature,showFeatureSelector:this.props.showFeatureSelector,items:[],isDraggable:!0,type:this.props.geomType,showLengthAndBearingLabel:this.props.showLengthAndBearingLabel,components:this.props.useSingleFeature||-1===t.indexOf("polygon")?n:v()(n),properties:(null==o?void 0:o.properties)||{}})):a().createElement(l.Row,null,a().createElement(l.Col,{xs:12,className:"text-center",style:{padding:15}},a().createElement("i",null,a().createElement(D.Z,{msgId:"measureComponent.selectTool"}))))))}}])&&Se(t.prototype,n),s}(a().Component);we(Re,"propTypes",{id:M().string,name:M().string,columnProperties:M().object,propertiesChangeHandler:M().func,lengthButtonText:M().oneOfType([M().string,M().element]),areaButtonText:M().oneOfType([M().string,M().element]),resetButtonText:M().oneOfType([M().string,M().element]),lengthLabel:M().oneOfType([M().string,M().element]),areaLabel:M().oneOfType([M().string,M().element]),bearingLabel:M().oneOfType([M().string,M().element]),trueBearingLabel:M().oneOfType([M().string,M().element]),uom:M().shape({length:M().shape({unit:M().string.isRequired,label:M().string.isRequired}),area:M().shape({unit:M().string.isRequired,label:M().string.isRequired})}),toggleMeasure:M().func,measurement:M().object,lineMeasureEnabled:M().bool,lineMeasureValueEnabled:M().bool,areaMeasureEnabled:M().bool,areaMeasureValueEnabled:M().bool,bearingMeasureEnabled:M().bool,bearingMeasureValueEnabled:M().bool,showButtons:M().bool,showResults:M().bool,mapProjection:M().string,lineGlyph:M().string,areaGlyph:M().string,bearingGlyph:M().string,withReset:M().bool,showButtonsLabels:M().bool,inlineGlyph:M().bool,formatLength:M().func,formatArea:M().func,formatBearing:M().func,onChangeUom:M().func,uomLengthValues:M().array,uomAreaValues:M().array,format:M().string,onChangeFormat:M().func,onChangeCoordinates:M().func,onChangeCurrentFeature:M().func,onAddAsLayer:M().func,onHighlightPoint:M().func,geomType:M().string,defaultOptions:M().object,onAddAnnotation:M().func,showAddAsAnnotation:M().bool,showLengthAndBearingLabel:M().bool,showAddAsLayer:M().bool,showFeatureSelector:M().bool,useSingleFeature:M().bool,showExportToGeoJSON:M().bool,disableBearing:M().bool,trueBearing:M().object,onMount:M().func,onUpdateOptions:M().func,showCoordinateEditor:M().bool,isCoordinateEditorEnabled:M().bool}),we(Re,"contextTypes",{messages:M().object}),we(Re,"defaultProps",{mapProjection:"EPSG:3857",columnProperties:{xs:4,sm:4,md:4},uomLengthValues:[{value:"ft",label:"ft"},{value:"m",label:"m"},{value:"km",label:"km"},{value:"mi",label:"mi"},{value:"nm",label:"nm"}],uomAreaValues:[{value:"sqft",label:"ft²"},{value:"sqm",label:"m²"},{value:"sqkm",label:"km²"},{value:"sqmi",label:"mi²"},{value:"sqnm",label:"nm²"}],id:"measure-result-panel",uom:{length:{unit:"m",label:"m"},area:{unit:"sqm",label:"m²"}},geomType:"LineString",defaultOptions:{geomType:"LineString"},showResults:!0,showAddAsAnnotation:!1,showAddAsLayer:!0,showExportToGeoJSON:!0,showCoordinateEditor:!1,isCoordinateEditorEnabled:!0,showLengthAndBearingLabel:!1,withReset:!0,lineGlyph:"1-measure-length",areaGlyph:"1-measure-area",bearingGlyph:"1-measure-bearing",showButtonsLabels:!0,lengthLabel:a().createElement(D.Z,{msgId:"measureComponent.lengthLabel"}),areaLabel:a().createElement(D.Z,{msgId:"measureComponent.areaLabel"}),bearingLabel:a().createElement(D.Z,{msgId:"measureComponent.bearingLabel"}),trueBearingLabel:a().createElement(D.Z,{msgId:"measureComponent.trueBearingLabel"}),formatLength:function(e,t){return(0,x.Ov)(t,"m",e)},formatArea:function(e,t){return(0,x.Ov)(t,"sqm",e)},formatBearing:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,x.rp)(C()(e||0,6),t)},onChangeUom:function(){},onChangeFormat:function(){},onMount:function(){},onUpdateOptions:function(){},onAddAsLayer:function(){}});const Fe=Re;var Le=n(32107),Ie=n(7472);function je(e){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var xe=["showCoordinateEditor"];function De(){return(De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ge(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ke(e,t){return!t||"object"!==je(t)&&"function"!=typeof t?Ve(e):t}function Ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Be(e){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Be(r);if(o){var n=Be(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ke(this,e)});function s(){var e;Ue(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ze(Ve(e=i.call.apply(i,[this].concat(n))),"onClose",(function(){e.props.onClose(!1)})),Ze(Ve(e),"initDefaultOptions",(function(t){var n=t.showCoordinateEditor,r=Ge(t,xe);e.props.onMount(n||e.props.showCoordinateEditor),e.props.toggleMeasure({geomType:r.geomType||"LineString"}),e.props.onInit(r)})),e}return t=s,(n=[{key:"UNSAFE_componentWillMount",value:function(){this.initDefaultOptions(this.props.defaultOptions)}},{key:"componentDidUpdate",value:function(e){S()(e.defaultOptions,this.props.defaultOptions)||this.initDefaultOptions(this.props.defaultOptions)}},{key:"render",value:function(){return this.props.show?this.props.showCoordinateEditor?a().createElement(Le.Z,{dock:!0,bsStyle:"primary",position:"right",title:a().createElement(D.Z,{key:"title",msgId:"measureComponent.Measure"}),glyph:"1-ruler",size:660,open:this.props.show,onClose:this.onClose,style:this.props.style},a().createElement(Fe,De({id:"measure-panel"},this.props))):a().createElement(Ie.Z,{id:"measure-dialog"},a().createElement("div",{key:"header",role:"header"},a().createElement(l.Glyphicon,{glyph:"1-ruler"})," ",a().createElement(D.Z,{key:"title",msgId:"measureComponent.Measure"}),a().createElement("button",{key:"close",onClick:this.onClose,className:"close"},this.props.closeGlyph?a().createElement(l.Glyphicon,{glyph:this.props.closeGlyph}):a().createElement("span",null,"×"))),a().createElement("div",{key:"body",role:"body"},a().createElement(Fe,De({id:"measure-panel",style:{minWidth:"500px"}},this.props)))):null}}])&&_e(t.prototype,n),s}(a().Component);Ze(qe,"propTypes",{show:M().bool,closeGlyph:M().string,onClose:M().func,onMount:M().func,onInit:M().func,showCoordinateEditor:M().bool,defaultOptions:M().object,style:M().object}),Ze(qe,"contextTypes",{messages:M().object}),Ze(qe,"defaultProps",{show:!1,defaultOptions:{},onMount:function(){},onInit:function(){},toggleMeasure:function(){},showCoordinateEditor:!1,showAddAsAnnotation:!1,closeGlyph:"1-close",style:{height:"calc(100% - 30px)"}});var He=qe;function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){We(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xe=c.Xi.bind(null,"measure",null),$e=(0,s.connect)((0,u.P1)([function(e){return{measurement:e.measurement||{},uom:e.measurement&&e.measurement.uom||{length:{unit:"m",label:"m"},area:{unit:"sqm",label:"m²"}},lineMeasureEnabled:e.measurement&&e.measurement.lineMeasureEnabled,lineMeasureValueEnabled:!(0,d.m6)(e),areaMeasureEnabled:e.measurement&&e.measurement.areaMeasureEnabled,areaMeasureValueEnabled:!(0,d.m6)(e),bearingMeasureEnabled:e.measurement&&e.measurement.bearingMeasureEnabled,showLengthAndBearingLabel:e.measurement&&e.measurement.showLengthAndBearingLabel,bearingMeasureValueEnabled:!(0,d.m6)(e),isCoordinateEditorEnabled:(0,y.iL)(e),showCoordinateEditor:(0,f.Iz)(e),showFeatureSelector:(0,d.m6)(e),useSingleFeature:!(0,d.m6)(e),withReset:(0,d.m6)(e),showExportToGeoJSON:(0,d.m6)(e),showAddAsAnnotation:(0,y.cD)(e)&&(0,d.m6)(e),trueBearing:(0,y.jM)(e),showAddAsLayer:(0,d.m6)(e),isCoordEditorEnabled:e.measurement&&!e.measurement.isDrawing,geomType:e.measurement&&e.measurement.geomType,format:e.measurement&&e.measurement.format}},function(e){return(0,f.QF)(e)}],(function(e,t){return ze(ze({},e),{},{show:t,format:e.format||g.ZP.getConfigProp("defaultCoordinateFormat")||"decimal"})})),{toggleMeasure:m.Bd,onAddAnnotation:m.ud,onChangeUom:m.Gd,onHighlightPoint:p.aS,onChangeFormat:m.RM,onInit:m.S1,onChangeCoordinates:m.dD,onChangeCurrentFeature:m.h2,onClose:Xe,onMount:function(e){return(0,c.Xg)("measure","showCoordinateEditor",e)},onAddAsLayer:m.NR},null,{pure:!1})(He);const Je={MeasurePlugin:o()($e,{disablePluginIf:"{state('mapType') === 'cesium'}",BurgerMenu:{name:"measurement",position:9,panel:!1,help:a().createElement(b.Z,{msgId:"helptexts.measureComponent"}),tooltip:"measureComponent.tooltip",text:a().createElement(b.Z,{msgId:"measureComponent.Measure"}),icon:a().createElement(l.Glyphicon,{glyph:"1-ruler"}),action:function(){return(0,c.Xg)("measure","enabled",!0)}}}),reducers:{measurement:n(78113).Z},epics:n(74226).ZP}},78113:(e,t,n)=>{"use strict";n.d(t,{Z:()=>M});var r=n(89602),o=n(82904),i=n(61868),a=n(62192),l=n(8797),s=n(38946),u=n(43624),p=n.n(u),c=n(41609),m=n.n(c),f=n(30998),d=n.n(f),y=n(81763),g=n.n(y),b=n(27418),h=n.n(b),v=["id"];function E(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P={lineMeasureEnabled:!0,geomType:"LineString",areaMeasureEnabled:!1,bearingMeasureEnabled:!1,customStartEndPoint:{startPointOptions:{radius:3,fillColor:"green"},endPointOptions:{radius:3,fillColor:"red"}},uom:{length:{unit:"m",label:"m"},area:{unit:"sqm",label:"m²"}},lengthFormula:"haversine",showLabel:!0,showSegmentLengths:!0,currentFeature:0,features:[]};const M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.lD:var n,u=null!==t.geomType&&d()(e.features,(function(e){var n,r;return("bearing"===((null===(n=e.properties)||void 0===n||null===(r=n.values)||void 0===r?void 0:r[0])||{}).type?"Bearing":e.geometry.type)===t.geomType}));return h()({},e,{lineMeasureEnabled:t.geomType!==e.geomType&&"LineString"===t.geomType,areaMeasureEnabled:t.geomType!==e.geomType&&"Polygon"===t.geomType,bearingMeasureEnabled:t.geomType!==e.geomType&&"Bearing"===t.geomType,geomType:t.geomType===e.geomType?null:t.geomType,features:null===t.geomType?[]:e.features,textLabels:null===t.geomType?[]:e.textLabels,feature:{properties:{disabled:!0}},currentFeature:-1!==u?u:(null===(n=e.features)||void 0===n?void 0:n.length)||0,len:0,area:0,bearing:0});case r.yK:var c=t.feature;return(0,s.oU)(c)&&(c=(0,i.t8)("geometry.coordinates[0]",p()(c.geometry.coordinates[0]),c)),h()({},e,{lineMeasureEnabled:t.lineMeasureEnabled,areaMeasureEnabled:t.areaMeasureEnabled,bearingMeasureEnabled:t.bearingMeasureEnabled,geomType:t.geomType,values:t.values,feature:(0,i.t8)("properties.disabled",e.feature.properties.disabled,c),point:t.point,len:t.len,area:t.area,bearing:t.bearing,lenUnit:t.lenUnit,areaUnit:t.areaUnit});case r.sc:var f=t.measures,y=f.point,b=f.len,O=f.area,S=f.bearing;return A(A({},e),{},{point:y,len:b,area:O,bearing:S});case r.Qw:var M=(0,i.t8)("feature.properties.disabled",!0,e);return A(A({},M),{},{isDrawing:!0,updatedByUI:!1});case r.gf:var w,R="length"===t.uom?"lenUnit":"lenArea",F=t.value,L=F.value,I=F.label;return h()({},e,(C(w={},R,L),C(w,"uom",h()({},t.previousUom,C({},t.uom,{unit:L,label:I}))),C(w,"updatedByUI",!0),w));case r.Qr:var j,x=t.features,D=void 0===x?[]:x,G=(0,a.k2)(D),U=(null===(j=e.features)||void 0===j?void 0:j.length)===D.length?e.currentFeature:D.length?D.length-1:0;return A(A({},e),{},{features:D,currentFeature:U,geomTypeSelected:G,updatedByUI:!1,isDrawing:!1},m()(D)&&{exportToAnnotation:!1});case r.Kf:var _=t.property,N=t.value;return A(A({},e),{},C({},_,N));case r.ES:var k=t.features,V=t.properties,B=(0,a.k2)(k);return A(A({},e),{},{features:k,geomTypeSelected:B,updatedByUI:!0,isDrawing:!1,exportToAnnotation:!0,id:V.id,visibility:V.visibility});case r.Kx:return A(A({},e),{},{textLabels:t.textLabels});case r.V:return A(A({},e),{},{currentFeature:g()(t.featureIndex)?t.featureIndex:e.features.length});case o.kM:e.id;var Z=T(e,v);return"info"===t.control?A(A({},Z),{},{len:0,area:0,bearing:0,lineMeasureEnabled:!1,areaMeasureEnabled:!1,bearingMeasureEnabled:!1,feature:{properties:{disabled:!0}},geomType:""}):"measure"===t.control?A(A({},Z),{},{geomType:"",lineMeasureEnabled:!1,areaMeasureEnabled:!1,bearingMeasureEnabled:!1}):e;case o.At:return"measure"===t.control&&!1===t.value?A(A({},e),{},{geomType:"",lineMeasureEnabled:!1,areaMeasureEnabled:!1,bearingMeasureEnabled:!1}):e;case o.l:return A(A({},e),{},{len:0,area:0,bearing:0,lineMeasureEnabled:!1,areaMeasureEnabled:!1,bearingMeasureEnabled:!1,feature:{properties:{disabled:!0}},geomType:"",features:[]});case r.GI:return A(A({},e),{},{format:t.format});case r.qg:return A(A({},e),t.defaultOptions);case r.MT:var q,H=t.coordinates.map((function(e){return[e.lon,e.lat]})),Y=e.features||[],z=Y[e.currentFeature]||{},W=H.filter((function(e){return(0,l.wd)(e)})).length!==H.length;return A(A({},e),{},{feature:{type:"Feature",properties:{disabled:H.filter((function(e){return(0,l.wd)(e)})).length!==H.length},geometry:{type:e.bearingMeasureEnabled?"LineString":e.geomType,coordinates:e.areaMeasureEnabled?[p()(H)]:H}},features:[].concat(E(Y.slice(0,e.currentFeature)),[A(A({},z),{},{type:"Feature",properties:A(A({},z.properties||{}),{},{disabled:W||e.bearingMeasureEnabled&&H.length<2}),geometry:{type:e.bearingMeasureEnabled?"LineString":e.geomType,coordinates:e.areaMeasureEnabled?[[].concat(E(H),[H[0]])]:H,textLabels:(null==z||null===(q=z.geometry)||void 0===q?void 0:q.textLabels)||[]}})],E(Y.slice(e.currentFeature+1,Y.length))),updatedByUI:!0});default:return e}}},93152:(e,t,n)=>{"use strict";n.d(t,{$v:()=>i,lh:()=>a,c0:()=>l,m6:()=>s,tH:()=>u});var r=n(27361),o=n.n(r),i=function(e){return e&&e.maptype&&e.maptype.mapType||"leaflet"},a=function(e){return e&&e.maptype&&e.maptype.loaded},l=function(e){return"cesium"===i(e)},s=function(e){return"openlayers"===i(e)},u=function(e){return o()(e,"maptype.last2dMapType")||"leaflet"}},97266:(e,t,n)=>{"use strict";n.d(t,{iL:()=>p,cD:()=>c,jM:()=>m,VH:()=>d,on:()=>y});var r=n(93152),o=n(7147),i=n(61868),a=n(8797);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){return(0,o.Iz)(e)&&!e.measurement.isDrawing&&(0,r.m6)(e)},c=function(e){return e&&e.measurement&&e.measurement.showAddAsAnnotation},m=function(e){return e&&e.measurement&&e.measurement.trueBearing&&e.measurement.trueBearing.measureTrueBearing},f=function(e){var t=e.measurement.feature||{};return t.geometry&&(t=(0,i.t8)("geometry.coordinates",(0,a.L0)(t.geometry||{}),t)),t},d=function(e){return e.measurement&&s(s({},e.measurement),{},{feature:f(e)})||{}},y=function(e){var t;return null==e||null===(t=e.measurement)||void 0===t?void 0:t.geomType}},58767:(e,t,n)=>{"use strict";n.d(t,{Eo:()=>k,z4:()=>Z,N_:()=>H,_P:()=>Q,Tl:()=>ee,bh:()=>te,F7:()=>ne});var r=n(23570),o=n.n(r),i=n(86638),a=n(33506),l=n(66287),s=n(61868),u=n(52628),p=n.n(u),c=n(14293),m=n.n(c),f=n(12571),d=n.n(f),y=n(91175),g=n.n(y),b=n(84596),h=n.n(b),v=n(10928),E=n.n(v),O=n(1469),T=n.n(O),S=n(30998),A=n.n(S),C=n(47037),P=n.n(C),M=n(55877),w=n.n(M),R=n(85447),F=n(27418),L=n.n(F);function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U={},_={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2},N={iconGlyph:"comment",iconShape:"square",iconColor:"blue"},k={fontStyle:"normal",fontSize:"14",fontSizeUom:"px",fontFamily:"Arial",fontWeight:"normal",font:"14px Arial",textAlign:"center",color:"#000000",opacity:1,fillColor:"#000000",fillOpacity:1},V={color:"#ffcc33",opacity:1,weight:3,editing:{fill:1}},B={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,editing:{fill:1}},Z={Text:k,Point:N,Circle:_,MultiPoint:N,LineString:V,MultiLineString:V,Polygon:B,MultiPolygon:B},q="ms2-annotations",H=function(){return[D(D({},Z.Point),{},{highlight:!0,iconAnchor:[.5,.5],type:"Point",title:"StartPoint Style",geometry:"startPoint",filtering:!1,id:o()()}),D(D({},Z.Point),{},{highlight:!0,iconAnchor:[.5,.5],type:"Point",title:"EndPoint Style",geometry:"endPoint",filtering:!1,id:o()()})]},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return-1!==e.indexOf("rgba")?"rgb".concat(e.slice(e.indexOf("("),e.lastIndexOf(",")),")"):e},z=function(e){return("start"===e?"lm":"end"===e&&"rm")||"cm"},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=void 0===t?"Point":t,r=e.features,o=void 0===r?[]:r;return"FeatureCollection"===n?o.reduce((function(e,t){return e[t.geometry.type]=Z[t.geometry.type],e}),{type:"FeatureCollection"}):D({},Z[n])},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return D({title:"annotations.defaulttitle"!==(0,i.S$)(t,"annotations.defaulttitle")?(0,i.S$)(t,"annotations.defaulttitle"):"Default title",id:o()()},e)},$=function(e){return P()(e)&&e||T()(e)&&e.join(" ")},J=function(e){return e.color&&e.opacity&&e.weight},K=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=t&&t[e]?t[e]:t,o=r,i=o.dashArray?$(o.dashArray):"solid";switch(e){case"MultiPolygon":case"Polygon":case"Circle":return{strokeColor:Y(o.color),strokeOpacity:o.opacity,strokeWidth:o.weight,fillColor:Y(o.fillColor),fillOpacity:o.fillOpacity,strokeDashstyle:i};case"LineString":case"MultiLineString":return{strokeColor:Y(o.color),strokeOpacity:o.opacity,strokeWidth:o.weight,strokeDashstyle:i};case"Text":var s=J(o)?{labelOutlineColor:Y(o.color),labelOutlineOpacity:o.opacity,labelOutlineWidth:o.weight}:{};return D({fontStyle:o.fontStyle,fontSize:o.fontSize,fontFamily:o.fontFamily,fontWeight:o.fontWeight,labelAlign:z(o.textAlign),fontColor:Y(o.fillColor),fontOpacity:o.fillOpacity,label:n,stroke:!0,strokeColor:Y(o.color),strokeOpacity:o.opacity,strokeWidth:o.weight,strokeDashstyle:i},s);case"Point":case"MultiPoint":var u=o.symbolUrl&&(0,l.fetchStyle)((0,l.hashAndStringify)(o),"base64")||a.Z.extraMarkers.markerToDataUrl(o),p=-18,c=-46;return o.iconAnchor&&T()(o.iconAnchor)&&o.size&&(p="pixels"===o.anchorXUnits?-1*o.iconAnchor[0]:-1*o.size*o.iconAnchor[0],c="pixels"===o.anchorYUnits?-1*o.iconAnchor[1]:-1*o.size*o.iconAnchor[1]),u?{graphicWidth:o.size||36,graphicHeight:o.size||46,externalGraphic:u,graphicXOffset:p,graphicYOffset:c,display:!1===o.filtering&&"none"}:{fillColor:"#0000AE",fillOpacity:.5,strokeColor:"#0000FF",pointRadius:10,strokeOpacity:1,strokeWidth:1,display:!1===o.filtering&&"none"};default:return{fillColor:"#FF0000",fillOpacity:0,strokeColor:"#FF0000",pointRadius:5,strokeOpacity:1,strokeDashstyle:i,strokeWidth:1}}},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t){return"FeatureCollection"===t.type?e.concat(t.features.map((function(e){return h()(e.style||t.style||{}).filter((function(e){return!!m()(e.filtering)||e.filtering})).map((function(t){return U.fromAnnotationToGeoJson(D(D({},e),{},{style:t}))}))})).reduce((function(e,t){return e.concat(t)}),[])):t.geometry&&"GeometryCollection"===t.geometry.type?e.concat(U.flattenGeometryCollection(t)):e.concat({type:"Feature",geometry:t.geometry,properties:D(D({},t.properties),{},{ms_style:K(t.geometry.type,t.style)})})}),[])},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.lat,n=e.lon;return!isNaN(parseFloat(t))&&!isNaN(parseFloat(n))},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[e.lon,e.lat]},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[[]]],t=e[0].filter(U.validateCoordsArray);return t.length>3&&g()(t)[0]===E()(t)[0]&&g()(t)[1]===E()(t)[1]};U={ANNOTATION_TYPE:q,convertGeoJSONToInternalModel:function(e){var t=e.type,n=void 0===t?"Point":t,r=e.geometries,o=void 0===r?[]:r,i=e.features,a=void 0===i?[]:i,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];switch(n){case"Point":case"MultiPoint":return{type:1===l.length?"Text":n};case"Polygon":return{type:1===s.length?"Circle":n};case"GeometryCollection":var u=o.filter((function(e){return"Point"===e.type||"MultiPoint"===e.type})),p=o.filter((function(e){return"Polygon"===e.type})),c=0,m=0;return{type:"GeometryCollection",geometries:o.map((function(e){if("Point"===e.type||"MultiPoint"===e.type){if(u.length===l.length)return{type:"Text"};if(0===l.length)return{type:e.type};if(0===c)return c++,{type:"Text"}}if("Polygon"===e.type){if(p.length===s.length)return{type:"Circle"};if(0===s.length)return{type:e.type};if(0===m)return m++,{type:"Circle"}}return{type:e.type}}))};case"FeatureCollection":var f=a.map((function(e){return e.properties&&e.properties.isCircle?{type:"Circle"}:e.properties&&e.properties.isText?{type:"Text"}:{type:e.geometry.type}}));return{type:"FeatureCollection",features:f};default:return{type:n}}},getAvailableStyler:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=void 0===t?"Point":t,r=e.geometries,o=void 0===r?[]:r,i=e.features,a=void 0===i?[]:i;switch(n){case"Point":case"MultiPoint":case"Symbol":return[U.getRelativeStyler(n)];case"LineString":case"MultiLineString":return[U.getRelativeStyler(n)];case"Polygon":case"MultiPolygon":case"Text":case"Circle":return[U.getRelativeStyler(n)];case"GeometryCollection":return o.reduce((function(e,t){return-1!==e.indexOf(U.getRelativeStyler(t.type))?e:e.concat(U.getAvailableStyler(t))}),[]);case"FeatureCollection":return a.reduce((function(e,t){return-1!==e.indexOf(U.getRelativeStyler(t.type))?e:e.concat(U.getAvailableStyler(t))}),[]);default:return[]}},getRelativeStyler:function(e){switch(e){case"Point":case"MultiPoint":return"marker";case"Symbol":return"symbol";case"Circle":return"circle";case"LineString":case"MultiLineString":return"lineString";case"Polygon":case"MultiPolygon":return"polygon";case"Text":return"text";default:return""}},createFont:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fontSize,n=void 0===t?"14":t,r=e.fontSizeUom,o=void 0===r?"px":r,i=e.fontFamily,a=void 0===i?"Arial":i,l=e.fontStyle,s=void 0===l?"normal":l,u=e.fontWeight,p=void 0===u?"normal":u;return"".concat(s," ").concat(p," ").concat(n).concat(o," ").concat(a)},DEFAULT_ANNOTATIONS_STYLES:Z,STYLE_CIRCLE:_,STYLE_POINT_MARKER:N,STYLE_POINT_SYMBOL:{iconAnchor:[.5,.5],anchorXUnits:"fraction",anchorYUnits:"fraction",color:"#000000",fillColor:"#000000",opacity:1,size:64,fillOpacity:1},STYLE_TEXT:k,STYLE_LINE:V,STYLE_POLYGON:B,getGeometryType:function(e){var t,n,r;return null!=e&&null!==(t=e.properties)&&void 0!==t&&t.isCircle?"Circle":null!=e&&null!==(n=e.properties)&&void 0!==n&&n.isText?"Text":null==e||null===(r=e.geometry)||void 0===r?void 0:r.type},getGeometryGlyphInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Point",t={Point:{glyph:"point",label:"Point"},MultiPoint:{glyph:"point",label:"Point"},LineString:{glyph:"polyline",label:"Line"},MultiLineString:{glyph:"polyline",label:"Line"},Polygon:{glyph:"polygon",label:"Polygon"},MultiPolygon:{glyph:"polygon",label:"Polygon"},Text:{glyph:"font",label:"Text"},Circle:{glyph:"1-circle",label:"Circle"}};return t[e]},normalizeAnnotation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="FeatureCollection"===e.type?D({},e):{type:"Feature",geometry:e},r=W(n),o=X(n.properties,t);return D({style:r,properties:o},n)},removeDuplicate:function(e){return p()(e.reduce((function(e,t){return D(D({},e),{},G({},t.properties.id,t))}),{}))},circlesToMultiPolygon:function(e,t){var n=e.geometries,r=void 0===n?[]:n,i=t.circles,a=void 0===i?[]:i,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_,s=a.reduce((function(e,t){return e.concat([r[t].coordinates])}),[]);return{type:"Feature",geometry:{type:"MultiPolygon",coordinates:s},properties:{id:o()(),ms_style:K("Circle",l)}}},fromCircleToPolygon:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_;return{type:"Feature",geometry:t.polygonGeom||e,properties:{id:t.id||o()(),ms_style:K("Circle",n)}}},fromTextToPoint:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k;return{type:"Feature",geometry:e,properties:{id:t.id||o()(),ms_style:K("Text",n,t.valueText)}}},fromLineStringToGeodesicLineString:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:V;return{type:"Feature",geometry:e.geometryGeodesic,properties:{id:e.id||o()(),ms_style:K(e.geometryGeodesic.type,t)}}},textToPoint:function(e,t){var n=e.geometries,r=void 0===n?[]:n,i=t.textGeometriesIndexes,a=void 0===i?[]:i,l=t.textValues,s=void 0===l?[]:l,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k;return a.map((function(e,t){return{type:"Feature",geometry:r[e],properties:{id:o()(),ms_style:K("Text",u,s[t])}}}))},flattenGeometryCollection:function(e){var t=e.geometry,n=e.properties,r=e.style,i=n.circles&&U.circlesToMultiPolygon(t,n,r.Circle)||[],a=n.textGeometriesIndexes&&U.textToPoint(t,n,r.Text)||[],l=(n.circles||[]).concat(n.textGeometriesIndexes||[]);return t.geometries.filter((function(e,t){return-1===l.indexOf(t)})).map((function(e){return{type:"Feature",geometry:e,properties:{id:o()(),ms_style:K(e.type,r[e.type])}}})).concat(i,a)},createGeometryFromGeomFunction:function(e){var t=l.geometryFunctions[e.style.geometry]&&l.geometryFunctions[e.style.geometry].type||e.geometry.type,n=e.geometry.coordinates||[];switch(e.style.geometry){case"startPoint":n=g()(n);break;case"endPoint":n=E()(n);break;case"centerPoint":n=(0,R.Z)(e).geometry.coordinates}return{type:t,coordinates:n}},fromAnnotationToGeoJson:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.geometry,n=e.properties,r=void 0===n?{}:n,i=e.style,a=void 0===i?{}:i,l=a.geometry?U.createGeometryFromGeomFunction({geometry:t,properties:r,style:a,type:"Feature"}):t;return r.isCircle&&"Polygon"===l.type?U.fromCircleToPolygon(l,r,a):r.isText?U.fromTextToPoint(l,r,a):"LineString"===l.type&&r.useGeodesicLines&&a.filtering?U.fromLineStringToGeodesicLineString(r,a):{type:"Feature",geometry:l,properties:{id:r.id||o()(),ms_style:K(l.type,a)}}},annotationsToPrint:Q,formatCoordinates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[]];return e.map((function(e){return{lat:e&&e[1],lon:e&&e[0]}}))},getBaseCoord:function(e){switch(e){case"Polygon":case"LineString":case"MultiPoint":return[];default:return[[{lat:"",lon:""}]]}},getComponents:function(e){var t=e.type,n=e.coordinates;switch(t){case"Polygon":return U.isCompletePolygon(n)?U.formatCoordinates(d()(n[0],0,n[0].length-1)):U.formatCoordinates(n[0]);case"LineString":case"MultiPoint":return U.formatCoordinates(n);default:return U.formatCoordinates([n])}},addIds:function(e){return e.map((function(e){return e.properties&&e.properties.id?e:(0,s.t8)("properties.id",w().v1(),e)}))},COMPONENTS_VALIDATION:{Point:{min:1,add:!1,remove:!1,validation:"validateCoordinates",notValid:"Add a valid coordinate to complete the Point"},MultiPoint:{min:2,add:!0,remove:!0,validation:"validateCoordinates",notValid:"Add 2 valid coordinates to complete the Polyline"},Polygon:{min:3,add:!0,remove:!0,validation:"validateCoordinates",notValid:"Add 3 valid coordinates to complete the Polygon"},LineString:{min:2,add:!0,remove:!0,validation:"validateCoordinates",notValid:"Add 2 valid coordinates to complete the Polyline"},Circle:{add:!1,remove:!1,validation:"validateCircle",notValid:"Add a valid coordinate and a radius (m) to complete the Circle"},Text:{add:!1,remove:!1,validation:"validateText",notValid:"Add a valid coordinate and a Text value"}},validateCoords:ee,validateCoordsArray:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=I(e,2),n=t[0],r=t[1];return!isNaN(parseFloat(r))&&!isNaN(parseFloat(n))},validateCoord:function(e){return!isNaN(parseFloat(e))},coordToArray:te,validateCoordinates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.components,n=void 0===t?[]:t,r=e.remove,o=void 0!==r&&r,i=e.type;if(n&&n.length){var a=n.filter(U.validateCoords);return o?a.length>U.COMPONENTS_VALIDATION[i].min&&a.length===n.length:a.length>=U.COMPONENTS_VALIDATION[i].min&&a.length===n.length}return!1},validateCircle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.components,n=void 0===t?[]:t,r=e.properties,o=void 0===r?{radius:0}:r;if(n&&n.length){var i=g()(n);return!isNaN(parseFloat(o.radius))&&U.validateCoords(i)}return!1},validateText:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.components,n=void 0===t?[]:t,r=e.properties,o=void 0===r?{valueText:""}:r;if(n&&n.length){var i=g()(n);return o&&!!o.valueText&&U.validateCoords(i)}return!1},validateFeature:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.components,n=void 0===t?[[]]:t,r=e.type,o=e.remove,i=void 0!==o&&o,a=e.properties,l=void 0===a?{}:a;return!m()(r)&&("Text"===r?U.validateText({components:n,properties:l}):"Circle"===r?U.validateCircle({components:n,properties:l}):U.validateCoordinates({components:n,remove:i,type:r}))},updateAllStyles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.features&&e.features.length?D(D({},e),{},{features:e.features.map((function(e){return L()({},e,{style:h()(e.style).map((function(e){return L()({},e,t)}))})}))}):e},getStartEndPointsForLinestring:H,DEFAULT_SHAPE:"triangle",DEFAULT_PATH:"product/assets/symbols/",checkSymbolsError:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"loading_symbols_path";return e.length&&-1!==A()(e,(function(e){return e===t}))},isAMissingSymbol:function(e){return e.symbolUrlCustomized===n(70898)},isCompletePolygon:ne,getDashArrayFromStyle:$,isAnnotation:function(e){return(null==e?void 0:e.type)===q||"Annotations"===(null==e?void 0:e.name)}}},89077:(e,t,n)=>{"use strict";n.d(t,{LR:()=>m,RP:()=>f});var r=n(78598),o=n.n(r),i=n(97995),a=n.n(i),l=(n(39902),n(89597),n(66085),n(82702),n(27418),n(72163),n(5055),n(3674),n(52628),n(27361),n(91175),n(66604),n(87185),n(30998),n(78718),n(18721),n(93220),n(23570),n(57557),n(47037),n(85564)),s=n.n(l);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(13311),n(6557);var c=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return s()([[[/\&/g,"&amp;"]],e?[]:[[/\"/g,"&quot;"]],t?[]:[[/\'/g,"&apos;"]],n?[]:[[/\>/g,"&gt;"]],r?[]:[[/\</g,"&lt;"]]]).reduce((function(e,t){var n=u(t,2),r=n[0],o=n[1];return e.replace(r,o)}),o)};c.bind(null,!0,!0,!0,!1),c.bind(null,!1,!1,!0,!1),n(24262),n(86267),new DOMParser;var m=function(e,t,n){var r=new Blob([e],{type:n});o().saveAs(r,t)},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"snapshot.png",n=arguments.length>2?arguments[2]:void 0;m(a()(e),t,n)}},8797:(e,t,n)=>{"use strict";n.d(t,{rp:()=>s,Ov:()=>p,wd:()=>c,L0:()=>m}),n(1469);var r=n(91175),o=n.n(r),i=n(7654),a=n.n(i);function l(e){var t=Math.floor(e),n=60*(e-t),r=Math.floor(n),o=60*(n-r);return t+"° "+r+"' "+Math.floor(o)+"'' "}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.measureTrueBearing,r=void 0!==n&&n,o=t.fractionDigits,i=void 0===o?0:o,a="";if(r){var s="";e>=0&&e<10?s="00":e>10&&e<100&&(s="0");var u=i>0?e.toFixed(i):Math.floor(e);a=s+u+"°"}else e>=0&&e<90?a="N "+l(e)+"E":e>90&&e<=180?a="S "+l(180-e)+"E":e>180&&e<270?a="S "+l(e-180)+"W":e>=270&&e<=360&&(a="N "+l(360-e)+"W");return a}var u={yd:{ft:3,m:.9144,km:9144e-7,yd:1,mi:.00056818181818,nm:.00049373650107},ft:{ft:1,m:.3048,km:3048e-7,yd:.33333333333334,mi:.0001893932,nm:164579e-9},m:{ft:3.28084,m:1,km:.001,yd:1.0936132983377,mi:621371e-9,nm:.000539956803},km:{ft:3280.84,m:1e3,km:1,yd:1093.6132983377,mi:.62137121212121,nm:.5399568207343395},mi:{ft:5280.000168959982,m:1609.3440514990027,km:1.6093440514990027,yd:1760,mi:1,nm:.8689762697078849},nm:{ft:6076.115679999979,m:1852.0000592639938,km:1.8520000592639938,yd:2025.3718285214,mi:1.150779484848481,nm:1},sqft:{sqft:1,sqm:.09290304,sqkm:9.2903043596611e-8,sqmi:3.587e-8,sqnm:2.7051601137505e-8},sqyd:{sqft:8.9999247491639,sqm:.83612040133779,sqkm:8.3612040133779e-7,sqyd:1,sqmi:3.228278917579e-7,sqnm:2.4346237458194e-7},sqm:{sqft:10.76391,sqm:1,sqkm:1e-6,sqyd:1.196,sqmi:3.8610215854245e-7,sqnm:2.91181e-7},sqkm:{sqft:10763910,sqm:1e6,sqkm:1,sqyd:1196e3,sqmi:.38610215854245,sqnm:.291181},sqmi:{sqft:27878398.920726,sqm:2589988.110336,sqkm:2.589988110336,sqyd:27878398.920726,sqmi:1,sqnm:.75415532795574},sqnm:{sqft:36966388.603652,sqm:3434290.0120544,sqkm:3.4342900120544,sqyd:36966388.603652,sqmi:1.325986786715,sqnm:1}};function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"m",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"m";return u[t]&&u[t][n]?e*u[t][n]:e}var c=function(e){return!a()(parseFloat(e[0]))&&!a()(parseFloat(e[1]))},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.coordinates,n=e.type,r=t;if("LineString"===n){if((r=t.filter(c)).length<2)return[]}else if("Polygon"===n){if((r=o()(t).filter(c)).length<3)return[[]];r=[r.concat([o()(r)])]}return r}},62192:(e,t,n)=>{"use strict";n.d(t,{k2:()=>A,tL:()=>M});var r=n(59854),o=n.n(r),i=n(85564),a=n.n(i),l=n(18029),s=n.n(l),u=n(44908),p=n.n(u),c=n(27361),m=n.n(c),f=n(23570),d=n.n(f),y=n(58767),g=n(8797),b=n(86267);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S=function(e,t){return{length:o()((0,g.Ov)(t,"m",e.length.label)||0,2)+" "+e.length.label,area:o()((0,g.Ov)(t,"sqm",e.area.label)||0,2)+" "+e.area.label,bearing:(0,g.rp)(o()(t||0,6)).toString()}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return p()(e.map((function(e){return"LineString"===e.geometry.type&&"bearing"===m()(e,"properties.values[0].type","")?"Bearing":e.geometry.type})))},C={offsetY:1,fontSize:"10",fontSizeUom:"px",fontFamily:"Courier New",font:"10px Courier New",textAlign:"center",color:"#000000",opacity:1,fillColor:"#000000",fillOpacity:1},P={offsetY:-15,fontSize:"13",fontSizeUom:"px",fontFamily:"Courier New",font:"13px Courier New",textAlign:"center",color:"#000000",opacity:1,fillColor:"#000000",fillOpacity:1},M=function(e,t,n,r,o,i){var l,u,c=(l=e,(u=p()(l.map((function(e){return m()(e,"properties.values[0].type","")})))).length>1?{title:"Multiple Measurement",iconGlyph:"geometry-collection"}:{title:"Measure "+s()(u[0]),iconGlyph:"1-measure-"+u[0]});return{type:"FeatureCollection",features:[].concat(O(a()(e.map((function(e){return function(e,t,n){var r,o,i,a=n||P,l=!(null===(r=e.properties)||void 0===r||null===(o=r.values)||void 0===o||!o.find((function(e){return"bearing"===e.type})));return[{type:"Feature",geometry:{type:e.geometry.type,coordinates:(0,g.L0)(e.geometry),textLabels:e.geometry.textLabels},properties:{id:d()(),isValidFeature:!0,geometryGeodesic:"LineString"!==e.geometry.type||l?null:{type:"LineString",coordinates:(0,b.transformLineToArcs)(e.geometry.coordinates)},useGeodesicLines:"LineString"===e.geometry.type&&!l,values:(null===(i=e.properties)||void 0===i?void 0:i.values)||[]},style:[v(v({},y.z4[e.geometry.type]),{},{type:e.geometry.type,id:d()(),geometry:"LineString"!==e.geometry.type||l?null:"lineToArc",title:"".concat(e.geometry.type," Style"),filtering:!0})].concat("LineString"===e.geometry.type?(0,y.N_)():[])}].concat(O(e.properties.values.map((function(e){var n=e.value,r=e.formattedValue,o=e.type;return{type:"Feature",geometry:{type:"Point",coordinates:e.position},properties:{valueText:r||S(t,n)[o],isText:!0,isValidFeature:!0,id:d()()},style:v(v({},a),{},{id:d()(),filtering:!0,title:"Text Style",type:"Text"})}}))))}(e,n,i)})))),O(t.filter((function(e){return!!e})).map((function(e){var t=e.text;return{type:"Feature",geometry:{type:"Point",coordinates:e.position},properties:{valueText:t,isValidFeature:!0,isText:!0,id:d()()},style:v(v({},C),{},{id:d()(),filtering:!0,title:"Text Style",type:"Text"})}})))),properties:{id:r,description:o,type:"Measure",title:c.title,iconGlyph:c.iconGlyph},style:{}}}},38946:(e,t,n)=>{"use strict";n.d(t,{y7:()=>v,oU:()=>E,hH:()=>O});var r=n(73800),o=n(45801),i=n(86306),a=n(18369),l=n(78516),s=n(52),u=n(48041),p=n(78653),c=n(97950),m=n(52043),f=n(44538),d=n(52329),y=n(25642),g=n(13987),b=n(69669),h=n(40353),v=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.type,r=t.coordinates,o=t.radius,i=t.center;switch(n){case"Point":e=new m.Z(r||[]);break;case"LineString":e=new f.Z(r||[]);break;case"MultiPoint":e=new d.Z(r||[]);break;case"MultiLineString":e=new y.Z(r||[]);break;case"MultiPolygon":e=new g.Z(r||[]);break;default:e=o&&i?(0,h.Bb)(new b.Z([i.x,i.y],o),100):new h.ZP(r||[])}return e},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&e.geometry&&"Polygon"===e.geometry.type},O={dragPan:{options:{kinetic:!1},Instance:r.Z},keyboardPan:{options:{kinetic:!1},Instance:o.Z},mouseWheelZoom:{options:{duration:0},Instance:i.Z},doubleClickZoom:{options:{duration:0},Instance:a.Z},shiftDragZoom:{options:{duration:0},Instance:l.Z},keyboardZoom:{options:{},Instance:s.Z},pinchZoom:{options:{duration:0},Instance:u.Z},pinchRotate:{options:{},Instance:p.Z},altShiftDragRotate:{options:{},Instance:c.Z}}},72810:()=>{},86799:()=>{}}]);