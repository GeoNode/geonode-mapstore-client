(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[6169],{62769:(e,t,r)=>{var n={"./cesium/plugins/index":[72531,9,6882,2531,8143],"./leaflet/plugins/index":[35701,7,4558,6882,5701,8566],"./openlayers/plugins/index":[3498,9,5030,7089,1324,4738,200,5517,6932,5016,1108,6882,6287,3546,3498,3595]};function o(e){if(!r.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],o=t[0];return Promise.all(t.slice(2).map(r.e)).then((()=>r.t(o,16|t[1])))}o.keys=()=>Object.keys(n),o.id=62769,e.exports=o},19137:(e,t,r)=>{var n={"./cesium/index":[91726,5794,6576],"./leaflet/index":[97611,6259,5030,1399,4226,6287,3991,9546,3510],"./openlayers/index":[64385,6259,5030,7089,1324,4738,200,5517,6932,5016,4534,15,4226,6287,3546,9702,5516,2520]};function o(e){if(!r.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],o=t[0];return Promise.all(t.slice(1).map(r.e)).then((()=>r(o)))}o.keys=()=>Object.keys(n),o.id=19137,e.exports=o},60604:(e,t,r)=>{"use strict";r.d(t,{jJ:()=>n,oy:()=>o,yg:()=>i,vD:()=>a,W:()=>u,B1:()=>s,fU:()=>c,cY:()=>p});var n="ADDITIONALLAYER:UPDATE_ADDITIONAL_LAYER",o="ADDITIONALLAYER:UPDATE_OPTIONS_BY_OWNER",i="ADDITIONALLAYER:REMOVE_ADDITIONAL_LAYER",a="ADDITIONALLAYER:REMOVE_ALL_ADDITIONAL_LAYERS",u=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"override",o=arguments.length>3?arguments[3]:void 0;return{type:n,id:e,owner:t,actionType:r,options:o}},s=function(e,t){return{type:o,owner:e,options:t}},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,r=e.owner;return{type:i,id:t,owner:r}},p=function(){return{type:a}}},41156:(e,t,r)=>{"use strict";r.d(t,{fy:()=>n,gd:()=>o,zZ:()=>i,ZR:()=>a});var n="BOX_END",o="CHANGE_BOX_SELECTION_STATUS";function i(e){return{type:n,boxEndInfo:e}}function a(e){return{type:o,status:e}}},81808:(e,t,r)=>{"use strict";r.d(t,{eD:()=>n,AM:()=>o,ok:()=>i,Gg:()=>a,nT:()=>u,TL:()=>s,KS:()=>c,EB:()=>p,DZ:()=>l,Aw:()=>f,V_:()=>d,H0:()=>y,jW:()=>m,JZ:()=>g,fQ:()=>E,HK:()=>O,YO:()=>v,I6:()=>b});var n="MAP:LOAD_NEW_MAP",o="MAP_LOAD_MAP_CONFIG",i="MAP_CONFIG_LOADED",a="MAP_CONFIG_LOAD_ERROR",u="MAP_LOAD_INFO",s="MAP_INFO_LOAD_START",c="MAP_INFO_LOADED",p="MAP_INFO_LOAD_ERROR",l="MAP:MAP_SAVE_ERROR",f="MAP:MAP_SAVED",d="MAP:RESET_MAP_SAVE_ERROR";function y(e,t,r){return{type:i,config:e,legacy:!!t,mapId:t,zoomToExtent:r}}function m(e,t){return{type:a,error:e,mapId:t}}function g(e,t,r,n,i){return{type:o,configName:e,mapId:t,config:r,mapInfo:n,overrideConfig:i}}function E(e,t){return{type:c,mapId:t,info:e}}function O(e,t){return{type:p,mapId:e,error:t}}function v(e){return{type:s,mapId:e}}function b(e){return{type:u,mapId:e}}},4206:(e,t,r)=>{"use strict";r.d(t,{hZ:()=>n,pb:()=>o,kD:()=>i,DI:()=>a,IC:()=>u,Vw:()=>p,KD:()=>l,uj:()=>f,lo:()=>d,Yf:()=>y,fo:()=>m,PY:()=>g,bp:()=>E});var n="CHANGE_DRAWING_STATUS",o="DRAW:END_DRAWING",i="DRAW:SET_CURRENT_STYLE",a="DRAW:GEOMETRY_CHANGED",u="DRAW:DRAW_SUPPORT_STOPPED",s="DRAW:FEATURES_SELECTED",c="DRAW:DRAWING_FEATURES";function p(e,t,r,n,o){return{type:a,features:e,owner:t,enableEdit:r,textChanged:n,circleChanged:o}}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:s,features:e}}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:c,features:e}}function d(){return{type:u}}function y(e,t,r,o,i,a){return{type:n,status:e,method:t,owner:r,features:o,options:i,style:a}}function m(e,t){return{type:o,geometry:e,owner:t}}function g(e){return{type:i,currentStyle:e}}var E=function(e){return y("clean","",e,[],{})}},29386:(e,t,r)=>{"use strict";r.d(t,{F2:()=>n,fu:()=>o,NF:()=>i,WP:()=>a,_E:()=>u});var n="HIGHLIGHT_STATUS",o="UPDATE_HIGHLIGHTED",i="HIGHLIGHT:SET_HIGHLIGHT_FEATURES_PATH";function a(e){return{type:i,featuresPath:e}}function u(e,t){return{type:o,features:e,status:t}}},80416:(e,t,r)=>{"use strict";r.d(t,{yS:()=>n,Zz:()=>o,ms:()=>i,ih:()=>a,OX:()=>u,sb:()=>s,K$:()=>c,k7:()=>p,cX:()=>l,x9:()=>f,vs:()=>d,oE:()=>y,Po:()=>m,qv:()=>g,cI:()=>E,g6:()=>O,I4:()=>v,l$:()=>b,Xv:()=>h,k3:()=>S,CQ:()=>A,R8:()=>T,HN:()=>P,sH:()=>_,c7:()=>w,_7:()=>N,eF:()=>L,O6:()=>R,ED:()=>I,RP:()=>D,sF:()=>j,VP:()=>M,He:()=>C,vO:()=>x,WO:()=>F,bh:()=>G,pV:()=>U,MK:()=>k,ZF:()=>H,tV:()=>Y,Dv:()=>q,Yz:()=>z,kI:()=>V,XG:()=>Z,A4:()=>W,Rp:()=>B,ct:()=>K,oh:()=>X,$h:()=>$,ud:()=>J,Qr:()=>Q,LR:()=>ee,nN:()=>te,UG:()=>re,F5:()=>ne,c9:()=>oe,Jh:()=>ie,Xy:()=>ae});var n="CHANGE_LAYER_PROPERTIES",o="LAYERS:CHANGE_LAYER_PARAMS",i="CHANGE_GROUP_PROPERTIES",a="TOGGLE_NODE",u="SORT_NODE",s="REMOVE_NODE",c="UPDATE_NODE",p="MOVE_NODE",l="LAYER_LOADING",f="LAYER_LOAD",d="LAYER_ERROR",y="ADD_LAYER",m="ADD_GROUP",g="REMOVE_LAYER",E="SHOW_SETTINGS",O="HIDE_SETTINGS",v="UPDATE_SETTINGS",b="REFRESH_LAYERS",h="LAYERS:UPDATE_LAYERS_DIMENSION",S="LAYERS_REFRESHED",A="LAYERS_REFRESH_ERROR",T="LAYERS:BROWSE_DATA",P="LAYERS:DOWNLOAD",_="LAYERS:CLEAR_LAYERS",w="LAYERS:SELECT_NODE",N="LAYERS:FILTER_LAYERS",L="LAYERS:SHOW_LAYER_METADATA",R="LAYERS:HIDE_LAYER_METADATA",I="LAYERS:UPDATE_SETTINGS_PARAMS";function D(e,t,r){return{type:E,node:e,nodeType:t,options:r}}function j(){return{type:O}}function M(e){return{type:v,options:e}}function C(e,t){return{type:n,newProperties:t,layer:e}}function x(e,t){return{type:o,layer:e,params:t}}function F(e,t){return{type:i,newProperties:t,group:e}}function G(e,t,r){return{type:a,node:e,nodeType:t,status:!r}}function U(e){return{type:"CONTEXT_NODE",node:e}}function k(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:u,node:e,order:t,sortLayers:r}}function H(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:s,node:e,nodeType:t,removeEmpty:r}}function Y(e,t,r){return{type:c,node:e,nodeType:t,options:r}}function q(e,t,r){return{type:p,node:e,groupId:t,index:r}}function z(e){return{type:l,layerId:e}}function V(e,t){return{type:f,layerId:e,error:t}}function Z(e,t,r){return{type:d,layerId:e,tilesCount:t,tilesErrorCount:r}}function W(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:y,layer:e,foreground:t}}function B(e,t,r){return{type:m,group:e,parent:t,options:r}}function K(e,t){return{type:n,layer:e,newProperties:{_v_:t||(new Date).getTime()}}}function X(e){return{type:S,layers:e}}function $(e,t){return{type:A,layers:e,error:t}}function J(e,t,r,n){return{type:h,dimension:e,value:t,options:r,layers:n}}function Q(e){return{type:T,layer:e}}function ee(e){return{type:P,layer:e}}function te(){return{type:_}}function re(e,t,r){return{type:w,id:e,nodeType:t,ctrlKey:r}}function ne(e){return{type:N,text:e}}function oe(e,t){return{type:L,metadataRecord:e,maskLoading:t}}function ie(){return{type:R}}function ae(e,t){return{type:I,newParams:e,update:t}}},1550:(e,t,r)=>{"use strict";r.d(t,{pP:()=>o,TR:()=>i,N7:()=>a,mq:()=>u,uv:()=>s,Qy:()=>c,IL:()=>p,Li:()=>l,OW:()=>f,ZO:()=>d,Um:()=>y,TF:()=>m,Ls:()=>g,Ec:()=>E,Eu:()=>O,JJ:()=>v,nZ:()=>b,YD:()=>h,GI:()=>S,Jb:()=>A,Uh:()=>T,LP:()=>P,xy:()=>_,o6:()=>w,FP:()=>N,Mo:()=>L,sO:()=>R,Px:()=>I,hd:()=>D,BV:()=>j,SO:()=>M,H0:()=>C,$X:()=>x,ou:()=>F,NE:()=>G});var n=r(97395),o="CHANGE_MAP_VIEW",i="CLICK_ON_MAP",a="CHANGE_MOUSE_POINTER",u="CHANGE_ZOOM_LVL",s="PAN_TO",c="ZOOM_TO_EXTENT",p="ZOOM_TO_POINT",l="CHANGE_MAP_CRS",f="CHANGE_MAP_SCALES",d="CHANGE_MAP_STYLE",y="CHANGE_ROTATION",m="CREATION_ERROR_LAYER",g="UPDATE_VERSION",E="INIT_MAP",O="RESIZE_MAP",v="CHANGE_MAP_LIMITS",b="SET_MAP_RESOLUTIONS",h="REGISTER_EVENT_LISTENER",S="UNREGISTER_EVENT_LISTENER",A="MOUSE_MOVE",T="MOUSE_OUT";function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{family:""};return(0,n.vU)({title:"warning",message:"map.errorLoadingFont",values:e,position:"tc",autoDismiss:10})}function _(e,t,r){return{type:p,pos:e,zoom:t,crs:r}}function w(e,t,r,n,i,a,u,s){return{type:o,center:e,zoom:t,bbox:r,size:n,mapStateSource:i,projection:a,viewerOptions:u,resolution:s}}function N(e,t){return{type:i,point:e,layer:t}}function L(e){return{type:a,pointer:e}}function R(e,t){return{type:u,zoom:e,mapStateSource:t}}function I(e,t,r){return{type:c,extent:e,crs:t,maxZoom:r}}function D(e,t){return{type:d,style:e,mapStateSource:t}}function j(e){var t=e.restrictedExtent,r=e.crs,n=e.minZoom;return{type:v,restrictedExtent:t,crs:r,minZoom:n}}function M(e){return{type:b,resolutions:e}}var C=function(e,t){return{type:h,eventName:e,toolName:t}},x=function(e,t){return{type:S,eventName:e,toolName:t}},F=function(e){return{type:A,position:e}},G=function(){return{type:T}}},21914:(e,t,r)=>{"use strict";r.d(t,{XL:()=>o,km:()=>i,Ih:()=>a,Xw:()=>u,Pn:()=>s,DZ:()=>c,e8:()=>p,E0:()=>l,F9:()=>f,X_:()=>d,pb:()=>y,qb:()=>m,Re:()=>g,ih:()=>E,xy:()=>O,jL:()=>v,oz:()=>b,ph:()=>h,lF:()=>S,gG:()=>A,cb:()=>T,GI:()=>P,B1:()=>_,fv:()=>w,gc:()=>N,zX:()=>L,ZF:()=>R,Zb:()=>I,Fm:()=>D,sV:()=>j,Mn:()=>M,LU:()=>C,XP:()=>x,WU:()=>F,JB:()=>G,g:()=>U,ws:()=>k,HP:()=>H,aN:()=>Y,Pg:()=>z,u0:()=>V,TM:()=>Z,PM:()=>W,lK:()=>B,sv:()=>K,MO:()=>X,oO:()=>$,Mc:()=>J,Zw:()=>Q,RA:()=>ee,am:()=>te,ZM:()=>re,wm:()=>ne,Y$:()=>oe});var n=r(47310),o="LOAD_FEATURE_INFO",i="ERROR_FEATURE_INFO",a="EXCEPTIONS_FEATURE_INFO",u="CHANGE_MAPINFO_STATE",s="NEW_MAPINFO_REQUEST",c="PURGE_MAPINFO_RESULTS",p="CHANGE_MAPINFO_FORMAT",l="SHOW_MAPINFO_MARKER",f="HIDE_MAPINFO_MARKER",d="SHOW_REVERSE_GEOCODE",y="HIDE_REVERSE_GEOCODE",m="GET_VECTOR_INFO",g="NO_QUERYABLE_LAYERS",E="CLEAR_WARNING",O="FEATURE_INFO_CLICK",v="IDENTIFY:UPDATE_FEATURE_INFO_CLICK_POINT",b="IDENTIFY:TOGGLE_HIGHLIGHT_FEATURE",h="TOGGLE_MAPINFO_STATE",S="UPDATE_CENTER_TO_MARKER",A="IDENTIFY:CHANGE_PAGE",T="IDENTIFY:CLOSE_IDENTIFY",P="IDENTIFY:CHANGE_FORMAT",_="IDENTIFY:TOGGLE_SHOW_COORD_EDITOR",w="IDENTIFY:EDIT_LAYER_FEATURES",N="IDENTIFY:CURRENT_EDIT_FEATURE_QUERY",L="IDENTIFY:SET_MAP_TRIGGER",R="IDENTIFY:TOGGLE_EMPTY_MESSAGE_GFI",I="IDENTIFY:SET_SHOW_IN_MAP_POPUP";function D(e,t,r,n,i){return{type:o,data:t,reqId:e,requestParams:r,layerMetadata:n,layer:i}}function j(e,t,r,n){return{type:i,error:t,reqId:e,requestParams:r,layerMetadata:n}}function M(e,t,r,n){return{type:a,reqId:e,exceptions:t,requestParams:r,layerMetadata:n}}function C(){return{type:g}}function x(){return{type:E}}function F(e,t){return{type:s,reqId:e,request:t}}function G(e,t,r,n){return{type:m,layer:e,request:t,metadata:r,queryableLayers:n}}function U(){return{type:c}}function k(e){return{type:p,infoFormat:e}}function H(){return{type:l}}function Y(){return{type:f}}function q(e){return{type:d,reverseGeocodeData:e.data}}function z(e){return function(t){n.Z.reverseGeocode(e).then((function(e){t(q(e))})).catch((function(e){t(q(e))}))}}function V(){return{type:y}}function Z(){return{type:h}}function W(e){return{type:S,status:e}}function B(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return{type:O,point:e,layer:t,filterNameList:r,overrideParams:n,itemId:o}}function K(e){return{type:v,point:e}}function X(e){return{type:b,enabled:e}}function $(e){return{type:A,index:e}}var J=function(){return{type:T}},Q=function(e){return{type:P,format:e}},ee=function(e){return{type:_,showCoordinateEditor:e}},te=function(e){return{type:w,layer:e}},re=function(e){return{type:N,query:e}},ne=function(e){return{type:L,trigger:e}},oe=function(e){return{type:I,value:e}}},73814:(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{xO:()=>a,HH:()=>u,yp:()=>s,i8:()=>c,hC:()=>p,UK:()=>l});var a="MAP:ADD_POPUP",u="MAP:REMOVE_POPUP",s="MAP:CLEAN_POPUPS",c=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return{type:a,id:e,popup:o({id:e},t),single:r}},p=function(e){return{type:u,id:e}},l=function(){return{type:s}}},89602:(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{lD:()=>i,yK:()=>a,gf:()=>u,Qr:()=>s,Kx:()=>c,V:()=>p,Wt:()=>l,Qw:()=>f,GI:()=>d,MT:()=>y,XX:()=>m,sc:()=>g,qg:()=>E,Kf:()=>O,ES:()=>v,ud:()=>b,Bd:()=>h,Gd:()=>S,$3:()=>A,el:()=>T,CG:()=>P,h2:()=>_,NR:()=>w,RM:()=>N,dD:()=>L,wB:()=>R,Y_:()=>I,nl:()=>D,S1:()=>j});var i="CHANGE_MEASUREMENT_TOOL",a="CHANGE_MEASUREMENT_STATE",u="MEASUREMENT:CHANGE_UOM",s="MEASUREMENT:CHANGED_GEOMETRY",c="MEASUREMENT:SET_TEXT_LABELS",p="MEASUREMENT:SET_CURRENT_FEATURE",l="MEASUREMENT:ADD_AS_LAYER",f="MEASUREMENT:RESET_GEOMETRY",d="MEASUREMENT:CHANGE_FORMAT",y="MEASUREMENT:CHANGE_COORDINATES",m="MEASUREMENT:ADD_MEASURE_AS_ANNOTATION",g="MEASUREMENT:UPDATE_MEASURES",E="MEASUREMENT:INIT",O="MEASUREMENT:SET_MEASUREMENT_CONFIG",v="MEASUREMENT:SET_ANNOTATION_MEASUREMENT";function b(e,t,r,n,o){return{type:m,features:e,textLabels:t,uom:r,save:n,properties:o}}function h(e){return function(t){t(function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({type:i},e)}(e))}}function S(e,t,r){return{type:u,uom:e,value:t,previousUom:r}}function A(e){return{type:s,features:e}}function T(e,t){return{type:O,property:e,value:t}}function P(e){return{type:c,textLabels:e}}function _(e){return{type:p,featureIndex:e}}function w(e,t,r){return{type:l,features:e,textLabels:t,uom:r}}function N(e){return{type:d,format:e}}function L(e){return{type:y,coordinates:e}}function R(){return{type:f}}function I(e){return{type:g,measures:e}}function D(e){return{type:a,pointMeasureEnabled:e.pointMeasureEnabled,lineMeasureEnabled:e.lineMeasureEnabled,areaMeasureEnabled:e.areaMeasureEnabled,bearingMeasureEnabled:e.bearingMeasureEnabled,geomType:e.geomType,values:e.values,feature:e.feature,point:e.point,len:e.len,area:e.area,bearing:e.bearing,lenUnit:e.lenUnit,areaUnit:e.areaUnit}}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:E,defaultOptions:e}}},47310:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(75875),o=r.n(n),i=r(72500),a=r.n(i),u=r(27418),s=r.n(u),c={format:"json",bounded:0,polygon_geojson:1,priority:5};const p={geocode:function(e,t){var r=s()({q:e},c,t||{}),n=a().format({protocol:"https",host:"nominatim.openstreetmap.org",query:r});return o().get(n)},reverseGeocode:function(e,t){var r=s()({lat:e.lat,lon:e.lng},t||{},c),n=a().format({protocol:"https",host:"nominatim.openstreetmap.org/reverse",query:r});return o().get(n)}}},19983:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(24852),o=r.n(n),i=r(45697),a=r.n(i),u=r(52259);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=function(e){return function(t){var r,i,a,s,p,l,f,d=(null==t||null===(r=t.map)||void 0===r?void 0:r.projection)||"EPSG:3857",y=(null==t||null===(i=t.map)||void 0===i||null===(a=i.mapOptions)||void 0===a||null===(s=a.view)||void 0===s?void 0:s.DPI)||null,m=null==t||null===(p=t.map)||void 0===p||null===(l=p.mapOptions)||void 0===l||null===(f=l.view)||void 0===f?void 0:f.scales,g=(0,n.useMemo)((function(){return m?(0,u.getResolutionsForScales)(m,d,y):null}),[m,d,y]),E=g?c(c({},t),{},{map:c(c({},t.map),{},{mapOptions:c(c({},t.map.mapOptions),{},{view:c(c({},t.map.mapOptions.view),{},{resolutions:g})})})}):t;return o().createElement(e,E)}};l.propTypes={Component:a().element};const f=l},55368:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>De});var n=r(45697),o=r.n(n),i=r(24852),a=r.n(i),u=r(22843),s=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=e,a=n,u=o,s=i;if({NODE_ENV:"production"}.isTest){var c={},p=function(e){return c[e]=c[e]||{rootCount:0,iframesCreated:!1,timedOut:!1,fontLoaded:!1,requiredExtraTimeout:!1},c[e]};window.reporter=window.reporter||{modifyRootCount:function(e,t){p(e).rootCount+=t},iframesCreated:function(e){p(e).iframesCreated=!0},timedOut:function(e){p(e).timedOut=!0},fontLoaded:function(e){p(e).fontLoaded=!0},requiredExtraTimeout:function(e){p(e).requiredExtraTimeout=!0},getTests:function(){return c}}}r.timeoutAfter&&setTimeout((function(){a&&({NODE_ENV:"production"}.isTest&&window.reporter.modifyRootCount(s,-1),document.body.removeChild(a),a=0,r.onTimeout&&({NODE_ENV:"production"}.isTest&&window.reporter.timedOut(s),r.onTimeout()))}),r.timeoutAfter),u=function(){a&&a.firstChild.clientWidth===a.lastChild.clientWidth&&({NODE_ENV:"production"}.isTest&&window.reporter.modifyRootCount(s,-1),document.body.removeChild(a),a=0,{NODE_ENV:"production"}.isTest&&window.reporter.fontLoaded(s),t())},{NODE_ENV:"production"}.isTest&&window.reporter.modifyRootCount(s,1),{NODE_ENV:"production"}.isLegacy||u(document.body.appendChild(a=document.createElement("div")).innerHTML='<div style="position:fixed;white-space:pre;bottom:999%;right:999%;font:999px '+(r.generic?"":"'")+i+(r.generic?"":"'")+',serif">'+(r.sampleText||" ")+'</div><div style="position:fixed;white-space:pre;bottom:999%;right:999%;font:999px '+(r.generic?"":"'")+i+(r.generic?"":"'")+',monospace">'+(r.sampleText||" ")+"</div>"),{NODE_ENV:"production"}.isLegacy&&u(document.body.appendChild(a=document.createElement("div")).innerHTML='<table style=position:absolute;bottom:999%;right:999%;width:auto><tr><td style=position:relative><tr><td style="font:999px monospace;white-space:pre">.<span style="font:999px '+(r.generic?"":"'")+i+(r.generic?"":"'")+',serif">'+(r.sampleText||" ")+'</span>.</table><table style=position:absolute;bottom:999%;right:999%;width:auto><tr><td style=position:relative><tr><td style="font:999px monospace;white-space:pre">.<span style="font:999px '+(r.generic?"":"'")+i+(r.generic?"":"'")+',monospace">'+(r.sampleText||" ")+"</span>.</table>"),a&&({NODE_ENV:"production"}.isTest&&window.reporter.iframesCreated(s),{NODE_ENV:"production"}.isLegacy||(a.firstChild.appendChild(i=document.createElement("iframe")).style.width="999%",i.contentWindow.onresize=u,a.lastChild.appendChild(i=document.createElement("iframe")).style.width="999%",i.contentWindow.onresize=u),{NODE_ENV:"production"}.isLegacy&&(a.firstChild.firstChild.firstChild.firstChild.appendChild(i=document.createElement("iframe")).style.cssText="position:absolute;bottom:999%;right:999%;width:999%",i.attachEvent?i.contentWindow.attachEvent("onresize",u):i.contentWindow.onresize=u,a.lastChild.firstChild.firstChild.firstChild.appendChild(i=document.createElement("iframe")).style.cssText="position:absolute;bottom:999%;right:999%;width:999%",i.attachEvent?i.contentWindow.attachEvent("onresize",u):i.contentWindow.onresize=u),{NODE_ENV:"production"}.isTest||(i=setTimeout(u)),{NODE_ENV:"production"}.isTest&&(i=setTimeout((function(){a&&(window.reporter.requiredExtraTimeout(s),u())}))))},c=r(27418),p=r.n(c),l=r(72986),f=r.n(l),d=(r(41738),r(5346)),y=r(37275),m=r(1550),g=r(86494),E=r(22222),O=r(827),v=r(93152),b=r(75110),h=r(90183);function S(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var T=function(e){return(0,g.get)(e,e&&e.featuregrid&&e.featuregrid.open&&e.featuregrid.showFilteredObject?"query.filterObj.spatialField":"emptyObject")},P=function(e){return T(e)&&T(e).geometry},_=(0,E.P1)([function(e){return P(e)&&P(e).coordinates||[]},function(e){return P(e)&&P(e).type||"Polygon"},function(e){return P(e)&&P(e).id||"spatial_object"},function(e){return P(e)&&P(e).projection||"EPSG:3857"}],(function(e,t,r,n){var o={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:t,coordinates:e},style:{fillColor:"#FFFFFF",fillOpacity:"0.2",color:"#ffcc33"},id:r}]};return e.length>0&&t?(0,h.reprojectGeoJson)(o,n,"EPSG:4326").features:[]})),w=(0,E.P1)([_,function(e){return(0,g.get)(e,e&&e.highlight&&e.highlight.featuresPath||"highlight.emptyFeatures")||[]}],(function(e,t){return[].concat(S(t),S(e))})),N=r(74621),L=r(8316),R=r(38842);const I=(0,E.zB)({projectionDefs:O.pb,map:O.Od,mapType:v.$v,layers:b.Hi,features:w,loadingError:function(e){return e.mapInitialConfig&&e.mapInitialConfig.loadingError&&e.mapInitialConfig.loadingError.data},securityToken:N.y8,elevationEnabled:O.zT,shouldLoadFont:v.m6,isLocalizedLayerStylesEnabled:R.wk,localizedLayerStylesName:R.c3,currentLocaleLanguage:L.KV});var D=r(1321),j=r(45304),M=r(4206),C={drawStatus:null,drawOwner:null,drawMethod:null,options:{},features:[],tempFeatures:[]};var x=r(41156),F={status:null};var G=r(29386);function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){H(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function H(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Y={status:"disabled",layer:"featureselector",features:[],highlighted:0,featuresPath:"highlight.emptyFeatures",emptyFeatures:[]};var q=r(56874),z=r(60604);function V(e){return function(e){if(Array.isArray(e))return Z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Z(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){K(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function K(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var X=r(49977),$=r.n(X),J=r(80416),Q=r(81808),ee=r(63516),te=r(55105),re=r(82904),ne=r(24262),oe=r(52259),ie=r(97395),ae=r(21914);function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(r),!0).forEach((function(t){ce(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ce(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const pe={checkMapPermissions:function(e,t){var r=t.getState,n=void 0===r?function(){}:r;return e.ofType(ee.XP).filter((function(){return(0,O.J9)(n())})).map((function(){var e=(0,O.J9)(n());return(0,Q.I6)(e)}))},handleCreationLayerError:function(e,t){return e.ofType(m.TF).delay(500).switchMap((function(e){var r=(0,v.$v)(t.getState()),n=(0,b.CA)(t.getState(),e.options.id);return n&&(0,ne.isSupportedLayer)(n,r)?$().Observable.from([(0,J.He)(e.options.id,{invalid:!0})]):$().Observable.empty()}))},handleCreationBackgroundError:function(e,t){return e.ofType(m.TF).delay(500).filter((function(e){var r=(0,b.x)(t.getState());return r&&e.options.id===r.id&&"background"===e.options.group})).switchMap((function(e){var r=(0,v.$v)(t.getState()),n=(0,g.head)((0,b.pV)(t.getState()).filter((function(t){return(0,ne.isSupportedLayer)(t,r)&&t.id!==e.options.id})));return n?$().Observable.from([(0,J.He)(n.id,{visibility:!0}),(0,re.Xg)("backgroundSelector","currentLayer",n),(0,re.Xg)("backgroundSelector","tempLayer",n),(0,ie.Kp)({title:"warning",message:"notification.backgroundLayerNotSupported",action:{label:"close"},position:"tc"})]):$().Observable.of((0,ie.Kp)({title:"warning",message:"notification.noBackgroundLayerSupported",action:{label:"close"},position:"tc"}))}))},resetMapOnInit:function(e){return e.ofType(m.Ec).switchMap((function(){return $().Observable.of((0,z.cY)(),(0,re.fV)(),(0,J.nN)(),(0,ae.XP)())}))},resetLimitsOnInit:function(e,t){return e.ofType(Q.ok,m.Li).switchMap((function(){var e=(0,O.A0)(t.getState()),r=(0,O.zj)(t.getState()),n=(0,O.S)(t.getState());return $().Observable.of((0,m.BV)({restrictedExtent:r,crs:e,minZoom:n}))}))},zoomToExtentEpic:function(e,t){var r=t.getState,n=void 0===r?function(){}:r;return e.ofType(m.Qy).switchMap((function(e){var t=function(e){if((0,g.isArray)(e))return e.map((function(e){return"string"==typeof e||e instanceof String?Number(e):e}));if((0,g.isObject)(e)){var t=(0,g.mapValues)(e,(function(e){return"string"==typeof e||e instanceof String?Number(e):e}));return[t.minx,t.miny,t.maxx,t.maxy]}return null}(e.extent);if(!t)return $().Observable.empty();var r=oe.default.getHook(oe.default.ZOOM_TO_EXTENT_HOOK),o=(0,te.CF)(n());return r?(r(t,{crs:e.crs,padding:o,maxZoom:e.maxZoom}),$().Observable.empty()):function(e,t){var r=0,n=e.extent,o=void 0===n?[]:n,i=h.default.reprojectBbox(o,e.crs,t.bbox&&t.bbox.crs||"EPSG:4326");if(i){var a=h.default.reproject(oe.default.getCenterForExtent(o,e.crs),e.crs,"EPSG:4326");if("EPSG:4326"===e.crs&&o&&o[0]<=-180&&o[1]<=-90&&o[2]>=180&&o[3]>=90)r=1;else{var u=h.default.reprojectBbox(o,e.crs,t.projection||"EPSG:4326");r=oe.default.getZoomForExtent(u,t.size,0,21,null)}e.maxZoom&&r>e.maxZoom&&(r=e.maxZoom);var s={minx:i[0],miny:i[1],maxx:i[2],maxy:i[3]},c=se(se({},t.bbox),{},{bounds:s});return $().Observable.of((0,m.o6)(a,r,c,t.size,e.mapStateSource,t.projection,t.viewerOptions))}return $().Observable.empty()}(se(se({},e),{},{extent:t}),(0,O.Od)(n()))}))}};var le=r(73814),fe=r(89602),de=r(97266);function ye(e){return{type:"CHANGE_SELECTION_STATE",geomType:e.geomType,point:e.point,line:e.line,polygon:e.polygon}}var me=r(71703);function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ee=function(){return a().createElement("span",null)};const Oe=function(e,t){return Promise.all([r(19137)("./"+e+"/index"),r(62769)("./"+e+"/plugins/index")]).then((function(e){var r,n,o=(r=e,n=1,function(e){if(Array.isArray(e))return e}(r)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}}(r,n)||function(e,t){if(e){if("string"==typeof e)return ge(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ge(e,t):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0].default,i=(0,me.connect)((function(e){return{projectionDefs:(0,O.pb)(e),mousePosition:(0,O.x9)(e)}}),p()({},{onMapViewChanges:m.o6,onClick:m.FP,onMouseMove:m.ou,onLayerLoading:J.Yz,onLayerLoad:J.kI,onLayerError:J.XG,onWarning:ie.Kp,onMouseOut:m.NE},t),(function(e,t,r){return p()({},r,e,p()({},t,{onMouseMove:e.mousePosition?t.onMouseMove:function(){}}))}))(o.LMap),a=(0,me.connect)((function(e){return{enabled:e.controls&&e.controls.measure&&e.controls.measure.enabled||!1,measurement:(0,de.VH)(e),useTreshold:e.measurement&&e.measurement.useTreshold||null,uom:e.measurement&&e.measurement.uom||{length:{unit:"m",label:"m"},area:{unit:"sqm",label:"m²"}}}}),{changeMeasurementState:fe.nl,updateMeasures:fe.Y_,resetGeometry:fe.wB,changeGeometry:fe.$3,setTextLabels:fe.CG,changeMeasurement:fe.Bd})(o.MeasurementSupport||Ee),u=(0,me.connect)((function(e){return e.draw||{}}),{onChangeDrawingStatus:M.Yf,onEndDrawing:M.fo,onGeometryChanged:M.Vw,onSelectFeatures:M.KD,onDrawingFeatures:M.uj,onDrawStopped:M.lo,setCurrentStyle:M.PY})(o.DrawSupport||Ee),s=(0,me.connect)((0,E.P1)((function(e){return function(e){return e&&e.box&&e.box.status}(e)}),(function(e){return{status:e}})),{onBoxEnd:x.zZ})(o.BoxSelectionSupport||Ee),c=(0,me.connect)((function(e){return e.highlight||{}}),{updateHighlighted:G._E})(o.HighlightFeatureSupport||Ee),l=(0,me.connect)((function(e){return{selection:e.selection||{}}}),{changeSelectionState:ye})(o.SelectionSupport||Ee),f=(0,me.connect)(null,{onWarning:ie.Kp})(o.Layer||Ee),d=[],y=(0,me.connect)((0,E.P1)((function(e){return e.mapPopups&&e.mapPopups.popups||d}),(function(e){return{popups:e}})),{onPopupClose:le.hC})(o.PopupSupport||Ee);return{Map:i,Layer:f,Feature:o.Feature||Ee,tools:{measurement:a,overview:o.Overview||Ee,scalebar:o.ScaleBar||Ee,draw:u,highlight:c,selection:l,popup:y,box:s}}}))};var ve=r(19983);function be(e){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function he(){return(he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Se(e){return function(e){if(Array.isArray(e))return Ae(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ae(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ae(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _e(e,t){return(_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function we(e,t){return!t||"object"!==be(t)&&"function"!=typeof t?Ne(e):t}function Ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Le(e){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Re(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}(u,e);var t,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Le(n);if(o){var r=Le(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return we(this,e)});function u(){var e;Te(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Re(Ne(e=i.call.apply(i,[this].concat(r))),"state",{canRender:!0}),Re(Ne(e),"getHighlightLayer",(function(t,r,n){var o=e.state.plugins;return a().createElement(o.Layer,{type:"vector",srs:t,position:r,key:"highlight",options:{name:"highlight"},env:n},e.props.features.map((function(e){return a().createElement(o.Feature,{msId:e.id,key:e.id,crs:t,type:e.type,style:e.style||null,geometry:e.geometry})})))})),Re(Ne(e),"getTool",(function(t){return(0,g.isString)(t)?{name:t,impl:e.state.plugins.tools[t]}:t[e.props.mapType]||t})),Re(Ne(e),"getMapOptions",(function(){return e.props.mapOptions&&e.props.mapOptions[e.props.mapType]||y.ZP.getConfigProp("defaultMapOptions")&&y.ZP.getConfigProp("defaultMapOptions")[e.props.mapType]})),Re(Ne(e),"renderLayers",(function(){var t=e.props.map.projection||"EPSG:3857",r=[];e.props.isLocalizedLayerStylesEnabled&&r.push({name:e.props.localizedLayerStylesName,value:e.props.currentLocaleLanguage});var n=e.state.plugins;return[].concat(Se(e.props.layers),Se(e.props.additionalLayers)).filter(e.filterLayer).map((function(o,i){return a().createElement(n.Layer,{type:o.type,srs:t,position:i,key:o.id||o.name,options:o,securityToken:e.props.securityToken,env:r},e.renderLayerContent(o,t))})).concat(e.props.features&&e.props.features.length&&e.getHighlightLayer(t,e.props.layers.length,r)||[])})),Re(Ne(e),"renderLayerContent",(function(t,r){var n=e.state.plugins;return t.features&&"vector"===t.type?t.features.map((function(e){return a().createElement(n.Feature,{key:e.id,msId:e.id,type:e.type,crs:r,geometry:e.geometry,features:e.features,featuresCrs:t.featuresCrs||"EPSG:4326",layerStyle:t.style,style:e.style||t.style||null,properties:e.properties})})):null})),Re(Ne(e),"renderSupportTools",(function(){var t=e.props.items.filter((function(e){return!!e.Tool})).map((function(t){var r=t.Tool,n=t.name,o=t.cfg;return a().createElement(r,he({},o,{key:n,mapType:e.props.mapType}))}));return e.props.tools.map((function(t){var r=e.getTool(t),n=e.props.toolsOptions[r.name]&&e.props.toolsOptions[r.name][e.props.mapType]||e.props.toolsOptions[r.name]||{};return a().createElement(r.impl,he({key:r.name},n))})).concat(t)})),Re(Ne(e),"filterLayer",(function(t){return!t.useForElevation||"cesium"===e.props.mapType||e.props.elevationEnabled})),Re(Ne(e),"updatePlugins",(function(t){t.onLoadingMapPlugins(!0),e.setState({plugins:void 0}),Oe(t.mapType,t.actions).then((function(r){e.setState({plugins:r}),t.onLoadingMapPlugins(!1,t.mapType)}))})),e}return t=u,(r=[{key:"UNSAFE_componentWillMount",value:function(){var e=this,t=this.props,r=t.shouldLoadFont,n=t.fonts;r&&n&&(this.setState({canRender:!1}),Promise.all(n.map((function(t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(r,n){s(e,r,{timeoutAfter:t.timeoutAfter,onTimeout:n,sampleText:t.sampleText,generic:t.generic})}))}(t,{timeoutAfter:5e3}).catch((function(){e.props.onFontError({family:t})}))}))).then((function(){e.setState({canRender:!0})}))),this.updatePlugins(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.mapType===this.props.mapType&&e.actions===this.props.actions||this.updatePlugins(e)}},{key:"render",value:function(){if(this.props.map&&this.state.canRender&&this.state.plugins){var e=this.props.map.mapOptions,t=void 0===e?{}:e;return a().createElement(this.state.plugins.Map,he({id:"map"},this.props.options,{projectionDefs:this.props.projectionDefs},this.props.map,{mapOptions:p()({},t,this.getMapOptions()),zoomControl:this.props.zoomControl,onResolutionsChange:this.props.onResolutionsChange}),this.renderLayers(),this.renderSupportTools())}return this.props.loadingError?a().createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},className:"mapErrorMessage"},a().createElement(d.Z,{msgId:"map.loadingerror"}),":",this.props.loadingError):a().createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},className:"mapLoadingMessage"},this.props.loadingSpinner?a().createElement(f(),{spinnerName:"circle",overrideSpinnerClassName:"spinner"}):null,a().createElement(d.Z,{msgId:this.props.mapLoadingMessage}))}}])&&Pe(t.prototype,r),u}(a().Component);Re(Ie,"propTypes",{mapType:o().string,map:o().object,layers:o().array,additionalLayers:o().array,zoomControl:o().bool,mapLoadingMessage:o().string,loadingSpinner:o().bool,loadingError:o().string,tools:o().array,fonts:o().array,options:o().object,mapOptions:o().object,projectionDefs:o().array,toolsOptions:o().object,onFontError:o().func,onResolutionsChange:o().func,actions:o().object,features:o().array,securityToken:o().string,shouldLoadFont:o().bool,elevationEnabled:o().bool,isLocalizedLayerStylesEnabled:o().bool,localizedLayerStylesName:o().string,currentLocaleLanguage:o().string,items:o().array,onLoadingMapPlugins:o().func}),Re(Ie,"defaultProps",{mapType:"leaflet",actions:{},zoomControl:!1,mapLoadingMessage:"map.loading",loadingSpinner:!0,tools:["measurement","scalebar","draw","highlight","popup","box"],options:{},mapOptions:{},fonts:["FontAwesome"],toolsOptions:{measurement:{},locate:{},scalebar:{leaflet:{position:"bottomright"}},overview:{overviewOpt:{position:"bottomright",collapsedWidth:25,collapsedHeight:25,zoomLevelOffset:-5,toggleDisplay:!0},layers:[{type:"osm"}]}},securityToken:"",additionalLayers:[],shouldLoadFont:!1,elevationEnabled:!1,onFontError:function(){},onResolutionsChange:function(){},items:[],onLoadingMapPlugins:function(){}});const De=(0,u.rx)("Map",{component:(0,u.$j)(I,{onFontError:m.LP,onResolutionsChange:m.SO})((0,ve.Z)(Ie)),reducers:{map:D.Z,layers:j.Z,draw:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M.hZ:return p()({},e,{drawStatus:t.status,drawOwner:t.owner,drawMethod:t.method,options:t.options,features:t.features,style:t.style});case M.kD:return p()({},e,{currentStyle:t.currentStyle});case M.DI:return p()({},e,{tempFeatures:t.features});case M.IC:return p()({},e,{tempFeatures:[]});default:return e}},box:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x.gd:return p()({},e,{status:t.status});default:return e}},highlight:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G.NF:return p()({},e,{featuresPath:t.featuresPath||"highlight.emptyFeatures"});case G.F2:return k(k({},e),{},{status:t.status});case G.fu:return k(k({},e),{},{highlighted:t.features.length,features:t.features,status:t.status||e.status});default:return e}},maptype:q.Z,additionallayers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z.jJ:var r=(0,g.pickBy)({id:t.id,owner:t.owner,actionType:t.actionType,options:t.options},g.identity),n=(0,g.head)(e.filter((function(e){return e.id===r.id})));return n?e.map((function(e){return e.id===r.id?B(B({},n),r):B({},e)})):[].concat(V(e),[r]);case z.oy:var o=t.options,i=t.owner;return e.map((function(e,t){return e.owner===i?B(B({},e),{},{options:(0,g.isObject)(o)&&o[e.id]||(0,g.isArray)(o)&&o[t]||{}}):B({},e)}));case z.yg:var a=t.id,u=t.owner;return u?e.filter((function(e){return e.owner!==u})):e.filter((function(e){return e.id!==a}));case z.vD:return[];default:return e}}},epics:pe})},45304:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(80416),o=r(82904),i=r(27418),a=r.n(i),u=r(23570),s=r.n(u),c=r(86494),p=r(24262);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var E=function e(t,r){return t&&(0,c.isArray)(t)&&t.length>0?t.filter((function(e){return e.id&&e.id!==r||(0,c.isString)(e)&&e!==r})).map((function(t){return(0,c.isObject)(t)?a()({},t,t.nodes?{nodes:e(t.nodes,r)}:{}):t})):t},O=function(e,t,r,n){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=E(e,t),a=(0,p.getNode)(i,r);if(a)i=(0,p.deepChange)(i,a.id,"nodes",o?[t].concat(a.nodes.slice(0)):a.nodes.concat(t));else{a=(0,c.head)((0,p.getLayersByGroup)([(0,p.getNode)(n,t)]));var u=r.split(".").reduce((function(e,t,n){var o=r.split(".",n+1).join("."),a=(0,p.getNode)(i,o);return a?e.concat(a):e}),[]).pop();u?(a=(0,p.getNode)([a],u.id).nodes[0],i=(0,p.deepChange)(i,u.id,"nodes",o?[a].concat(u.nodes):u.nodes.concat(a))):i=[a].concat(i)}return i},v=function e(t,r,n){return n?t.map((function(t){return(0,c.isString)(t)?t:t.id===n?f(f({},t),{},{nodes:[].concat(y(t.nodes),[r])}):f(f({},t),{},{nodes:e(t.nodes,r,n)})})):[].concat(y(t),[r])},b=function e(t,r,n){if(t){if((0,c.isString)(t.id)){var o=t.id.lastIndexOf("."),i=-1!==o?r+t.id.slice(o+(""===r?1:0)):r+(""===r?"":".")+t.id;return a()({},t,{id:i,nodes:t.nodes.map((function(t){return e(t,i,n)}))})}if((0,c.isString)(t)){var u,s=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=m(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}(n);try{for(s.s();!(u=s.n()).done;){var p=u.value;p.id===t&&(p.group=r)}}catch(e){s.e(e)}finally{s.f()}return t}}return t};const h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{flat:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.kM:return"RefreshLayers"===t.control?a()({},e,{refreshError:[]}):e;case n.cX:var r=(e.flat||[]).map((function(e){return e.id===t.layerId?a()({},e,{loading:!0}):e}));return a()({},e,{flat:r});case n.x9:var i=(e.flat||[]).map((function(e){return e.id===t.layerId?a()({},e,{loading:!1,previousLoadingError:e.loadingError,loadingError:!!t.error&&"Error"}):e}));return a()({},e,{flat:i});case n.vs:var u=t.tilesCount===t.tilesErrorCount,l=(e.flat||[]).map((function(e){return e.id===t.layerId?a()({},e,{previousLoadingError:e.loadingError,loadingError:u?"Error":"Warning"}):e}));return a()({},e,{flat:l});case n.l$:return a()({},e,{refreshing:t.layers,refreshError:[]});case n.CQ:var m=(e.refreshing||[]).filter((function(e){return 0===t.layers.filter((function(t){return t.layer===e.id})).length})),g=t.layers.map((function(e){return{layer:e.fullLayer.title,error:t.error}}));return a()({},e,{refreshing:m,refreshError:[].concat(y(e.refreshError||[]),y(g))});case n.k3:var h=(e.refreshing||[]).filter((function(e){return 0===t.layers.filter((function(t){return t.layer===e.id})).length}));return a()({},e,{refreshing:h});case n.Zz:case n.yS:var S=e.flat||[],A=S.reduce((function(e,r){return e||r.id===t.layer&&"background"===r.group}),!1),T=S.map((function(e){return(0,c.includes)((0,c.castArray)(t.layer),e.id)?a()({},e,t.newProperties,t.params?{params:a()({},e.params,t.params)}:{}):"background"===e.group&&A&&t.newProperties&&t.newProperties.visibility?a()({},e,{visibility:!1}):a()({},e)}));return a()({},e,{flat:T});case n.ms:var P=e.flat.map((function(e){var r=e.group||"Default";return r===t.group||0===r.indexOf("".concat(t.group,"."))?a()({},e,t.newProperties):a()({},e)}));return a()({},e,{flat:P});case n.ih:var _="layers"===t.nodeType?"flat":"groups",w=e[_]||[],N=(0,p.deepChange)(w,t.node,"expanded",t.status);return a()({},e,d({},_,N));case n.OX:var L=(0,p.getNode)(e.groups||[],t.node),R=L&&L.nodes||"root"===t.node&&e.groups||null;if(R){var I=t.order.map((function(e){return R[e]})),D="root"===t.node?I:(0,p.deepChange)(e.groups,t.node,"nodes",I),j=t.sortLayers?t.sortLayers(D,e.flat):e.flat;return a()({},e,{groups:D,flat:j})}return e;case n.K$:var M="groups"===t.nodeType?"group":"id";if("group"===M){var C=e.groups?[].concat(e.groups):[],x=(0,p.deepChange)(C,t.node,t.options);return a()({},e,{groups:x})}var F=e.flat||[],G=!t.options.hasOwnProperty("group"),U=F.map((function(e){return e[M]===t.node||0===e[M].indexOf(t.node+".")?(e.group===(t.options.group||"Default")&&(G=!0),a()({},e,t.options)):a()({},e)})),k=(0,c.head)(F.filter((function(e){return e[M]===t.node||0===e[M].indexOf(t.node+".")})));if(!G&&k){var H=t.options.group||"Default",Y=O(e.groups,t.node,H,U),q=p.sortLayers?(0,p.sortLayers)(Y,U):U;return a()({},e,{flat:q,groups:Y})}return a()({},e,{flat:U});case n.k7:var z=(0,p.getNode)(e.groups||[],t.node),V=(0,p.getNode)(e.flat,t.node);if(z&&t.index>=0&&"root"!==z.id&&"Default"!==z.id&&(!V||"root"!==t.groupId)){var Z=t.groupId||"Default",W=V?V.group||"Default":function(){var e=z.id.split(".");return e[e.length-2]||"root"}();if(Z===W){var B="root"===W?{nodes:e.groups}:(0,p.getNode)(e.groups,W),K=(B&&B.nodes||[]).slice(),X=K.findIndex((function(e){return(e.id||e)===(z.id||z)}));if(-1!==X&&X!==t.index){for(var $=Math.abs(t.index-X),J=X<t.index?1:-1,Q=X,ee=0;ee<$;++ee,Q+=J){var te=K[Q];K[Q]=K[Q+J],K[Q+J]=te}var re="root"===W?K:(0,p.deepChange)(e.groups,t.groupId,"nodes",K);return a()({},e,{flat:(0,p.sortLayers)(re,e.flat),groups:re})}}else{var ne=E(e.groups,z.id||z),oe="root"===Z?{nodes:ne}:(0,p.getNode)(ne,t.groupId);if(oe){var ie=e.flat.map((function(e){return a()({},e)})),ae=b(z,"root"===Z?"":Z,ie),ue=oe.nodes.slice();ue.splice(t.index,0,ae);var se="root"===Z?ue:(0,p.deepChange)(ne.slice(),oe.id,"nodes",ue);return a()({},e,{flat:(0,p.sortLayers)(se,ie),groups:se})}}}return e;case n.sb:if("groups"===t.nodeType){var ce=E(e.groups,t.node),pe=e.flat.filter((function(e){return!e.group||e.group!==t.node&&0!==e.group.indexOf(t.node+".")}));return{flat:pe,groups:ce}}if("layers"===t.nodeType){var le=t.removeEmpty?(0,p.removeEmptyGroups)(E(e.groups,t.node)):E(e.groups,t.node),fe=e.flat.filter((function(e){return e.id!==t.node}));return a()({},e,{flat:fe,groups:le})}return e;case n.oE:var de=(e.flat||[]).concat(),ye=(e.groups||[]).concat(),me=t.layer.id?t.layer:a()({},t.layer,{id:(0,p.getLayerId)(t.layer,de)});de.push(me);var ge=me.group||"Default";"background"!==ge&&(ye=O(ye,me.id,ge,de,t.foreground));var Ee=p.sortLayers?(0,p.sortLayers)(ye,de):de;return a()({},e,{flat:Ee,groups:ye});case n.qv:var Oe=E(e.groups,t.layerId),ve=e.flat.filter((function(e){return e.id!==t.layerId}));return a()({},e,{flat:ve,groups:Oe});case n.Po:var be=s()(),he=v(e.groups,f({id:t.parent?t.parent+"."+be:be,title:t.group,name:be,nodes:[],expanded:!0},t.options),t.parent);return a()({},e,{groups:he});case n.cI:var Se=a()({},e.settings,{expanded:!0,node:t.node,nodeType:t.nodeType,options:t.options});return a()({},e,{settings:Se,editLayerName:!1,layerNameIsBeingChecked:!1,layerNameChangeError:!1});case n.g6:var Ae=a()({},e.settings,{expanded:!1,node:null,nodeType:null,options:{}});return a()({},e,{settings:Ae,editLayerName:!1,layerNameIsBeingChecked:!1,layerNameChangeError:!1});case n.I4:var Te=a()({},e.settings&&e.settings.options,t.options),Pe=a()({},e.settings,{options:Te});return a()({},e,{settings:Pe});case n.sH:return a()({},e,{flat:[],groups:[],selected:[]});case n.c7:var _e=e.selected?[].concat(e.selected):[];if(t.id&&"group"===t.nodeType){var we=[].concat(e.groups),Ne=(0,p.getNode)(we,t.id),Le=(0,p.getGroupNodes)(Ne);t.ctrlKey&&Ne?0===_e.filter((function(e){return e===t.id})).length?_e=_e.concat(Le,[t.id]):(_e=_e.filter((function(e){return e!==t.id})),Le.forEach((function(e){_e=_e.filter((function(t){return t!==e}))}))):!t.ctrlKey&&Ne&&(_e=0===_e.filter((function(e){return e===t.id})).length?[].concat(Le,[t.id]):[])}else t.id&&"layer"===t.nodeType?t.ctrlKey?0===_e.filter((function(e){return e===t.id})).length?_e.push(t.id):_e=_e.filter((function(e){return e!==t.id})):_e=0===_e.filter((function(e){return e===t.id})).length||_e.length>1?[t.id]:[]:_e=[];return a()({},e,{selected:_e,settings:{expanded:!1,node:null,nodeType:null,options:{}},layerMetadata:{expanded:!1,metadataRecord:{},maskLoading:!1}});case n._7:return a()({},e,{filter:t.text||""});case n.eF:var Re=a()({},e.layerMetadata,{metadataRecord:t.metadataRecord,expanded:!0,maskLoading:t.maskLoading});return a()({},e,{layerMetadata:Re});case n.O6:var Ie=a()({},e.layerMetadata,{metadataRecord:{},expanded:!1});return a()({},e,{layerMetadata:Ie});default:return e}}},1321:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(1550),o=r(27418),i=r.n(o),a=r(52259),u=r(90183);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{eventListeners:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.pP:t.type;var r=l(t,["type"]);return i()({},e,r);case n.N7:return i()({},e,{mousePointer:t.pointer});case n.mq:return i()({},e,{zoom:t.zoom,mapStateSource:t.mapStateSource});case n.JJ:return i()({},e,{limits:{restrictedExtent:t.restrictedExtent,crs:t.crs,minZoom:t.minZoom}});case n.Li:return i()({},e,{projection:t.crs});case n.OW:if(t.scales){var o=e&&e.mapOptions&&e.mapOptions.view&&e.mapOptions.view.DPI||null,p=a.default.getResolutionsForScales(t.scales,e&&e.projection||"EPSG:4326",o);return i()({},e,{mapOptions:i()({},e&&e.mapOptions,{view:i()({},e&&e.mapOptions&&e.mapOptions.view,{resolutions:p,scales:t.scales})})})}if(e&&e.mapOptions&&e.mapOptions.view&&e.mapOptions.view&&e.mapOptions.view.resolutions){var f=i()({},e);return f.mapOptions=i()({},f.mapOptions),f.mapOptions.view=i()({},f.mapOptions.view),delete f.mapOptions.view.resolutions,0===Object.keys(f.mapOptions.view).length&&delete f.mapOptions.view,0===Object.keys(f.mapOptions).length&&delete f.mapOptions,f}return e;case n.nZ:return i()({},e,{resolutions:t.resolutions});case n.IL:return i()({},e,{center:u.default.reproject(t.pos,t.crs,"EPSG:4326"),zoom:t.zoom,mapStateSource:null});case n.uv:var d=u.default.reproject(t.center,t.center.crs||"EPSG:4326","EPSG:4326");return i()({},e,{center:d,mapStateSource:null});case n.ZO:return i()({},e,{mapStateSource:t.mapStateSource,style:t.style,resize:e.resize?e.resize+1:1});case n.Eu:return i()({},e,{resize:e.resize?e.resize+1:1});case n.Um:var y=i()({},e.bbox,{rotation:t.rotation});return i()({},e,{bbox:y,mapStateSource:t.mapStateSource});case n.Ls:return i()({},e,{version:t.version});case n.YD:return i()({},e,{eventListeners:i()({},e.eventListeners||{},s({},t.eventName,[].concat(c(e.eventListeners&&e.eventListeners[t.eventName]||[]),[t.toolName])))});case n.GI:var m=e;if(null!=e&&e.eventListeners){var g=e.eventListeners[t.eventName].filter((function(e){return e!==t.toolName}))||[];m=i()({},e,{eventListeners:i()({},e.eventListeners,s({},t.eventName,g))})}return m;default:return e}}},7147:(e,t,r)=>{"use strict";r.d(t,{Yq:()=>o,Iz:()=>i,QF:()=>a,_d:()=>u,pn:()=>s,lI:()=>c,PJ:()=>p,dH:()=>l,Gd:()=>f,tL:()=>d,R4:()=>y,BP:()=>m});var n=r(86494),o=function(e){return function(e,t){return function(t){return(0,n.get)(t,"controls[".concat(e,"][").concat("enabled","]"))}}(e)},i=function(e){return(0,n.get)(e,"controls.measure.showCoordinateEditor")},a=function(e){return(0,n.get)(e,"controls.measure.enabled")},u=function(e){return(0,n.get)(e,"controls.queryPanel.enabled")},s=function(e){return!!(0,n.get)(e,"controls.layerdownload.available")},c=function(e){return!!(0,n.get)(e,"controls.layerdownload.enabled")},p=function(e){return(0,n.get)(e,"controls.widgetBuilder.available",!1)},l=function(e){return(0,n.get)(e,"controls.widgetBuilder.enabled")},f=function(e){return(0,n.get)(e,"controls.layersettings.initialSettings")||{}},d=function(e){return(0,n.get)(e,"controls.layersettings.originalSettings")||{}},y=function(e){return(0,n.get)(e,"controls.layersettings.activeTab")||"general"},m=function(e){return(0,n.get)(e,"controls.drawer.enabled",!1)}},38842:(e,t,r)=>{"use strict";r.d(t,{wk:()=>a,Yf:()=>u,c3:()=>s,fY:()=>c});var n=r(86494),o=r(22222),i=r(8316),a=function(e){return(0,n.has)(e,"localConfig.localizedLayerStyles")},u=function(e){var t=(0,n.get)(e,"localConfig.plugins.dashboard",[]),r=(0,n.find)(t,(function(e){return"DashboardEditor"===e.name}))||{};return(0,n.get)(r,"cfg.catalog.localizedLayerStyles",!1)},s=function(e){return(0,n.get)(e,"localConfig.localizedLayerStyles.name","mapstore_language")},c=(0,o.P1)(a,s,i.KV,(function(e,t,r){var n=[];return e&&n.push({name:t,value:r}),n}))},55105:(e,t,r)=>{"use strict";r.d(t,{Nr:()=>p,ic:()=>l,Jz:()=>d,VM:()=>y,CF:()=>m});var n=r(86494),o=r(827),i=r(52259);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=function(e){return e.maplayout&&e.maplayout.layout||{}},p=function(e){return e.maplayout&&e.maplayout.boundingMapRect||{}},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=c(e);return r&&Object.keys(r).filter((function(e){return t[e]})).reduce((function(e,t){return u(u({},e),{},s({},t,r[t]))}),{})||{}},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=c(e),o=!!(0,n.head)(t.filter((function(e){return r[e.key]})).map((function(e){return"not"===e.type?r[e.key]!==e.value&&r[e.key]:r[e.key]===e.value})));return o},d=function(e){return f(e,[{key:"right",value:658}])},y=function(e){return f(e,[{key:"bottom",value:30,type:"not"}])},m=function(e){var t=(0,o.Od)(e),r=p(e);return r&&t&&t.size&&{left:(0,i.parseLayoutValue)(r.left,t.size.width),bottom:(0,i.parseLayoutValue)(r.bottom,t.size.height),right:(0,i.parseLayoutValue)(r.right,t.size.width),top:(0,i.parseLayoutValue)(r.top,t.size.height)}}},97266:(e,t,r)=>{"use strict";r.d(t,{iL:()=>p,cD:()=>l,jM:()=>f,VH:()=>y,on:()=>m});var n=r(93152),o=r(7147),i=r(61868),a=r(8797);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=function(e){return(0,o.Iz)(e)&&!e.measurement.isDrawing&&(0,n.m6)(e)},l=function(e){return e&&e.measurement&&e.measurement.showAddAsAnnotation},f=function(e){return e&&e.measurement&&e.measurement.trueBearing&&e.measurement.trueBearing.measureTrueBearing},d=function(e){var t=e.measurement.feature||{};return t.geometry&&(t=(0,i.t8)("geometry.coordinates",(0,a.validateFeatureCoordinates)(t.geometry||{}),t)),t},y=function(e){return e.measurement&&s(s({},e.measurement),{},{feature:d(e)})||{}},m=function(e){var t;return null==e||null===(t=e.measurement)||void 0===t?void 0:t.geomType}},8797:(e,t,r)=>{"use strict";r.r(t),r.d(t,{degToDms:()=>o,getFormattedBearingValue:()=>i,CONVERSION_RATE:()=>a,convertUom:()=>u,validateCoord:()=>s,validateFeatureCoordinates:()=>c,isValidGeometry:()=>p});var n=r(86494);function o(e){var t=Math.floor(e),r=60*(e-t),n=Math.floor(r),o=60*(r-n);return t+"° "+n+"' "+Math.floor(o)+"'' "}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.measureTrueBearing,n=void 0!==r&&r,i=t.fractionDigits,a=void 0===i?0:i,u="";if(n){var s="";e>=0&&e<10?s="00":e>10&&e<100&&(s="0");var c=a>0?e.toFixed(a):Math.floor(e);u=s+c+"°"}else e>=0&&e<90?u="N "+o(e)+"E":e>90&&e<=180?u="S "+o(180-e)+"E":e>180&&e<270?u="S "+o(e-180)+"W":e>=270&&e<=360&&(u="N "+o(360-e)+"W");return u}var a={yd:{ft:3,m:.9144,km:9144e-7,yd:1,mi:.00056818181818,nm:.00049373650107},ft:{ft:1,m:.3048,km:3048e-7,yd:.33333333333334,mi:.0001893932,nm:164579e-9},m:{ft:3.28084,m:1,km:.001,yd:1.0936132983377,mi:621371e-9,nm:.000539956803},km:{ft:3280.84,m:1e3,km:1,yd:1093.6132983377,mi:.62137121212121,nm:.5399568207343395},mi:{ft:5280.000168959982,m:1609.3440514990027,km:1.6093440514990027,yd:1760,mi:1,nm:.8689762697078849},nm:{ft:6076.115679999979,m:1852.0000592639938,km:1.8520000592639938,yd:2025.3718285214,mi:1.150779484848481,nm:1},sqft:{sqft:1,sqm:.09290304,sqkm:9.2903043596611e-8,sqmi:3.587e-8,sqnm:2.7051601137505e-8},sqyd:{sqft:8.9999247491639,sqm:.83612040133779,sqkm:8.3612040133779e-7,sqyd:1,sqmi:3.228278917579e-7,sqnm:2.4346237458194e-7},sqm:{sqft:10.76391,sqm:1,sqkm:1e-6,sqyd:1.196,sqmi:3.8610215854245e-7,sqnm:2.91181e-7},sqkm:{sqft:10763910,sqm:1e6,sqkm:1,sqyd:1196e3,sqmi:.38610215854245,sqnm:.291181},sqmi:{sqft:27878398.920726,sqm:2589988.110336,sqkm:2.589988110336,sqyd:27878398.920726,sqmi:1,sqnm:.75415532795574},sqnm:{sqft:36966388.603652,sqm:3434290.0120544,sqkm:3.4342900120544,sqyd:36966388.603652,sqmi:1.325986786715,sqnm:1}};function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"m",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"m";return a[t]&&a[t][r]?e*a[t][r]:e}var s=function(e){return!(0,n.isNaN)(parseFloat(e[0]))&&!(0,n.isNaN)(parseFloat(e[1]))},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.coordinates,r=e.type,o=t;if("LineString"===r){if((o=t.filter(s)).length<2)return[]}else if("Polygon"===r){if((o=(0,n.head)(t).filter(s)).length<3)return[[]];o=[o.concat([(0,n.head)(o)])]}return o},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.coordinates,r=e.type;if(!r||!t||t&&(0,n.isArray)(t)&&0===t.length)return!1;var o=c({coordinates:t,type:r});return(o="Polygon"===r?(0,n.head)(o):o).length>0}},24846:(e,t,r)=>{(e.exports=r(9252)()).push([e.id,".msgapi .mapErrorMessage {\n    font-size: 16px;\n    color: red;\n}\n",""])},41738:(e,t,r)=>{var n=r(24846);"string"==typeof n&&(n=[[e.id,n,""]]),r(14246)(n,{}),n.locals&&(e.exports=n.locals)}}]);