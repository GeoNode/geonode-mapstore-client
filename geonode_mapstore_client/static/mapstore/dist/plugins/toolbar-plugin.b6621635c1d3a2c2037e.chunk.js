(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[2794],{83520:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>B});var r=n(24852),o=n.n(r),i=n(45697),a=n.n(i),u=n(71703),s=(n(50329),n(64317)),l=n(31255),c=n(55105),p=n(22222),f=n(27418),y=n.n(f),b=n(58252);function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var h=["children"],v=["children"];function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g(){return(g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function O(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function j(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function w(t,e,n){return e&&S(t.prototype,e),n&&S(t,n),t}function x(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function P(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=R(t);if(e){var o=R(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k(this,n)}}function k(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?T(t):e}function T(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R(t){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var L=function(t){x(n,t);var e=P(n);function n(){return j(this,n),e.apply(this,arguments)}return w(n,[{key:"render",value:function(){var t=this.props,e=t.children,n=O(t,h);return o().createElement(s.CSSTransitionGroup,g({},n,{transitionName:"toolbarexpand",transitionEnterTimeout:500,transitionLeaveTimeout:300}),e)}}]),n}(o().Component),E=function(t){x(n,t);var e=P(n);function n(){return j(this,n),e.apply(this,arguments)}return w(n,[{key:"render",value:function(){var t=this.props,e=t.children,n=O(t,v);return o().createElement("div",n,e)}}]),n}(o().Component),N=function(t){x(n,t);var e=P(n);function n(){var t;j(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return m(T(t=e.call.apply(e,[this].concat(o))),"getPanel",(function(t){return!0===t.panel?t.plugin:t.panel})),m(T(t),"getPanels",(function(){return t.getTools().filter((function(t){return t.panel})).map((function(e){return{name:e.name,title:e.title,cfg:e.cfg,panel:t.getPanel(e),items:e.items,wrap:e.wrap||!1}}))})),m(T(t),"getTools",(function(){var e=t.props.items.filter((function(t){return!t.alwaysVisible}))||[];return t.props.items.filter((function(n){return n.alwaysVisible||1===e.length||t.props.allVisible})).filter((function(e){return!e.showWhen||e.showWhen(t.props)})).map((function(t,e){return y()({},t,{position:t.position||e})})).sort((function(t,e){return t.position-e.position}))})),t}return w(n,[{key:"render",value:function(){var t=this.props.disableAnimation?E:L;return o().createElement(b.Z,{id:this.props.id,className:"mapToolbar btn-group-"+this.props.layout,toolCfg:this.props.btnConfig,container:t,mapType:this.props.mapType,toolStyle:this.props.buttonStyle,activeStyle:this.props.pressedButtonStyle,toolSize:this.props.buttonSize,stateSelector:this.props.stateSelector,tools:this.getTools(),panels:this.getPanels(),activePanel:this.props.active,style:this.props.style,panelStyle:this.props.panelStyle,panelClassName:this.props.panelClassName})}}]),n}(o().Component);m(N,"propTypes",{id:a().string,tools:a().array,mapType:a().string,style:a().object,panelStyle:a().object,panelClassName:a().string,disableAnimation:a().bool,active:a().string,items:a().array,allVisible:a().bool,layout:a().string,stateSelector:a().string,buttonStyle:a().string,buttonSize:a().string,pressedButtonStyle:a().string,btnConfig:a().object}),m(N,"contextTypes",{messages:a().object,router:a().object}),m(N,"defaultProps",{id:"mapstore-toolbar",style:{},panelStyle:{minWidth:"300px",right:"52px",zIndex:100,position:"absolute",overflow:"auto",left:"450px"},panelClassName:"toolbar-panel",disableAnimation:!1,items:[],allVisible:!0,layout:"vertical",stateSelector:"toolbar",buttonStyle:"primary",buttonSize:null,pressedButtonStyle:"success",btnConfig:{className:"square-button"}});var U=function(t){return(0,p.P1)([function(e){return e.controls&&e.controls[t]&&e.controls[t].active},function(e){return e.controls&&e.controls[t]&&e.controls[t].expanded},l.Rd,function(t){return(0,c.ic)(t,{right:!0,bottom:!0})}],(function(e,n,r,o){return{active:e,allVisible:n,stateSelector:t,layout:r?"horizontal":"vertical",style:o}}))};const B={ToolbarPlugin:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"toolbar";return(0,u.connect)(U(t))(N)},reducers:{controls:n(25108).Z}}},25108:(t,e,n)=>{"use strict";n.d(e,{Z:()=>u});var r=n(82904),o=n(27418),i=n.n(o);function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case r.kM:var n=e.property||"enabled";return i()({},t,a({},e.control,i()({},t[e.control],a({},n,!(t[e.control]||{})[n]))));case r.At:return!0===e.toggle&&t[e.control]&&t[e.control][e.property]===e.value?i()({},t,a({},e.control,i()({},t[e.control],a({},e.property,void 0)))):i()({},t,a({},e.control,i()({},t[e.control],a({},e.property,e.value))));case r.dc:return i()({},t,a({},e.control,i()({},t[e.control],e.properties)));case r.l:var o=Object.keys(t).filter((function(t){return-1===(e.skip||[]).indexOf(t)})),u=o.reduce((function(e,n){return i()(e,a({},n,i()({},t[n],!0===t[n].enabled?{enabled:!1}:{})))}),{});return i()({},t,u);default:return t}}},55105:(t,e,n)=>{"use strict";n.d(e,{Nr:()=>p,ic:()=>f,Jz:()=>b,VM:()=>d,CF:()=>h});var r=n(91175),o=n.n(r),i=n(827),a=n(52259);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c=function(t){return t.maplayout&&t.maplayout.layout||{}},p=function(t){return t.maplayout&&t.maplayout.boundingMapRect||{}},f=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=c(t);return n&&Object.keys(n).filter((function(t){return e[t]})).reduce((function(t,e){return s(s({},t),{},l({},e,n[e]))}),{})||{}},y=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=c(t),r=!!o()(e.filter((function(t){return n[t.key]})).map((function(t){return"not"===t.type?n[t.key]!==t.value&&n[t.key]:n[t.key]===t.value})));return r},b=function(t){return y(t,[{key:"right",value:658}])},d=function(t){return y(t,[{key:"bottom",value:30,type:"not"}])},h=function(t){var e=(0,i.Od)(t),n=p(t);return n&&e&&e.size&&{left:(0,a.parseLayoutValue)(n.left,e.size.width),bottom:(0,a.parseLayoutValue)(n.bottom,e.size.height),right:(0,a.parseLayoutValue)(n.right,e.size.width),top:(0,a.parseLayoutValue)(n.top,e.size.height)}}},74621:(t,e,n)=>{"use strict";n.d(e,{np:()=>r,L3:()=>o,jl:()=>i,y8:()=>a,qg:()=>u}),n(27418),n(27361);var r=function(t){return t&&t.security&&t.security.user},o=function(t){return r(t)&&r(t).role},i=function(t){return t&&t.security&&t.security.user},a=function(t){return t.security&&t.security.token},u=function(t){return"ADMIN"===o(t)}},20729:(t,e,n)=>{(t.exports=n(9252)()).push([t.id,".msgapi .mapToolbar {\n    position: absolute;\n    bottom: 5px;\n    right: 0;\n    z-index: 1000;\n    margin-bottom: 35px;\n    margin-right: 5px;\n}\n\n.msgapi .toolbarexpand-enter {\n  opacity: 0.01;\n}\n\n.msgapi .toolbarexpand-enter.toolbarexpand-enter-active {\n  opacity: 1;\n  transition: opacity 500ms ease-in;\n}\n\n.msgapi .toolbarexpand-leave {\n  opacity: 1;\n}\n\n.msgapi .toolbarexpand-leave.toolbarexpand-leave-active {\n  opacity: 0.01;\n  transition: opacity 300ms ease-in;\n}\n\n.msgapi #navigationBar .toolbar-panel {\n    bottom: 80px !important;\n}\n\n.msgapi #identifyBar .mapToolbar {\n    top: auto !important;\n    bottom: 5px;\n    right: 212px !important;\n}\n",""])},9252:t=>{t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},85082:(t,e,n)=>{var r=n(40554),o=n(88958);t.exports=function(t,e,n,i){var a=t.length;for((n=r(n))<0&&(n=-n>a?0:a+n),(i=void 0===i||i>a?a:r(i))<0&&(i+=a),i=n>i?0:o(i);n<i;)t[n++]=e;return t}},19873:(t,e,n)=>{var r=n(85082),o=n(16612);t.exports=function(t,e,n,i){var a=null==t?0:t.length;return a?(n&&"number"!=typeof n&&o(t,e,n)&&(n=0,i=a),r(t,e,n,i)):[]}},88958:(t,e,n)=>{var r=n(29750),o=n(40554);t.exports=function(t){return t?r(o(t),0,4294967295):0}},64317:(t,e,n)=>{"use strict";var r=i(n(1174)),o=i(n(92381));function i(t){return t&&t.__esModule?t:{default:t}}t.exports={TransitionGroup:o.default,CSSTransitionGroup:r.default}},14246:t=>{var e={},n=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}},r=n((function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())})),o=n((function(){return document.head||document.getElementsByTagName("head")[0]})),i=null,a=0;function u(t,n){for(var r=0;r<t.length;r++){var o=t[r],i=e[o.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](o.parts[a]);for(;a<o.parts.length;a++)i.parts.push(c(o.parts[a],n))}else{var u=[];for(a=0;a<o.parts.length;a++)u.push(c(o.parts[a],n));e[o.id]={id:o.id,refs:1,parts:u}}}}function s(t){for(var e=[],n={},r=0;r<t.length;r++){var o=t[r],i=o[0],a={css:o[1],media:o[2],sourceMap:o[3]};n[i]?n[i].parts.push(a):e.push(n[i]={id:i,parts:[a]})}return e}function l(){var t=document.createElement("style"),e=o();return t.type="text/css",e.appendChild(t),t}function c(t,e){var n,r,u,s,c;if(e.singleton){var p=a++;n=i||(i=l()),r=y.bind(null,n,p,!1),u=y.bind(null,n,p,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(s=document.createElement("link"),c=o(),s.rel="stylesheet",c.appendChild(s),n=s,r=d.bind(null,n),u=function(){n.parentNode.removeChild(n),n.href&&URL.revokeObjectURL(n.href)}):(n=l(),r=b.bind(null,n),u=function(){n.parentNode.removeChild(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else u()}}t.exports=function(t,n){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");void 0===(n=n||{}).singleton&&(n.singleton=r());var o=s(t);return u(o,n),function(t){for(var r=[],i=0;i<o.length;i++){var a=o[i];(l=e[a.id]).refs--,r.push(l)}for(t&&u(s(t),n),i=0;i<r.length;i++){var l;if(0===(l=r[i]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete e[l.id]}}}};var p,f=(p=[],function(t,e){return p[t]=e,p.filter(Boolean).join("\n")});function y(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=f(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function b(t,e){var n=e.css,r=e.media;if(e.sourceMap,r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function d(t,e){var n=e.css,r=(e.media,e.sourceMap);r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),i=t.href;t.href=URL.createObjectURL(o),i&&URL.revokeObjectURL(i)}},50329:(t,e,n)=>{var r=n(20729);"string"==typeof r&&(r=[[t.id,r,""]]),n(14246)(r,{}),r.locals&&(t.exports=r.locals)}}]);