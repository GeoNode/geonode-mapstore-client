(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[8294],{22595:(t,o,e)=>{"use strict";e.r(o),e.d(o,{default:()=>v});var r=e(24852),n=e.n(r),i=e(45697),a=e.n(i),u=e(86267),c=e(52043),l=e(22843),d=e(71703),m=e(22222);function f(){return(f=Object.assign||function(t){for(var o=1;o<arguments.length;o++){var e=arguments[o];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}).apply(this,arguments)}function p(t,o){(null==o||o>t.length)&&(o=t.length);for(var e=0,r=new Array(o);e<o;e++)r[e]=t[e];return r}var g={openlayers:{fit:function(t){var o,e=t.map,r=t.geometry,n=t.padding,i=t.geometryProjection,a=t.fixedZoom,l=t.maxZoom,d=t.duration,m=e.getView(),f=m.getProjection().getCode();if(2===r.length){var p=(0,u.reproject)(r,i,f),g=p.x,s=p.y;o=new c.Z([g,s])}else o=(0,u.reprojectBbox)(r,i,f);var y=n||{},v=y.top,b=void 0===v?0:v,h=y.right,j=void 0===h?0:h,x=y.bottom,Z=void 0===x?0:x,P=y.left,w=void 0===P?0:P;m.fit(o,{padding:[b,j,Z,w],maxZoom:a?m.getZoom():l,duration:d})}},leaflet:{fit:function(t){var o,e,r,n=t.map,i=t.geometry,a=t.padding,c=t.geometryProjection,l=t.fixedZoom,d=t.maxZoom,m=t.duration,f=l?n.getZoom():d,g=a.top,s=void 0===g?0:g,y=a.right,v=void 0===y?0:y,b=a.bottom,h=void 0===b?0:b,j=a.left,x=void 0===j?0:j;if(2===i.length){var Z=(0,u.reproject)(i,c,"EPSG:4326"),P=Z.x,w=Z.y;o=[[w,P],[w,P]]}else{var S=(e=(0,u.reprojectBbox)(i,c,"EPSG:4326"),r=4,function(t){if(Array.isArray(t))return t}(e)||function(t,o){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,n,i=[],a=!0,u=!1;try{for(e=e.call(t);!(a=(r=e.next()).done)&&(i.push(r.value),!o||i.length!==o);a=!0);}catch(t){u=!0,n=t}finally{try{a||null==e.return||e.return()}finally{if(u)throw n}}return i}}(e,r)||function(t,o){if(t){if("string"==typeof t)return p(t,o);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?p(t,o):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),B=S[0],E=S[1],T=S[2];o=[[E,B],[S[3],T]]}n.flyToBounds(o,{paddingTopLeft:[x,s],paddingBottomRight:[v,h],maxZoom:f,animate:!!m,duration:m/1e3})}}};function s(t){var o=t.map,e=t.mapType,n=t.active,i=t.geometry,a=t.geometryProjection,u=void 0===a?"EPSG:4326":a,c=t.padding,l=t.maxZoom,d=t.fixedZoom,m=t.duration,f=(0,r.useRef)();return f.current=function(){o&&g[e]&&g[e].fit({map:o,geometry:i,padding:c,geometryProjection:u,maxZoom:l,fixedZoom:d,duration:m})},(0,r.useEffect)((function(){n&&i&&f.current()}),[i,n]),null}s.propTypes={id:a().string,map:a().object,mapType:a().string,active:a().boolean,geometry:a().array,geometryProjection:a().string,padding:a().object,maxZoom:a().number,fixedZoom:a().boolean,duration:a().number},s.defaultProps={geometryProjection:"EPSG:4326",padding:{top:0,right:0,bottom:0,left:0}};var y=(0,d.connect)((0,m.P1)([function(t){var o,e;return null==t||null===(o=t.controls)||void 0===o||null===(e=o.fitBounds)||void 0===e?void 0:e.geometry}],(function(t){return{geometry:t}})))((function(t){return n().createElement(s,f({active:!0},t))}));const v=(0,l.rx)("FitBounds",{component:function(){return null},containers:{Map:{priority:1,name:"FitBounds",Tool:y}},epics:{},reducers:{}})}}]);