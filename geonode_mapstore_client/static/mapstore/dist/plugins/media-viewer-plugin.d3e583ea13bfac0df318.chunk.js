(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[2184],{4206:(e,t,r)=>{"use strict";r.d(t,{hZ:()=>n,pb:()=>o,kD:()=>i,DI:()=>a,IC:()=>u,Vw:()=>s,KD:()=>p,uj:()=>f,lo:()=>d,Yf:()=>y,fo:()=>m,PY:()=>v,bp:()=>O});var n="CHANGE_DRAWING_STATUS",o="DRAW:END_DRAWING",i="DRAW:SET_CURRENT_STYLE",a="DRAW:GEOMETRY_CHANGED",u="DRAW:DRAW_SUPPORT_STOPPED",c="DRAW:FEATURES_SELECTED",l="DRAW:DRAWING_FEATURES";function s(e,t,r,n,o){return{type:a,features:e,owner:t,enableEdit:r,textChanged:n,circleChanged:o}}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:c,features:e}}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:l,features:e}}function d(){return{type:u}}function y(e,t,r,o,i,a){return{type:n,status:e,method:t,owner:r,features:o,options:i,style:a}}function m(e,t){return{type:o,geometry:e,owner:t}}function v(e){return{type:i,currentStyle:e}}var O=function(e){return y("clean","",e,[],{})}},34990:(e,t,r)=>{"use strict";r.d(t,{D7:()=>c,mN:()=>l,vb:()=>s,KT:()=>p,QK:()=>f,cc:()=>d,Gx:()=>y,XH:()=>m,lX:()=>v,tP:()=>O,Dq:()=>b,LE:()=>g,SW:()=>h,si:()=>E,i2:()=>S,IY:()=>w,Zf:()=>P,ij:()=>T,Hb:()=>j,Mk:()=>R,c:()=>I,NZ:()=>C,Cx:()=>D,wb:()=>_,km:()=>A,un:()=>G,Ro:()=>Y,jr:()=>N,ZY:()=>k,EQ:()=>Z,W7:()=>M,Ym:()=>L,iU:()=>x,W$:()=>U,OJ:()=>F,IH:()=>q,rp:()=>W,D_:()=>V,zJ:()=>z,wJ:()=>H,OS:()=>B,YP:()=>$,Ct:()=>K,Od:()=>J,y6:()=>X,g5:()=>Q,_e:()=>ee,DF:()=>te,GD:()=>re,K0:()=>ne,kB:()=>oe,Xn:()=>ie,G5:()=>ae,Vx:()=>ue,RZ:()=>ce,pB:()=>le,$A:()=>se,m7:()=>pe,YM:()=>fe,o2:()=>de,ql:()=>ye,c0:()=>me,nL:()=>ve,Fu:()=>Oe,WE:()=>be,uj:()=>ge,jw:()=>he,Ml:()=>Ee,fD:()=>Se,Ak:()=>we});var n=r(47037),o=r.n(n),i=r(55877),a=r.n(i),u=r(92579),c="GEOSTORY:ADD",l="GEOSTORY:ADD_RESOURCE",s="GEOSTORY:CHANGE_MODE",p="GEOSTORY:CLEAR_SAVE_ERROR",f="GEOSTORY:EDIT_RESOURCE",d="GEOSTORY:EDIT_WEBPAGE",y="GEOSTORY:SCROLLING",m="GEOSTORY:LOAD_GEOSTORY",v="GEOSTORY:LOADING_GEOSTORY",O="GEOSTORY:MOVE",b="GEOSTORY:REMOVE",g="GEOSTORY:SAVE_STORY",h="GEOSTORY:SAVE_ERROR",E="GEOSTORY:STORY_SAVED",S="GEOSTORY:SELECT_CARD",w="GEOSTORY:SET_CONTROL",P="GEOSTORY:SET_RESOURCE",T="GEOSTORY:SET_CURRENT_STORY",j="GEOSTORY:SET_WEBPAGE_URL",R="GEOSTORY:TOGGLE_CARD_PREVIEW",I="GEOSTORY:TOGGLE_SETTINGS_PANEL",C="GEOSTORY:TOGGLE_SETTING",D="GEOSTORY:TOGGLE_CONTENT_FOCUS",_="GEOSTORY:UPDATE",A="GEOSTORY:UPDATE_SETTING",G="GEOSTORY:UPDATE_CURRENT_PAGE",Y="GEOSTORY:REMOVE_RESOURCE",N="GEOSTORY:SET_PENDING_CHANGES",k="GEOSTORY:SET_UPDATE_URL_SCROLL",Z="GEOSTORY:UPDATE_MEDIA_EDITOR_SETTINGS",M="GEOSTORY:DRAWING_FEATURE",L="GEOSTORY:SIDE_EFFECT",x="GEOSTORY:UPDATE_GEO_CAROUSEL_SETTINGS",U="GEOSTORY:HIDE_CAROUSEL_ITEMS",F="GEOSTORY:SYNC_CAROUSEL_MAP",q=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e};return{type:c,id:r&&r.id||a()(),path:e,position:t,element:o()(r)&&(0,u.nq)(r,n)||r}},W=function(e,t,r){return{type:l,id:e,mediaType:t,data:r}},V=function(e){return{type:s,mode:e?u.nl.EDIT:u.nl.VIEW}},z=function(e,t,r){return{type:f,id:e,mediaType:t,data:r}},H=function(e,t){return{type:m,id:e,options:t}},B=function(e){return{type:"GEOSTORY:GEOSTORY_LOADED",id:e}},$=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"loading";return{type:v,value:e,name:t}},K=function(e){return{type:"GEOSTORY:LOAD_GEOSTORY_ERROR",error:e}},J=function(e){return{type:b,path:e}},X=function(e){return{type:h,error:e}},Q=function(e,t){return{type:w,control:e,value:t}},ee=function(e){return{type:S,card:e}},te=function(e){return{type:P,resource:e}},re=function(e){return{type:E,id:e}},ne=function(e){return{type:T,story:e}},oe=function(){return{type:R}},ie=function(e){return{type:C,option:e}},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:I,withSave:e}},ue=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"replace";return{type:_,path:e,element:t,mode:r}},ce=function(e){var t=e.sectionId,r=e.columnId;return{type:G,sectionId:t,columnId:r}},le=function(e,t,r){return{type:O,source:e,target:t,position:r}},se=function(e,t,r,n,o){return{type:D,status:e,target:t,selector:r,hideContent:n,path:o}},pe=function(e,t){return{type:A,prop:e,value:t}},fe=function(e){return{type:j,src:e}},de=function(e){var t=e.path,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GEOSTORY";return{type:d,path:t,owner:r}},ye=function(e,t){return{type:Y,id:e,mediaType:t}},me=function(e){return{type:N,value:e}},ve=function(e){return{type:k,value:e}},Oe=function(e){return{type:Z,mediaEditorSettings:e}},be=function(e){return{type:y,status:e}},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:M,features:e}},he=function(e){return{type:L,status:e}},Ee=function(e){return{type:x,geoCarouselSettings:e}},Se=function(e,t){return{type:U,sectionId:e,showContentId:t}},we=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.hideContentId,n=t.layers,o=t.resourceId;return{type:F,layers:n,sectionId:e,hideContentId:r,resourceId:o}}},16788:(e,t,r)=>{"use strict";r.d(t,{Z:()=>S});var n=r(24852),o=r.n(n),i=r(45697),a=r.n(i),u=r(1206),c=r.n(u),l=r(96797),s=r.n(l),p=r(67076);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(u,e);var t,r,n,i,a=(n=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=g(n);if(i){var r=g(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return b(this,e)});function u(){return m(this,u),a.apply(this,arguments)}return t=u,(r=[{key:"componentDidMount",value:function(){s()(this._node)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.src!==this.props.src&&s()(this._node)}},{key:"render",value:function(){var e=this,t=this.props,r=t.id,n=t.src,i=t.fit,a=void 0===i?"cover":i,u=t.enableFullscreen,l=void 0===u||u,s=t.fullscreen,p=t.onClick,f=t.description,d=t.showCaption,m=t.caption,v=void 0===m?f:m,O=t.credits,b=t.loaderStyle,g=this.props.loaderComponent,h=this.props.errorComponent;return o().createElement("div",{id:r,className:"ms-media ms-media-image"},n&&"error"!==this.props.status&&o().createElement("img",{ref:function(t){e._node=t},src:n,onLoad:function(){return e.props.onChangeStatus("loaded")},onError:function(){return e.props.onChangeStatus("error")},onClick:l?function(){return p(!0)}:void 0,style:{objectFit:a,fontFamily:"object-fit: ".concat(a),cursor:l?"pointer":"default"}}),n&&!this.props.status&&g&&o().createElement(g,{style:y({},b)}),"error"===this.props.status&&h&&o().createElement(h,null),O&&o().createElement("div",{className:"ms-media-credits"},o().createElement("small",null,O)),d&&v&&o().createElement("div",{className:"ms-media-caption"},o().createElement("small",null,v)),l&&s?o().createElement(c(),{mainSrc:n,onCloseRequest:function(){return p(!1)}}):null)}}])&&v(t.prototype,r),u}(n.Component);h(E,"propTypes",{src:a().string,id:a().string,fit:a().string,description:a().string,showCaption:a().bool,credits:a().string,altText:a().string,enableFullscreen:a().bool,fullscreen:a().bool,onClick:a().func,onChangeStatus:a().func,status:a().string,loaderComponent:a().element,errorComponent:a().element,caption:a().string,loaderStyle:a().object});const S=(0,p.compose)((0,p.withState)("fullscreen","onClick",!1),(0,p.withState)("status","onChangeStatus",""))(E)},7875:(e,t,r)=>{"use strict";r.d(t,{Z:()=>de});var n=r(24852),o=r.n(n),i=r(67076),a=r(57588),u=r(71703),c=r(19180),l=r(91812),s=r(37981),p=r(69705),f=r(4206),d=["DrawSupport","tools"];function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var b=(0,u.connect)((function(e){return e.draw||{}}),{onChangeDrawingStatus:f.Yf,onEndDrawing:f.fo,onGeometryChanged:f.Vw,onDrawStopped:f.lo,setCurrentStyle:f.PY}),g=r(34990),h=r(57068),E=r(1979),S=r(23570),w=r.n(S),P=r(55745),T=r.n(P),j=r(65442),R=r.n(j),I=r(47359),C=r(13311),D=r.n(C),_=r(94184),A=r.n(_),G=r(66113);function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return N(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?N(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const k=(0,u.connect)((function(e){return{sections:(0,G.NR)(e)}}),{onClickMarker:g.Vx})((function(e){var t=e.responses,r=e.layerInfo,i=e.sections,a=e.onClickMarker,u=function(e,t){var r=D()(t,(function(t){var r=t.contents;return D()(r,{id:e})}));if(r){var n=D()(r.contents,{id:e})||{},o=n.id,i=n.thumbnail,a=(i=void 0===i?{}:i).title,u=void 0===a?"":a;return{sectionId:r.id,contentId:o,title:u}}return r}(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=(D()(e,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.queryParams,n=(r=void 0===r?{}:r).request,o=e.layerMetadata,i=(o=void 0===o?{}:o).title;return!n&&i.toLowerCase()===t}))||{}).response,n=(r=void 0===r?{}:r).features,o=Y(n=void 0===n?[]:n,1)[0];return void 0===o?{}:o}(t,r).contentRefId,i)||{},c=u.title,l=u.contentId,s=u.sectionId;return(0,n.useEffect)((function(){a('sections[{"id":"'.concat(s,'"}].contents[{"id":"').concat(l,'"}].carouselToggle'),!0)}),[s]),o().createElement("div",{className:A()("ms-geostory-carousel-viewer",{"ms-geostory-carousel-viewer-info":!!c,"ms-geostory-carousel-viewer-alert-info alert-info":!c})},c||"No title")}));var Z=r(92579),M=r(18446),L=r.n(M),x=r(24262),U=r(7412),F=r(49977),q=r(49243),W=["rawPos"],V=["PopupSupport","tools"];function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function H(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach((function(t){J(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function J(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var X=(0,i.mapPropsStream)((function(e){var t=(0,i.createEventHandler)(),r=t.stream,n=t.handler;return r.withLatestFrom(e.map((function(e){return{map:e.map,layers:e.layers,options:e.options}})).distinctUntilChanged((function(e,t){return L()(e,t)}))).switchMap((function(e){var t,r,n=(r=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(t,r)||function(e,t){if(e){if("string"==typeof e)return B(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?B(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],i=o.point,a=o.layerInfo,u=n[1],c=u.map,l=u.layers,s=void 0===l?[]:l,p=u.options,f=(p=void 0===p?{}:p).mapOptions,d=(f=void 0===f?{}:f).mapInfoFormat,y=void 0===d?(0,E.GA)():d,m=s.filter((function(e){return(0,x.T4)(e,c.resolution)&&(0,U.y_)(e)}));a===Z.e1&&(m=m.filter((function(e){return e.id===a})));var v=["SLD_BODY"],O=["buffer","cql_filter","filter","propertyName"];return 0===m.length?F.Observable.of({requests:[{}],responses:[{response:{features:[]}}],validResponses:[]}):F.Observable.from(m).mergeMap((function(e){var t=(0,U.Fm)(e,{format:y,map:c,point:i,currentLocale:"en-US"}),r=t.url,n=t.request,o=t.metadata,a=r,u=n,l=K(K({},(0,U.K7)(e,O,v)),u),s=w()();return(r?(0,q.y)(a,l,e).map((function(e){return e.data.exceptions?{reqId:s,exceptions:e.data.exceptions,queryParams:u,layerMetadata:o}:{data:e.data,reqId:s,queryParams:u,layerMetadata:K(K({},o),{},{features:e.features,featuresCrs:e.featuresCrs})}})):F.Observable.of(function(e,t,r){var n={type:"Feature",properties:{},geometry:{type:"Point",coordinates:[t.lng,t.lat]}},o=r&&r.units;switch(o){case"m":o="meters";break;case"deg":o="degrees";break;case"mi":o="miles";break;default:o="meters"}var i=r&&r.resolution||1,a=T()(n,(r.buffer||1)*i,o);return{data:{crs:null,features:(e.features||[]).filter((function(e){try{return"FeatureCollection"===e.type&&e.features&&e.features.length?e.features.reduce((function(e,t){var n=t.properties.useGeodesicLines&&t.properties.geometryGeodesic?K(K({},t),{},{geometry:t.properties.geometryGeodesic}):t;return e||R()(a,i&&r.buffer&&o?T()(n,1,"meters"):n)}),!1):R()(a,i&&r.buffer&&o?T()(e,1,"meters"):e)}catch(e){return!1}})),totalFeatures:"unknown",type:"FeatureCollection"},queryParams:t,layerMetadata:r}}(e,n,o))).catch((function(e){return{error:e.data||e.statusText||e.status,reqId:s,queryParams:u,layerMetadata:o}})).startWith({start:!0,reqId:s,request:l})})).scan((function(e,t){var r=e.requests,n=e.responses,o=e.validResponses;if(t.start){var i=t.reqId,u=t.request;return{requests:r.concat({reqId:i,request:u}),responses:n,validResponses:o}}var c=t.data,l=t.queryParams,s=t.layerMetadata,p=(0,U.Te)(y),f=n.concat({response:c,queryParams:l,layerMetadata:s});return{requests:r,validResponses:p.getValidResponses(f),responses:f,layerInfo:a}}),{requests:[],responses:[],validResponses:[],layerInfo:a})})).startWith({requests:[],responses:[]}).combineLatest(e,(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return K(K({},t),{},{mapInfo:e,getFeatureInfoHandler:n})}))}));const Q=(0,i.branch)((function(e){var t=e.map,r=(t=void 0===t?{}:t).mapInfoControl,n=void 0!==r&&r,o=t.mapDrawControl;return n||!(void 0!==o&&o)}),(0,i.compose)(X,(0,i.withStateHandlers)({popups:[]},{onClick:function(e,t){var r=t.getFeatureInfoHandler,n=void 0===r?function(){}:r,o=t.map,i=(o=void 0===o?{}:o).mapInfoControl;return function(e,t){var r=e.rawPos,o=void 0===r?[]:r,a=H(e,W);return t===Z.e1||i?(n({point:a,layerInfo:t}),{popups:[{position:{coordinates:o},id:w()()}]}):{popups:[]}}},onPopupClose:function(){return function(){return{popups:[]}}}}),(0,i.withPropsOnChange)(["mapInfo","popups"],(function(e){var t,r=e.mapInfo,n=e.popups,i=e.options,a=(i=void 0===i?{}:i).mapOptions,u=(a=void 0===a?{}:a).mapInfoFormat,c=void 0===u?(0,E.GA)():u,l=e.map,s=void 0===l?{}:l,p=r.responses,f=r.requests,d=r.validResponses,y=r.layerInfo;t=s.hasOwnProperty("mapDrawControl")&&y===Z.e1?o().createElement(k,{layerInfo:y,responses:d}):o().createElement(I.Z,{renderEmpty:!0,responses:p,requests:f,validResponses:d,format:c,showEmptyMessageGFI:!0,missingResponses:(f||[]).length-(p||[]).length});var m=function(){return t};return{popups:n.map((function(e){return K(K({},e),{},{component:m})}))}})),(0,i.withPropsOnChange)(["plugins","onPopupClose","popups"],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.plugins,r=e.popups,n=e.onPopupClose,i=t.PopupSupport,a=t.tools,u=void 0===a?{}:a,c=H(t,V);if(!i)return{};var l=function(e){return o().createElement(i,z({},e,{popups:r,onPopupClose:n}))};return{plugins:K(K({},c),{},{tools:K(K({},u),{},{popup:l})})}}))));var ee=r(61928),te=(0,u.connect)((function(e){return e.draw||{}}),{onChangeDrawingStatus:f.Yf,onEndDrawing:f.fo,onSelectFeatures:f.KD,onDrawingFeatures:g.uj,onGeometryChanged:f.Vw,onDrawStopped:f.lo,setCurrentStyle:f.PY});const re=(0,i.compose)(p.Z,(0,l.Z)(0),c.Z,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;return(0,i.withPropsOnChange)(["plugins"],(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.plugins,n=r.DrawSupport,o=r.tools,i=void 0===o?{}:o,a=O(r,d);if(!n)return{};var u=e(n);return{plugins:m(m({},a),{},{tools:m(m({},i),{},{draw:u})})}}))}(te),Q,E.yM,s.Z,h.e)(ee.Z);var ne=r(27693),oe=r(99534),ie=r(15135),ae=r(80628),ue=r(38560),ce=["layers","mapOptions","description"];function le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?le(Object(r),!0).forEach((function(t){pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var fe=(0,ie.Z)(ue.Z);const de=(0,i.compose)((0,i.withState)("active","setActive",!1),ae.Z)((function(e){var t=e.id,r=e.map,n=void 0===r?{layers:[ne.D]}:r,i=e.fit,u=e.editMap,c=void 0!==u&&u,l=e.onMapViewChanges,s=e.eventHandlers,p=e.expandable,f=void 0!==p&&p,d=e.active,y=e.setActive,m=e.width,v=e.height,O=e.size,b=e.showCaption,g=e.caption,h=e.mapType,E=void 0===h?"leaflet":h,S=e.onMapTypeLoaded,w=n.data?n.data:n,P=w.layers,T=void 0===P?[]:P,j=w.mapOptions,R=void 0===j?{}:j,I=w.description,C=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(w,ce),D=g||I,_=f?d?{zoomControl:!1,interactive:!0,mapOptions:{scrollWheelZoom:!0,interactions:{mouseWheelZoom:!0,dragPan:!0}}}:{zoomControl:!1,interactive:!1,mapOptions:{scrollWheelZoom:!1,interactions:{mouseWheelZoom:!1,dragPan:!1}}}:{mapOptions:R},A=c?{mapOptions:se(se({},R),{},{interactions:se(se({},R.interactions),{},{mouseWheelZoom:C.zoomControl})})}:_,G=C.mapInfoControl&&!(f&&!d),Y=C.mapDrawControl&&!(f&&!d),N=o().createElement(o().Fragment,null,o().createElement(re,{key:f?"overlay":"block",onMapViewChanges:l,eventHandlers:s,map:se(se({},C),{},{id:"media-".concat(t),resize:m+"-"+v+"_"+O,className:"aaaa",style:{cursor:G?"pointer":"default"}}),layers:T,tools:G?["popup"]:Y?["draw"]:[],options:(0,Z.kn)(A),mapType:E,onMapTypeLoaded:S}),f&&!c&&o().createElement(fe,{className:"ms-expand-media-button",onClick:function(){return y(!d)},tooltipId:d?"geostory.closeFullscreenMap":"geostory.showFullscreenMap",tooltipPosition:"left"},o().createElement(a.Glyphicon,{glyph:d?"1-close":"1-full-screen"})));return o().createElement("div",{className:"ms-media ms-media-map ".concat(R.zoomPosition||""),style:{objectFit:i}},d&&f?o().createElement(oe.Z,null,o().createElement("div",{className:"ms-expanded-media-container"},N)):N,b&&D&&o().createElement("div",{className:"ms-media-caption"},o().createElement("small",null,D)))}))},52826:(e,t,r)=>{"use strict";r.d(t,{Z:()=>O});var n=r(24852),o=r.n(n),i=r(70390),a=r(32425),u=r(80628),c=r(57588),l=r(92579),s=r(5346);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v=(0,u.Z)((function(e){var t=e.src,r=e.width,u=e.height,l=e.resolution,p=e.thumbnail,d=e.controls,m=e.play,v=e.onPlay,O=void 0===v?function(){}:v,b=e.onStart,g=void 0===b?function(){}:b,h=e.fit,E=e.loop,S=e.volume,w=void 0===S?1:S,P=e.muted,T=m,j=y((0,n.useState)(T),2),R=j[0],I=j[1],C=y((0,n.useState)(),2),D=C[0],_=C[1],A=y((0,n.useState)(m),2),G=A[0],Y=A[1],N="cover"===h,k=y((0,n.useState)(!1),2),Z=k[0],M=k[1];(0,n.useEffect)((function(){!R&&T&&(I(!0),Y(!0)),R&&g(R)}),[R,T]);var L,x=(L=r/u,N?L<l?[u*l,u]:[r,r/l]:"contain"===h?L<l?[r,r/l]:[u*l,u]:[r,r/l]),U="contain"===h||N?u:x[1],F=!N&&d,q=!!N||E;return o().createElement("div",{className:"ms-video",style:{position:"relative",width:r,height:U,display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"}},t&&o().createElement(o().Fragment,null,R&&o().createElement(i.ZP,{url:t,width:x[0],height:x[1],playing:T,loop:q,volume:w,muted:P,style:N?{left:"50%",top:"50%",transform:"translate(-50%, -50%)",position:"absolute"}:{},controls:F,pip:!1,fileConfig:{attributes:{controlsList:"nodownload",disablePictureInPicture:!0}},youtubeConfig:{playerVars:{controls:F?2:0,modestbranding:1,rel:0}},onReady:function(){return Y(!1)},onError:function(e){_(e),(""+e).includes("NotAllowedError")&&(O(!1),M(!0),Y(!1))},onPause:function(){O(!1)},onPlay:function(){O(!0),Z&&(_(!1),M(!1))}}),(!R||R&&(G||D))&&o().createElement("div",{className:"ms-video-cover",style:f(f({position:"absolute",width:x[0],height:x[1],display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 1.0)"},!(G||D)&&{cursor:"pointer"}),!T&&p&&{backgroundImage:"url(".concat(p,")"),backgroundSize:N?"cover":"640px auto",backgroundPosition:"center",backgroundRepeat:"no-repeat"}),onClick:function(){Z?(M(!1),_(!1)):Y(!0),I(!0),O(!0)}},G&&o().createElement(a.Z,{size:70}),D&&!Z&&o().createElement("div",{className:"text-center"},o().createElement(c.Glyphicon,{glyph:"alert",style:{fontSize:x[1]/4>100?100:x[1]/4,mixBlendMode:"difference",color:"#ffffff"}}),o().createElement("h3",null,o().createElement(s.Z,{msgId:"geostory.errors.loading.video"}))," "),(!(G||D)&&!T||D&&Z)&&o().createElement(c.Glyphicon,{glyph:"play",style:{fontSize:x[1]/4>100?100:x[1]/4,mixBlendMode:"difference",color:"#ffffff"}}))),!F&&!Z&&o().createElement("div",{className:"ms-video-mask-cover",style:{position:"absolute",width:x[0],height:x[1]}}))}));const O=function(e){var t=e.id,r=e.src,i=e.resolution,a=void 0===i?16/9:i,u=e.autoplay,c=e.inView,s=e.description,p=e.showCaption,f=e.caption,d=void 0===f?s:f,m=e.thumbnail,O=e.credits,b=e.controls,g=void 0===b||b,h=e.fit,E=e.loop,S=e.muted,w=e.onPlay,P=void 0===w?function(){}:w,T=e.mode,j=e.containerInView,R=(void 0===j||j)&&c,I=y((0,n.useState)(!1),2),C=I[0],D=I[1],_=function(e){D(e),P(e)};return(0,n.useEffect)((function(){T===l.nl.EDIT&&_(!1)}),[T]),(0,n.useEffect)((function(){T===l.nl.VIEW&&R&&(u||"cover"===h)&&_(!0)}),[R,u,h,T]),(0,n.useEffect)((function(){T===l.nl.VIEW&&!R&&C&&_(!1)}),[R,C,T]),o().createElement("div",{id:t,key:"".concat(t,"-").concat(h,"-").concat(T),className:"ms-media ms-media-video"},o().createElement(v,{src:r,play:C&&T===l.nl.VIEW,resolution:a,thumbnail:m,controls:g&&T===l.nl.VIEW,onPlay:_,fit:h,loop:E,muted:S}),O&&o().createElement("div",{className:"ms-media-credits"},o().createElement("small",null,O)),p&&d&&o().createElement("div",{className:"ms-media-caption"},o().createElement("small",null,d)))}},82017:(e,t,r)=>{"use strict";r.d(t,{Ln:()=>y,ZP:()=>v});var n=r(24852),o=r.n(n),i=r(45697),a=r.n(i),u=r(16788),c=r(7875),l=r(52826),s=["debounceTime","mediaViewer"];function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d=u.Z,y={image:u.Z,map:c.Z,video:l.Z},m=function(e){var t,r,i=e.debounceTime,a=e.mediaViewer,u=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,s),c="".concat(u.id).concat(u.resourceId?"-".concat(u.resourceId):""),l=(t=(0,n.useState)({}),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(t,r)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=l[0],v=l[1],O=void 0===m[c]||m[c],b=a||y[u.mediaType||u.type]||d;return o().createElement(b,p({sectionType:u.sectionType,debounceTime:i,loading:m,isLoading:O,onLoad:v,loadingId:c},u))};m.propTypes={id:a().string,lazy:a().bool,mediaType:a().string,type:a().string,debounceTime:a().number},m.defaultProps={id:"",lazy:!0,mediaType:"",type:""};const v=m},32425:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(45697),o=r.n(n),i=r(24852),a=r.n(i);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=function(e){return e>100?"full":e>40?"medium":"small"},p=function(e){var t=e.size,r=e.style,n=void 0===r?{}:r,o=e.className,i=e.hidden;return a().createElement("div",{className:o,style:c({width:t,height:t,overflow:"hidden"},n)},!i&&a().createElement("div",{className:"mapstore-".concat(s(t),"-size-loader")}))};p.propTypes={size:o().number,className:o().string,style:o().object};const f=p},50966:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(61365),o=r(57588);const i=(0,n.Z)(o.OverlayTrigger)},99534:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(61365),o=r(56936);const i=(0,n.Z)(o.h_)},61365:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(24852),o=r.n(n),i=r(63202);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}const u=function(e){return function(t){return o().createElement(e,a({},t,{container:document.querySelector("."+(i.ZP.getConfigProp("themePrefix")||"ms2")+" > div")||document.body}))}}},15135:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(24852),o=r.n(n),i=r(67076),a=r(57588),u=r(50966),c=r(5346),l=r(57557),s=r.n(l),p=["tooltip","tooltipId","tooltipPosition","tooltipTrigger","keyProp","idDropDown","args"];function f(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const d=(0,i.branch)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tooltip,r=e.tooltipId;return t||r}),(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.tooltip,n=t.tooltipId,i=t.tooltipPosition,l=void 0===i?"top":i,s=t.tooltipTrigger,d=t.keyProp,y=t.idDropDown,m=t.args,v=f(t,p);return o().createElement(u.Z,{trigger:s,id:y,key:d,placement:l,overlay:o().createElement(a.Tooltip,{id:"tooltip-"+d},n?o().createElement(c.Z,{msgId:n,msgParams:{data:m}}):r)},o().createElement(e,v))}}),(function(e){return function(t){return o().createElement(e,s()(t,["tooltipId","tooltip"]),t.children)}}))},74621:(e,t,r)=>{"use strict";r.d(t,{np:()=>n,L3:()=>o,jl:()=>i,y8:()=>a,qg:()=>u}),r(27418),r(27361);var n=function(e){return e&&e.security&&e.security.user},o=function(e){return n(e)&&n(e).role},i=function(e){return e&&e.security&&e.security.user},a=function(e){return e.security&&e.security.token},u=function(e){return"ADMIN"===o(e)}},27693:(e,t,r)=>{"use strict";r.d(t,{r:()=>n,D:()=>o});var n={GEOSTORY:"geostory",GEOSTORE:"geostore"},o={type:"osm",title:"Open Street Map",name:"mapnik",source:"osm",group:"background",visibility:!0,id:"mapnik__0",loading:!1,loadingError:!1}},92761:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>w});var n=r(24852),o=r.n(n),i=r(22843),a=r(82017),u=r(15402),c=r(32425),l=r(75875),s=r.n(l),p=["jpg","jpeg","png"],f=["mp4","mpg","avi","m4v","mp2","3gp","flv","vdo","afl","mpga","webm"];function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var v={image:a.ZP,video:a.ZP,pdf:function(e){var t=e.src,r=d((0,n.useState)(null),2),i=r[0],a=r[1],u=d((0,n.useState)(!1),2),l=u[0],p=u[1];return(0,n.useEffect)((function(){p(!0),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"application/pdf";return s().get(e,{responseType:"blob"}).then((function(e){var r=e.data,n=new Blob([r],{type:t});return URL.createObjectURL(n)}))}(t).then((function(e){p(!1),a(e)})).finally((function(){p(!1)}))}),[]),l?o().createElement("div",{className:"pdf-loader"},o().createElement(c.Z,{size:70})):o().createElement("iframe",{className:"gn-pdf-viewer",type:"application/pdf",frameBorder:"0",scrolling:"auto",height:"100%",width:"100%",src:i})},unsupported:a.ZP},O={video:{mode:"view",inView:!0,fit:"contain"},image:{fit:"contain",enableFullscreen:!0,loaderComponent:function(){return o().createElement("div",{className:"pdf-loader"},o().createElement(c.Z,{size:70}))}},pdf:{},unsupported:{showCaption:!0,caption:o().createElement("h3",{className:"unsupported-media-caption"},o().createElement(u.Z,{msgId:"viewer.document.unSupportedMedia"})),enableFullscreen:!1}};var b=r(71703),g=r(22222),h=r(72036),E=(0,b.connect)((0,g.P1)([function(e){var t;return(null==e||null===(t=e.gnresource)||void 0===t?void 0:t.data)||null},function(e){var t;return(null==e||null===(t=e.gnresource)||void 0===t?void 0:t.loading)||!1}],(function(e,t,r){return{resource:e,loading:t,editMode:r}})))((function(e){var t,r=e.resource;if(r){var n="pdf"===(t=r.extension)?"pdf":p.includes(t)?"image":f.includes(t)?"video":"unsupported",i=v[n];return o().createElement(o().Fragment,null,o().createElement(i,m({mediaType:n},O[n],{description:r.abstract,id:r.pk,thumbnail:r.thumbnail_url,src:"unsupported"===n?r.thumbnail_url:r.href})))}return null})),S=(0,b.connect)((0,g.P1)([],(function(){return{}})),{})((function(){return o().createElement("div",{className:"gn-media-viewer"},o().createElement(E,null))}));const w=(0,i.rx)("MediaViewer",{component:S,containers:{ViewerLayout:{name:"MediaViewer",priority:1}},epics:{},reducers:{gnresource:h.Z}})},90874:(e,t,r)=>{"use strict";var n=r(95318);t.__esModule=!0,t.default=void 0;var o,i=n(r(50139)),a="clearTimeout",u=function(e){var t=(new Date).getTime(),r=Math.max(0,16-(t-l)),n=setTimeout(e,r);return l=t,n},c=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};i.default&&["","webkit","moz","o","ms"].some((function(e){var t=c(e,"request");if(t in window)return a=c(e,"cancel"),u=function(e){return window[t](e)}}));var l=(new Date).getTime();(o=function(e){return u(e)}).cancel=function(e){window[a]&&"function"==typeof window[a]&&window[a](e)};var s=o;t.default=s,e.exports=t.default}}]);