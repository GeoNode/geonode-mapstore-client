(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[9587],{75875:(t,e,r)=>{function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var a=r(9669),u=r(7303),c=r(8575),l=r(37275).ZP,s=r(33044),f=s.isAuthenticationActivated,p=s.getAuthenticationRule,h=s.getToken,y=s.getBasicAuthHeader,v=r(27418),g=r(96486),d=g.isObject,b=g.omitBy,O=g.isNil,m=r(8575);function w(t,e,r){t.params=v({},t.params,i({},e,r)),t.url=t.url?l.getUrlWithoutParameters(t.url,[e]):t.url}function P(t,e,r){t.headers=v({},t.headers,i({},e,r))}var j=[];a.interceptors.request.use((function(t){var e=t.url||"",r=!(0===e.indexOf("http")),n=!r&&e.match(/([^:]*:)\/\/([^:]*:?[^@]*@)?([^:\/\?]*):?([^\/\?]*)/);if(function(t){if(!t||!t.url||!f())return t;var e=u(t.baseURL||"",t.url),r=p(e);switch(r&&r.method){case"browserWithCredentials":return t.withCredentials=!0,t;case"authkey":var n=h();return n?(w(t,r.authkeyParamName||"authkey",n),t):t;case"test":var o=r?r.token:"";return o?(w(t,r.authkeyParamName||"authkey",o),t):t;case"basic":var i=y();return i?(P(t,"Authorization",i),t):t;case"bearer":var a=h();a&&P(t,"Authorization","Bearer "+a)}}(t),n){var o=window.location;r=n[1]===o.protocol&&n[3]===o.hostname;var i=n[4],a=o.port,c=0===o.protocol.indexOf("https")?443:80;i=""===i?c+"":i+"",a=""===a?c+"":a+"",r=r&&i===a}if(!r){var s=l.getProxyUrl(t);if(s){var g=[],S=!1;d(s)&&(g=s.useCORS||[],S=s.autoDetectCORS||!1,s=s.url);var C=g.reduce((function(t,r){return t||0===e.indexOf(r)}),!1),x=j.reduce((function(t,r){return t||0===e.indexOf(r)}),!1);if(C||S&&!x)S&&(t.autoDetectCORS=!0);else{var A=m.parse(e,!0,!0),k=b(t.params,O);t.url=s+encodeURIComponent(m.format(v({},A,{search:null,query:v({},A.query,k)}))),t.params=void 0}}}return t})),a.interceptors.response.use((function(t){return t}),(function(t){if(t.config&&t.config.autoDetectCORS){var e=c.parse(t.config.url),r=e.protocol+"//"+e.host+e.pathname;if(-1===j.indexOf(r))return j.push(r),new Promise((function(e,r){a(o(o({},t.config),{},{autoDetectCORS:!1})).then(e).catch(r)}))}return Promise.reject(t.response?o(o({},t.response),{},{originalError:t}):t)})),t.exports=a},23502:(t,e,r)=>{"use strict";r.r(e),r.d(e,{needProxy:()=>i,getProxyUrl:()=>a});var n=r(37275),o=r(96486),i=function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,o.isArray)(e))return e.reduce((function(e,r){return t(r)&&e}),!0);var i=!1,a=!(0===e.indexOf("http")),u=!a&&e.match(/([^:]*:)\/\/([^:]*:?[^@]*@)?([^:\/\?]*):?([^\/\?]*)/);if(u){var c=window.location;a=u[1]===c.protocol&&u[3]===c.hostname;var l=u[4],s=c.port;(80!==l&&""!==l||"80"!==s&&""!==s)&&(a=a&&l===s)}if(!a){var f=n.ZP.getProxyUrl(r);if(f){var p=[];(0,o.isObject)(f)&&(p=f.useCORS||[],f=f.url);var h=p.reduce((function(t,r){return t||0===e.indexOf(r)}),!1);h||(i=!0)}}return i},a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.ZP.getProxyUrl(t);return e&&(0,o.isObject)(e)&&(e=e.url),e}},45992:(t,e,r)=>{"use strict";r.d(e,{h:()=>l,Z:()=>s});var n=r(96486),o=r(36882),i=r(37275);function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){c(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function c(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var l=function(t,e){var r,a,c,l,s=o.Z;if("custom"===t)r=e;else if(c=(l=t.split("."))[0],a=l[1],!(r=s[c]))throw new Error("No such provider ("+c+")");var f={url:r.url,options:r.options||{}};if(a&&"variants"in r){if(!(a in r.variants))throw new Error("No such variant of "+(c||r.url)+" ("+a+")");var p,h=r.variants[a];p="string"==typeof h?{variant:h}:h.options,f={url:h.url||f.url,options:u(u({},f.options||{}),p)}}else"function"==typeof f.url&&(f.url=f.url(l.splice(1,l.length-1).join(".")));var y="file:"===window.location.protocol||f.options.forceHTTP;0===f.url.indexOf("//")&&y&&(f.url="http:"+f.url),f.options.retina&&(e.detectRetina&&i.ZP.getBrowserProperties().retina?e.detectRetina=!1:f.options.retina=""),f.options.attribution&&(f.options.attribution=function t(e){return-1===e.indexOf("{attribution.")?e:e.replace(/\{attribution.(\w*)\}/,(function(e,r){return t(s[r].options.attribution)}))}(f.options.attribution));var v=u(u({},f.options),(0,n.pickBy)(e,(function(t){return void 0!==t})));return[f.url,v]};const s={getLayerConfig:l}},66287:(t,e,r)=>{"use strict";r.r(e),r.d(e,{isAttrPresent:()=>g,isStrokeStyle:()=>d,isFillStyle:()=>b,isTextStyle:()=>O,isCircleStyle:()=>m,isMarkerStyle:()=>w,isSymbolStyle:()=>P,getStylerTitle:()=>j,geometryFunctions:()=>S,getGeometryFunction:()=>C,registerGeometryFunctions:()=>x,addOpacityToColor:()=>A,hashCode:()=>k,registerStyle:()=>D,setSymbolsStyles:()=>R,fetchStyle:()=>E,getSymbolsStyles:()=>F,hashAndStringify:()=>T,domNodeToString:()=>z,createSvgUrl:()=>N,createStylesAsync:()=>L,getStyleParser:()=>B});var n=r(96486),o=r(61868),i=r(43143),a=r(9669),u=r.n(a),c=r(42757),l=r.n(c),s=r(50436),f=r.n(s);function p(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?p(Object(r),!0).forEach((function(e){y(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function y(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var v={sld:new(l()),css:new(f())},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return e.filter((function(e){return!(0,n.isNil)(t[e])})).length>0},d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["color","opacity","dashArray","dashOffset","lineCap","lineJoin","weight"];return g(t,e)},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["fillColor","fillOpacity"];return g(t,e)},O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["label","font","fontFamily","fontSize","fontStyle","fontWeight","textAlign","textRotationDeg"];return g(t,e)},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["radius"];return g(t,e)},w=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["iconGlyph","iconShape","iconUrl"];return g(t,e)},P=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["symbolUrl"];return g(t,e)},j=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return w(t)?"Marker":P(t)?"Symbol":O(t)?"Text":m(t)||"Circle Style"===t.title?"Circle":b(t)?"Polygon":d(t)?"Polyline":""},S={centerPoint:{type:"Point",func:function(){}},lineToArc:{type:"LineString",func:function(){}},startPoint:{type:"Point",func:function(){}},endPoint:{type:"Point",func:function(){}}},C=function(t,e){return S[t]&&S[t][e]},x=function(t,e,r){if(!(t&&e&&r))throw new Error("specify all the params: functionName, func, type");S[t]={func:e,type:r}},A=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#FFCC33",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2;return(0,o.t8)("a",e,t)},k=function(t){var e,r=0;if(0===t.length)return r;for(e=0;e<t.length;e++)r=(r<<5)-r+t.charCodeAt(e),r|=0;return r},U={},D=function(t,e){if(!t||!e)throw new Error("specify all the params: sha, style");U[t]=e},R=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};U=t},E=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"style";return U[t]&&U[t][e]},F=function(){return U},T=function(t){if(t)return k(JSON.stringify(t));throw new Error("hashAndStringify: specify mandatory params: style")},z=function(t){var e=document.createElement("div");return e.appendChild(t),e.innerHTML},N=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return P(t)&&t.symbolUrl?u().get(e,{"Content-Type":"image/svg+xml;charset=utf-8"}).then((function(e){var r=window.URL||window.webkitURL||window,o=(new DOMParser).parseFromString(e.data,"image/svg+xml").firstElementChild;o.setAttribute("fill",t.fillColor||"#FFCC33"),o.setAttribute("fill-opacity",(0,n.isNil)(t.fillOpacity)?.2:t.fillOpacity),o.setAttribute("stroke",(0,i.qq)(t.color||"#FFCC33",(0,n.isNil)(t.opacity)?1:t.opacity)),o.setAttribute("stroke-opacity",(0,n.isNil)(t.opacity)?1:t.opacity),o.setAttribute("stroke-width",t.weight||1),o.setAttribute("width",t.size||32),o.setAttribute("height",t.size||32),o.setAttribute("stroke-dasharray",t.dashArray||"none");var a=new Blob([z(o)],{type:"image/svg+xml;charset=utf-8"}),u=r.createObjectURL(a),c=document.createElement("canvas");c.width=t.size,c.height=t.size;var l=c.getContext("2d"),s=new Image;s.src=u;var f="",p=T(t);return s.onload=function(){try{l.drawImage(s,c.width/2-s.width/2,c.height/2-s.height/2),f=c.toDataURL("image/png"),c=null,D(p,{style:h(h({},t),{},{symbolUrlCustomized:u}),base64:f})}catch(t){return}},D(p,{style:h(h({},t),{},{symbolUrlCustomized:u}),svg:o,base64:f}),u})).catch((function(){return r(70898)})):new Promise((function(t){t(null)}))},L=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.map((function(t){return P(t)&&!E(T(t))?N(t,t.symbolUrl||t.symbolUrlCustomized).then((function(e){return e?h(h({},t),{},{symbolUrlCustomized:e}):E(T(t))})).catch((function(){return h(h({},t),{},{symbolUrlCustomized:r(70898)})})):new Promise((function(e){e(P(t)?E(T(t)):t)}))}))},B=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sld";return v[t]}},33358:(t,e,r)=>{"use strict";r.r(e),r.d(e,{VECTOR_FORMATS:()=>n,isVectorFormat:()=>o});var n=["application/vnd.mapbox-vector-tile","application/json;type=geojson","application/json;type=topojson"],o=function(t){return-1!==n.indexOf(t)}},1196:t=>{t.exports=function(t,e,r){for(var n=-1,o=null==t?0:t.length;++n<o;)if(r(e,t[n]))return!0;return!1}},5976:(t,e,r)=>{var n=r(6557),o=r(45357),i=r(30061);t.exports=function(t,e){return i(o(t,e,n),t+"")}},45652:(t,e,r)=>{var n=r(88668),o=r(47443),i=r(1196),a=r(74757),u=r(23593),c=r(21814);t.exports=function(t,e,r){var l=-1,s=o,f=t.length,p=!0,h=[],y=h;if(r)p=!1,s=i;else if(f>=200){var v=e?null:u(t);if(v)return c(v);p=!1,s=a,y=new n}else y=e?[]:h;t:for(;++l<f;){var g=t[l],d=e?e(g):g;if(g=r||0!==g?g:0,p&&d==d){for(var b=y.length;b--;)if(y[b]===d)continue t;e&&y.push(d),h.push(g)}else s(y,d,r)||(y!==h&&y.push(d),h.push(g))}return h}},23593:(t,e,r)=>{var n=r(58525),o=r(50308),i=r(21814),a=n&&1/i(new n([,-0]))[1]==1/0?function(t){return new n(t)}:o;t.exports=a},29246:(t,e,r)=>{var n=r(98612),o=r(37005);t.exports=function(t){return o(t)&&n(t)}},93386:(t,e,r)=>{var n=r(21078),o=r(5976),i=r(45652),a=r(29246),u=o((function(t){return i(n(t,1,a,!0))}));t.exports=u}}]);