(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[4250],{11766:(e,t,n)=>{"use strict";n.d(t,{H:()=>E,Z:()=>O});var o=n(67294),r=n.n(o),i=n(12961),l=n(33716),c=n.n(l),a=n(17621),s=n.n(a),u=n(30294),m=n(38560),f=n(25288),d=n(45869),p=n(5346),b=n(15402);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=(0,n(15135).Z)(m.Z);function C(e){var t=e.themeStyle,n=e.disableBackgroundPicker,l=void 0!==n&&n,c=e.disableBackgroundAlpha,a=e.disableTextColor,m=e.disableShadow,g=e.onChange,h=void 0===g?function(){}:g,C=e.onOpen,E=void 0===C?function(){}:C,O=e.placement,k=(0,o.useRef)(),w=null==t?void 0:t.backgroundColor,S=null==t?void 0:t.color,x=!a&&w&&S&&!s().isReadable(S,w)?s().mostReadable(w,[S,"#000000","#ffffff"],{includeFallbackColors:!0}).toHexString():null;return r().createElement(r().Fragment,null,!l&&r().createElement("div",{className:"ms-custom-theme-picker-field"},r().createElement("div",null,r().createElement(p.Z,{msgId:"geostory.customizeTheme.backgroundColorLabel"})),r().createElement("div",null,r().createElement(i.Z,{placement:O,key:w,onOpen:E,color:w,format:c?"hex":"rgb",disableAlpha:c,presetColors:[],onChangeColor:function(e){var n=s()(e).isLight()?s()(e).darken(10).toHexString():s()(e).lighten(15).toHexString(),o=!a&&!(null!=t&&t.color)&&{color:s().mostReadable(e,["#000000","#ffffff"],{includeFallbackColors:!0}).toHexString()};h(v(v({},t),{},{backgroundColor:e,borderColor:n},!a&&o))}}))),!a&&r().createElement("div",{className:"ms-custom-theme-picker-field"},r().createElement("div",null,r().createElement("div",null,r().createElement(p.Z,{msgId:"geostory.customizeTheme.textColorLabel"})),r().createElement(f.Z,{className:"ms-custom-theme-picker-popover",ref:function(e){e&&(k.current=e.trigger)},placement:"top",content:r().createElement(r().Fragment,null,r().createElement(b.Z,{msgId:"geostory.customizeTheme.alternativeTextColorPopover",msgParams:{color:x}}),r().createElement(y,{bsSize:"xs",bsStyle:"primary",style:{margin:"auto",display:"block"},onClick:function(){var e,n;h(v(v({},t),{},{color:x})),null===(e=k.current)||void 0===e||null===(n=e.hide)||void 0===n||n.call(e)}},r().createElement(p.Z,{msgId:"geostory.customizeTheme.useAlternativeTextColor"})))},x&&r().createElement(y,{className:"square-button-md no-border",style:{display:x?"block":"none"}},r().createElement(u.Glyphicon,{glyph:"exclamation-mark"}))||r().createElement("div",null))),r().createElement("div",null,r().createElement(i.Z,{placement:O,key:S,color:S,onOpen:E,format:"hex",disableAlpha:!0,presetColors:[],onChangeColor:function(e){h(v(v({},t),{},{color:e}))}}))),!m&&r().createElement("div",{className:"ms-custom-theme-picker-field"},r().createElement("div",null,r().createElement(p.Z,{msgId:"geostory.customizeTheme.shadowLabel"})),r().createElement("div",null,r().createElement(d.Z,{checked:null==t?void 0:t.boxShadow,onChange:function(){var e=t||{},n=e.boxShadow,o=(e.MozBoxShadow,e.WebkitBoxShadow,function(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["boxShadow","MozBoxShadow","WebkitBoxShadow"]));h(n?v({},o):v(v({},o),{},{boxShadow:"0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22)"}))}}))))}function E(e){var t=e.selected,n=e.value,o=e.storyTheme,i=e.onUpdate,l=e.onActive,a=e.disableBackgroundAlpha,s=e.disableTextColor,m=e.disableShadow,f=function(e,o){var r=c()(t)&&t;return i("theme",v(v({},r),{},o?h({value:e},n,v({},o)):{value:e}))},d=o||{},b=d.color,g=d.backgroundColor,E=g&&{backgroundColor:g},O=v(v({},!s&&b&&{color:b}),E),k=(null==t?void 0:t.value)===n,w=(null==t?void 0:t[n])||O;return r().createElement(r().Fragment,null,k?r().createElement("div",{className:"ms-custom-theme-picker-menuitem-header"},r().createElement("div",null,r().createElement(p.Z,{msgId:"geostory.contentToolbar.customizeThemeLabel"})),r().createElement(y,{tooltipId:"geostory.contentToolbar.customizeThemeRemoveLabel",className:"square-button-md no-border",onClick:function(e){e.stopPropagation(),f("")}},r().createElement(u.Glyphicon,{glyph:"trash"}))):r().createElement(r().Fragment,null,r().createElement(u.MenuItem,{active:k,onClick:function(){return f(n,w)}},r().createElement(p.Z,{msgId:"geostory.contentToolbar.customizeThemeLabel"}))),k&&r().createElement("div",{className:"ms-custom-theme-picker-menuitem"},r().createElement(C,{disableBackgroundAlpha:a,disableTextColor:s,disableShadow:m,themeStyle:w,onChange:function(e){return f(n,e)},onOpen:l})))}const O=C},25288:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var o=n(67294),r=n.n(o),i=n(45697),l=n.n(i),c=n(30294);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(a,e);var t,n,o,i,l=(o=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(o);if(i){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function a(){return s(this,a),l.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this;return r().createElement("div",{ref:function(t){e.parentNode=t&&t.parentNode},className:this.props.className,style:this.props.style},r().createElement(c.OverlayTrigger,{ref:function(t){e.trigger=t},trigger:["click"],container:this.parentNode,placement:this.props.placement,rootClose:!0,overlay:r().createElement(c.Popover,{id:this.props.id,title:this.props.title,className:this.props.popoverClassName},this.props.content)},this.props.children))}}])&&u(t.prototype,n),a}(r().Component);p(b,"propTypes",{id:l().string,style:l().object,className:l().string,popoverClassName:l().string,placement:l().string,title:l().node,content:l().node}),p(b,"defaultProps",{id:""});const g=b},12122:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var o=n(67294),r=n.n(o),i=n(1262),l=n(99534),c=n(5346),a=n(18093);var s=(0,a.compose)((0,a.withProps)((function(e){var t=e.setConfirming;return{onClose:function(){return t(!1)}}})))((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.confirmYes,n=void 0===t?r().createElement(c.Z,{msgId:"yes"}):t,o=e.confirmNo,a=void 0===o?r().createElement(c.Z,{msgId:"no"}):o,s=e.confirmTitle,u=void 0===s?r().createElement(c.Z,{msgId:"confirm"}):s,m=e.confirmContent,f=e.confirmButtonBSStyle,d=void 0===f?"primary":f,p=e.show,b=void 0!==p&&p,g=e.confirmModal,v=void 0===g||g,h=e.draggable,y=void 0!==h&&h,C=e.onClose,E=void 0===C?function(){}:C,O=e.onConfirm,k=void 0===O?function(){}:O;return b?r().createElement(l.Z,null,r().createElement("div",{className:"with-confirm-modal"},r().createElement(i.Z,{draggable:y,show:b,modal:v,onClose:E,onConfirm:k,title:u,confirmButtonContent:n,closeText:a,confirmButtonBSStyle:d,closeGlyph:"1-close"},m))):null})),u=function(e){return function(t){var n=t.confirming,o=t.confirmYes,i=t.confirmNo,l=t.confirmTitle,c=t.confirmContent,a=t.confirmModal,u=t.draggable,m=t.onConfirm,f=t.setConfirming,d=function(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,["confirming","confirmYes","confirmNo","confirmTitle","confirmContent","confirmModal","draggable","onConfirm","setConfirming"]);return r().createElement(r().Fragment,null,r().createElement(s,{show:n,setConfirming:f,confirmYes:o,confirmNo:i,confirmTitle:l,confirmContent:c,confirmModal:a,draggable:u,onConfirm:m}),r().createElement(e,d))}};const m=function(e){return(0,a.compose)((0,a.withState)("confirming","setConfirming",!1),(0,a.withHandlers)({onClick:function(e){var t=e.setConfirming,n=void 0===t?function(){}:t,o=e.onClick,r=void 0===o?function(){}:o,i=e.confirmPredicate,l=void 0===i||i;return function(){l?n(!0):r.apply(void 0,arguments)}},onConfirm:function(e){var t=e.onClick,n=void 0===t?function(){}:t,o=e.setConfirming,r=void 0===o?function(){}:o;return function(){r(!1),n.apply(void 0,arguments)}}}),u)(e)}},31398:(e,t,n)=>{"use strict";n.d(t,{d:()=>r});var o=n(97395),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.title,n=void 0===t?"notification.warning":t,r=e.autoDismiss,i=void 0===r?6:r,l=e.position,c=void 0===l?"tc":l,a=e.message,s=void 0===a?"Error":a;return(0,o.vU)({title:n,autoDismiss:i,position:c,message:s})}}}]);