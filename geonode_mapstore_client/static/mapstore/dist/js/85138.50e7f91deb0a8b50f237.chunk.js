(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[85138],{501157:(e,t,r)=>{"use strict";r.d(t,{ID:()=>T,en:()=>E,Xv:()=>D,FU:()=>k,gs:()=>N,tt:()=>_,jY:()=>I,T6:()=>R,ZP:()=>B});var n=r(472500),o=r.n(n),i=r(701469),l=r.n(i),c=r(984596),a=r.n(c),u=r(227361),p=r.n(u),s=r(505055),f=r.n(s),d=r(375875),y=r.n(d),b=r(737275),m=r(916651),g=r(577215);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function h(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){var n,o,i,l;n=e,o=t,i=r[t],l=function(e,t){if("object"!=v(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==v(l)?l:l+"")in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var S={},P="1.3.0",T="1.1.1",E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{service:"WMS",version:P,request:"GetCapabilities"},r=arguments.length>2?arguments[2]:void 0,n=(l()(e)&&e||e.split(","))[0],i=o().parse(n,!0);return o().format(j(j({},i),{},{search:null,query:j(j(j({},t),i.query),(null==r?void 0:r.query)||{})}))},C=function(e){var t=e&&e.Title,r=e.LogoURL&&j(j({},p()(e,"LogoURL.$")||{}),{},{format:p()(e,"LogoURL.Format")}),n=p()(e,'OnlineResource.$["xlink:href"]');return{title:t,logo:r,imageUrl:p()(e,'LogoURL.OnlineResource.$["xlink:href"]'),link:n}},D=function e(t){var r,n,o=null!==(r=null==t?void 0:t.Layer)&&void 0!==r?r:null==t?void 0:t.layer,i=null!==(n=null==t?void 0:t.Name)&&void 0!==n?n:null==t?void 0:t.name;return o?a()(o).reduce((function(t,r){var n,o,i=null!==(n=r.Layer)&&void 0!==n?n:r.layer,l=null!==(o=r.Name)&&void 0!==o?o:r.name;return[].concat(h(t),h(e(r)),h(i&&l?[r]:[]))}),[]):i&&[t]||[]},x=function(){var e,t,r,n,o,i,c,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},p=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0,f=arguments.length>3?arguments[3]:void 0,d=u.Capability,y=u.Service,b=(c=d).Request&&c.Request.GetMap&&c.Request.GetMap.DCPType&&c.Request.GetMap.DCPType.HTTP&&c.Request.GetMap.DCPType.HTTP.Get&&c.Request.GetMap.DCPType.HTTP.Get.OnlineResource&&c.Request.GetMap.DCPType.HTTP.Get.OnlineResource.$||void 0,m=d.Layer&&(null===(e=d.Layer.SRS||d.Layer.CRS)||void 0===e?void 0:e.map((function(e){return e.toUpperCase()})))||[],g=d.Layer&&d.Layer.Attribution&&C(d.Layer.Attribution),v=a()((null==d||null===(t=d.Request)||void 0===t||null===(r=t.GetMap)||void 0===r?void 0:r.Format)||[]),h=a()((null==d||null===(n=d.Request)||void 0===n||null===(o=n.GetFeatureInfo)||void 0===o?void 0:o.Format)||[]),O=D(d),w=(l()(O)?O:[O]).filter((function(e){return!f||-1!==e.Name.toLowerCase().indexOf(f.toLowerCase())||e.Title&&-1!==e.Title.toLowerCase().indexOf(f.toLowerCase())||e.Abstract&&-1!==e.Abstract.toLowerCase().indexOf(f.toLowerCase())}));return{numberOfRecordsMatched:w.length,numberOfRecordsReturned:Math.min(s,w.length),nextRecord:p+Math.min(s,w.length)+1,service:y,layerOptions:{version:(null==u||null===(i=u.$)||void 0===i?void 0:i.version)||P},records:w.filter((function(e,t){return t>=p-1&&t<p-1+s})).map((function(e){return j(j({},e),{},{getMapFormats:v,getFeatureInfoFormats:h,onlineResource:b,SRS:m,credits:e.Attribution?C(e.Attribution):g})}))}},k=function(e){return y().get(E(e,{service:"WMS",version:P,request:"GetCapabilities"})).then((function(e){var t;return f().parseString(e.data,{explicitArray:!1},(function(e,r){t=r})),t.WMS_Capabilities||t.WMT_MS_Capabilities||{}}))},L=function(e,t,r,n){var o=S[e];return o&&(new Date).getTime()<o.timestamp+1e3*((0,b.u8)("cacheExpire")||60)?new Promise((function(e){e(x(o.data,t,r,n))})):k(e).then((function(o){return S[e]={timestamp:(new Date).getTime(),data:o},x(o,t,r,n)}))},N=function(e,t){return y().get(E(e,{service:"WMS",version:T,layers:t,request:"DescribeLayer"})).then((function(e){var t;return f().parseString(e.data,{explicitArray:!1},(function(e,r){t=r&&r.WMS_DescribeLayerResponse&&r.WMS_DescribeLayerResponse.LayerDescription})),(t=Array.isArray(t)?t:[t]).map((function(e){return j(j({},e&&e.$||{}),{},{layerName:e&&e.$&&e.$.name,query:j({},e&&e.query&&e.query.$||{})})}))}))},_=function(e,t,r,n){return L(e,t,r,n)},I=function(e,t){for(var r=e,n=r.EX_GeographicBoundingBox||r.exGeographicBoundingBox||(0,m.getWMSBoundingBox)(r.BoundingBox)||r.LatLonBoundingBox&&r.LatLonBoundingBox.$||r.latLonBoundingBox;!n&&r.Layer&&r.Layer.length;)n=(r=r.Layer[0]).EX_GeographicBoundingBox||r.exGeographicBoundingBox||(0,m.getWMSBoundingBox)(r.BoundingBox)||r.LatLonBoundingBox&&r.LatLonBoundingBox.$||r.latLonBoundingBox;n||(n={westBoundLongitude:-180,southBoundLatitude:-90,eastBoundLongitude:180,northBoundLatitude:90});var o={extent:[n.westBoundLongitude||n.minx,n.southBoundLatitude||n.miny,n.eastBoundLongitude||n.maxx,n.northBoundLatitude||n.maxy],crs:"EPSG:4326"};return t?{crs:o.crs,bounds:{minx:o.extent[0],miny:o.extent[1],maxx:o.extent[2],maxy:o.extent[3]}}:o},R=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return k(e).then((function(e){var r,n,o,i,l=e.Capability,c=a()((null==l||null===(r=l.Request)||void 0===r||null===(n=r.GetMap)||void 0===n?void 0:n.Format)||[]).filter(g.F0);return t?{imageFormats:c,infoFormats:a()((null==l||null===(o=l.Request)||void 0===o||null===(i=o.GetFeatureInfo)||void 0===i?void 0:i.Format)||[]).filter(g.cP)}:c})).catch((function(){return t?{imageFormats:[],infoFormats:[]}:[]}))};const B={flatLayers:D,parseUrl:E,getDimensions:function(e){return a()(e.Dimension||e.dimension||[]).map((function(t,r){var n=e.Extent&&a()(e.Extent)[r]||e.extent&&a()(e.extent)[r];return{name:t.$.name,units:t.$.units,unitSymbol:t.$.unitSymbol,default:t.$.default||n&&n.$.default,values:t._&&t._.split(",")||n&&n._&&n._.split(",")}}))},getCapabilities:k,describeLayer:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return y().get(E(e,{service:"WMS",version:T,layers:t,request:"DescribeLayer"},r)).then((function(e){var t,r,n;f().parseString(e.data,{explicitArray:!1},(function(e,t){n=t}));var o=(null===(t=n)||void 0===t||null===(r=t.WMS_DescribeLayerResponse)||void 0===r?void 0:r.LayerDescription)&&a()(n.WMS_DescribeLayerResponse.LayerDescription)[0];return o&&j(j({},null==o?void 0:o.$),(null==o?void 0:o.Query)&&{query:a()(o.Query).map((function(e){return j({},null==e?void 0:e.$)}))})}))},getRecords:L,describeLayers:N,textSearch:_,parseLayerCapabilities:function(e,t){var r=e.Capability;return D(r).find((function(e){var r=e.Name;return 2===t.name.split(":").length&&r&&2===r.split(":").length?t.name===r&&e:r&&2===r.split(":").length?t.name===r.split(":")[1]&&e:2===t.name.split(":").length?t.name.split(":")[1]===r&&e:t.name===r&&e}))},getBBox:I,reset:function(){Object.keys(S).forEach((function(e){delete S[e]}))},getSupportedFormat:R}},581859:(e,t,r)=>{"use strict";r.d(t,{Z:()=>ie});var n=r(124852),o=r.n(n),i=r(188539),l=r(675263),c=r.n(l),a=r(717378),u=r(480681),p=r(805346),s=r(950966);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function y(e,t,r){return t=m(t),function(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,b()?Reflect.construct(t,r||[],m(e).constructor):t.apply(e,r))}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(b=function(){return!!e})()}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function v(e,t,r){return(t=h(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==f(t)?t:t+""}var O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),y(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=void 0===this.props.node.expanded||this.props.node.expanded;return o().createElement(s.Z,{placement:"bottom",overlay:o().createElement(u.Tooltip,{id:"toc-status-icon"},o().createElement(p.Z,{msgId:e?"toc.statusIconOpen":"toc.statusIconClose"}))},o().createElement(u.Glyphicon,{onClick:this.props.onClick,className:"toc-status-icon",glyph:e?"folder-open":"folder-close"}))}}])&&d(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(o().Component);v(O,"propTypes",{node:c().object,onClick:c().func}),v(O,"inheritedPropTypes",["node","expanded"]),v(O,"defaultProps",{node:null,onClick:function(){}});const w=O;var j=r(359112);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,k(n.key),n)}}function T(e,t,r){return t=C(t),function(e,t){if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,E()?Reflect.construct(t,r||[],C(e).constructor):t.apply(e,r))}function E(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(E=function(){return!!e})()}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}function D(e,t){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},D(e,t)}function x(e,t,r){return(t=k(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(e){var t=function(e,t){if("object"!=S(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==S(t)?t:t+""}var L=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),T(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this,t=void 0===this.props.node.expanded||this.props.node.expanded,r=(0,j.BC)(this.props),n=r.title,i=r.tooltipText;return this.props.tooltip&&i?o().createElement(s.Z,{placement:this.props.node.tooltipPlacement||"top",overlay:o().createElement(u.Tooltip,{id:"tooltip-layer-group"},i)},o().createElement("div",{style:this.props.style},o().createElement("span",{className:"toc-group-title",onClick:this.props.onSelect?function(t){return e.props.onSelect(e.props.node.id,"group",t.ctrlKey)}:function(){}},n),o().createElement(w,{onClick:function(){return e.props.onClick(e.props.node.id,t)},expanded:t,node:this.props.node}))):o().createElement("div",{style:this.props.style},o().createElement("span",{className:"toc-group-title",onClick:this.props.onSelect?function(t){return e.props.onSelect(e.props.node.id,"group",t.ctrlKey)}:function(){}},n),o().createElement(w,{onClick:function(){return e.props.onClick(e.props.node.id,t)},expanded:t,node:this.props.node}))}}])&&P(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(o().Component);x(L,"propTypes",{node:c().object,onClick:c().func,onSelect:c().func,style:c().object,currentLocale:c().string,tooltip:c().bool,tooltipOptions:c().object}),x(L,"inheritedPropTypes",["node"]),x(L,"defaultProps",{onClick:function(){},onSelect:null,currentLocale:"en-US",style:{},tooltip:!1,tooltipOptions:{maxLength:807,separator:" - "}});const N=L;var _=r(893379),I=r.n(_),R=r(324064);function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function Z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,H(n.key),n)}}function M(e,t,r){return t=A(t),function(e,t){if(t&&("object"===B(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,G()?Reflect.construct(t,r||[],A(e).constructor):t.apply(e,r))}function G(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(G=function(){return!!e})()}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}function F(e,t){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},F(e,t)}function q(e,t,r){return(t=H(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H(e){var t=function(e,t){if("object"!=B(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=B(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==B(t)?t:t+""}I()(R.Z,{insert:"head",singleton:!1}),R.Z.locals;var V=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),M(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this,t=[];if(this.props.children){var r=(this.props.node.nodes||[]).filter((function(t){return e.props.filter(t,e.props.node)})),n=0;t=r.map((function(t){return o().cloneElement(e.props.children,{node:t,parentNodeId:e.props.node?e.props.node.id:"",key:t.id,sortIndex:t.hide||t.dummy?n:n++,onSort:e.props.onSort,onError:e.props.onError,level:e.props.level,isDraggable:!!e.props.onSort,setDndState:e.props.setDndState})}))}return this.props.onSort,o().createElement("div",{className:"toc-group-children"},t)}}])&&Z(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(o().Component);q(V,"propTypes",{node:c().object,filter:c().func,onSort:c().func,onError:c().func,setDndState:c().func,level:c().number}),q(V,"inheritedPropTypes",["node","filter","onSort"]),q(V,"defaultProps",{node:null,filter:function(){return!0},onSort:null,level:1});const $=V;var U=r(314181),W=r(735913),X=["children","onToggle","connectDragPreview","connectDragSource","connectDropTarget"];function K(e){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K(e)}function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q.apply(this,arguments)}function z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ne(n.key),n)}}function Y(e,t,r){return t=ee(t),function(e,t){if(t&&("object"===K(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,J()?Reflect.construct(t,r||[],ee(e).constructor):t.apply(e,r))}function J(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(J=function(){return!!e})()}function ee(e){return ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ee(e)}function te(e,t){return te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},te(e,t)}function re(e,t,r){return(t=ne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ne(e){var t=function(e,t){if("object"!=K(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=K(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==K(t)?t:t+""}var oe=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return re(e=Y(this,t,[].concat(n)),"renderVisibility",(function(t){return e.props.groupVisibilityCheckbox&&!t?o().createElement(U.Z,{node:e.props.node,key:"visibility",tooltip:"toc.toggleGroupVisibility",checkType:e.props.visibilityCheckType,propertiesChangeHandler:e.props.propertiesChangeHandler}):o().createElement(W.Z,{key:"loadingerror",glyph:"exclamation-mark text-danger",tooltip:"toc.loadingerror",className:"toc-error"})})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&te(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this,t=this.props,r=(t.children,t.onToggle,t.connectDragPreview),n=t.connectDragSource,l=t.connectDropTarget,c=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(t,X),a=this.props.selectedNodes.filter((function(t){return t===e.props.node.id})).length>0?" selected":"",u=this.props.node.loadingError?" group-error":"",p=c.isDraggable?o().createElement(W.Z,{key:"grabTool",tooltip:"toc.grabGroupIcon",className:"toc-grab",ref:"target",glyph:"grab-handle"}):o().createElement("span",{className:"toc-layer-tool toc-grab"}),s=o().createElement("div",{className:"toc-default-group-head"},p,this.renderVisibility(u),o().createElement(N,{tooltipOptions:this.props.tooltipOptions,tooltip:this.props.titleTooltip,node:this.props.node,currentLocale:this.props.currentLocale,onClick:this.props.onToggle,onSelect:this.props.onSelect})),f=o().createElement($,{level:this.props.level+1,onSort:this.props.onSort,onError:this.props.onError,setDndState:this.props.setDndState,position:"collapsible"},this.props.children);return this.props.node.showComponent&&!this.props.node.hide?o().createElement(i.Z,Q({className:(this.props.isDragging||this.props.node.placeholder?"is-placeholder ":"")+"toc-default-group toc-group-"+this.props.level+a+u,sortableStyle:this.props.sortableStyle,style:this.props.style,type:"group"},c),r(l(this.props.isDraggable?n(s):s)),this.props.isDragging||this.props.node.placeholder?null:f):null}}])&&z(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(o().Component);re(oe,"propTypes",{node:c().object,style:c().object,sortableStyle:c().object,onToggle:c().func,level:c().number,onSort:c().func,onError:c().func,propertiesChangeHandler:c().func,groupVisibilityCheckbox:c().bool,visibilityCheckType:c().string,currentLocale:c().string,selectedNodes:c().array,onSelect:c().func,titleTooltip:c().bool,tooltipOptions:c().object,setDndState:c().func,connectDragSource:c().func,connectDragPreview:c().func,connectDropTarget:c().func,isDraggable:c().bool,isDragging:c().bool,isOver:c().bool}),re(oe,"defaultProps",{node:{},onToggle:function(){},style:{marginBottom:"16px",cursor:"pointer"},sortableStyle:{},propertiesChangeHandler:function(){},groupVisibilityCheckbox:!1,visibilityCheckType:"glyph",level:1,currentLocale:"en-US",joinStr:" - ",selectedNodes:[],onSelect:function(){},titleTooltip:!1,connectDragPreview:function(e){return e},connectDragSource:function(e){return e},connectDropTarget:function(e){return e},isDraggable:!1,isDragging:!1,isOver:!1});const ie=(0,a.Z)("LayerOrGroup",oe)},422863:(e,t,r)=>{"use strict";r.d(t,{Z:()=>re});var n=r(124852),o=r.n(n),i=r(675263),l=r.n(i),c=r(188539),a=r(513218),u=r.n(a),p=r(984596),s=r.n(p),f=r(313311),d=r.n(f),y=r(414293),b=r.n(y),m=r(480681),g=r(717378),v=r(314181),h=r(359294),O=r(262770),w=r(735913),j=r(497844),S=r(805346),P=r(950966);function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function D(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,I(n.key),n)}}function x(e,t,r){return t=L(t),function(e,t){if(t&&("object"===T(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,k()?Reflect.construct(t,r||[],L(e).constructor):t.apply(e,r))}function k(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(k=function(){return!!e})()}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}function N(e,t){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},N(e,t)}function _(e,t,r){return(t=I(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I(e){var t=function(e,t){if("object"!=T(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=T(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==T(t)?t:t+""}var R=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return _(e=x(this,t,[].concat(n)),"onClick",(function(){var t=(e.props.node||{}).layerFilter;e.props.propertiesChangeHandler(e.props.node.id,{layerFilter:C(C({},t),{},{disabled:!t.disabled})})})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=(this.props.node||{}).layerFilter,t=(e||{}).disabled;return!!e&&o().createElement(P.Z,{placement:"bottom",overlay:o().createElement(m.Tooltip,{id:"toc-filter-icon"},o().createElement(S.Z,{msgId:t?"toc.filterIconDisabled":"toc.filterIconEnabled"}))},o().createElement(m.Glyphicon,{onClick:this.onClick,className:"toc-filter-icon ".concat(t?"disabled":""),glyph:"filter-layer"}))}}])&&D(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(o().Component);_(R,"propTypes",{node:l().object,propertiesChangeHandler:l().func}),_(R,"inheritedPropTypes",["node"]),_(R,"defaultProps",{node:null,propertiesChangeHandler:function(){}});const B=R;var Z=r(815135),M=r(993451),G=r(624262),A=r(808224);function F(e){var t=e.style;return o().createElement(o().Fragment,null,"geostyler"===t.format&&o().createElement("div",{className:"wfs-legend"},(t.body.rules||[]).map((function(e){return o().createElement("div",{className:"wfs-legend-rule",key:e.ruleId},o().createElement(A.Z,{rule:e}),o().createElement("span",null,e.name||""))}))))}F.propTypes={style:l().object};const q=F;var H=r(916651),V=["children","propertiesChangeHandler","onToggle","connectDragSource","connectDropTarget"];function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U.apply(this,arguments)}function W(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,J(n.key),n)}}function X(e,t,r){return t=Q(t),function(e,t){if(t&&("object"===$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,K()?Reflect.construct(t,r||[],Q(e).constructor):t.apply(e,r))}function K(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(K=function(){return!!e})()}function Q(e){return Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Q(e)}function z(e,t){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},z(e,t)}function Y(e,t,r){return(t=J(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J(e){var t=function(e,t){if("object"!=$(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$(t)?t:t+""}var ee=(0,M.Z)("tooltip")((0,Z.Z)(m.Glyphicon)),te=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Y(e=X(this,t,[].concat(n)),"getTitle",(function(t){return(u()(t.title)?t.title[e.props.currentLocale]||t.title.default:t.title)||t.name})),Y(e,"getVisibilityMessage",(function(){var t,r;if(e.props.node.exclusiveMapType)return"3dtiles"===(null===(t=e.props.node)||void 0===t?void 0:t.type)?"toc.notVisibleSwitchTo3D":"cog"===(null===(r=e.props.node)||void 0===r?void 0:r.type)?"toc.notVisibleSwitchTo2D":"";var n=e.props.node.maxResolution||1/0;return e.props.resolution>=n?"toc.notVisibleZoomIn":"toc.notVisibleZoomOut"})),Y(e,"getErrorTooltipParams",(function(){return e.isCRSCompatible()?{tooltip:"toc.loadingerror"}:{tooltip:"toc.sourceCRSNotCompatible",msgParams:{sourceCRS:e.getSourceCRS()}}})),Y(e,"getSourceCRS",(function(){var t,r,n,o;return(null===(t=e.props.node)||void 0===t||null===(r=t.bbox)||void 0===r?void 0:r.crs)||(null===(n=e.props.node)||void 0===n||null===(o=n.sourceMetadata)||void 0===o?void 0:o.crs)})),Y(e,"renderOpacitySlider",(function(t){var r;return e.props.activateOpacityTool&&"3dtiles"!==(null===(r=e.props.node)||void 0===r?void 0:r.type)?o().createElement(j.Z,{opacity:e.props.node.opacity,disabled:!e.props.node.visibility,hideTooltip:t,onChange:function(t){return e.props.onUpdateNode(e.props.node.id,"layers",{opacity:t})}}):null})),Y(e,"renderCollapsible",(function(){return o().createElement("div",{key:"legend",position:"collapsible",className:"collapsible-toc"},o().createElement(m.Grid,{fluid:!0},e.props.showFullTitleOnExpand?o().createElement(m.Row,null,o().createElement(m.Col,{xs:12,className:"toc-full-title"},e.getTitle(e.props.node))):null,e.props.activateLegendTool&&"wms"===e.props.node.type&&o().createElement(m.Row,null,o().createElement(m.Col,{xs:12},o().createElement(O.Z,U({node:e.props.node,currentZoomLvl:e.props.currentZoomLvl,scales:e.props.scales,language:e.props.language},e.props.legendOptions)))),e.props.activateLegendTool&&["wfs","vector"].includes(e.props.node.type)&&o().createElement(q,{style:e.props.node.style})),e.renderOpacitySlider(e.props.hideOpacityTooltip))})),Y(e,"renderVisibility",(function(){return e.isLayerError()?o().createElement(w.Z,U({key:"loadingerror",glyph:"exclamation-mark text-danger"},e.getErrorTooltipParams(),{className:"toc-error"})):o().createElement(v.Z,{key:"visibilitycheck",tooltip:"Warning"===e.props.node.loadingError?"toc.toggleLayerVisibilityWarning":"toc.toggleLayerVisibility",node:e.props.node,checkType:e.props.visibilityCheckType,propertiesChangeHandler:e.props.propertiesChangeHandler})})),Y(e,"renderToolsLegend",(function(t){return e.isLayerError()||t?null:o().createElement(w.Z,{node:e.props.node,tooltip:"toc.displayLegendAndTools",key:"toollegend",className:"toc-legend",ref:"target",glyph:"chevron-left",onClick:function(t){return e.props.onToggle(t.id,t.expanded)}})})),Y(e,"renderIndicators",(function(){return s()(e.props.indicators).map((function(t){return"dimension"===t.type&&d()(e.props.node&&e.props.node.dimensions||[],t.condition)?t.glyph&&o().createElement(ee,U({key:t.key,glyph:t.glyph},t.props)):null}))})),Y(e,"renderNode",(function(t,r,n,i,l,a,u){var p,s,f=!(e.props.showFullTitleOnExpand||e.props.activateLegendTool&&("wms"===e.props.node.type||["wfs","vector"].includes(e.props.node.type)&&"geostyler"===(null===(p=e.props.node)||void 0===p||null===(s=p.style)||void 0===s?void 0:s.format))),d=(0,G.jg)(e.props.node),y=a?o().createElement("div",{style:{padding:0,height:10},className:"toc-default-layer-head"}):o().createElement("div",{className:"toc-default-layer-head"},t,e.renderVisibility(),d&&o().createElement(m.Glyphicon,{glyph:d}),o().createElement(B,{node:e.props.node,propertiesChangeHandler:e.props.propertiesChangeHandler}),o().createElement(h.Z,{tooltipOptions:e.props.tooltipOptions,tooltip:e.props.titleTooltip,filterText:e.props.filterText,node:e.props.node,currentLocale:e.props.currentLocale,onClick:e.props.onSelect,onContextMenu:e.props.onContextMenu}),e.props.node.loading?o().createElement("div",{className:"toc-inline-loader"}):e.renderToolsLegend(f),!(0,G.T4)(e.props.node,e.props.resolution)||e.props.node.exclusiveMapType?o().createElement(ee,{glyph:"info-sign",tooltipId:e.getVisibilityMessage(),style:{float:"right"}}):null,e.props.indicators?e.renderIndicators():null);return o().createElement(c.Z,U({className:(e.props.isDragging||e.props.node.placeholder?"is-placeholder ":"")+"toc-default-layer"+r+n+i+l,style:e.props.style,type:"layer"},u),u.isDraggable&&!a?e.props.connectDragPreview(y):y,a||!e.props.activateOpacityTool||e.props.node.expanded||!e.props.node.visibility||e.isLayerError()?null:e.renderOpacitySlider(e.props.hideOpacityTooltip),a||f?null:e.renderCollapsible())})),Y(e,"filterLayers",(function(t){return-1!==((u()(t.title)?t.title[e.props.currentLocale]||t.title.default:t.title)||t.name||"").toLowerCase().indexOf(e.props.filterText.toLowerCase())})),Y(e,"isLayerError",(function(){return"Error"===e.props.node.loadingError||!e.isCRSCompatible()})),Y(e,"isCRSCompatible",(function(){var t=e.getSourceCRS();return!!b()(t)||(0,H.isSRSAllowed)(t)})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this,t=this.props,r=(t.children,t.propertiesChangeHandler,t.onToggle,t.connectDragSource),n=t.connectDropTarget,i=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(t,V),l=!this.props.node.visibility||this.props.node.invalid||this.props.node.exclusiveMapType||!(0,G.T4)(this.props.node,this.props.resolution)?" visibility":"",c=this.props.selectedNodes.filter((function(t){return t===e.props.node.id})).length>0?" selected":"",a=this.isLayerError()?" layer-error":"",u="Warning"===this.props.node.loadingError?" layer-warning":"",p=i.isDraggable?o().createElement(w.Z,{key:"grabTool",tooltip:"toc.grabLayerIcon",className:"toc-grab",ref:"target",glyph:"grab-handle"}):o().createElement("span",{className:"toc-layer-tool toc-grab"}),s=!!this.props.node.dummy,f=!s&&this.filterLayers(this.props.node)?this.renderNode(p,l,c,a,u,s,i):null,d=o().createElement("div",{style:s?{opacity:0,boxShadow:"none"}:{},className:"toc-list-item"},!this.props.filterText||this.props.filterText&&s?this.renderNode(p,l,c,a,u,s,i):f);return!1!==i.node.showComponent&&!i.node.hide&&this.props.filter(this.props.node)?n(i.isDraggable&&!s?r(d):d):null}}])&&W(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(o().Component);Y(te,"propTypes",{node:l().object,propertiesChangeHandler:l().func,onToggle:l().func,onContextMenu:l().func,onSelect:l().func,style:l().object,sortableStyle:l().object,activateLegendTool:l().bool,activateOpacityTool:l().bool,indicators:l().array,visibilityCheckType:l().string,currentZoomLvl:l().number,scales:l().array,additionalTools:l().array,legendOptions:l().object,currentLocale:l().string,selectedNodes:l().array,filterText:l().string,onUpdateNode:l().func,titleTooltip:l().bool,filter:l().func,showFullTitleOnExpand:l().bool,hideOpacityTooltip:l().bool,tooltipOptions:l().object,connectDragPreview:l().func,connectDragSource:l().func,connectDropTarget:l().func,isDraggable:l().bool,isDragging:l().bool,isOver:l().bool,language:l().string,resolution:l().number}),Y(te,"defaultProps",{style:{},sortableStyle:{},propertiesChangeHandler:function(){},onToggle:function(){},onContextMenu:function(){},onSelect:function(){},activateLegendTool:!1,activateOpacityTool:!0,indicators:[],visibilityCheckType:"glyph",additionalTools:[],currentLocale:"en-US",joinStr:" - ",selectedNodes:[],filterText:"",onUpdateNode:function(){},filter:function(){return!0},titleTooltip:!1,showFullTitleOnExpand:!1,hideOpacityTooltip:!1,connectDragPreview:function(e){return e},connectDragSource:function(e){return e},connectDropTarget:function(e){return e}});const re=(0,g.Z)("LayerOrGroup",te)},229423:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(675263),o=r.n(n),i=r(124852),l=r.n(i),c=["groupElement","layerElement","node"];function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function f(e,t,r){return t=y(t),function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,d()?Reflect.construct(t,r||[],y(e).constructor):t.apply(e,r))}function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(d=function(){return!!e})()}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function m(e,t,r){return(t=g(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this.props,r=e.groupElement,n=e.layerElement,o=e.node,i=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,c);return o.nodes?l().cloneElement(r,p({node:o},i),l().createElement(t,{groupElement:r,layerElement:n})):l().cloneElement(n,p({node:o},i))}}])&&s(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(l().Component);m(v,"propTypes",{node:o().object,groupElement:o().element.isRequired,layerElement:o().element.isRequired});const h=v},188539:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(675263),o=r.n(n),i=r(124852),l=r.n(i),c=r(972555),a=r.n(c),u=r(727418),p=r.n(u),s=r(264317);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}const d=a()({displayName:"Node",propTypes:{node:o().object,style:o().object,styler:o().func,className:o().string,type:o().string,onSort:o().func,isDraggable:o().bool,animateCollapse:o().bool},getDefaultProps:function(){return{node:null,style:{},styler:function(){},className:"",type:"node",onSort:null,animateCollapse:!0}},renderChildren:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!0};return l().Children.map(this.props.children,(function(r){if(t(r)){var n=(r.type.inheritedPropTypes||["node"]).reduce((function(t,r){return e.props[r]?p()(t,(n={},o=r,i=e.props[r],l=function(e,t){if("object"!=f(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==f(l)?l:l+"")in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i,n)):t;var n,o,i,l}),{});return l().cloneElement(r,n)}return null}))},render:function(){var e=void 0===this.props.node.expanded||this.props.node.expanded,t=this.props.type,r=p()({},this.props.style,this.props.styler(this.props.node)),n=e&&"Error"!==this.props.node.loadingError?this.renderChildren((function(e){return e&&"collapsible"===e.props.position})):[];return this.props.animateCollapse&&(n=l().createElement(s.CSSTransitionGroup,{transitionName:"TOC-Node",transitionEnterTimeout:250,transitionLeaveTimeout:250},n)),l().createElement("div",{key:this.props.node.name,className:(e?t+"-expanded":t+"-collapsed")+" "+this.props.className,style:this.props.node.dummy?{padding:0}:r},this.renderChildren((function(e){return e&&"collapsible"!==e.props.position})),n)}})},221338:(e,t,r)=>{"use strict";r.d(t,{Z:()=>_});var n=r(124852),o=r.n(n),i=r(675263),l=r.n(i),c=r(867076),a=r(701469),u=r.n(a),p=r(385564),s=r.n(p),f=["dndState","nodes"];function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y.apply(this,arguments)}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){var n,o,i,l;n=e,o=t,i=r[t],l=function(e,t){if("object"!=d(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==d(l)?l:l+"")in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g=function e(t,r,n){var o=t.findIndex((function(e){return e.id===r}));if(-1!==o){var i=t.slice();return n?i[o]=m(m({},i[o]),n):i.splice(o,1),i}return t.map((function(t){return m(m({},t),{},{nodes:t.nodes&&e(t.nodes,r,n)})}))},v=function e(t,r){var n=r.node,o=r.sortIndex,i=r.parentNodeId,l=r.newParentNodeId,c=r.illegalDrop;return t&&n?t.map((function(t){if(t.nodes&&t.id===l){var a=l===i?g(t.nodes,n.id,null):t.nodes.slice();return a.splice(o,0,m(m({},n),l===i?{}:{id:n.id+"__placeholder",placeholder:!0,hide:!!c})),m(m({},t),{},{nodes:a})}return m(m({},t),{},{nodes:e(t.nodes,r)})})):t},h=function e(t,r){var n=r.node,o=r.newParentNodeId,i=r.parentNodeId;return m(m({},t),{},{nodes:s()(t.nodes.map((function(l,c){return!l.nodes||l.placeholder||l.hide||n&&l.id===n.id?[l]:[e(l,r)].concat(t.nodes[c+1]&&(t.nodes[c+1].placeholder||n&&t.id===o&&o===i&&t.nodes[c+1].id===n.id)?[]:[{id:l.id+"__dummy",dummy:!0}])})))})};const O=(0,c.branch)((function(e){var t=e.nodes;return u()(t)}),(0,c.compose)((0,c.withState)("dndState","setDndState",{node:null,parentNodeId:"",newParentNodeId:"",sortIndex:0,illegalDrop:null}),(function(e){return function(t){var r=t.dndState,n=t.nodes,i=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(t,f),l=r.node,c=r.parentNodeId,a=r.newParentNodeId,u=r.illegalDrop,p=v([{id:"root",nodes:n}],r)[0],s=a!==c||u?g(p.nodes,l.id,{hide:!0}):p.nodes,d=h({id:"root",nodes:s},r);return o().createElement(e,y({},i,{nodes:d.nodes}))}})));var w=r(893379),j=r.n(w),S=r(199307);function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function T(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L(n.key),n)}}function E(e,t,r){return t=D(t),function(e,t){if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,C()?Reflect.construct(t,r||[],D(e).constructor):t.apply(e,r))}function C(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(C=function(){return!!e})()}function D(e){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},D(e)}function x(e,t){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},x(e,t)}function k(e,t,r){return(t=L(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L(e){var t=function(e,t){if("object"!=P(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==P(t)?t:t+""}j()(S.Z,{insert:"head",singleton:!1}),S.Z.locals;var N=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),E(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this,t=[],r=this.props.nodes.filter(this.props.filter);if(this.props.children){var n=0;t=r.map((function(t){return o().cloneElement(e.props.children,{node:t,parentNodeId:"root",onSort:e.props.onSort,onError:e.props.onError,sortIndex:t.hide||t.dummy?n:n++,key:t.name||t.id||"default",isDraggable:!(!e.props.onSort||t.nodes&&"Default"===t.name),setDndState:e.props.setDndState})}))}return this.props.onSort,o().createElement("div",{id:this.props.id,className:"mapstore-layers-container"},t)}}])&&T(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(o().Component);k(N,"propTypes",{filter:l().func,nodes:l().array,id:l().string,onSort:l().func,onError:l().func,setDndState:l().func}),k(N,"defaultProps",{filter:function(){return!0},nodes:[],id:"mapstore-layers",onSort:null,setDndState:function(){}});const _=O(N)},717378:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(180307),o=r.n(n),i=r(590937),l=r(867076);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var u={beginDrag:function(e){return e.setDndState&&e.setDndState({node:e.node,parentNodeId:e.parentNodeId,newParentNodeId:e.parentNodeId,sortIndex:e.sortIndex}),{node:e.node,parentNodeId:e.parentNodeId,newParentNodeId:e.parentNodeId,sortIndex:e.sortIndex}},endDrag:function(e,t){var r=t.getItem(),n=r.sortIndex,o=r.newParentNodeId,i=r.illegalDrop;e.setDndState&&e.setDndState({node:null,illegalDrop:null}),i?e.onError&&e.onError(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){var n,o,i,l;n=e,o=t,i=r[t],l=function(e,t){if("object"!=c(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==c(l)?l:l+"")in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({title:"notification.warning",autoDismiss:5,position:"tc"},i)):e.onSort&&e.onSort(e.node.id,o,n)}},p=function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging(),draggedItem:t.getItem()}},s={hover:function(e,t,r){var n=t.getItem(),i=n.sortIndex,l=e.sortIndex;if(t.isOver({shallow:!0})){var c=o().findDOMNode(r),a=c.getElementsByClassName("toc-default-group-head")[0],u=a||c;if(u){var p=u.getBoundingClientRect(),s=t.getClientOffset().y-p.top;if(a){var f=(p.bottom-p.top)/3;if(e.isDragging||e.node&&e.node.placeholder)return;if(n.newParentNodeId===e.parentNodeId&&i<l&&s<f)return;if(n.newParentNodeId===e.parentNodeId&&i>l&&s>2*f)return;s<f?(n.sortIndex=e.sortIndex,n.newParentNodeId=e.parentNodeId,"Default"===e.node.name&&(n.illegalDrop={message:"toc.error.defaultGroupOnTop",values:{groupTitle:e.node.title}})):(n.sortIndex=0,n.newParentNodeId=e.node.id,n.illegalDrop=null)}else{var d=(p.bottom-p.top)/2;if(i===l&&n.newParentNodeId===e.parentNodeId)return;if(n.newParentNodeId===e.parentNodeId&&i<l&&s<d)return;if(n.newParentNodeId===e.parentNodeId&&i>l&&s>d)return;n.sortIndex=e.sortIndex,n.newParentNodeId=e.parentNodeId,n.illegalDrop=null}e.setDndState&&e.setDndState(n)}}}},f=function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver({shallow:!0})}};const d=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return(0,l.branch)((function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).isDraggable}),(0,l.compose)((0,i.Ej)(e,u,p),(0,i.GR)(e,s,f)),(0,l.compose)((0,i.GR)(e,s,f))).apply(void 0,r)}},314181:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(124852),o=r.n(n),i=r(675263),l=r.n(i),c=r(623560),a=r.n(c),u=r(735913);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function f(e,t,r){return t=y(t),function(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,d()?Reflect.construct(t,r||[],y(e).constructor):t.apply(e,r))}function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(d=function(){return!!e})()}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function m(e,t,r){return(t=g(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==p(t)?t:t+""}var v=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return m(e=f(this,t,[].concat(n)),"changeVisibility",(function(){e.props.propertiesChangeHandler(e.props.node.id,{visibility:!e.props.node.visibility})})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){return"glyph"===this.props.checkType?o().createElement(u.Z,{tooltip:this.props.tooltip,style:this.props.style,className:"visibility-check"+(this.props.node.visibility?" checked":""),"data-position":this.props.node.storeIndex,glyph:this.props.node.visibility?this.props.glyphChecked:this.props.glyphUnchecked,onClick:this.changeVisibility}):o().createElement("input",{className:"visibility-check",style:this.props.style,"data-position":this.props.node.storeIndex,type:a()(this.props.checkType)?this.props.checkType(this.props.node):this.props.checkType,checked:this.props.node.visibility?"checked":"",onChange:this.changeVisibility})}}])&&s(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(o().Component);m(v,"propTypes",{node:l().object,tooltip:l().string,propertiesChangeHandler:l().func,style:l().object,checkType:l().oneOfType([l().string,l().func]),glyphChecked:l().string,glyphUnchecked:l().string}),m(v,"defaultProps",{style:{},checkType:"glyph",glyphChecked:"eye-open",tooltip:"toc.toggleLayerVisibility",glyphUnchecked:"eye-close"});const h=v},199307:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(923645),o=r.n(n)()((function(e){return e[1]}));o.push([e.id,"",""]);const i=o},324064:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(923645),o=r.n(n)()((function(e){return e[1]}));o.push([e.id,".msgapi .toc-group-children {\n    margin-left: 15px;\n}\n\n.msgapi .TOC-Node-enter, .msgapi .TOC-Node-leave {\n    transition: all 250ms ease-out;\n    -o-transition: all 250ms ease-out;\n    -moz-transition: all 250ms ease-out;\n    -webkit-transition: all 250ms ease-out;\n    overflow: hidden;\n}\n.msgapi .TOC-Node-enter,.msgapi .TOC-Node-leave.TOC-Node-leave-active {\n    opacity: 0;\n    transform: scale(1, 0);\n    transform-origin: top;\n}\n.msgapi .TOC-Node-leave, .msgapi .TOC-Node-enter.TOC-Node-enter-active {\n    opacity: 1;\n    transform: scale(1, 1);\n    transform-origin: top;\n}\n",""]);const i=o}}]);