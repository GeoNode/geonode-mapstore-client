(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[86657],{80615:(t,e,r)=>{"use strict";r.r(e);var n=r(133516),i=r(678003),o=r(765916);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach(function(e){s(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function s(t,e,r){return(e=function(t){var e=function(t){if("object"!=a(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==a(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}(0,n.registerType)("arcgis",function(t){return(0,o.sq)(t.url)?i.Be({url:t.url,opacity:t.opacity||1,format:t.format}):i.dU(u(u({url:t.url,opacity:t.opacity||1},void 0!==t.name&&{layers:["".concat(t.name)]}),{},{format:t.format}))})},944935:(t,e,r)=>{var n=r(353481);t.exports=n.TileLayer.extend({initialize:function(t){n.TileLayer.prototype.initialize.call(this,this.url,t)}})},983893:(t,e,r)=>{"use strict";r.r(e);var n=r(133516),i=r.n(n),o=r(353481),a=r.n(o),l=r(956449),u=r.n(l),s=r(584153),c=r(613420),f=r(134800);function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function p(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function m(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?p(Object(r),!0).forEach(function(e){v(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function v(t,e,r){return(e=function(t){var e=function(t){if("object"!=y(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==y(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}a().TileLayer.ElevationWMS=a().TileLayer.MultipleUrlWMS.extend({initialize:function(t,e,r,n,i){this._msId=i,this._tiles={},this._nodata=r,this._littleEndian=n,a().TileLayer.MultipleUrlWMS.prototype.initialize.apply(this,arguments)},_addTile:function(t){var e=this.getTileUrl(t);(0,c.tY)(e,t,(0,c.bn)(t.x,t.y,t.z,this._msId))},getElevation:function(t,e){try{var r=this._getTileFromCoords(t),n=(0,c.S1)((0,c.bn)(r.x,r.y,r.z,this._msId),this._getTileRelativePixel(r,e),this.getTileSize().x,this._nodata,this._littleEndian);return n.available?n.value:""}catch(t){return""}},_getTileFromCoords:function(t){var e=this._map.project(t).divideBy(256).floor();return Object.assign(e,{z:this._tileZoom})},_getTileRelativePixel:function(t,e){var r=Math.floor(e.x-this._getTilePos(t).x-this._map._getMapPanePos().x),n=Math.min(this.getTileSize().x-1,Math.floor(e.y-this._getTilePos(t).y-this._map._getMapPanePos().y));return new(a().Point)(r,n)},_removeTile:function(){},_abortLoading:function(){},onAdd:function(t){return t.msElevationLayers||(t.msElevationLayers=[]),t.msElevationLayers.push(this),a().TileLayer.MultipleUrlWMS.prototype.onAdd.call(this,t)},onRemove:function(t){var e=this;return t.msElevationLayers=t.msElevationLayers.filter(function(t){return t._msId!==e._msId}),a().TileLayer.MultipleUrlWMS.prototype.onRemove.call(this,t)}}),a().tileLayer.elevationWMS=function(t,e,r,n,i){return new(a().TileLayer.ElevationWMS)(t,e,r,n,i)},i().registerType("elevation",{create:function(t){return"wms"===t.provider?function(t){var e,r,n=(0,f.uJ)(u()(t.url)?t.url:[t.url]),i=(0,f.FC)((0,f.uX)(t)||{});return n.forEach(function(e){return(0,s.XM)(e,i,t.securityToken)}),a().tileLayer.elevationWMS(n,m(m({},i),{},{format:(null==t?void 0:t.format)||"application/bil16"}),t.nodata||-9999,null!==(e=null!==(r=null==t?void 0:t.littleEndian)&&void 0!==r?r:null==t?void 0:t.littleendian)&&void 0!==e&&e,t.id)}(t):null}})},819469:(t,e,r)=>{"use strict";r.r(e);var n=r(133516),i=r.n(n),o=r(353481),a=r.n(o);r(447272),i().registerType("google",function(t){return(null===(e=window)||void 0===e||null===(e=e.google)||void 0===e?void 0:e.maps)?a().gridLayer.googleMutant({type:t.name.toLowerCase(),maxNativeZoom:t.maxNativeZoom||18,maxZoom:t.maxZoom||20}):null;var e})},513968:(t,e,r)=>{"use strict";r.r(e);var n=r(133516),i=r.n(n),o=r(111642),a=r.n(o);r(836640),i().registerType("graticule",{create:function(t){var e=Object.assign({interval:20,showOriginLabel:!0,redraw:"move"},t);return a()?new(a())(e):null},isValid:function(){return!!a()}})},427689:(t,e,r)=>{"use strict";r.r(e);var n=r(133516),i=r.n(n),o=r(609557),a=r.n(o);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function s(t,e,r){return(e=function(t){var e=function(t){if("object"!=l(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==l(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i().registerType("mapquest",{create:function(t){return a()?a().mapLayer(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach(function(e){s(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({maxZoom:23},t)):(t&&t.onError&&t.onError(),!1)},isValid:function(){return!!a()}})},484339:(t,e,r)=>{"use strict";r.r(e);var n=r(133516),i=r.n(n),o=r(353481),a=r.n(o);i().registerType("osm",function(t){return a().tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',zoomOffset:t.zoomOffset||0,maxNativeZoom:t.maxNativeZoom||19,maxZoom:t.maxZoom||23})})},874548:(t,e,r)=>{"use strict";r.r(e);var n=r(133516),i=r.n(n),o=r(353481),a=r.n(o);i().registerType("tms",function(t){return a().tileLayer("".concat(t.tileMapUrl,"/{z}/{x}/{y}.").concat(t.extension),{hideErrors:t.hideErrors||!0,tms:!0})})},508387:(t,e,r)=>{"use strict";r.r(e);var n=r(133516),i=r.n(n),o=r(353481),a=r.n(o),l=r(680323);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function c(t,e,r){return(e=function(t){var e=function(t){if("object"!=u(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==u(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}i().registerType("tileprovider",function(t){var e,r,n=l.A.getLayerConfig(t.provider,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach(function(e){c(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({maxZoom:23},t)),i=(r=2,function(t){if(Array.isArray(t))return t}(e=n)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,l=[],u=!0,s=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(t){s=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw i}}return l}}(e,r)||function(t,e){if(t){if("string"==typeof t)return f(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=i[0],u=i[1];return a().tileLayer(o,u)})},403007:(t,e,r)=>{"use strict";r.r(e);var n=r(133516),i=r.n(n),o=r(302404),a=r.n(o),l=r(269843),u=r.n(l),s=r(353481),c=r.n(s),f=r(491281),y=r(181634),p=r(102685),m=function(t,e){t.eachLayer&&t.eachLayer(function(t){t.setOpacity&&t.setOpacity(e),m(t,e)})},v=function(t){var e,r;return(null==t||null===(e=t.style)||void 0===e?void 0:e.body)&&(null==t||null===(r=t.style)||void 0===r?void 0:r.format)},d=function(t){var e=function(t){var e=t.hideLoading,r=c().geoJson([],{pointToLayer:"marker"!==t.styleName?function(e,r){return c().circleMarker(r,e.style||t.style)}:null,hideLoading:e});return r.setOpacity=function(t){m(r,t)},r.on("layeradd",function(e){var n=e.layer;r.setOpacity(u()(r.opacity)?t.opacity:r.opacity,n)}),r}(t);return e.opacity=u()(t.opacity)?1:t.opacity,e._msLegacyGeoJSON=!0,e},b=function(t){var e=t.hideLoading,r=(0,p.Kb)(t),n=t.features.filter(r),i=c().geoJson(n,{hideLoading:e});return(0,f.getStyle)((0,y.sn)(t),"leaflet").then(function(e){e({opacity:t.opacity,layer:i,features:n}).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.style,r=t.pointToLayer,o=void 0===r?function(){return null}:r,a=t.filter,l=void 0===a?function(){return!0}:a;i.clearLayers(),i.options.pointToLayer=o,i.options.filter=l,i.addData(n),i.setStyle(e)})}),i};i().registerType("vector",{create:function(t){return v(t)?b(t):d(t)},update:function(t,e,r){return t._msLegacyGeoJSON?function(t,e,r){return e.opacity!==r.opacity&&(t.opacity=e.opacity),a()(e.style,r.style)?null:v(e)?b(e):d(e)}(t,e,r):function(t,e,r){return a()(r.layerFilter,e.layerFilter)?(a()(r.style,e.style)&&e.opacity===r.opacity||(0,f.getStyle)((0,y.sn)(e),"leaflet").then(function(r){r({opacity:e.opacity,layer:t,features:e.features}).then(function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.style,i=r.pointToLayer,o=void 0===i?function(){return null}:i,a=r.filter,l=void 0===a?function(){return!0}:a;t.clearLayers(),t.options.pointToLayer=o,t.options.filter=l,t.addData(e.features),t.setStyle(n)})}),null):(t.remove(),b(e))}(t,e,r)},render:function(){return null}})},17858:(t,e,r)=>{"use strict";var n=r(302404),i=r.n(n),o=r(353481),a=r.n(o),l=r(764932),u=r(133516),s=r.n(u),c=r(504631),f=r(181817),y=r(112206),p=r(491281),m=r(181634);function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function b(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach(function(e){g(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function g(t,e,r){return(e=function(t){var e=function(t){if("object"!=v(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==v(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var h=function(t,e){(0,p.layerToGeoStylerStyle)(e).then(function(r){var n=t["@wfsFeatureCollection"];(0,p.getStyle)((0,m.sn)(b(b({},e),{},{features:n.features,style:r})),"leaflet").then(function(r){var n;r({opacity:e.opacity,layer:t,features:null==t||null===(n=t["@wfsFeatureCollection"])||void 0===n?void 0:n.features}).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.style,n=e.pointToLayer,i=void 0===n?function(){return null}:n,o=e.filter,a=void 0===o?function(){return!0}:o;t.clearLayers(),t.options.pointToLayer=i,t.options.filter=a,t.addData(t["@wfsFeatureCollection"]),t.setStyle(r)})})})},S=function(t,e){t.fireEvent("loading");var r=(0,c.w)(e),n=function(){t.fireEvent("loadError")};return(0,f.x$)(e.url,e.name,b({outputFormat:"application/json",maxFeatures:1e3,srsname:(0,l.normalizeSRS)("EPSG:4326")},r)).then(function(r){return 200===r.status?(t.clearLayers(),t["@wfsFeatureCollection"]=b({},r.data),t.addData(r.data),t.fireEvent("load"),h(t,e)):(console.error(r),n(new Error("status code of response:"+r.status))),t}).catch(function(t){n()})};s().registerType("wfs",{create:function(t){var e=new(a().GeoJSON)([],{});return S(e,t),e},update:function(t,e,r){return(0,y.Xs)(r,e)&&S(t,e),i()(e.style,r.style)&&e.styleName===r.styleName&&e.opacity===r.opacity||h(t,e),null},render:function(){return null}})},510911:(t,e,r)=>{"use strict";r.r(e);var n=r(133516),i=r.n(n),o=r(134800),a=r(353481),l=r.n(a),u=r(956449),s=r.n(u),c=r(584153);function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function p(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach(function(e){m(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function m(t,e,r){return(e=function(t){var e=function(t){if("object"!=f(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==f(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r(575766),l().NonTiledLayer.WMSCustom=l().NonTiledLayer.WMS.extend({initialize:function(t,e){this._wmsUrl=t;var r=l().extend({},this.defaultWmsParams);for(var n in e)this.options.hasOwnProperty(n)||"CRS"===n.toUpperCase()||"maxNativeZoom"===n||(r[n]=e[n]);this.wmsParams=r,l().setOptions(this,e)},removeParams:function(){var t=this,e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(e){return delete t.wmsParams[e]}),e||this.redraw(),this}}),l().nonTiledLayer.wmsCustom=function(t,e){return new(l().NonTiledLayer.WMSCustom)(t,e)},i().registerType("wms",{create:function(t,e,r){if(t.useForElevation)return i().createLayer("elevation",p(p({},t),{},{provider:"wms"}),e,r);var n=(0,o.uJ)(s()(t.url)?t.url:[t.url]),a=(0,o.FC)((0,o.uX)(t)||{});return n.forEach(function(e){return(0,c.XM)(e,a,t.securityToken)}),t.singleTile?l().nonTiledLayer.wmsCustom(n[0],a):l().tileLayer.multipleUrlWMS(n,a)},update:function(t,e,r){if(r.singleTile!==e.singleTile||r.tileSize!==e.tileSize||r.securityToken!==e.securityToken&&e.visibility){var n=(0,o.uJ)(s()(e.url)?e.url:[e.url]),i=(0,o.uX)(e)||{};return n.forEach(function(t){return(0,c.XM)(t,i,e.securityToken)}),e.singleTile?l().nonTiledLayer.wmsCustom(n[0],i):l().tileLayer.multipleUrlWMS(n,i)}var a=Object.assign({},(0,o.$t)((0,o.uX)(r)),(0,c.mL)(r.params||{},r)),u=Object.assign({},(0,o.$t)((0,o.uX)(e)),(0,c.mL)(e.params||{},e)),f=Object.keys(u).filter(function(t){return u[t]!==a[t]}),y=Object.keys(a).filter(function(t){return a[t]!==u[t]}),p={};return y.length>0&&t.removeParams(y,f.length>0),f.length>0&&(p=f.reduce(function(t,e){return Object.assign({},t,m({},e,u[e]))},p),t.setParams((0,o.FC)(Object.assign(p,p.params,(0,c.mL)(e.params||{},e))))),null}})},283751:(t,e,r)=>{"use strict";var n=r(133516),i=r.n(n),o=r(764932),a=r(353481),l=r.n(a),u=r(584153),s=r(112585),c=r(724188),f=r(6683),y=r(400912),p=r.n(y),m=r(198023),v=r.n(m);function d(t){return function(t){if(Array.isArray(t))return b(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return b(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}const g=l().TileLayer.extend({defaultWmtsParams:{service:"WMTS",request:"GetTile",version:"1.3.0",layer:"",style:"",tileMatrixSet:"",format:"image/jpeg"},initialize:function(t,e,r){this._url=t[0],this._urls=t,this._urlsIndex=0;var n=l().extend({},this.defaultWmtsParams),i=e.tileSize||this.options.tileSize;for(var o in e.detectRetina&&l().Browser.retina?n.width=n.height=2*i:n.width=n.height=i,e)this.options.hasOwnProperty(o)||"crs"===o||"attribution"===o||(n[o]=e[o]);this.wmtsParams=n,this.matrixIds=r.matrixIds&&this.getMatrix(r.matrixIds,r)||this.getDefaultMatrix(r),this.matrixSet=r.matrixSet&&r.matrixSet.TileMatrix||[],this.ignoreErrors=r.ignoreErrors||!1,l().setOptions(this,e)},getWMTSParams:function(t,e,r,n,i){var a=(0,f.kp)()[r],l=p()(t.map(function(e,r){if(r===t.length-1)return null;var n=parseFloat(e.ScaleDenominator),i=parseFloat(t[r+1].ScaleDenominator);return n>=a&&i<a?a-i>(n-i)/2?{id:r,data:e}:{id:r+1,data:t[r+1]}:null}).filter(function(t){return t})),u=l&&v()(l.id)&&l.id+""||0===t.length&&r||null;if(!e[u])return null;var s=e[u].identifier,c=l.data&&l.data.TopLeftCorner&&(0,o.parseString)(l.data.TopLeftCorner)||e[u].topLeftCorner,y=c.lng||c.x,m=c.lat||c.y,d=Math.round((n.x-y)/i),b=-Math.round((n.y-m)/i),g=l.data&&l.data.MatrixWidth&&l.data.MatrixHeight&&{cols:{min:0,max:l.data.MatrixWidth-1},rows:{min:0,max:l.data.MatrixHeight-1}},h=e[u].ranges||g;return h&&!function(t,e,r){return!(t<r.cols.min||t>r.cols.max||e<r.rows.min||e>r.rows.max)}(d,b,h)?null:{ident:s,tilecol:d,tilerow:b}},getTileUrl:function(t){var e=this._map,r=e.options.crs,n=this.options.tileSize,i=t.multiplyBy(n);i.x+=1,i.y-=1;var o=i.add([n,n]),a=r.project(e.unproject(i,t.z)),u=r.project(e.unproject(o,t.z)).x-a.x,s=this.getWMTSParams(d(this.matrixSet),d(this.matrixIds),t.z,a,u);if(!s)return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";this._urlsIndex++,this._urlsIndex===this._urls.length&&(this._urlsIndex=0);var c=l().Util.template(this._urls[this._urlsIndex],{s:this._getSubdomain(t),TileRow:s.tilerow,TileCol:s.tilecol,TileMatrixSet:this.options.tileMatrixSet,TileMatrix:s.ident,Style:this.options.style});return"RESTful"===this.options.requestEncoding?c:c+l().Util.getParamString(this.wmtsParams,c,!0)+"&tilematrix="+s.ident+"&tilerow="+s.tilerow+"&tilecol="+s.tilecol},getMatrix:function(t,e){return t.map(function(t){return{identifier:t.identifier,topLeftCorner:new(l().LatLng)(e.originY,e.originX),ranges:t.ranges||null}})},getDefaultMatrix:function(t){for(var e=new Array(22),r=0;r<22;r++)e[r]={identifier:t.tileMatrixPrefix+r,topLeftCorner:new(l().LatLng)(t.originY,t.originX)};return e},onError:function(){return!this.ignoreErrors}});var h=r(956449),S=r.n(h),O=r(553818);l().tileLayer.wmts=function(t,e,r){return new g(t,e,r)};var w=function(t){var e=c.iT(t),r=function(t){return t.map(function(t){return t.split("?")[0]})}(S()(e.url)?e.url:[e.url]),n=function(t){var e=(0,o.normalizeSRS)(t.srs||"EPSG:3857",t.allowedSRS),r=t.credits&&(0,s.PJ)(t.credits)||"",n=c.Ec(t.tileMatrixSet,e,t.allowedSRS,t.matrixIds);return Object.assign({requestEncoding:t.requestEncoding,layer:t.name,style:t.style||"",attribution:r,format:((0,O.h)(t.format)?"image/png":t.format)||"image/png",tileMatrixSet:n,version:t.version||"1.0.0",tileSize:t.tileSize||256,CRS:(0,o.normalizeSRS)(t.srs||"EPSG:3857",t.allowedSRS),maxZoom:t.maxZoom||23,maxNativeZoom:t.maxNativeZoom||18},t.params||{})}(e)||{};r.forEach(function(t){return(0,u.XM)(t,n,e.securityToken)});var i=(0,o.normalizeSRS)(e.srs||"EPSG:3857",e.allowedSRS),a=c.EM(e,i),f=a.tileMatrixSet,y=a.matrixIds;return l().tileLayer.wmts(r,n,{tileMatrixPrefix:e.tileMatrixPrefix||n.tileMatrixSet+":"||0,originY:e.originY||20037508.3428,originX:e.originX||-20037508.3428,ignoreErrors:e.ignoreErrors||!1,matrixIds:y,matrixSet:f})};i().registerType("wmts",{create:w,update:function(t,e,r){return r.securityToken!==e.securityToken||r.format!==e.format||r.credits!==e.credits?w(e):null}})},986657:(t,e,r)=>{t.exports={Commons:r(944935),GraticuleLayer:r(513968),GoogleLayer:r(819469),MapQuest:r(427689),OSMLayer:r(484339),TMSLayer:r(874548),TileProviderLayer:r(508387),WFSLayer:r(17858).A,WMSLayer:r(510911),WMTSLayer:r(283751),VectorLayer:r(403007),ElevationLayer:r(983893),ArcGISLayer:r(80615)}},609557:t=>{t.exports=window.MQ},613420:(t,e,r)=>{"use strict";r.d(e,{S1:()=>f,bn:()=>a,bx:()=>l,tY:()=>c,xP:()=>u});var n=r(995531),i=r(514832),o=new(r.n(i)())(100),a=function(t,e,r,n){return"".concat(r,":").concat(t,":").concat(e,":").concat(n)};function l(t,e,r){var n=r[0]/(e[2]-e[0]),i=r[1]/(e[3]-e[1]);return{x:Math.floor((t[0]-e[0])*n),y:Math.floor((e[3]-t[1])*i)}}var u=function(t,e,r){o.set(r,{data:t,dataView:new DataView(t),coords:e,current:!0,status:"success"})},s=function(t,e,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-9999,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=n*t+r;try{var l=e.dataView.getInt16(2*a,o);if(l!==i&&32767!==l&&-32768!==l)return l}catch(t){}return null},c=function(t,e,r){return o.has(r)?null:new Promise(function(i,a){n.A.get(t,{responseType:"arraybuffer"}).then(function(t){u(t.data,e,r),i()}).catch(function(t){!function(t,e,r){o.set(r,{coords:e,current:!0,status:"error: "+t})}(t.message,e,r),a(t)})})},f=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-9999,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=o.get(t);return a&&"success"===a.status?{available:!0,value:s(r,a,e.x,e.y,n,i)}:a&&"loading"===a.status?{available:!1,message:"elevationLoading"}:a&&"error"===a.status?{available:!1,message:"elevationLoadingError"}:{available:!1,message:"elevationNotAvailable"}}},553818:(t,e,r)=>{"use strict";r.d(e,{h:()=>i});var n=["application/vnd.mapbox-vector-tile","application/json;type=geojson","application/json;type=topojson"],i=function(t){return-1!==n.indexOf(t)}},134800:(t,e,r)=>{"use strict";r.d(e,{$t:()=>d,FC:()=>h,uJ:()=>g,uX:()=>b});var n=r(353481),i=r.n(n),o=r(269843),a=r.n(o),l=r(112585),u=r(553818),s=r(504631),c=r(584153);function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function p(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach(function(e){m(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function m(t,e,r){return(e=function(t){var e=function(t){if("object"!=f(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==f(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i().TileLayer.MultipleUrlWMS=i().TileLayer.WMS.extend({initialize:function(t,e){this._url=t[0],this._urls=t,this._urlsIndex=0;var r=i().extend({},this.defaultWmsParams),n=e.tileSize||this.options.tileSize;for(var o in e.detectRetina&&i().Browser.retina?r.width=r.height=2*n:r.width=r.height=n,e)this.options.hasOwnProperty(o)||"CRS"===o.toUpperCase()||"maxNativeZoom"===o||(r[o]=e[o]);this.wmsParams=r,i().setOptions(this,e)},getTileUrl:function(t){var e=this._map,r=this.options.tileSize,n=t.multiplyBy(r),o=n.add([r,r]),a=this._crs.project(e.unproject(n,t.z)),l=this._crs.project(e.unproject(o,t.z)),u=this._wmsVersion>=1.3&&this._crs===i().CRS.EPSG4326?[l.y,a.x,a.y,l.x].join(","):[a.x,l.y,l.x,a.y].join(",");this._urlsIndex++,this._urlsIndex===this._urls.length&&(this._urlsIndex=0);var s=i().Util.template(this._urls[this._urlsIndex],{s:this._getSubdomain(t)});return s+i().Util.getParamString(this.wmsParams,s,!0)+"&BBOX="+u},removeParams:function(){var t=this,e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(e){return delete t.wmsParams[e]}),e||this.redraw(),this}}),i().tileLayer.multipleUrlWMS=function(t,e){return new(i().TileLayer.MultipleUrlWMS)(t,e)};var v=["layers","styles","format","transparent","version","tiled","zindex","_v_","cql_filter","sld"],d=function(t){var e={};return Object.keys(t).forEach(function(r){r&&r.toLowerCase&&v.indexOf(r.toLowerCase())>=0&&(e[r]=t[r])}),e};function b(t){var e=void 0!==t.opacity?t.opacity:1,r=(0,s.w)(t),n=p(p(p(p({},t.baseParams),{},{attribution:t.credits&&(0,l.PJ)(t.credits),layers:t.name,styles:t.style||"",format:((0,u.h)(t.format)?"image/png":t.format)||"image/png",transparent:void 0===t.transparent||t.transparent},(0,l.yO)(t)),{},{opacity:e,zIndex:t.zIndex,version:t.version||"1.3.0",tileSize:t.tileSize||256,maxZoom:t.maxZoom||23,maxNativeZoom:t.maxNativeZoom||18},t._v_?{_v_:t._v_}:{}),r||{});return(0,c.mL)(n,t)}function g(t){return t.map(function(t){return t.split("?")[0]})}var h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(t).reduce(function(e,r){return a()(t[r])?e:Object.assign(e,m({},r,t[r]))},{})}}}]);