(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[7914],{85428:(e,r,t)=>{"use strict";t.d(r,{Z:()=>u});var n=t(67294),a=t.n(n),c=t(45697),o=t.n(c),l=["href","readOnly","children"];function s(){return s=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},s.apply(this,arguments)}function i(e){var r=e.href,t=e.readOnly,n=e.children,c=function(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)t=c[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)t=c[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}(e,l);return t?n:a().createElement("a",s({href:r},c),n)}i.propTypes={href:o().string,readOnly:o().bool.isRequired,children:o().any},i.defaultProps={href:"",readOnly:!1};const u=i},60330:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n.Z});var n=t(85428)},285:(e,r,t)=>{"use strict";t.d(r,{Z:()=>d});var n=t(67294),a=t.n(n),c=t(45697),o=t.n(c),l=t(36693),s=t(5346),i=t(97842);function u(e){var r=e.options,t=e.actions,n=e.onAction,c=e.resource,o=e.buildHrefByTemplate;return a().createElement("div",{className:"gn-resource-action-buttons"},a().createElement(l.Z,{className:"gn-card-options",pullRight:!0},a().createElement(l.Z.Toggle,{id:"gn-card-options-".concat(c.pk),variant:"default",size:"sm",noCaret:!0},a().createElement(i.Z,{name:"ellipsis-v"})),a().createElement(l.Z.Menu,{className:"gn-card-dropdown"},r.map((function(e){return"button"===e.type&&t[e.action]?a().createElement(l.Z.Item,{key:e.action,onClick:function(){return n(t[e.action],[c])}},a().createElement(i.Z,{name:e.icon})," ",a().createElement(s.Z,{msgId:e.labelId})):a().createElement(l.Z.Item,{key:e.href,href:o(c,e.href)},a().createElement(i.Z,{name:e.icon})," ",a().createElement(s.Z,{msgId:e.labelId}))})))))}u.propTypes={options:o().array,actions:o().object,onAction:o().func,resource:o().object,buildHrefByTemplate:o().func},u.defaultProps={options:[],actions:{},resource:{},onAction:function(){},buildHrefByTemplate:function(){}};const d=u},28376:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n.Z});var n=t(285)},34065:(e,r,t)=>{"use strict";t.d(r,{Z:()=>m});var n=t(67294),a=t.n(n),c=t(45697),o=t.n(c),l=t(77593),s=t(60330),i=["resource","readOnly","formatHref"];function u(){return u=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},u.apply(this,arguments)}function d(e){var r,t,n,c=e.resource,o=e.readOnly,d=e.formatHref,m=function(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)t=c[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)t=c[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}(e,i);return m.detailsPanel?a().createElement(s.Z,{readOnly:o,href:d({query:{"filter{owner.username.in}":null===(n=c.owner)||void 0===n?void 0:n.username}})},c.owner&&(0,l.vW)(c.owner)):a().createElement("p",u({className:"card-text gn-card-user"},m),(null===(r=c.owner)||void 0===r?void 0:r.avatar)&&a().createElement("img",{src:c.owner.avatar,alt:(0,l.vW)(c.owner),className:"gn-card-author-image"}),a().createElement(s.Z,{readOnly:o,href:d({query:{"filter{owner.username.in}":null===(t=c.owner)||void 0===t?void 0:t.username}})},c.owner&&(0,l.vW)(c.owner)))}d.propTypes={resource:o().object,readOnly:o().bool,formatHref:o().func,props:o().any},d.defaultProps={resource:{},readOnly:!1,formatHref:function(){return"#"}};const m=d},39399:(e,r,t)=>{"use strict";t.d(r,{Z:()=>l});var n=t(67294),a=t.n(n),c=t(57588);function o(){return o=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},o.apply(this,arguments)}c.Dropdown.Item=c.MenuItem,c.Dropdown.Divider=function(e){return a().createElement(c.MenuItem,o({},e,{divider:!0}))};const l=c.Dropdown},36693:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n.Z});var n=t(39399)},69582:(e,r,t)=>{"use strict";t.d(r,{Z:()=>g});var n=t(67294),a=t.n(n),c=t(5346),o=t(97842),l=t(93473),s=t(51605),i=t(35721),u=t(89239),d=t(60330),m=t(34065),p=t(28376);function f(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var y=(0,n.forwardRef)((function(e,r){var t,y,g=e.data,v=e.active,b=e.options,h=e.formatHref,E=e.getTypesInfo,O=e.layoutCardsStyle,Z=e.buildHrefByTemplate,w=e.readOnly,N=e.actions,j=e.onAction,I=e.className,P=e.loading,k=e.featured,A=e.onClick,T=g,_=E(),H=(_[T.subtype]||_[T.resource_type]||{}).icon,S=T&&(_[T.subtype]||_[T.resource_type])||{},x=S.formatDetailUrl,C=void 0===x?function(e){return null==e?void 0:e.detail_url}:x,D=S.canPreviewed,B=(null==T?void 0:T.pk)&&C(T),q=(null==T?void 0:T.pk)&&D&&D(T),M=(null==T?void 0:T.pk)&&(0,i.J7)(T),R=(t=(0,n.useState)(!1),y=2,function(e){if(Array.isArray(e))return e}(t)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,c=[],o=!0,l=!1;try{for(t=t.call(e);!(o=(n=t.next()).done)&&(c.push(n.value),!r||c.length!==r);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==t.return||t.return()}finally{if(l)throw a}}return c}}(t,y)||function(e,r){if(e){if("string"==typeof e)return f(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?f(e,r):void 0}}(t,y)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),W=R[0],F=R[1],U="list"===O?"card-img-left":"card-img-top";return a().createElement("div",{ref:r,onClick:function(){A(g)},className:"gn-resource-card".concat(v?" active":"").concat(w?" read-only":""," gn-card-type-").concat(O," ").concat("list"===O?"rounded-0":"").concat(I?" ".concat(I):"")},!w&&a().createElement("a",{className:"gn-resource-card-link",href:h({pathname:"/detail/".concat(T.resource_type,"/").concat(T.pk)})}),!w&&b&&b.length>0&&"grid"===O&&a().createElement(p.Z,{buildHrefByTemplate:Z,actions:N,resource:T,options:b,readOnly:w,onAction:j}),a().createElement("div",{className:"card-resource-".concat(O)},W?a().createElement("div",{className:"".concat(U," card-img-placeholder")}):a().createElement("img",{className:U,src:T.thumbnail_url,onError:function(){return F(!0)}}),a().createElement("div",{className:"gn-resource-card-body-wrapper"},a().createElement("div",{className:"card-body"},a().createElement("div",{className:"card-title"},H&&!P&&a().createElement(a().Fragment,null,a().createElement(d.Z,{readOnly:w,href:h({query:{"filter{resource_type.in}":T.resource_type}})},a().createElement(o.Z,{name:H}))),P&&a().createElement(s.Z,null),a().createElement(d.Z,{className:k?"gn-featured-card-title":"gn-card-title",readOnly:w,href:h({pathname:"/detail/".concat(T.resource_type,"/").concat(T.pk)})},T.title)),a().createElement(u.Z,{resource:T}),a().createElement("p",{className:"card-text gn-card-description"},T.raw_abstract?T.raw_abstract:"..."),!w&&b&&b.length>0&&"list"===O&&a().createElement(p.Z,{buildHrefByTemplate:Z,actions:N,resource:T,options:b,readOnly:w,onAction:j})),a().createElement("div",{className:"gn-footer-wrapper"},a().createElement("div",{className:"gn-card-footer",style:{padding:b&&0===b.length?"0 0.25rem 0 0.5rem":"0 0.5rem"}},a().createElement(m.Z,{resource:T,readOnly:w,formatHref:h}),a().createElement("div",{className:"gn-card-actions"},!w&&(B||M)&&a().createElement("div",{className:"".concat(b&&0===b.length?"gn-card-view-editor-right":"gn-card-view-editor")},a().createElement(l.Z,{variant:"primary",href:q?B:M,rel:"noopener noreferrer"},a().createElement(c.Z,{msgId:"gnhome.view"})))))))))}));y.defaultProps={links:[],theme:"light",getTypesInfo:i.NN,formatHref:function(){return"#"},featured:!1,onClick:function(){}};const g=y},57914:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n.Z});var n=t(69582)},99469:(e,r,t)=>{"use strict";t.d(r,{Z:()=>m});var n=t(67294),a=t.n(n),c=t(5346),o=t(45697),l=t.n(o),s=t(41609),i=t.n(s),u=t(35721),d=function(e){var r=e.resource,t=void 0===r?{}:r,n=(0,u.fu)(t),o=n.isApproved,l=n.isPublished,s=n.isProcessing,d=n.isCopying,m=n.isDeleting,p=n.isDeleted;return i()(t)?null:a().createElement("p",{className:"gn-resource-status-text"},!s&&!o&&a().createElement("span",{className:"gn-resource-status gn-resource-status-pending"},a().createElement(c.Z,{msgId:"gnviewer.notApproved"})),!s&&!o&&!l&&a().createElement("span",{className:"gn-resource-status gn-resource-status-pending"}," ","-"," "),!s&&!l&&a().createElement("span",{className:"gn-resource-status gn-resource-status-pending"},a().createElement(c.Z,{msgId:"gnhome.unpublished"})),m&&a().createElement("span",{className:"gn-resource-status gn-resource-status-danger"},a().createElement(c.Z,{msgId:"gnviewer.deleting"})),p&&a().createElement("span",{className:"gn-resource-status gn-resource-status-danger"},a().createElement(c.Z,{msgId:"gnviewer.deleted"})),d&&a().createElement("span",{className:"gn-resource-status gn-resource-status-primary"},a().createElement(c.Z,{msgId:"gnviewer.cloning"})))};d.propTypes={isApproved:l().bool,isPublished:l().bool},d.defaultProps={isApproved:!0,isPublished:!0};const m=d},89239:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n.Z});var n=t(99469)},28261:(e,r,t)=>{"use strict";t.d(r,{Z:()=>u});var n=t(67294),a=t.n(n),c=t(45697),o=t.n(c),l=["id","className","style","children"];function s(){return s=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},s.apply(this,arguments)}function i(e){var r=e.id,t=e.className,n=e.style,c=e.children,o=function(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)t=c[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)t=c[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}(e,l),i=t?" "+t:"";return a().createElement(a().Fragment,null,a().createElement("div",s({},o,{id:r,className:"gn-spinner".concat(i),style:n}),a().createElement("div",null)),c)}i.propTypes={id:o().string,className:o().string,style:o().object},i.defaultProps={};const u=i},51605:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n.Z});var n=t(28261)}}]);