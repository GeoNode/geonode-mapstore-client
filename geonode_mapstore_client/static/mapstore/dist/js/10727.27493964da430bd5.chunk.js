(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[10727],{926560:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(916589),o=n(739875),i=n(509820);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var l=["renderPopover","popoverOptions"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t,n){return(t=function(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s=(0,r.compose)((0,r.withProps)((function(e){var t=e.renderPopover,n=e.popoverOptions;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(t?{renderPopover:t,popoverOptions:n}:{},function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,l))})),(0,r.branch)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.renderPopover,n=e.popoverOptions;return t&&!!n}),i.A,o.A))},509820:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(273517),o=n.n(r),i=n(551258),a=n(8117),l=n(590179),u=n.n(l),c=n(310340),s=n.n(c);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}var f=["popoverOptions","keyProp"];function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(null,arguments)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function v(e){var t=function(e){if("object"!=d(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==d(t)?t:t+""}function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(g=function(){return!!e})()}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}const h=function(e){return function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t,n){return t=b(t),function(e,t){if(t&&("object"==d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,g()?Reflect.construct(t,n||[],b(e).constructor):t.apply(e,n))}(this,n,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(n,t),r=n,l=[{key:"render",value:function(){var t=null,n=this.props,r=n.popoverOptions,l=n.keyProp,c=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(n,f);return o().createElement("span",{className:"mapstore-info-popover"},o().createElement(e,p({},u()(c,["renderPopover","tooltipId"]),{key:l,ref:function(e){t=e}})),o().createElement(i.A,{placement:r.placement,shouldUpdatePosition:!0,show:!0,target:function(){return s().findDOMNode(t)}},o().createElement(a.AM,r.props,r.content)))}}],l&&m(r.prototype,l),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,l}(o().Component)}},628304:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(273517),o=n.n(r),i=n(8117),a=n(711030),l=["disabled","id","visible","onClick","glyph","active","className"];function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(null,arguments)}var c={width:0,padding:0,borderWidth:0},s={},d=function(e){return e?s:c};const f=(0,r.forwardRef)((function(e,t){var n=e.disabled,r=e.id,c=e.visible,s=e.onClick,f=e.glyph,p=e.active,m=e.className,v=void 0===m?"square-button-md":m,g=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,l);return o().createElement(a.A,u({ref:t},g,{bsStyle:p?"success":"primary",disabled:n,id:"fg-".concat(r),style:d(c),className:v,onClick:function(){return!n&&s()}}),o().createElement(i.e6,{glyph:f}))}))},551258:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(380959).A)(n(8117).hJ)},159686:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(916589),o=n(245528),i=n(45388),a=n.n(i);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return(t=function(e){var t=function(e){if("object"!=l(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==l(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=(0,r.mapPropsStreamWithConfig)(o.A);const f=(0,r.compose)((0,r.defaultProps)({dataStreamFactory:function(){return a().Observable.of({})}}),d((function(e){return e.take(1).switchMap((function(t){return t.dataStreamFactory(e.startWith(t),t)})).combineLatest(e,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c(c({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),e)}))})))},989924:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Ze,selector:()=>Ue});var r=n(273517),o=n.n(r),i=n(811668),a=n(801081),l=n(706702),u=n(858156),c=n.n(u),s=n(244383),d=n.n(s),f=n(302404),p=n.n(f),m=n(916589),v=n(798448),g=n(993456),b=n(263809),y=n(154150),h=n(525859),O=n(762686),w=n(97401),S=n(806653),E=n(401631),P=n(91629),C=n(406250),j=n(347018),k=n(742466),A=n(8117),T=n(750042),I=n.n(T),x=n(711030),D=n(8571),F=n(785072),N=n.n(F),M=n(87538);N()(M.A,{insert:"head",singleton:!1}),M.A.locals;var z=n(333031),Y=n.n(z),B=n(926560),V=n(628304),G=n(477937),L=n(29628);N()(L.A,{insert:"head",singleton:!1}),L.A.locals;var _=n(32485),W=n.n(_);function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}var q=["disabled","id","visible","onClick","active","title","buttonClassName","menuStyle","className","children","onMount"];function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R.apply(null,arguments)}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e,t,n){return(t=function(e){var t=function(e){if("object"!=H(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=H(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==H(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const J=(0,r.forwardRef)((function(e,t){var n,i,a=e.disabled,l=e.id,u=e.visible,c=e.onClick,s=e.active,d=e.title,f=e.buttonClassName,p=void 0===f?"square-button-md":f,m=e.menuStyle,v=void 0===m?{}:m,b=e.className,y=e.children,h=e.onMount,O=void 0===h?function(){}:h,w=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,q),S=(n=(0,r.useState)(!1),i=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(n,i)||function(e,t){if(e){if("string"==typeof e)return Q(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,t):void 0}}(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),E=S[0],P=S[1];return(0,r.useEffect)((function(){"function"==typeof O&&O()}),[]),!!u&&o().createElement(g.A,null,o().createElement(A.ms,{className:W()(X({"split-button":!0},b?Z({},b,!0):{})),open:E,onToggle:function(e,t){t&&P(e)}},o().createElement(A.$n,R({ref:t,id:l,onClick:function(){return!a&&c()},className:p,bsStyle:s?"success":"primary"},w),d),o().createElement(A.ms.Toggle,{bsStyle:s?"success":"primary"}),o().createElement(A.ms.Menu,{style:v,onSelect:function(e){["number","text"].includes(e.target.type)?P(!0):P(!E)}},y)))}));var $=n(192016),K=n(444003);function ee(e){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(e)}var te=["position"];function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ne.apply(null,arguments)}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e,t,n){return(t=function(e){var t=function(e){if("object"!=ee(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ee(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ee(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var le=(0,B.A)(V.A),ue=(0,B.A)(J),ce=function(e,t){return e?"featuregrid.toolbar.stopDrawGeom":t?"featuregrid.toolbar.drawGeom":"featuregrid.toolbar.addGeom"},se=function(e){var t=e.saving,n=e.saved;return t||n?"featuregrid.toolbar.saving":"featuregrid.toolbar.saveChanges"},de={editMode:function(e){var t=e.disabled,n=e.mode,r=e.isEditingAllowed,i=e.layer,a=e.events,l=void 0===a?{}:a;return o().createElement(le,{id:"edit-mode",keyProp:"edit-mode",tooltipId:"featuregrid.toolbar.editMode",disabled:t,visible:"VIEW"===n&&r&&(0,h.Dx)(i),onClick:l.switchEditMode,glyph:"pencil"})},filter:function(e){var t=e.isFilterActive,n=void 0!==t&&t,r=e.viewportFilter,i=e.disabled,a=e.isSearchAllowed,l=e.mode,u=e.showAdvancedFilterButton,c=void 0===u||u,s=e.events,d=void 0===s?{}:s;return o().createElement(le,{id:"search",keyProp:"search",tooltipId:"featuregrid.toolbar.advancedFilter",active:n||r,disabled:i||!a,visible:"VIEW"===l&&c,onClick:d.showQueryPanel,glyph:"filter"})},zoomAll:function(e){var t=e.disabled,n=e.disableZoomAll,r=void 0!==n&&n,i=e.mode,a=e.events,l=void 0===a?{}:a;return o().createElement(le,{id:"zoom-all",keyProp:"zoom-all",tooltipId:"featuregrid.toolbar.zoomAll",disabled:t||r,visible:"VIEW"===i,onClick:l.zoomAll,glyph:"zoom-to"})},backToViewMode:function(e){var t=e.disabled,n=e.mode,r=e.hasChanges,i=e.hasNewFeatures,a=e.events,l=void 0===a?{}:a;return o().createElement(le,{id:"back-view",keyProp:"back-view",tooltipId:"featuregrid.toolbar.quitEditMode",disabled:t,visible:"EDIT"===n&&!r&&!i,onClick:l.switchViewMode,glyph:"arrow-left"})},addFeature:function(e){var t=e.disabled,n=e.mode,r=e.hasNewFeatures,i=e.hasChanges,a=e.hasSupportedGeometry,l=void 0===a||a,u=e.events,c=void 0===u?{}:u;return o().createElement(le,{id:"add-feature",keyProp:"add-feature",tooltipId:"featuregrid.toolbar.addNewFeatures",disabled:t,visible:"EDIT"===n&&!r&&!i&&l,onClick:c.createFeature,glyph:"row-add"})},drawFeature:function(e){var t=e.isDrawing,n=void 0!==t&&t,r=e.disabled,i=e.isSimpleGeom,a=e.mode,l=e.selectedCount,u=e.hasGeometry,c=e.hasSupportedGeometry,s=void 0===c||c,d=e.events,f=void 0===d?{}:d;return o().createElement(le,{id:"draw-feature",keyProp:"draw-feature",tooltipId:ce(n,i),disabled:r,visible:"EDIT"===a&&1===l&&(!u||u&&!i)&&s,onClick:f.startDrawingFeature,active:n,glyph:"pencil-add"})},removeFeature:function(e){var t=e.disabled,n=e.mode,r=e.selectedCount,i=e.hasChanges,a=e.hasNewFeatures,l=e.events,u=void 0===l?{}:l;return o().createElement(le,{id:"remove-features",keyProp:"remove-features",tooltipId:"featuregrid.toolbar.deleteSelectedFeatures",disabled:t,visible:"EDIT"===n&&r>0&&!i&&!a,onClick:u.deleteFeatures,glyph:"trash-square"})},saveFeature:function(e){var t=e.saving,n=void 0!==t&&t,r=e.saved,i=void 0!==r&&r,a=e.disabled,l=e.mode,u=e.hasChanges,c=e.hasNewFeatures,s=e.events,d=void 0===s?{}:s;return o().createElement(le,{id:"save-feature",keyProp:"save-feature",tooltipId:se({saving:n,saved:i}),disabled:n||i||a,visible:"EDIT"===l&&u||c,active:i,onClick:d.saveChanges,glyph:"floppy-disk"})},cancelEditing:function(e){var t=e.disabled,n=e.mode,r=e.hasChanges,i=e.hasNewFeatures,a=e.events,l=void 0===a?{}:a;return o().createElement(le,{id:"cancel-editing",keyProp:"cancel-editing",tooltipId:"featuregrid.toolbar.cancelChanges",disabled:t,visible:"EDIT"===n&&r||i,onClick:l.clearFeatureEditing,glyph:"remove-square"})},deleteGeometry:function(e){var t=e.disabled,n=e.mode,r=e.hasGeometry,i=e.selectedCount,a=e.hasSupportedGeometry,l=void 0===a||a,u=e.events,c=void 0===u?{}:u;return o().createElement(le,{id:"delete-geometry",keyProp:"delete-geometry",tooltipId:"featuregrid.toolbar.deleteGeometry",disabled:t,visible:"EDIT"===n&&r&&1===i&&l,onClick:c.deleteGeometry,glyph:"polygon-trash"})},gridSettings:function(e){var t=e.disabled,n=e.isColumnsOpen,r=e.selectedCount,i=e.mode,a=e.events,l=void 0===a?{}:a;return o().createElement(le,{id:"grid-settings",keyProp:"grid-settings",tooltipId:"featuregrid.toolbar.hideShowColumns",disabled:t,active:n,visible:r<=1&&"VIEW"===i,onClick:l.settings,glyph:"features-grid-set"})},syncGridFilterToMap:function(e){var t=e.disabled,n=e.isSyncActive,r=void 0!==n&&n,i=e.showSyncOnMapButton,a=void 0===i||i,l=e.events,u=void 0===l?{}:l,c=e.syncPopover,s=void 0===c?{dockSize:"32.2%"}:c,d=e.showPopoverSync,f=e.hideSyncPopover;return o().createElement(le,{id:"grid-map-filter",keyProp:"grid-map-filter",tooltipId:"featuregrid.toolbar.syncOnMap",disabled:t,active:r,visible:a,onClick:u.sync,glyph:"map-filter",renderPopover:d,popoverOptions:!t&&{placement:"top",content:o().createElement("span",null,o().createElement("p",null,o().createElement(D.A,{msgId:"featuregrid.toolbar.synchPopoverText"})),o().createElement("p",null,o().createElement(A.Sc,{checked:s.showAgain,onClick:u.toggleShowAgain},o().createElement(D.A,{msgId:"featuregrid.toolbar.notShowAgain"})))),props:{id:"sync-popover",title:o().createElement("div",null,o().createElement(D.A,{msgId:"featuregrid.toolbar.synchPopoverTitle"}),o().createElement("button",{onClick:function(){if(s.showAgain)try{(0,G.x4)().setItem("showPopoverSync",!1)}catch(e){console.error(e)}f()},className:"close"},o().createElement(A.e6,{className:"pull-right",glyph:"1-close"}))),style:{bottom:s.dockSize}}}})},syncTimeParameter:function(e){var t=e.timeSync,n=e.showTimeSyncButton,r=void 0!==n&&n,i=e.events,a=void 0===i?{}:i;return o().createElement(le,{id:"timeSync-button",keyProp:"fg-timeSync-button",tooltipId:t?"featuregrid.toolbar.disableTimeSync":"featuregrid.toolbar.enableTimeSync",visible:r,active:t,onClick:function(){return a.setTimeSync&&a.setTimeSync(!t)},glyph:"time"})},snapToFeature:function(e){var t,n,r,i,a,l,u,c,s,d,f,p,m,v=e.snapping,g=e.availableSnappingLayers,b=void 0===g?[]:g,y=e.isSnappingLoading,h=e.snappingConfig,O=e.mode,w=e.mapType,S=e.editorHeight,E=e.pluginCfg,P=e.events,C=void 0===P?{}:P;return o().createElement(ue,{id:"snap-button",keyProp:"snap-button",tooltipId:v?"featuregrid.toolbar.disableSnapping":"featuregrid.toolbar.enableSnapping",visible:"EDIT"===O&&(null===(t=null==E?void 0:E.snapTool)||void 0===t||t)&&w===K.Av.OPENLAYERS,onClick:function(){C.toggleSnapping&&C.toggleSnapping(!v)},onMount:function(){return!h&&C.setSnappingConfig&&C.setSnappingConfig(null,null,E)},title:y?o().createElement(I(),{spinnerName:"ball-beat",overrideSpinnerClassName:"spinner",key:"loadingSpinner",noFadeIn:!0}):o().createElement(A.e6,{glyph:"magnet"}),tooltipPosition:"top",className:"snap-tool",buttonClassName:"square-button-md no-border",menuStyle:{maxHeight:"calc(".concat(Math.round(100*S),"vh - 50px)"),overflowY:"auto"},active:!!v,pullLeft:!0},o().createElement(o().Fragment,null,o().createElement("label",{className:"control-label"},o().createElement(D.A,{msgId:"featuregrid.toolbar.snapToLayer"})),o().createElement($.Ay,{clearable:!1,escapeClearsValue:!1,options:b,onChange:function(e){return C.setSnappingLayer(e.value)},value:b.find((function(e){return e.active}))})),o().createElement("label",{className:"control-label"},o().createElement(D.A,{msgId:"featuregrid.toolbar.snappingSettings.header"})),o().createElement(A.gE,null,o().createElement(A.fv,{xs:6},o().createElement(A.Sc,{key:"edge",checked:null===(n=null!==(r=null==h?void 0:h.edge)&&void 0!==r?r:null==E||null===(i=E.snapConfig)||void 0===i?void 0:i.edge)||void 0===n||n,inline:!0,onChange:function(e){return C.setSnappingConfig(e.target.checked,"edge",E)}},o().createElement(D.A,{msgId:"featuregrid.toolbar.snappingSettings.edge"}))),o().createElement(A.fv,{xs:6},o().createElement(A.Sc,{key:"vertex",checked:null===(a=null!==(l=null==h?void 0:h.vertex)&&void 0!==l?l:null==E||null===(u=E.snapConfig)||void 0===u?void 0:u.vertex)||void 0===a||a,inline:!0,onChange:function(e){return C.setSnappingConfig(e.target.checked,"vertex",E)}},o().createElement(D.A,{msgId:"featuregrid.toolbar.snappingSettings.vertex"}))),o().createElement("span",{className:"clearfix"})),o().createElement(A.gE,null,o().createElement(A.fv,{xs:7},o().createElement("span",{className:"inline-control-label"},o().createElement(D.A,{msgId:"featuregrid.toolbar.snappingSettings.pixelTolerance"}))),o().createElement(A.fv,{xs:5},o().createElement(A.MJ,{key:"pixelTolerance",type:"number",onChange:function(e){return C.setSnappingConfig(e.target.value,"pixelTolerance",E)},defaultValue:null!==(c=null!==(s=null==h?void 0:h.pixelTolerance)&&void 0!==s?s:null==E||null===(d=E.snapConfig)||void 0===d?void 0:d.pixelTolerance)&&void 0!==c?c:10})),o().createElement("span",{className:"clearfix"})),o().createElement(A.gE,null,o().createElement(A.fv,{xs:7},o().createElement("span",{className:"inline-control-label"},o().createElement(D.A,{msgId:"featuregrid.toolbar.snappingSettings.loadingStrategy"}))),o().createElement(A.fv,{xs:5},o().createElement(A.MJ,{componentClass:"select",defaultValue:null!==(f=null!==(p=null==h?void 0:h.strategy)&&void 0!==p?p:null==E||null===(m=E.snapConfig)||void 0===m?void 0:m.strategy)&&void 0!==f?f:"bbox",onChange:function(e){return C.setSnappingConfig(e.target.value,"strategy",E)}},o().createElement("option",{value:"bbox"},"bbox"),o().createElement("option",{value:"all"},"all"))),o().createElement("span",{className:"clearfix"})))},viewportFilter:function(e){var t,n=e.viewportFilter,r=e.isFilterByViewportSupported,i=e.pluginCfg,a=e.events,l=void 0===a?{}:a;return o().createElement(le,{id:"viewportFilter-button",keyProp:"viewportFilter-button",tooltipId:n?"featuregrid.toolbar.disableViewportFilter":"featuregrid.toolbar.enableViewportFilter",visible:(null===(t=null==i?void 0:i.showFilterByViewportTool)||void 0===t||t)&&r,onClick:function(){l.setViewportFilter&&l.setViewportFilter(!n)},glyph:"viewport-filter",tooltipPosition:"top",className:"viewportFilter-tool",buttonClassName:"square-button-md no-border",active:null!=n?n:null==i?void 0:i.filterByViewport,pullLeft:!0})}},fe=[{name:"editMode",Component:de.editMode},{name:"backToViewMode",Component:de.backToViewMode},{name:"addFeature",Component:de.addFeature},{name:"drawFeature",Component:de.drawFeature},{name:"removeFeature",Component:de.removeFeature},{name:"saveFeature",Component:de.saveFeature},{name:"cancelEditing",Component:de.cancelEditing},{name:"deleteGeometry",Component:de.deleteGeometry},{name:"filter",Component:de.filter},{name:"viewportFilter",Component:de.viewportFilter},{name:"zoomAll",Component:de.zoomAll},{name:"gridSettings",position:900,Component:de.gridSettings},{name:"snap",position:1300,Component:de.snapToFeature},{name:"syncGridFilterToMap",position:1100,Component:de.syncGridFilterToMap},{name:"syncTimeParameter",Component:de.syncTimeParameter}].map((function(e,t){var n=e.position;return ie(ie({},function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,te)),{},{position:null!=n?n:t})}));const pe=o().memo((function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.toolbarItems,i=void 0===r?[]:r,a=n.pluginCfg,l=void 0===a?{showPopoverSync:!1}:a,u=(e=o().useState(null!==(0,G.x4)().getItem("showPopoverSync")&&null!=l&&l.showPopoverSync?"true"===(0,G.x4)().getItem("showPopoverSync"):null==l?void 0:l.showPopoverSync),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return re(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?re(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=u[0],s=u[1];return o().useEffect((function(){c&&"EDIT"===n.mode?s(!1):c||"EDIT"===n.mode||s(null!==(0,G.x4)().getItem("showPopoverSync")&&null!=l&&l.showPopoverSync?"true"===(0,G.x4)().getItem("showPopoverSync"):null==l?void 0:l.showPopoverSync)}),[n.mode]),o().createElement(A.e2,{id:"featuregrid-toolbar",className:"featuregrid-toolbar featuregrid-toolbar-margin"},Y()(fe.concat(i),["position"]).map((function(e){var t,r=e.Component;return o().createElement(r,ne({},n,{showPopoverSync:c,hideSyncPopover:function(){return s(!1)},mode:null!==(t=null==n?void 0:n.mode)&&void 0!==t?t:"VIEW",disabled:n.disableToolbar}))})))}));var me=n(747135),ve=n(214158),ge=n(115263),be=n(481458);const ye=(0,i.connect)((function(e){return{attributes:(0,E.lT)(e),fields:(0,E.BQ)(e)}}),{onChange:function(e,t){return(0,O._w)(e,"hide",t)}})((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style,n=void 0===t?{}:t,r=e.titleMsg,i=void 0===r?"featuregrid.columns":r,a=e.onChange,l=void 0===a?function(){}:a,u=e.attributes,c=void 0===u?[]:u;return o().createElement("div",{className:"bg-body data-attribute-selector",style:n},o().createElement("h4",{className:"text-center"},o().createElement("strong",null,o().createElement(D.A,{msgId:i}))),o().createElement("div",null,c.map((function(e){var t=(0,be.dj)(e.label,e.attribute);return o().createElement(A.Sc,{key:e.attribute||e.name,checked:!e.hide,onChange:function(){return l(e.attribute,!e.hide)}},o().createElement(be.Ay,{value:t}))}))))}));var he=n(538359);function Oe(e){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe(e)}function we(){return we=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},we.apply(null,arguments)}function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){Pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pe(e,t,n){return(t=function(e){var t=function(e){if("object"!=Oe(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Oe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Oe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ce=(0,i.connect)((0,a.j8)({loading:S.qd}))(j.A),je=(0,i.connect)((0,a.j8)({saving:E.ks,saved:E.hc,mode:E.XU,hasChanges:E.x_,hasNewFeatures:E.rV,hasGeometry:E.eN,syncPopover:function(e){return{showAgain:(0,E.Dd)(e),dockSize:(0,w.o7)(e,{dockSize:!0}).dockSize+3.2+"%"}},isDrawing:E.Ax,isSimpleGeom:E.en,selectedCount:E.g,disableToolbar:function(e){return e&&e.featuregrid&&e.featuregrid.disableToolbar||!(0,S.j5)(e,(0,E.nO)(e))},results:S.Yd,isSyncActive:S.jR,isColumnsOpen:function(e){return e&&e.featuregrid&&e.featuregrid.tools&&e.featuregrid.tools.settings},disableZoomAll:function(e){return e&&e.featuregrid.virtualScroll||0===(0,S.Hb)(e).features.length},isSearchAllowed:function(e){return!(0,me.NR)(e)},isEditingAllowed:E.mQ,hasSupportedGeometry:E.jI,isFilterActive:S.z7,showTimeSyncButton:E.OT,timeSync:E.te,snapping:he.X0,availableSnappingLayers:he.IO,isSnappingLoading:he.BD,snappingConfig:he.ht,mapType:me.GS,editorHeight:E.DT,viewportFilter:E.N9,isFilterByViewportSupported:E.cY,layer:E.IT}),(function(e){return{events:(0,l.zH)(ge.DD,e)}}))(pe),ke=(0,i.connect)((0,a.Mz)(E.gY,(function(e){return{title:e}})),{onClose:ge.DD.onClose})((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{onDownloadToggle:function(){}};return o().createElement("div",{className:"data-grid-top-toolbar"},o().createElement("div",{className:"data-grid-top-toolbar-left"},e.children),!e.hideLayerTitle&&o().createElement("div",{className:"data-grid-top-toolbar-title"},e.title),o().createElement("div",{className:"data-grid-top-toolbar-right"},!e.hideCloseButton&&o().createElement(x.A,{onClick:e.onClose,className:"square-button-md no-border featuregrid-top-toolbar-margin"},o().createElement(A.e6,{glyph:"1-close"}))))})),Ae=(0,i.connect)((0,a.Mz)((0,a.j8)(S.Be),S.qd,(function(e){return e&&e.featuregrid&&!!e.featuregrid.virtualScroll}),E.g,(function(e,t,n,r){return Ee(Ee({},e),{},{selected:r,loading:t,virtualScroll:n})})),ge.HS)((function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,onPageChange:function(){}},r=(0,h.ZF)(n),i=r.page,a=void 0===i?0:i,l=r.size,u=void 0===l?0:l,c=r.resultSize,s=void 0===c?0:c,d=r.maxPages,f=void 0===d?0:d,p=r.total,m=void 0===p?0:p;return o().createElement(A.xA,{className:"bg-body data-grid-bottom-toolbar",fluid:!0,style:{width:"100%"}},o().createElement(A.fI,{className:"featuregrid-toolbar-margin"},o().createElement(A.fv,{md:3},o().createElement("span",null,o().createElement(D.A,{msgId:n.virtualScroll?"featuregrid.resultInfoVirtual":"featuregrid.resultInfo",msgParams:{start:a*u+1,end:a*u+s,total:m,selected:null!==(e=n.selected)&&void 0!==e?e:0}}))," ",n.selected>0?o().createElement("span",null,o().createElement(D.A,{msgId:"featuregrid.selectedInfo",msgParams:{selected:null!==(t=n.selected)&&void 0!==t?t:0}})):null),n.virtualScroll?null:o().createElement(A.fv,{className:"text-center",md:6},o().createElement(x.A,{key:"first-page",onClick:function(){return n.onPageChange(0)},disabled:0===a,className:"no-border first-page"},o().createElement(A.e6,{glyph:"step-backward"})),o().createElement(x.A,{key:"prev-page",onClick:function(){return n.onPageChange(a-1)},disabled:0===a,className:"no-border prev-page"},o().createElement(A.e6,{glyph:"chevron-left"})),o().createElement("span",{key:"page-info"},o().createElement(D.A,{msgId:"featuregrid.pageInfo",msgParams:{page:a+1,totalPages:f+1}})),o().createElement(x.A,{key:"next-page",onClick:function(){return n.onPageChange(a+1)},className:"no-border next-page",disabled:a>=f},o().createElement(A.e6,{glyph:"chevron-right"})),o().createElement(x.A,{key:"last-page",onClick:function(){return n.onPageChange(f)},className:"no-border last-page",disabled:a>=f},o().createElement(A.e6,{glyph:"step-forward"})))," ",o().createElement(A.fv,{md:3},n.loading?o().createElement("span",{style:{float:"right"}},o().createElement(D.A,{msgId:"loading"}),o().createElement(I(),{spinnerName:"circle",style:{float:"right"},noFadeIn:!0})):null)))})),Te=(0,i.connect)((0,a.Mz)(E.g,(function(e){return{count:e}})),{onClose:function(){return(0,O.bU)("deleteConfirm",!1)},onConfirm:function(){return(0,O.Nq)()}})((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onClose,n=void 0===t?function(){}:t,r=e.saving,i=void 0!==r&&r,a=e.count,l=e.onConfirm,u=void 0===l?function(){}:l;return o().createElement(C.A,null,o().createElement(P.A,{show:!0,onCancel:n,onConfirm:u,variant:"danger",confirmId:"featuregrid.deleteButton",cancelId:"featuregrid.noButton",preventHide:!0,titleId:"featuregrid.delete",titleParams:{count:a},disabled:i}))})),Ie=(0,i.connect)((0,a.Mz)(E.g,(function(e){return{count:e}})),{onClose:function(){return(0,O.bU)("clearConfirm",!1)},onConfirm:function(){return(0,O.X_)()}})((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onClose,n=void 0===t?function(){}:t,r=e.saving,i=void 0!==r&&r,a=e.onConfirm,l=void 0===a?function(){}:a;return o().createElement(C.A,null,o().createElement(P.A,{show:!0,onCancel:n,onConfirm:l,variant:"danger",titleId:"featuregrid.clear",confirmId:"featuregrid.yesButton",cancelId:"featuregrid.noButton",disabled:i}))})),xe=(0,i.connect)((function(){return{}}),{onClose:function(){return(0,O.aA)()},onConfirm:function(){return(0,O.xp)()}})((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onClose,n=void 0===t?function(){}:t,r=e.saving,i=void 0!==r&&r,a=e.onConfirm,l=void 0===a?function(){}:a;return o().createElement(C.A,null,o().createElement(P.A,{show:!0,onCancel:n,onConfirm:l,variant:"danger",confirmId:'featuregrid.yesButton"',cancelId:"featuregrid.noButton",preventHide:!0,titleId:"featuregrid.featureClose",disabled:i}))})),De={settings:ye},Fe={deleteConfirm:Te,featureCloseConfirm:xe,clearConfirm:Ie},Ne={settings:{style:{padding:"0 12px",overflow:"auto",flex:"0 0 14em",boxShadow:"inset 0px 0px 10px rgba(0, 0, 0, 0.4)",height:"100%",minWidth:195}}},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).filter((function(t){return e[t]&&De[t]})).map((function(e){var t=De[e];return o().createElement(t,we({key:e},Ne[e]||{}))}))},ze=function(e){var t=e.hideCloseButton,n=e.hideLayerTitle,r=e.toolbarItems,i=e.pluginCfg;return o().createElement(ke,{hideCloseButton:t,hideLayerTitle:n},o().createElement(je,{pluginCfg:i,toolbarItems:r}))},Ye=function(e){return e.focusOnEdit&&e.hasChanges||e.newFeatures.length>0?null:o().createElement(Ae,null)},Be=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return e?((0,ve.Mm)(e)||[]).reduce((function(e,r){var o,l,u=t.find((function(e){return e.name===r.name}));return Ee(Ee({},e),{},Pe({},r.name,(0,i.connect)((0,a.Mz)((function(e){return(0,E.d3)(e,r.name)}),E.XU,(function(e,t){var n=Ee({value:e&&(e.rawValue||e.value),operator:e&&e.operator},(0,ve.zd)(r)?{filterEnabled:null==e?void 0:e.enabled,filterDeactivated:null==e?void 0:e.deactivated}:{}),o=(0,ve.zd)(r)?{}:{disabled:!0,tooltipMsgId:"featuregrid.filter.tooltips.editMode"};return"EDIT"===t?Ee(Ee({},n),o):n})))((0,k.q5)({type:(0,ve.zd)(r)?"geometry":r.localType,name:null==u||null===(o=u.filterRenderer)||void 0===o?void 0:o.name,options:null==u||null===(l=u.filterRenderer)||void 0===l?void 0:l.options,isWithinAttrTbl:n}))))}),{}):{}};function Ve(e){return Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ve(e)}function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _e(e,t,n){return(t=function(e){var t=function(e){if("object"!=Ve(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ve(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ve(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function We(){return We=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},We.apply(null,arguments)}var He=[],qe={},Re=(0,i.connect)((0,a.Mz)(E.DT,(function(e){return(0,w.o7)(e,{transform:!0})}),(function(e,t){return{size:e,dockStyle:t}})))(v.A),Ue=(0,a.j8)({open:function(e){return c()(e,"featuregrid.open")},customEditorsOptions:function(e){return c()(e,"featuregrid.customEditorsOptions")},autocompleteEnabled:function(e){return c()(e,"queryform.autocompleteEnabled")},url:function(e){return(0,S.BB)(e)},typeName:function(e){return(0,S.lb)(e)},features:function(e){return c()(e,"featuregrid.features")||He},describe:S.r5,fields:E.BQ,attributes:function(e){return c()(e,"featuregrid.attributes")},tools:function(e){return c()(e,"featuregrid.tools")},select:E.e7,mode:E.XU,changes:function(e){return(0,h.Fo)((0,E.xX)(e))},newFeatures:function(e){return(0,E.zS)(e)||He},hasChanges:E.x_,focusOnEdit:function(e){return c()(e,"featuregrid.focusOnEdit",!1)},enableColumnFilters:function(e){return c()(e,"featuregrid.enableColumnFilters")},pagination:(0,a.j8)(S.Be),pages:function(e){return c()(e,"featuregrid.pages")},size:function(e){return c()(e,"featuregrid.pagination.size")}}),Xe=(0,m.compose)((0,m.defaultProps)({isWithinAttrTbl:!0}),(0,i.connect)((function(e){return{isSyncWmsActive:(0,S.jR)(e)}}),(function(e){return{onMount:(0,l.zH)(O.s,e),setSyncTool:(0,l.zH)(O.iB,e)}})),(0,m.lifecycle)({componentDidMount:function(){this.props.onMount(d()(this.props,["showFilteredObject","showTimeSync","timeSync","customEditorsOptions"])),this.props.isSyncWmsActive||(this.props.enableMapFilterSync?this.props.setSyncTool(!0):this.props.setSyncTool(!1))},componentDidUpdate:function(e){var t=d()(this.props,["showFilteredObject","showTimeSync","timeSync","customEditorsOptions"]),n=d()(e,["showFilteredObject","showTimeSync","timeSync","customEditorsOptions"]);p()(t,n)||this.props.onMount(t)}}),(0,i.connect)(Ue,(function(e){return{gridEvents:(0,l.zH)(ge.uE,e),pageEvents:(0,l.zH)(ge.HS,e),toolbarEvents:(0,l.zH)(ge.DD,e),gridTools:ge.qq.map((function(t){return Le(Le({},t),{},{events:(0,l.zH)(t.events,e)})})),onSizeChange:function(){return e(O.S8.apply(void 0,arguments))}}})))((function(){var e,t,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{tools:qe,dialogs:qe,select:He},a=null===(e=i.virtualScroll)||void 0===e||e,l=null==i||null===(t=i.pluginCfg)||void 0===t?void 0:t.maxZoom,u={dimMode:"none",defaultSize:.35,fluid:!0,isVisible:i.open,maxDockSize:.7,minDockSize:.1,position:"bottom",setDockSize:function(){},zIndex:1060},c=(null!==(n=null==i?void 0:i.items)&&void 0!==n?n:[]).filter((function(e){return"toolbar"===e.target})),s=(0,r.useMemo)((function(){return Be(i.describe,i.fields,i.isWithinAttrTbl)}),[i.describe,i.fields]);return o().createElement("div",{className:"feature-grid-wrapper"},o().createElement(Re,We({},u,{onSizeChange:function(e){i.onSizeChange(e,u)}}),i.open&&o().createElement(g.A,null,(function(e){var t=e.height;return o().createElement(y.A,{className:"feature-grid-container",key:"feature-grid-container",height:t-74,header:ze({toolbarItems:c,hideCloseButton:i.hideCloseButton,hideLayerTitle:i.hideLayerTitle,pluginCfg:i.pluginCfg}),columns:Me(i.tools),footer:Ye(i)},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).filter((function(t){return e[t]&&Fe[t]})).map((function(e){var t=Fe[e];return o().createElement(t,{key:e})}))}(i.tools),o().createElement(b.default,{isWithinAttrTbl:!0,showCheckbox:i.showCheckbox,editingAllowedRoles:i.editingAllowedRoles,customEditorsOptions:i.customEditorsOptions,autocompleteEnabled:i.autocompleteEnabled,url:i.url,typeName:i.typeName,filterRenderers:s,enableColumnFilters:i.enableColumnFilters,emptyRowsView:Ce,focusOnEdit:i.focusOnEdit,newFeatures:i.newFeatures,changes:i.changes,mode:i.mode,select:i.select,key:"feature-grid-container",columnSettings:i.attributes,fields:i.fields,gridEvents:i.gridEvents,pageEvents:i.pageEvents,describeFeatureType:i.describe,features:i.features,minHeight:600,tools:i.gridTools,pagination:i.pagination,pages:i.pages,virtualScroll:a,maxStoredPages:i.maxStoredPages,vsOverScan:i.vsOverScan,scrollDebounce:i.scrollDebounce,size:i.size,actionOpts:{maxZoom:l},dateFormats:i.dateFormats,useUTCOffset:i.useUTCOffset}))}))))}));const Ze=Xe},29628:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(576314),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,"#featuregrid-toolbar .snap-tool.split-button .dropdown-menu {\n  min-width: 250px;\n  min-height: 200px;\n  overflow: hidden !important;\n}\n#featuregrid-toolbar .snap-tool.split-button .dropdown-menu > label,\n#featuregrid-toolbar .snap-tool.split-button .dropdown-menu .form-group > label {\n  padding: 3px 10px;\n  margin-bottom: 0;\n}\n#featuregrid-toolbar .snap-tool.split-button .dropdown-menu .Select {\n  margin: 0 15px;\n}\n#featuregrid-toolbar .snap-tool.split-button .Select-menu-outer .Select-menu {\n  overflow: auto;\n  max-height: 150px;\n}\n",""]);const i=o},87538:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(576314),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,"\n.msgapi .featuregrid-toolbar {\n    margin-top: 5px;\n    margin-bottom: 5px;\n}\n\n.msgapi #featuregrid-toolbar .btn {\n    overflow: hidden;\n}\n\n.msgapi #featuregrid-toolbar .spinner {\n    margin: 0 auto;\n    width: 100%;\n}\n\n.msgapi #featuregrid-toolbar .spinner > div {\n    background-color: white;\n    width: 8px;\n    height: 8px;\n}\n",""]);const i=o},978659:(e,t,n)=>{var r=n(587133),o=n(399374);e.exports=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=o(n))==n?n:0),void 0!==t&&(t=(t=o(t))==t?t:0),r(o(e),t,n)}},534973:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=function(e){if("function"!=typeof e)throw new TypeError("You must provide a valid moment object");var t="function"==typeof e().locale?"locale":"lang";if(!e.localeData)throw new TypeError("The Moment localizer depends on the `localeData` api, please provide a moment object v2.2.0 or higher");function n(n,r,o){return n?e(r,o)[t](n):e(r,o)}var r={formats:{date:"L",time:"LT",default:"lll",header:"MMMM YYYY",footer:"LL",weekday:"dd",dayOfMonth:"DD",month:"MMM",year:"YYYY",decade:function(t,n,r){return r.format(t,"YYYY",n)+" - "+r.format(function(t){return e(t).add(10,"year").add(-1,"millisecond").toDate()}(t),"YYYY",n)},century:function(t,n,r){return r.format(t,"YYYY",n)+" - "+r.format(function(t){return e(t).add(100,"year").add(-1,"millisecond").toDate()}(t),"YYYY",n)}},firstOfWeek:function(t){return e.localeData(t).firstDayOfWeek()},parse:function(e,t,r){if(!e)return null;var o=n(r,e,t);return o.isValid()?o.toDate():null},format:function(e,t,r){return n(r,e).format(t)}};return o.default.setDateLocalizer(r),r};var r,o=(r=n(780228))&&r.__esModule?r:{default:r};e.exports=t.default}}]);