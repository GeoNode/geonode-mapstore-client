"use strict";(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[3121],{913121:(e,t,n)=>{n.d(t,{A:()=>Z});var r=n(273517),l=n.n(r),o=n(534332),i=n(432060),a=n(132672),c=n(836970),u=n(8117),d=n(267767),s=n(164045),m=n(112585),v=["children"];function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var f=(0,s.A)(function(e){var t=e.children,n=function(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}(e,v);return l().createElement("button",n,t)}),b=(0,s.A)(u.e6);const g=function(e){var t=e.title,n=e.layers,r=void 0===n?[]:n,o=e.showThumbnail,i=void 0!==o&&o,c=e.tools,u=void 0===c?[]:c,s=e.onEdit,v=void 0===s?function(){}:s,g=e.onRemove,y=void 0===g?function(){}:g,E=e.projection,h=e.onToggleLayer,k=void 0===h?function(){}:h,A=e.editTooltip,S=e.deleteTooltip;return l().createElement("div",null,l().createElement(a.A,{classNames:["_padding-lr-sm","_padding-tb-xs"],centerChildrenVertically:!0},l().createElement(a.A.Fill,{fontSize:"sm",component:d.A},t),u),r.map(function(e,t){var n,r,o=(0,m.wY)(e,E),c=o?function(){return k(e)}:function(){},u=["_padding-lr-sm","_padding-tb-xs"].concat(function(e){if(Array.isArray(e))return p(e)}(r=e.visibility?["active"]:[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return l().createElement(a.A,{component:"li",key:t,gap:"sm",classNames:u,centerChildrenVertically:!0,onClick:c},i?l().createElement("img",{src:e.thumbURL}):l().createElement("button",{className:"ms-visibility-check"},l().createElement(b,{glyph:e.visibility?"radio-on":"radio-off"})),l().createElement(a.A.Fill,{component:d.A,style:{opacity:o?1:.6}},e.title||e.name||(null==e||null===(n=e.options)||void 0===n?void 0:n.title),!o&&l().createElement(b,{glyph:"exclamation-sign",tooltipId:"backgroundSelector.backgroundIncompatibleTooltip",tooltipPosition:"right",style:{marginLeft:"8px"}})),l().createElement(a.A,{gap:"sm"},null!=e&&e.editable?l().createElement(f,{tooltipId:A,onClick:function(t){t.stopPropagation(),v(e)}},l().createElement(b,{glyph:"wrench"})):null,e.deletable?l().createElement(f,{tooltipId:S,onClick:function(t){t.stopPropagation(),y(e)}},l().createElement(b,{glyph:"trash"})):null))}))};var y=n(581436),E=n(192016),h=n(668414),k=n.n(h),A=n(605556),S=n.n(A),w=n(76941),O=n(628017),P=n(8571),j=n(877731),I=n.n(j),T=n(79738);function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach(function(t){U(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function U(e,t,n){return(t=function(e){var t=function(e){if("object"!=C(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==C(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,l,o,i,a=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){u=!0,l=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw l}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var M={cesium:function(e){var t=!!(0,T.Gz)((null==e?void 0:e.url)||"");return{valid:!(null==e||!e.title||!t),errors:{url:!(null==e||!e.url||t)}}},"cesium-ion":function(e){var t,n;return{valid:!!(null!=e&&null!==(t=e.options)&&void 0!==t&&t.assetId&&null!=e&&null!==(n=e.options)&&void 0!==n&&n.accessToken&&null!=e&&e.title),errors:{}}},wms:function(e){var t=!!(0,T.Gz)((null==e?void 0:e.url)||"");return{valid:!!(null!=e&&e.title&&t&&null!=e&&e.name),errors:{url:!(null==e||!e.url||t)}}}},q={cesium:{title:"",url:""},"cesium-ion":{title:"",options:{assetId:"",accessToken:"",server:""}},wms:{title:"",url:"",name:"",version:"1.3.0",options:{crs:"CRS:84"}}};function D(e,t){var n,o,i,s,m=e.terrain,v=e.onHide,p=void 0===v?function(){}:v,f=e.onUpdate,b=void 0===f?function(){}:f,g=e.layer,y=void 0===g?{}:g,h=e.isEditing,A=(t||{}).messages,S=void 0===A?{}:A,j=[{value:"cesium",label:(0,O.kA)(S,"backgroundSelector.terrain.cesiumProvider.label")},{value:"cesium-ion",label:(0,O.kA)(S,"backgroundSelector.terrain.cesiumIonProvider.label")},{value:"wms",label:(0,O.kA)(S,"backgroundSelector.terrain.wmsProvider.label")}],T=R((0,r.useState)(y.provider||j[0].value),2),C=T[0],L=T[1],U=R((0,r.useState)(y),2),_=U[0],D=U[1],F=function(e,t){D(function(n){return I()(e,t,n)})},N=null!=M&&M[C]?M[C](_):{valid:!0},G=N.valid,B=N.errors;return l().createElement(w.A,{show:!!m},l().createElement(a.A,{classNames:["_padding-lr-lg","_padding-tb-md"],column:!0,gap:"md"},l().createElement(a.A,{centerChildrenVertically:!0},l().createElement(a.A.Fill,{component:d.A,fontSize:"md"},(0,O.kA)(S,"backgroundSelector.terrain.title")),l().createElement(c.A,{className:"square-button-md",onClick:p,borderTransparent:!0,gap:"sm"},l().createElement(u.e6,{glyph:"1-close"}))),l().createElement(a.A,{centerChildrenVertically:!0,gap:"sm"},l().createElement(d.A,{strong:!0},(0,O.kA)(S,"backgroundSelector.terrain.providerLabel")),l().createElement("div",{style:{width:150}},l().createElement(E.Ay,{clearable:!1,value:C,onChange:function(e){var t=e.value;L(t),D(function(e){return x(h?{id:e.id}:{},q[t])})},options:j}))),l().createElement(u.gE,null,l().createElement(u.mq,null,l().createElement(P.A,{msgId:"backgroundSelector.terrain.titleLabel"})),l().createElement(u.MJ,{placeholder:(0,O.kA)(S,"backgroundSelector.terrain.placeholders.titleLabel"),value:(null==_?void 0:_.title)||"",name:"title",onChange:function(e){var t;return F("title",null==e||null===(t=e.target)||void 0===t?void 0:t.value)}})),"cesium"===C?l().createElement(l().Fragment,null,l().createElement(u.gE,null,l().createElement(u.mq,null,l().createElement(P.A,{msgId:"backgroundSelector.terrain.cesiumProvider.urlLabel"})),l().createElement(u.MJ,{placeholder:(0,O.kA)(S,"backgroundSelector.terrain.placeholders.urlLabel"),value:(null==_?void 0:_.url)||"",name:"url",onChange:function(e){var t;return F("url",null==e||null===(t=e.target)||void 0===t?void 0:t.value)}}),l().createElement("div",null,(null==B?void 0:B.url)&&l().createElement("small",{className:"text-danger"},l().createElement(P.A,{msgId:"backgroundSelector.terrain.invalidUrl"}))))):null,"cesium-ion"===C?l().createElement(l().Fragment,null,l().createElement(u.gE,null,l().createElement(u.mq,null,l().createElement(P.A,{msgId:"backgroundSelector.terrain.cesiumIonProvider.assetId"})),l().createElement(u.MJ,{placeholder:(0,O.kA)(S,"backgroundSelector.terrain.placeholders.assetId"),value:(null==_||null===(n=_.options)||void 0===n?void 0:n.assetId)||"",name:"options.assetId",onChange:function(e){var t;return F("options.assetId",null==e||null===(t=e.target)||void 0===t?void 0:t.value)}})),l().createElement(u.gE,null,l().createElement(u.mq,null,l().createElement(P.A,{msgId:"backgroundSelector.terrain.cesiumIonProvider.accessToken"})),l().createElement(u.MJ,{placeholder:(0,O.kA)(S,"backgroundSelector.terrain.placeholders.accessToken"),value:(null==_||null===(o=_.options)||void 0===o?void 0:o.accessToken)||"",name:"options.accessToken",onChange:function(e){var t;return F("options.accessToken",null==e||null===(t=e.target)||void 0===t?void 0:t.value)}})),l().createElement(u.gE,null,l().createElement(u.mq,null,l().createElement(P.A,{msgId:"backgroundSelector.terrain.cesiumIonProvider.server"})),l().createElement(u.MJ,{placeholder:(0,O.kA)(S,"backgroundSelector.terrain.placeholders.server"),value:(null==_||null===(i=_.options)||void 0===i?void 0:i.server)||"",name:"options.server",onChange:function(e){var t;return F("options.server",null==e||null===(t=e.target)||void 0===t?void 0:t.value)}}))):null,"wms"===C?l().createElement(l().Fragment,null,l().createElement(u.gE,null,l().createElement(u.mq,null,l().createElement(P.A,{msgId:"backgroundSelector.terrain.wmsProvider.urlLabel"})),l().createElement(u.MJ,{placeholder:(0,O.kA)(S,"backgroundSelector.terrain.placeholders.urlLabel"),value:(null==_?void 0:_.url)||"",name:"url",onChange:function(e){var t;return F("url",null==e||null===(t=e.target)||void 0===t?void 0:t.value)}}),l().createElement("div",null,(null==B?void 0:B.url)&&l().createElement("small",{className:"text-danger"},l().createElement(P.A,{msgId:"backgroundSelector.terrain.invalidUrl"})))),l().createElement(u.gE,null,l().createElement(u.mq,null,l().createElement(P.A,{msgId:"backgroundSelector.terrain.wmsProvider.layernameLabel"})),l().createElement(u.MJ,{placeholder:(0,O.kA)(S,"backgroundSelector.terrain.placeholders.layernameLabel"),value:(null==_?void 0:_.name)||"",name:"name",onChange:function(e){var t;return F("name",null==e||null===(t=e.target)||void 0===t?void 0:t.value)}})),l().createElement(u.gE,null,l().createElement(u.mq,null,l().createElement(P.A,{msgId:"backgroundSelector.terrain.wmsProvider.projectionLabel"})),l().createElement(E.Ay,{value:(null==_||null===(s=_.options)||void 0===s?void 0:s.crs)||"",options:[{value:"CRS:84",label:"CRS:84"},{value:"EPSG:4326",label:"EPSG:4326"},{value:"EPSG:3857",label:"EPSG:3857"},{value:"OSGEO:41001",label:"OSGEO:41001"}],name:"options.crs",onChange:function(e){return F("options.crs",null==e?void 0:e.value)}})),l().createElement(u.gE,null,l().createElement(u.mq,null,l().createElement(P.A,{msgId:"backgroundSelector.terrain.wmsProvider.wmsVersionLabel"})),l().createElement(E.Ay,{value:(null==_?void 0:_.version)||"",options:[{value:"1.3.0",label:"1.3.0"},{value:"1.1.1",label:"1.1.1"},{value:"1.1.0",label:"1.1.0"},{value:"1.0.0",label:"1.0.0"}],name:"version",onChange:function(e){return F("version",null==e?void 0:e.value)}}))):null,l().createElement(a.A,{centerChildrenVertically:!0,gap:"sm"},l().createElement(a.A.Fill,null),l().createElement(c.A,{variant:"success",onClick:function(){var e=x(x({type:"terrain",provider:C},_),{},{group:"background"});if(h)return b(x(x({},e),{},{id:null==y?void 0:y.id})),void p();var t=k()();e=x(x({},e),{},{id:t}),b(e),p()},disabled:!G},l().createElement(P.A,{msgId:"backgroundSelector.terrain.add"})))))}D.contextTypes={messages:S().object};const F=D;var N=n(306840);function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}var B=["children"];function J(){return J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J.apply(null,arguments)}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach(function(t){H(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function H(e,t,n){return(t=function(e){var t=function(e){if("object"!=G(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=G(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==G(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,l,o,i,a=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){u=!0,l=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw l}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Y(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var K=(0,i.A)()((0,r.lazy)(function(){return Promise.all([n.e(953),n.e(5096),n.e(5369),n.e(8618)]).then(n.bind(n,728618))})),Q=(0,s.A)(function(e){var t=e.children,n=function(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}(e,B);return l().createElement("button",n,t)});function W(e){var t=e.onClick,n=void 0===t?function(){}:t,r=e.tooltipId,o=e.glyph,i=e.disabled;return l().createElement(Q,{onClick:n,tooltipId:r,disabled:i},l().createElement(u.e6,{glyph:o}))}function X(e,t){var n,i=e.addBackgroundProperties,d=void 0===i?function(){}:i,s=e.onBackgroundEdit,m=void 0===s?function(){}:s,v=e.backgrounds,p=void 0===v?[]:v,f=e.style,b=void 0===f?{}:f,E=e.allowDeletion,h=void 0===E||E,k=e.onRemoveBackground,A=e.onPropertiesChange,S=void 0===A?function(){}:A,w=e.clearModal,j=void 0===w?function(){}:w,I=e.projection,T=e.confirmDeleteBackgroundModal,C=e.removeBackground,L=void 0===C?function(){}:C,x=e.modalParams,U=e.updateNode,R=void 0===U?function(){}:U,_=e.addLayer,M=void 0===_?function(){}:_,q=e.backgroundAdded,D=e.onUpdateThumbnail,G=e.disableTileGrids,B=e.backgroundList,V=e.enableTerrainList,H=e.alwaysVisible,Y=e.canEdit,X=e.backgroundToolbarItems,Z=void 0===X?[]:X,ee=(t||{}).messages,te=void 0===ee?{}:ee,ne=$((0,r.useState)(!1),2),re=ne[0],le=ne[1],oe=$((0,r.useState)({open:!1,layer:void 0}),2),ie=oe[0],ae=oe[1],ce=function(e){var t;S(null!==(t=e.id)&&void 0!==t?t:"ellipsoid",{visibility:!0})},ue=function(e){ie.layer?R(e.id,"layers",e):(M(e),S(e.id,{visibility:!0}))},de=function(){var e=p.find(function(e){return!0===e.visibility});if(e){var t,n=e.thumbURL||(null===y.A||void 0===y.A||null===(t=y.A[e.source])||void 0===t?void 0:t[e.name])||y.A.unknown;return z(z({},e),{},{thumbURL:n})}return p[0]}(),se=(n=p.find(function(e){return"terrain"===e.type}),p.find(function(e){return"terrain"===e.type&&!0===e.visibility})||(null==n?void 0:n[0])),me=p.filter(function(e){return"terrain"!==e.type}),ve=me.map(function(e){var t,n=e.thumbURL||(null===y.A||void 0===y.A||null===(t=y.A[e.source])||void 0===t?void 0:t[e.name])||y.A.unknown;return z(z({},e),{},{thumbURL:n,editable:Y&&["wms","wmts","tms","tileprovider","cog"].includes(e.type),deletable:Y&&h&&me.length>1})}),pe=p.filter(function(e){return"terrain"===e.type}).map(function(e){return z(z({},e),{},{editable:Y&&"ellipsoid"!==e.provider,deletable:Y&&h&&"ellipsoid"!==e.provider})});pe.some(function(e){return"ellipsoid"===e.provider})||ue({type:"terrain",visibility:!se,title:"Ellipsoid",provider:"ellipsoid",group:"background"});var fe,be=T||{show:!1},ge=be.show,ye=be.layerId,Ee=be.layerTitle,he=x&&x.layer||{},ke=(B||[]).find(function(e){return e.id===he.id}),Ae={title:he.title,format:he.format,style:he.style,additionalParameters:he.params,credits:(null==he?void 0:he.credits)||{},thumbnail:{data:ke&&ke.thumbnail,url:(fe=he,fe.thumbURL||y.A[fe.source]&&y.A[fe.source][fe.name]||y.A.unknown)}},Se=l().createElement(u.m_,{id:"background-selector-tooltip"},l().createElement(P.A,{msgId:"backgroundSwitcher.tooltip"}));return p.length?l().createElement(l().Fragment,null,l().createElement(o.A,{show:ge,onCancel:function(){return k(!1)},onConfirm:function(){L(ye),k(!1)},titleId:"backgroundSelector.confirmDelete",titleParams:{title:Ee},variant:"danger",confirmId:"confirm",preventHide:!0,cancelId:"cancel"}),x&&l().createElement(K,J({onClose:j,onSave:function(e){x.editing?(R(e.id,"layers",e),m(e.id)):(M(e),q(e.id))},updateThumbnail:D,projection:I,disableTileGrids:G},Ae,x)),l().createElement(a.A,{column:!0,gap:"xs",classNames:["ms-background-selector","_absolute","_corner-bl"],style:b},re||H?l().createElement(a.A,{component:"ul",gap:"md",column:!0,classNames:["ms-background-selector-list","ms-main-colors","_padding-tb-sm","shadow"]},l().createElement(g,{title:"Backgrounds",layers:ve,showThumbnail:!0,projection:I,onToggleLayer:ce,editTooltip:"backgroundSelector.editTooltip",deleteTooltip:"backgroundSelector.deleteTooltip",onEdit:function(e){d({layer:e,editing:!0})},onRemove:function(e){return k(!0,e.title||e.name||"",e.id)},tools:l().createElement(l().Fragment,null,Z.map(function(e){var t=e.name,n=e.Component;return l().createElement(n,{key:t,itemComponent:W,canEdit:Y})}))}),pe.length&&V?l().createElement(g,{title:(0,O.kA)(te,"backgroundSelector.terrain.mainTitle"),layers:pe,projection:I,onToggleLayer:ce,editTooltip:"backgroundSelector.editTerrainTooltip",deleteTooltip:"backgroundSelector.deleteTerrainTooltip",onRemove:function(e){return k(!0,e.title||e.name||"",e.id)},onEdit:function(e){ae({open:!0,layer:e})},tools:l().createElement(l().Fragment,null,Y&&l().createElement(Q,{tooltipId:"backgroundSelector.addTerrainTooltip",onClick:function(){return ae({open:!0})}},l().createElement(u.e6,{glyph:"plus"})))}):null):null,l().createElement(N.A,{key:"overlay-trigger.changeBackground",overlay:re?l().createElement(l().Fragment,null):Se},l().createElement(a.A,{component:c.A,onClick:function(){le(!re)},centerChildren:!0,classNames:["ms-background-selector-preview","ms-main-colors","shadow","square-button"]},l().createElement("img",{src:null==de?void 0:de.thumbURL,style:{width:"100%",height:"100%"},alt:(null==de?void 0:de.title)||"Background preview"}))),ie.open&&l().createElement(F,{terrain:!0,isEditing:!!ie.layer,layer:ie.layer||{},onHide:function(){ae({open:!1,layer:void 0})},onUpdate:ue}))):null}X.contextTypes={messages:S().object};const Z=X}}]);