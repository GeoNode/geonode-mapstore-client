"use strict";(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[59020],{548951:(e,t,n)=>{n.d(t,{L_:()=>m,s$:()=>p});var r=n(956449),o=n.n(r),l=n(501882),a=n.n(l),i=n(269843),s=n.n(i),c=n(916589),u=(0,c.compose)((0,c.withState)("showEditor","onShowEditor",!1)),p=(0,c.compose)((0,c.withHandlers)({onClose:function(e){var t=e.onHideSettings,n=void 0===t?function(){}:t;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o()(e)&&e.forEach(function(e){a()(e)&&e()}),n()}}}),(0,c.lifecycle)({componentWillReceiveProps:function(e){var t=this.props,n=t.settings,r=void 0===n?{}:n,o=t.onRetrieveLayerData,l=void 0===o?function(){}:o;!r.expanded&&e.settings&&e.settings.expanded&&s()(e.element.description)&&"wms"===e.element.type&&l(e.element)},componentWillUpdate:function(e){var t=this.props,n=t.initialActiveTab,r=void 0===n?"general":n,o=t.settings,l=void 0===o?{}:o,a=t.onSetTab,i=void 0===a?function(){}:a;!l.expanded&&e.settings&&e.settings.expanded&&i(r)}})),m=(0,c.compose)(u,p)},304995:(e,t,n)=>{n.d(t,{A:()=>oe});var r=n(273517),o=n.n(r),l=n(978659),a=n.n(l),i=n(269843),s=n.n(i),c=n(198023),u=n.n(c),p=n(244383),m=n.n(p),d=n(605556),g=n.n(d),f=n(8117),y=n(881137),h=n(645617),v=n(8571),b=n(168995),E=n(87756),O=n(174910),w=n(112585),P=n(102685),L=n(192016),S=n(375482),A=n(435369),j=n(267224);function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach(function(t){k(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function k(e,t,n){return(t=function(e){var t=function(e){if("object"!=C(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==C(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){var t=e.layer,n=e.onChange;if("3dtiles"!==(null==t?void 0:t.type)||"pnts"!==(null==t?void 0:t.format))return null;var r=(t||{}).pointCloudShading,l=void 0===r?{}:r;return o().createElement(o().Fragment,null,o().createElement("div",{style:{fontWeight:"bold",padding:8}},o().createElement(v.A,{msgId:"layerProperties.3dTiles.pointCloudShading.title"})),o().createElement(f.gE,{className:"form-group-flex"},o().createElement(f.Sc,{checked:!!l.attenuation,onChange:function(e){var t,r,o;return n("pointCloudShading",x(x({},l),{},{attenuation:null==e||null===(t=e.target)||void 0===t?void 0:t.checked,maximumAttenuation:null!==(r=null==l?void 0:l.maximumAttenuation)&&void 0!==r?r:4,eyeDomeLighting:null===(o=null==l?void 0:l.eyeDomeLighting)||void 0===o||o}))}},o().createElement(v.A,{msgId:"layerProperties.3dTiles.pointCloudShading.attenuation"})," ",o().createElement(b.A,{text:o().createElement(v.A,{msgId:"layerProperties.3dTiles.pointCloudShading.attenuationInfo"})}))),o().createElement(f.gE,{className:"form-group-flex"},o().createElement(f.mq,null,o().createElement(v.A,{msgId:"layerProperties.3dTiles.pointCloudShading.maximumAttenuation"})),o().createElement(f.MG,{style:{maxWidth:90}},o().createElement(j.A,{disabled:!l.attenuation,type:"number",value:void 0!==l.maximumAttenuation?l.maximumAttenuation:4,min:0,fallbackValue:4,onChange:function(e){n("pointCloudShading",x(x({},l),{},{maximumAttenuation:void 0!==e?parseFloat(e):void 0}))}}),o().createElement(f.MG.Addon,null,"px"))),o().createElement(f.gE,{className:"form-group-flex"},o().createElement(f.Sc,{disabled:!l.attenuation,checked:!!l.eyeDomeLighting,onChange:function(e){var t;return n("pointCloudShading",x(x({},l),{},{eyeDomeLighting:null==e||null===(t=e.target)||void 0===t?void 0:t.checked}))}},o().createElement(v.A,{msgId:"layerProperties.3dTiles.pointCloudShading.eyeDomeLighting"})," ",o().createElement(b.A,{text:o().createElement(v.A,{msgId:"layerProperties.3dTiles.pointCloudShading.eyeDomeLightingInfo"})}))),o().createElement(f.gE,{className:"form-group-flex"},o().createElement(f.mq,null,o().createElement(v.A,{msgId:"layerProperties.3dTiles.pointCloudShading.eyeDomeLightingStrength"})),o().createElement(f.MG,{style:{maxWidth:90}},o().createElement(j.A,{disabled:!l.eyeDomeLighting||!l.attenuation,type:"number",value:void 0!==l.eyeDomeLightingStrength?l.eyeDomeLightingStrength:1,min:0,fallbackValue:1,onChange:function(e){return n("pointCloudShading",x(x({},l),{},{eyeDomeLightingStrength:void 0!==e?parseFloat(e):void 0}))}}))),o().createElement(f.gE,{className:"form-group-flex"},o().createElement(f.mq,null,o().createElement(v.A,{msgId:"layerProperties.3dTiles.pointCloudShading.eyeDomeLightingRadius"})),o().createElement(f.MG,{style:{maxWidth:90}},o().createElement(j.A,{disabled:!l.eyeDomeLighting||!l.attenuation,type:"number",value:void 0!==l.eyeDomeLightingRadius?l.eyeDomeLightingRadius:1,min:0,step:1,fallbackValue:1,onChange:function(e){return n("pointCloudShading",x(x({},l),{},{eyeDomeLightingRadius:void 0!==e?parseFloat(e):void 0}))}}))))}T.propTypes={layer:g().object,onChange:g().func},T.defaultProps={layer:{},onChange:function(){}};const N=T;function D(e){var t=e.layer,n=e.onChange;return"3dtiles"!==(null==t?void 0:t.type)?null:o().createElement("div",{style:{margin:"0 -8px"}},o().createElement(f.gE,{className:"form-group-flex"},o().createElement(f.mq,null,o().createElement(v.A,{msgId:"layerProperties.3dTiles.format"})),o().createElement(f.MG,null,o().createElement(L.Ay,{value:"pnts"===t.format?"pnts":"3dmodel",fallbackValue:0,clearable:!1,options:[{value:"3dmodel",label:o().createElement(v.A,{msgId:"layerProperties.3dTiles.3dModel"})},{value:"pnts",label:o().createElement(v.A,{msgId:"layerProperties.3dTiles.pointCloud"})}],onChange:function(e){n("format",null==e?void 0:e.value)}}))),o().createElement(f.gE,{className:"form-group-flex"},o().createElement(f.mq,null,o().createElement(v.A,{msgId:"layerProperties.heightOffset"})),o().createElement(f.MG,{style:{maxWidth:120}},o().createElement(j.A,{type:"number",name:"heightOffset",value:t.heightOffset||0,fallbackValue:0,onChange:function(e){n("heightOffset",void 0!==e?parseFloat(e):void 0)}}),o().createElement(f.MG.Addon,null,"m"))),o().createElement(N,{layer:t,onChange:n}))}D.propTypes={layer:g().object,onChange:g().func},D.defaultProps={layer:{},onChange:function(){}};const F=D;var W=n(6683);function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach(function(t){q(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function q(e,t,n){return(t=function(e){var t=function(e){if("object"!=z(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==z(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,l,a,i=[],s=!0,c=!1;try{if(l=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=l.call(n)).done)&&(i.push(r.value),i.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function V(e){var t,n,r,l=e.layer,a=e.onChange,i=function(e){var t,n,r,o=null==l||null===(t=l.features)||void 0===t?void 0:t[0],i=G((null==o||null===(n=o.geometry)||void 0===n?void 0:n.coordinates)||[0,0,0],3),s=_({longitude:i[0],latitude:i[1],height:i[2]},e),c=(null==o||null===(r=o.properties)||void 0===r?void 0:r.size)||[2,2],u=_(_({},null==l?void 0:l.bbox),{},{bounds:{minx:s.longitude-c[0]/2/W.Ig.degrees,miny:s.latitude-c[1]/2/W.Ig.degrees,maxx:s.longitude+c[0]/2/W.Ig.degrees,maxy:s.latitude+c[1]/2/W.Ig.degrees}});a("features",[_(_({properties:{}},o),{},{type:"Feature",geometry:{type:"Point",coordinates:[s.longitude,s.latitude,s.height]}})]),a("bbox",u)};if("model"!==(null==l?void 0:l.type))return null;var s=null==l||null===(t=l.features)||void 0===t?void 0:t[0],c=G((null==s||null===(n=s.geometry)||void 0===n?void 0:n.coordinates)||[0,0,0],3),u=c[0],p=c[1],m=c[2];return o().createElement("div",{style:{margin:"0 -8px"}},o().createElement(f.gE,{className:"form-group-flex"},o().createElement(f.mq,null,o().createElement(v.A,{msgId:"layerProperties.modelLayer.modelCenterLng"})),o().createElement(f.MG,{style:{maxWidth:210}},o().createElement(j.A,{type:"number",name:"modelCenterLng",value:u,fallbackValue:0,step:1e-5,onChange:function(e){i({longitude:void 0!==e?parseFloat(e):0})}}))),o().createElement(f.gE,{className:"form-group-flex"},o().createElement(f.mq,null,o().createElement(v.A,{msgId:"layerProperties.modelLayer.modelCenterLat"})),o().createElement(f.MG,{style:{maxWidth:210}},o().createElement(j.A,{type:"number",name:"modelCenterLat",value:p,fallbackValue:0,step:1e-5,onChange:function(e){i({latitude:void 0!==e?parseFloat(e):0})}}))),o().createElement(f.gE,{className:"form-group-flex"},o().createElement(f.mq,null,o().createElement(v.A,{msgId:"layerProperties.modelLayer.height"})),o().createElement(f.MG,{style:{maxWidth:120}},o().createElement(j.A,{type:"number",name:"height",value:m,fallbackValue:0,onChange:function(e){i({height:void 0!==e?parseFloat(e):0})}}))),o().createElement(f.gE,{className:"form-group-flex"},o().createElement(f.mq,null,o().createElement(v.A,{msgId:"layerProperties.modelLayer.heading"})),o().createElement(f.MG,{style:{maxWidth:120}},o().createElement(j.A,{type:"number",name:"heading",value:(null==s||null===(r=s.properties)||void 0===r?void 0:r.heading)||0,fallbackValue:0,onChange:function(e){var t=void 0!==e?parseFloat(e):0;a("features",[_(_({},s),{},{properties:_(_({},null==s?void 0:s.properties),{},{heading:t})})])}}),o().createElement(f.MG.Addon,null,"°"))))}V.propTypes={layer:g().object,onChange:g().func},V.defaultProps={layer:{},onChange:function(){}};const H=V;var B=n(617338),U=n(169783);function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function J(){return J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J.apply(null,arguments)}function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach(function(t){te(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ne(r.key),r)}}function Q(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Q=function(){return!!e})()}function Z(e){return Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Z(e)}function ee(e,t){return ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ee(e,t)}function te(e,t,n){return(t=ne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ne(e){var t=function(e){if("object"!=$(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$(t)?t:t+""}var re=(0,y.A)(f.$n),oe=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),te(n=function(e,t,n){return t=Z(t),function(e,t){if(t&&("object"==$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Q()?Reflect.construct(t,n||[],Z(e).constructor):t.apply(e,n))}(this,t,[e]),"state",{opacity:100,legendOptions:{legendWidth:12,legendHeight:12},containerStyle:{overflowX:"auto"},containerWidth:0}),te(n,"onChange",function(e,t){if("opacity"===e){var r=t&&a()(Math.round(t),0,100);n.setState(Y({opacity:r},n.state)),n.props.onChange("opacity",r&&r/100||0)}else{var o=t&&a()(Math.round(t),0,1e3);n.setState(Y(Y({},n.state),{},{legendOptions:Y(Y({},n.state.legendOptions),{},te({},e,o))})),n.props.onChange({legendOptions:Y(Y({},n.state.legendOptions),{},te({},e,o))})}}),te(n,"onBlur",function(e){var t=e.target.value&&Math.round(e.target.value),r=e.target.name;n.props.onChange({legendOptions:Y(Y({},n.state.legendOptions),{},te({},r,t>=12?t:""))})}),te(n,"onFormatOptionsFetch",function(e){n.setState({formatLoading:!0}),(0,S.qM)(e).then(function(e){n.props.onChange("imageFormats",e),n.setState({formatLoading:!1})})}),te(n,"getValidationState",function(e){return n.state.legendOptions&&n.state.legendOptions[e]?parseInt(n.state.legendOptions[e],10)<12&&"error":null}),te(n,"getLegendProps",function(){return m()(n.props,["projection","mapSize","mapBbox"])}),te(n,"updateState",function(e){e.settings&&e.settings.options&&n.setState(Y(Y({},n.state),{},{opacity:s()(e.settings.options.opacity)?n.state.opacity:Math.round(100*e.settings.options.opacity),legendOptions:Y(Y({},n.state.legendOptions),{},{legendHeight:e.element.legendOptions&&!s()(e.element.legendOptions.legendHeight)?e.element.legendOptions.legendHeight:n.state.legendOptions.legendHeight,legendWidth:e.element.legendOptions&&!s()(e.element.legendOptions.legendWidth)?e.element.legendOptions.legendWidth:n.state.legendOptions.legendWidth}),containerWidth:n.containerRef.current&&n.containerRef.current.clientWidth}))}),te(n,"setOverFlow",function(){return n.state.legendOptions.legendWidth>n.state.containerWidth}),te(n,"useLegendOptions",function(){return"error"!==n.getValidationState("legendWidth")&&"error"!==n.getValidationState("legendHeight")&&u()(n.state.legendOptions.legendHeight)&&u()(n.state.legendOptions.legendWidth)}),n.containerRef=o().createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ee(e,t)}(t,e),n=t,r=[{key:"componentDidMount",value:function(){this.updateState(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props!==e&&this.updateState(e)}},{key:"render",value:function(){var e,t,n,r,l,a,i,s,c,u=this,p=this.props.element&&this.props.element.format||"image/png",m=!(null===(e=this.props.element)||void 0===e||!e.enableInteractiveLegend),d=!(null===(t=this.props.element)||void 0===t||!t.enableDynamicLegend),g=(null===(n=this.props)||void 0===n?void 0:n.hideInteractiveLegendOption)&&m;return o().createElement(f.xA,{fluid:!0,className:"fluid-container ms-display-form "+(!this.props.containerWidth&&"adjust-display")},"wms"===this.props.element.type&&o().createElement(f.fI,null,o().createElement(f.fv,{xs:12},o().createElement(f.gE,null,o().createElement(f.mq,null,o().createElement(v.A,{msgId:"layerProperties.format.title"})),o().createElement("div",{className:"ms-format-container"},o().createElement(L.Ay,{className:"format-select",key:"format-dropdown",clearable:!1,noResultsText:o().createElement(v.A,{msgId:this.state.formatLoading?"layerProperties.format.loading":"layerProperties.format.noOption"}),isLoading:!!this.state.formatLoading,options:this.state.formatLoading?[]:((null===(r=this.props.element)||void 0===r?void 0:r.imageFormats)||this.props.formats||[]).map(function(e){return null!=e&&e.value?e:{value:e,label:e}}),value:{value:p,label:p},onOpen:function(){var e,t,n;null!==(e=u.props.element)&&void 0!==e&&e.imageFormats&&0!==(null===(t=u.props.element)||void 0===t||null===(t=t.imageFormats)||void 0===t?void 0:t.length)||u.onFormatOptionsFetch(null===(n=u.props.element)||void 0===n?void 0:n.url)},onChange:function(e){var t=e.value;u.props.onChange("format",t)}}),o().createElement(re,{disabled:!!this.state.formatLoading,tooltipId:"layerProperties.format.refresh",className:"square-button-md no-border format-refresh",onClick:function(){var e;u.onFormatOptionsFetch(null===(e=u.props.element)||void 0===e?void 0:e.url)},key:"format-refresh"},o().createElement(f.e6,{glyph:"refresh"}))))),o().createElement(f.fv,{xs:12},o().createElement(f.gE,null,o().createElement(f.mq,null,o().createElement(v.A,{msgId:"layerProperties.wmsLayerTileSize"})),o().createElement(L.Ay,{key:"wsm-layersize-dropdown",clearable:!1,options:[{value:256,label:256},{value:512,label:512}],value:this.props.element&&this.props.element.tileSize||256,onChange:function(e){var t=e.value;u.props.onChange("tileSize",t)}})))),!["3dtiles","model"].includes(this.props.element.type)&&o().createElement(f.fI,null,o().createElement(f.fv,{xs:12},o().createElement(f.gE,null,o().createElement(f.mq,null,this.props.opacityText," %"),o().createElement(h.A,{type:"number",min:0,max:100,name:"opacity",value:this.state.opacity,onChange:function(e){return u.onChange("opacity",e)}})))),o().createElement(f.fI,null,o().createElement(f.fv,{xs:12},o().createElement(f.gE,null,o().createElement(O.A,{title:o().createElement(f.mq,null,o().createElement(v.A,{msgId:"layerProperties.visibilityLimits.title"})),layer:this.props.element,onChange:this.props.onChange,projection:this.props.projection,resolutions:this.props.resolutions,zoom:this.props.zoom,defaultLimitsType:this.props.element.visibilityLimitType})))),o().createElement(F,{layer:this.props.element,onChange:this.props.onChange}),o().createElement(H,{layer:this.props.element,onChange:this.props.onChange}),"wms"===this.props.element.type&&o().createElement(f.fI,null,o().createElement(f.fv,{xs:12},o().createElement("hr",null),o().createElement(f.gE,null,o().createElement(f.Sc,{key:"transparent",checked:this.props.element&&(void 0===this.props.element.transparent||this.props.element.transparent),onChange:function(e){u.props.onChange("transparent",e.target.checked)}},o().createElement(v.A,{msgId:"layerProperties.transparent"})),o().createElement(f.Sc,{key:"singleTile",value:"singleTile",checked:this.props.element&&void 0!==this.props.element.singleTile&&this.props.element.singleTile,onChange:function(e){return u.props.onChange("singleTile",e.target.checked)}},o().createElement(v.A,{msgId:"layerProperties.singleTile"})),this.props.isLocalizedLayerStylesEnabled&&(null===(l=this.props.element)||void 0===l?void 0:l.serverType)!==w.zy.NO_VENDOR&&o().createElement(f.Sc,{key:"localizedLayerStyles",value:"localizedLayerStyles","data-qa":"display-lacalized-layer-styles-option",checked:this.props.element&&void 0!==this.props.element.localizedLayerStyles&&this.props.element.localizedLayerStyles,onChange:function(e){return u.props.onChange("localizedLayerStyles",e.target.checked)}},o().createElement(v.A,{msgId:"layerProperties.enableLocalizedLayerStyles.label"})," ",o().createElement(b.A,{text:o().createElement(v.A,{msgId:"layerProperties.enableLocalizedLayerStyles.tooltip"})})),(null===(a=this.props.element)||void 0===a?void 0:a.serverType)!==w.zy.NO_VENDOR&&o().createElement(o().Fragment,null,o().createElement("hr",null),o().createElement(A.A,{layer:this.props.element,projection:this.props.projection,onChange:this.props.onChange,disableTileGrids:!!this.props.isCesiumActive})))),o().createElement("div",{className:"legend-options"},o().createElement(f.fv,{xs:12,className:"legend-label"},o().createElement("label",{key:"legend-options-title",className:"control-label"},o().createElement(v.A,{msgId:"layerProperties.legendOptions.title"}))),o().createElement(f.fv,{xs:12,className:"first-selectize"},o().createElement(f.gE,null,(null===(i=this.props.element)||void 0===i?void 0:i.serverType)!==w.zy.NO_VENDOR&&!(null!==(s=this.props)&&void 0!==s&&s.hideInteractiveLegendOption)&&o().createElement(f.Sc,{"data-qa":"display-interactive-legend-option",value:"enableInteractiveLegend",key:"enableInteractiveLegend",onChange:function(e){var t=e.target.checked;if(!t){var n=(0,P.UC)(u.props.element.layerFilter);u.props.onChange("layerFilter",n)}u.props.onChange("enableInteractiveLegend",t)},checked:m},o().createElement(v.A,{msgId:"layerProperties.enableInteractiveLegendInfo.label"})," ",o().createElement(b.A,{text:o().createElement(v.A,{msgId:"layerProperties.enableInteractiveLegendInfo.info"})})),!g&&o().createElement(f.Sc,{"data-qa":"display-dynamic-legend-filter",value:"enableDynamicLegend",key:"enableDynamicLegend",disabled:m,onChange:function(e){u.props.onChange("enableDynamicLegend",e.target.checked)},checked:d||m},o().createElement(v.A,{msgId:"layerProperties.enableDynamicLegend.label"})," ",o().createElement(b.A,{text:o().createElement(v.A,{msgId:"layerProperties.enableDynamicLegend.info"})})))),!m&&o().createElement(o().Fragment,null,o().createElement(f.fv,{xs:12,sm:6,className:"first-selectize"},o().createElement(f.gE,{validationState:this.getValidationState("legendWidth")},o().createElement(f.mq,null,o().createElement(v.A,{msgId:"layerProperties.legendOptions.legendWidth"})),o().createElement(h.A,{value:this.state.legendOptions.legendWidth,name:"legendWidth",type:"number",min:12,max:1e3,onChange:function(e){return u.onChange("legendWidth",e)},onKeyPress:function(e){return"-"===e.key&&e.preventDefault()},onBlur:this.onBlur}))),o().createElement(f.fv,{xs:12,sm:6,className:"second-selectize"},o().createElement(f.gE,{validationState:this.getValidationState("legendHeight")},o().createElement(f.mq,null,o().createElement(v.A,{msgId:"layerProperties.legendOptions.legendHeight"})),o().createElement(h.A,{value:this.state.legendOptions.legendHeight,name:"legendHeight",type:"number",min:12,max:1e3,onChange:function(e){return u.onChange("legendHeight",e)},onKeyPress:function(e){return"-"===e.key&&e.preventDefault()},onBlur:this.onBlur})))),o().createElement(f.fv,{xs:12,className:"legend-preview"},o().createElement(f.mq,null,o().createElement(v.A,{msgId:"layerProperties.legendOptions.legendPreview"})),o().createElement("div",{style:this.setOverFlow()&&this.state.containerStyle||{},ref:this.containerRef},m?o().createElement(B.A,J({style:this.setOverFlow()&&{}||void 0,layer:this.props.element,legendHeight:this.useLegendOptions()&&this.state.legendOptions.legendHeight||void 0,legendWidth:this.useLegendOptions()&&this.state.legendOptions.legendWidth||void 0,language:this.props.isLocalizedLayerStylesEnabled?this.props.currentLocaleLanguage:void 0},this.getLegendProps())):o().createElement(E.A,J({style:this.setOverFlow()&&{}||void 0,layer:this.props.element,legendHeight:this.useLegendOptions()&&this.state.legendOptions.legendHeight||void 0,legendWidth:this.useLegendOptions()&&this.state.legendOptions.legendWidth||void 0,language:this.props.isLocalizedLayerStylesEnabled?this.props.currentLocaleLanguage:void 0},this.getLegendProps())))))),["wfs","vector"].includes(this.props.element.type)&&o().createElement(f.fI,null,o().createElement("div",{className:"legend-options"},o().createElement(f.fv,{xs:12,className:"legend-label"},o().createElement("label",{key:"legend-options-title",className:"control-label"},o().createElement(v.A,{msgId:"layerProperties.legendOptions.title"}))),!(null!==(c=this.props)&&void 0!==c&&c.hideInteractiveLegendOption)&&o().createElement(f.fv,{xs:12,className:"first-selectize"},o().createElement(f.Sc,{"data-qa":"display-interactive-legend-option",value:"enableInteractiveLegend",key:"enableInteractiveLegend",onChange:function(e){if(!e.target.checked){var t=(0,P.UC)(u.props.element.layerFilter);u.props.onChange("layerFilter",t)}u.props.onChange("enableInteractiveLegend",e.target.checked)},checked:m},o().createElement(v.A,{msgId:"layerProperties.enableInteractiveLegendInfo.label"})," ",o().createElement(b.A,{text:o().createElement(v.A,{msgId:"layerProperties.enableInteractiveLegendInfo.infoWithoutGSNote"})}))),m&&o().createElement(f.fv,{xs:12,className:"legend-preview"},o().createElement(f.mq,null,o().createElement(v.A,{msgId:"layerProperties.legendOptions.legendPreview"})),o().createElement("div",{style:this.setOverFlow()&&this.state.containerStyle||{},ref:this.containerRef},o().createElement(U.A,{layer:this.props.element,style:this.props.element.style||{}}))))))}}],r&&X(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(o().Component);te(oe,"propTypes",{opacityText:g().node,element:g().object,formats:g().array,settings:g().object,onChange:g().func,containerWidth:g().number,currentLocaleLanguage:g().string,isLocalizedLayerStylesEnabled:g().bool,isCesiumActive:g().bool,projection:g().string,mapSize:g().object,mapBbox:g().object,resolutions:g().array,zoom:g().number,hideInteractiveLegendOption:g().bool}),te(oe,"defaultProps",{onChange:function(){},opacityText:o().createElement(v.A,{msgId:"opacity"}),hideInteractiveLegendOption:!1})},875912:(e,t,n)=>{n.d(t,{A:()=>q});var r=n(907309),o=n.n(r),l=n(679859),a=n.n(l),i=n(223805),s=n.n(i),c=n(950014),u=n.n(c),p=n(605556),m=n.n(p),d=n(273517),g=n.n(d),f=n(8117),y=n(796309),h=n(192016),v=n(750042),b=n.n(v),E=n(8571),O=n(916589),w=n(306840);const P=(0,O.compose)((0,O.withState)("enableOverlayTrigger","setEnableOverlayTrigger",!0),(0,O.withState)("overlayTriggerDelayID","setOverlayTriggerDelayID"),(0,O.withState)("layerName","setLayerName",""),(0,O.withState)("editingLayerName","setEditingLayerName",!1),(0,O.withState)("waitingForLayerLoading","setWaitingForLayerLoading",!1),(0,O.withState)("waitingForLayerLoad","setWaitingForLayerLoad",!1),(0,O.withState)("layerError","setLayerError"),(0,O.withHandlers)({setEditingLayerName:function(e){var t=e.editingLayerName,n=void 0!==t&&t,r=e.overlayTriggerDelayID,o=e.setEditingLayerName,l=void 0===o?function(){}:o,a=e.setOverlayTriggerDelayID,i=void 0===a?function(){}:a,s=e.setEnableOverlayTrigger,c=void 0===s?function(){}:s;return function(e){n!==e&&(r&&clearTimeout(r),c(!1),i(setTimeout(function(){c(!0)},250))),l(e)}}}),(0,O.lifecycle)({componentDidMount:function(){var e;this.props.setLayerName(null===(e=this.props.element)||void 0===e?void 0:e.name)},componentDidUpdate:function(){var e=this.props,t=e.element,n=void 0===t?{}:t,r=e.waitingForLayerLoading,o=e.waitingForLayerLoad,l=e.setWaitingForLayerLoad,a=void 0===l?function(){}:l,i=e.setWaitingForLayerLoading,s=void 0===i?function(){}:i,c=e.setEditingLayerName,u=void 0===c?function(){}:c,p=e.setLayerError,m=void 0===p?function(){}:p;r&&n.loading?(s(!1),a(!0)):o&&!n.loading&&(a(!1),m(n.loadingError),u(!!n.loadingError))}}))(function(e){var t,n=e.enableOverlayTrigger,r=e.element,o=void 0===r?{}:r,l=e.enableLayerNameEditFeedback,a=void 0!==l&&l,i=e.layerName,s=void 0===i?"":i,c=e.editingLayerName,u=void 0!==c&&c,p=e.layerError,m=e.waitingForLayerLoading,d=void 0!==m&&m,y=e.waitingForLayerLoad,h=void 0!==y&&y,v=e.setLayerName,O=void 0===v?function(){}:v,P=e.setWaitingForLayerLoading,L=void 0===P?function(){}:P,S=e.setEditingLayerName,A=void 0===S?function(){}:S,j=e.onUpdateEntry,C=void 0===j?function(){}:j,I=g().createElement(f.MG.Addon,{className:"btn",onClick:function(){u?s!==o.name?(C("name",{target:{value:s}}),a?L(!0):A(!1)):A(!1):A(!0)}},d||h?g().createElement(b(),{noFadeIn:!0,style:{width:"18px",height:"18px"},spinnerName:"circle"}):g().createElement(f.e6,{glyph:u?"ok":"pencil"}));return g().createElement(f.gE,{validationState:!p||h||d?null:"error"},g().createElement(f.mq,null,g().createElement(E.A,{msgId:"layerProperties.name"})),g().createElement(f.MG,null,g().createElement(f.MJ,{value:s,key:"name",type:"text",disabled:!u,onChange:function(e){return O(e.target.value)}}),n?(t=I,g().createElement(w.A,{placement:"top",overlay:g().createElement(f.m_,{id:"tooltip-layer-name-edit"},g().createElement(E.A,{msgId:"layerProperties.tooltip.".concat(u?"confirm":"edit","LayerName")}))},t)):I))});var L=n(628017),S=n(803617),A=n(525859),j=n(112585);function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach(function(t){z(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function k(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,M(r.key),r)}}function D(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(D=function(){return!!e})()}function F(e){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},F(e)}function W(e,t){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},W(e,t)}function z(e,t,n){return(t=M(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e){var t=function(e){if("object"!=C(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==C(t)?t:t+""}var _=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return z(e=function(e,t,n){return t=F(t),function(e,t){if(t&&("object"==C(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,D()?Reflect.construct(t,n||[],F(e).constructor):t.apply(e,n))}(this,t,[].concat(r)),"getTitle",function(t){return(0,j.LK)(t,e.props.currentLocale)}),z(e,"getLabelName",function(t,n){return(0,S.uG)(e.getTitle(t),n)}),z(e,"supportedNameEditLayerTypes",["wms"]),z(e,"updateEntry",function(t,n){return s()(t)?e.props.onChange(t):e.props.onChange(t,n.target.value)}),z(e,"updateTitle",function(t){return e.props.onChange("title",t)}),z(e,"findGroupLabel",function(){var t=e.props.groups&&(0,j.B)(e.props.groups,0,!0),n=e.props.element&&e.props.element.group||j.Yw,r=o()(t,function(e){return e.id===n})||{};return e.getTitle(r.title)}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e,t,n=this,r=this.props.pluginCfg.hideTitleTranslations,l=void 0!==r&&r,i=[{value:"title",label:(0,L.kA)(this.context.messages,"layerProperties.tooltip.title")},{value:"description",label:(0,L.kA)(this.context.messages,"layerProperties.tooltip.description")},{value:"both",label:(0,L.kA)(this.context.messages,"layerProperties.tooltip.both")},{value:"none",label:(0,L.kA)(this.context.messages,"layerProperties.tooltip.none")}],c=[{value:"top",label:(0,L.kA)(this.context.messages,"layerProperties.tooltip.top")},{value:"right",label:(0,L.kA)(this.context.messages,"layerProperties.tooltip.right")},{value:"bottom",label:(0,L.kA)(this.context.messages,"layerProperties.tooltip.bottom")}],p=this.props.groups&&(0,j.B)(this.props.groups),m=this.findGroupLabel(this.props.element&&this.props.element.group||j.Yw),d=this.props.allowNew?h.Ay.Creatable:h.Ay;return g().createElement(f.xA,{fluid:!0,style:{paddingTop:15,paddingBottom:15}},g().createElement("form",{ref:"settings"},g().createElement(f.gE,null,g().createElement(f.mq,null,g().createElement(E.A,{msgId:"layerProperties.title"})),g().createElement(y.A,{key:"title",showTranslateTool:!l,value:this.props.element.title,onChange:this.updateTitle})),a()(this.supportedNameEditLayerTypes,this.props.element.type)&&g().createElement(P,{element:this.props.element,enableLayerNameEditFeedback:this.props.enableLayerNameEditFeedback,onUpdateEntry:this.updateEntry.bind(null)}),g().createElement(f.gE,null,g().createElement(f.mq,null,g().createElement(E.A,{msgId:"layerProperties.description"})),this.props.element.capabilitiesLoading?g().createElement(b(),{spinnerName:"circle"}):g().createElement(f.MJ,{defaultValue:this.props.element.description||"",key:"description",rows:"2",componentClass:"textarea",style:{resize:"vertical",minHeight:"33px"},onBlur:this.updateEntry.bind(null,"description")})),"layers"===this.props.nodeType?g().createElement("div",{className:"form-group"},g().createElement("label",{key:"group-label",className:"control-label"},g().createElement(E.A,{msgId:"layerProperties.group"})),g().createElement(d,{clearable:!1,key:"group-dropdown",options:u()([{value:j.Yw,label:j.Yw}].concat(k((p||this.props.element&&this.props.element.group||[]).map(function(e){return s()(e)?x(x({},e),{},{label:n.getLabelName(e.label,p)}):{label:n.getLabelName(e,p),value:e}}))),"value"),isValidNewOption:S.lI,newOptionCreator:function(e){var t=e.valueKey,n=e.label,r=e.labelKey;return z(z(z({},t,n.replace(/\./g,"${dot}").replace(/\//g,".")),r,n),"className","Select-create-option-placeholder")},value:{label:this.getLabelName(m,p),value:m},placeholder:this.getLabelName(m,p),onChange:function(e){n.updateEntry("group",{target:{value:e.value||j.Yw}})}})):null,this.props.showTooltipOptions&&g().createElement("div",{style:{width:"100%",display:"inline-block"}},g().createElement(f.fv,{xs:12,sm:8,className:"first-selectize"},g().createElement("label",{key:"tooltip-label",className:"control-label"},g().createElement(E.A,{msgId:"layerProperties.tooltip.label"})),g().createElement(h.Ay,{clearable:!1,key:"tooltips-dropdown",options:i,value:o()(i,function(e){return e.value===(n.props.element.tooltipOptions||"title")}),onChange:function(e){n.updateEntry("tooltipOptions",{target:{value:e.value||"title"}})}})),g().createElement(f.fv,{xs:12,sm:4,className:"second-selectize"},g().createElement("label",{key:"tooltip-placement-label",className:"control-label"},g().createElement(E.A,{msgId:"layerProperties.tooltip.labelPlacement"})),g().createElement(h.Ay,{clearable:!1,key:"tooltips-placement-dropdown",options:c,value:o()(c,function(e){return e.value===(n.props.element.tooltipPlacement||"top")}),onChange:function(e){n.updateEntry("tooltipPlacement",{target:{value:e.value||"top"}})}}))),(0,A.X0)(this.props.element)&&this.props.showFeatureEditOption&&g().createElement(f.gE,null,g().createElement(f.Sc,{"data-qa":"general-read-only-attribute",key:"disableFeaturesEditing",checked:void 0!==(null===(e=this.props.element)||void 0===e?void 0:e.disableFeaturesEditing)&&(null===(t=this.props.element)||void 0===t?void 0:t.disableFeaturesEditing),onChange:function(e){return n.props.onChange("disableFeaturesEditing",e.target.checked)}},g().createElement(E.A,{msgId:"layerProperties.disableFeaturesEditing"})))))}}])&&N(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(g().Component);z(_,"propTypes",{onChange:m().func,element:m().object,settings:m().object,groups:m().array,nodeType:m().string,pluginCfg:m().object,showTooltipOptions:m().bool,allowNew:m().bool,enableLayerNameEditFeedback:m().bool,currentLocale:m().string,showFeatureEditOption:m().bool}),z(_,"contextTypes",{messages:m().object}),z(_,"defaultProps",{element:{},onChange:function(){},nodeType:"layers",showTooltipOptions:!0,pluginCfg:{},allowNew:!1,currentLocale:"en-US"});const q=_},973958:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(273517),o=n.n(r),l=n(306840),a=n(8117),i=["tooltip","id","placement"];const s=function(e){return function(t){var n=t.tooltip,r=t.id,s=t.placement,c=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,i);return o().createElement(l.A,{placement:s,overlay:o().createElement(a.m_,{id:"fe-".concat(r)},n)},o().createElement(e,c))}}},796309:(e,t,n)=>{n.d(t,{A:()=>A});var r=n(273517),o=n.n(r),l=n(605556),a=n.n(l),i=n(76941),s=n(907309),c=n.n(s),u=n(8117),p=n(628017),m=n(973958),d=n(551783),g=n(8571),f=["locales","showTranslateTool","showCurrent","currentLocale","value","onChange","disabled"];function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(null,arguments)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){b(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function b(e,t,n){return(t=function(e){var t=function(e){if("object"!=E(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==E(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var w=(0,m.A)(function(e){var t,r=e.locale,l=void 0===r?{}:r,a=e.ref,i=e.tooltip,s=function(e){try{return n(196072)("./"+e+".png")}catch(e){return!1}}(l.code);return o().createElement(u.MG.Addon,null,s?o().createElement(u._V,{ref:a,src:s,alt:l.description,tooltip:i}):o().createElement("span",null,null!==(t=l.description)&&void 0!==t?t:l.code))}),P=(0,d.A)("placeholder")(u.MJ),L=(0,d.A)("tooltip")((0,m.A)(u.e6)),S=function(e){var t,n,l,a=e.locales,s=void 0===a?null!==(t=(0,p.Qk)())&&void 0!==t?t:[]:a,m=e.showTranslateTool,d=void 0===m||m,h=e.showCurrent,S=void 0!==h&&h,A=e.currentLocale,j=e.value,C=e.onChange,I=void 0===C?function(){}:C,x=e.disabled,k=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,f),T=(n=(0,r.useState)(!1),l=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,l,a,i=[],s=!0,c=!1;try{if(l=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=l.call(n)).done)&&(i.push(r.value),i.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return i}}(n,l)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(n,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),N=T[0],D=T[1],F=j&&"object"===E(j)&&null!=j?j:{},W=j&&"object"===E(j)?j.default:j,z=c()(Object.values(s),{code:A}),M=z&&F[A],_=A&&S&&M,q=(0,r.useCallback)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";if("default"!==t||j&&"object"===E(j)){var n=v(v({default:W},F),{},b({},t,e));I(n)}else"default"===t&&(j&&"string"==typeof j||!j&&"default"===t)&&I(e)},[F,W,I,j]);return o().createElement(u.MG,null,o().createElement(u.MJ,y({disabled:x},k,{value:_?F[A]:W,onChange:function(e){var t=e.target;_?q(t.value,A):q(t.value)}})),_&&o().createElement(w,{locale:z}),d&&o().createElement(u.MG.Addon,{disabled:x},o().createElement("a",{style:{cursor:"pointer"},onClick:function(e){e.preventDefault(),D(!0)}},o().createElement(L,{glyph:"flag",tooltip:"localizedInput.localize"}))),N&&o().createElement(i.A,{show:!0,bsSize:"large"},o().createElement(i.A.Header,null,o().createElement(i.A.Title,null,o().createElement(g.A,{msgId:"localizedInput.title"}))),o().createElement(i.A.Body,null,o().createElement(u.MG,{key:"default"},o().createElement(u.MG.Addon,null,o().createElement(L,{glyph:"flag",tooltip:"localizedInput.default"})),o().createElement(P,{placeholder:"localizedInput.default",defaultValue:W,type:"text",onChange:function(e){var t=e.target;return q(t.value)}})),o().createElement("hr",null),Object.values(s).map(function(e){return o().createElement(u.MG,{key:e.code},o().createElement(w,{tooltip:e.description,locale:e}),o().createElement(u.MJ,{placeholder:e.description,defaultValue:F[e.code]||"",type:"text",onChange:function(t){var n=t.target;return q(n.value,e.code)}}))})),o().createElement(i.A.Footer,null,o().createElement(u.$n,{style:{float:"right"},onClick:function(){return D(!1)}},"Close"))))};S.propTypes={value:a().oneOfType([a().string,a().object]),onChange:a().func,locales:a().array,currentLocale:a().string,disabled:a().bool,showTranslateTool:a().bool,showCurrent:a().bool};const A=S}}]);