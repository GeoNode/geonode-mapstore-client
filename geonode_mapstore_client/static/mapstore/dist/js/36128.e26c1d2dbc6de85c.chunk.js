"use strict";(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[36128],{786717:(e,t,r)=>{r.d(t,{A:()=>c});var n=r(234120),i=r(506837),o=r(190588),s=r(209438);class a extends n.A{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if("function"==typeof e.getSimplifiedGeometry){const t=e;this.setGeometry(t)}else{const t=e;this.setProperties(t)}}clone(){const e=new a(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const t=this.getGeometry();t&&e.setGeometry(t.clone());const r=this.getStyle();return r&&e.setStyle(r),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&((0,s.JH)(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=(0,s.KT)(e,i.A.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?function(e){if("function"==typeof e)return e;let t;return Array.isArray(e)?t=e:((0,o.v)("function"==typeof e.getZIndex,41),t=[e]),function(){return t}}(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}const c=a},498217:(e,t,r)=>{r.d(t,{Ay:()=>o,hX:()=>s});var n=r(104087),i=r(207434);const o=class{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}getReadOptions(e,t){if(t){let r=t.dataProjection?(0,i.Jt)(t.dataProjection):this.readProjection(e);t.extent&&r&&"tile-pixels"===r.getUnits()&&(r=(0,i.Jt)(r),r.setWorldExtent(t.extent)),t={dataProjection:r,featureProjection:t.featureProjection}}return this.adaptOptions(t)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},e)}getType(){return(0,n.b0)()}readFeature(e,t){return(0,n.b0)()}readFeatures(e,t){return(0,n.b0)()}readGeometry(e,t){return(0,n.b0)()}readProjection(e){return(0,n.b0)()}writeFeature(e,t){return(0,n.b0)()}writeFeatures(e,t){return(0,n.b0)()}writeGeometry(e,t){return(0,n.b0)()}};function s(e,t,r){const n=r?(0,i.Jt)(r.featureProjection):null,o=r?(0,i.Jt)(r.dataProjection):null;let s;if(s=n&&o&&!(0,i.tI)(n,o)?(t?e.clone():e).transform(t?n:o,t?o:n):e,t&&r&&void 0!==r.decimals){const t=Math.pow(10,r.decimals),n=function(e){for(let r=0,n=e.length;r<n;++r)e[r]=Math.round(e[r]*t)/t;return e};s===e&&(s=e.clone()),s.applyTransform(n)}return s}},736128:(e,t,r)=>{r.d(t,{A:()=>_});var n=r(786717),i=r(334338),o=r(762283),s=r(611217),a=r(496702),c=r(330503),u=r(502871),h=r(644294),l=r(934142),m=r(190588),g=r(207434),d=r(643530),y=r(498217);class p extends o.A{constructor(e){e=e||{},super(),this.dataProjection=(0,g.Jt)(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=(0,g.Jt)(e.featureProjection)),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,t){let r=null;r="Feature"===e.type?e:{type:"Feature",geometry:e,properties:null};const i=f(r.geometry,t),o=new n.A;return this.geometryName_?o.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in r!==void 0&&o.setGeometryName(r.geometry_name),o.setGeometry(i),"id"in r&&o.setId(r.id),r.properties&&o.setProperties(r.properties,!0),o}readFeaturesFromObject(e,t){let r=null;if("FeatureCollection"===e.type){r=[];const n=e.features;for(let e=0,i=n.length;e<i;++e)r.push(this.readFeatureFromObject(n[e],t))}else r=[this.readFeatureFromObject(e,t)];return r}readGeometryFromObject(e,t){return f(e,t)}readProjectionFromObject(e){const t=e.crs;let r;return t?"name"==t.type?r=(0,g.Jt)(t.properties.name):"EPSG"===t.type?r=(0,g.Jt)("EPSG:"+t.properties.code):(0,m.v)(!1,36):r=this.dataProjection,r}writeFeatureObject(e,t){t=this.adaptOptions(t);const r={type:"Feature",geometry:null,properties:null},n=e.getId();if(void 0!==n&&(r.id=n),!e.hasProperties())return r;const i=e.getProperties(),o=e.getGeometry();return o&&(r.geometry=G(o,t),delete i[e.getGeometryName()]),(0,d.p)(i)||(r.properties=i),r}writeFeaturesObject(e,t){t=this.adaptOptions(t);const r=[];for(let n=0,i=e.length;n<i;++n)r.push(this.writeFeatureObject(e[n],t));return{type:"FeatureCollection",features:r}}writeGeometryObject(e,t){return G(e,this.adaptOptions(t))}}function f(e,t){if(!e)return null;let r;switch(e.type){case"Point":r=function(e){return new h.A(e.coordinates)}(e);break;case"LineString":r=function(e){return new s.A(e.coordinates)}(e);break;case"Polygon":r=function(e){return new l.Ay(e.coordinates)}(e);break;case"MultiPoint":r=function(e){return new c.A(e.coordinates)}(e);break;case"MultiLineString":r=function(e){return new a.A(e.coordinates)}(e);break;case"MultiPolygon":r=function(e){return new u.A(e.coordinates)}(e);break;case"GeometryCollection":r=function(e){const t=e.geometries.map((function(e){return f(e,undefined)}));return new i.A(t)}(e);break;default:throw new Error("Unsupported GeoJSON type: "+e.type)}return(0,y.hX)(r,!1,t)}function G(e,t){const r=(e=(0,y.hX)(e,!0,t)).getType();let n;switch(r){case"Point":n=function(e){return{type:"Point",coordinates:e.getCoordinates()}}(e);break;case"LineString":n=function(e){return{type:"LineString",coordinates:e.getCoordinates()}}(e);break;case"Polygon":n=function(e,t){let r;return t&&(r=t.rightHanded),{type:"Polygon",coordinates:e.getCoordinates(r)}}(e,t);break;case"MultiPoint":n=function(e){return{type:"MultiPoint",coordinates:e.getCoordinates()}}(e);break;case"MultiLineString":n=function(e){return{type:"MultiLineString",coordinates:e.getCoordinates()}}(e);break;case"MultiPolygon":n=function(e,t){let r;return t&&(r=t.rightHanded),{type:"MultiPolygon",coordinates:e.getCoordinates(r)}}(e,t);break;case"GeometryCollection":n=function(e,t){delete(t=Object.assign({},t)).featureProjection;return{type:"GeometryCollection",geometries:e.getGeometriesArray().map((function(e){return G(e,t)}))}}(e,t);break;case"Circle":n={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+r)}return n}const _=p},762283:(e,t,r)=>{r.d(t,{A:()=>a});var n=r(498217),i=r(104087);class o extends n.Ay{constructor(){super()}getType(){return"json"}readFeature(e,t){return this.readFeatureFromObject(s(e),this.getReadOptions(e,t))}readFeatures(e,t){return this.readFeaturesFromObject(s(e),this.getReadOptions(e,t))}readFeatureFromObject(e,t){return(0,i.b0)()}readFeaturesFromObject(e,t){return(0,i.b0)()}readGeometry(e,t){return this.readGeometryFromObject(s(e),this.getReadOptions(e,t))}readGeometryFromObject(e,t){return(0,i.b0)()}readProjection(e){return this.readProjectionFromObject(s(e))}readProjectionFromObject(e){return(0,i.b0)()}writeFeature(e,t){return JSON.stringify(this.writeFeatureObject(e,t))}writeFeatureObject(e,t){return(0,i.b0)()}writeFeatures(e,t){return JSON.stringify(this.writeFeaturesObject(e,t))}writeFeaturesObject(e,t){return(0,i.b0)()}writeGeometry(e,t){return JSON.stringify(this.writeGeometryObject(e,t))}writeGeometryObject(e,t){return(0,i.b0)()}}function s(e){if("string"==typeof e){return JSON.parse(e)||null}return null!==e?e:null}const a=o},334338:(e,t,r)=>{r.d(t,{A:()=>u});var n=r(506837),i=r(927430),o=r(570915),s=r(209438);class a extends i.A{constructor(e){super(),this.geometries_=e||null,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(s.JH),this.changeEventsKeys_.length=0}listenGeometriesChange_(){if(this.geometries_)for(let e=0,t=this.geometries_.length;e<t;++e)this.changeEventsKeys_.push((0,s.KT)(this.geometries_[e],n.A.CHANGE,this.changed,this))}clone(){const e=new a(null);return e.setGeometries(this.geometries_),e.applyProperties(this),e}closestPointXY(e,t,r,n){if(n<(0,o.Ld)(this.getExtent(),e,t))return n;const i=this.geometries_;for(let o=0,s=i.length;o<s;++o)n=i[o].closestPointXY(e,t,r,n);return n}containsXY(e,t){const r=this.geometries_;for(let n=0,i=r.length;n<i;++n)if(r[n].containsXY(e,t))return!0;return!1}computeExtent(e){(0,o.aZ)(e);const t=this.geometries_;for(let r=0,n=t.length;r<n;++r)(0,o.X$)(e,t[r].getExtent());return e}getGeometries(){return c(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[];const t=this.geometries_;for(let r=0,n=t.length;r<n;++r)t[r].getType()===this.getType()?e=e.concat(t[r].getGeometriesArrayRecursive()):e.push(t[r]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=[],r=this.geometries_;let n=!1;for(let i=0,o=r.length;i<o;++i){const o=r[i],s=o.getSimplifiedGeometry(e);t.push(s),s!==o&&(n=!0)}if(n){const e=new a(null);return e.setGeometriesArray(t),e}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this}getType(){return"GeometryCollection"}intersectsExtent(e){const t=this.geometries_;for(let r=0,n=t.length;r<n;++r)if(t[r].intersectsExtent(e))return!0;return!1}isEmpty(){return 0===this.geometries_.length}rotate(e,t){const r=this.geometries_;for(let n=0,i=r.length;n<i;++n)r[n].rotate(e,t);this.changed()}scale(e,t,r){r||(r=(0,o.q1)(this.getExtent()));const n=this.geometries_;for(let i=0,o=n.length;i<o;++i)n[i].scale(e,t,r);this.changed()}setGeometries(e){this.setGeometriesArray(c(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){const t=this.geometries_;for(let r=0,n=t.length;r<n;++r)t[r].applyTransform(e);this.changed()}translate(e,t){const r=this.geometries_;for(let n=0,i=r.length;n<i;++n)r[n].translate(e,t);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function c(e){const t=[];for(let r=0,n=e.length;r<n;++r)t.push(e[r].clone());return t}const u=a}}]);