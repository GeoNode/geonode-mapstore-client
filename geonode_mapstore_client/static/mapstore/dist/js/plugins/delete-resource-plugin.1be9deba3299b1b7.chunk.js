"use strict";(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[9170],{801820(e,r,n){n.d(r,{h4:()=>b,ut:()=>y});var t=n(23412),o=n.n(t),l=n(39128),u=n.n(l),c=n(874295),i=n.n(c),a=(n(541033),["search"]);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function s(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=Array(r);n<r;n++)t[n]=e[n];return t}function d(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,t)}return n}function m(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?d(Object(n),!0).forEach(function(r){v(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function v(e,r,n){return(r=function(e){var r=function(e){if("object"!=f(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==f(r)?r:r+""}(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var y=function(e){var r=e.location,n=e.pathname,t=e.query,l=e.replaceQuery,c=e.excludeQueryKeys,f=r.search,d=function(e,r){if(null==e)return{};var n,t,o=function(e,r){if(null==e)return{};var n={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(-1!==r.indexOf(t))continue;n[t]=e[t]}return n}(e,r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(t=0;t<l.length;t++)n=l[t],-1===r.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(r,a),y=o().parse(f||"",!0).query,b=t?l?m(m({},y),t):Object.keys(t).reduce(function(e,r){var n,o=t[r],l=u()(e[r]).filter(function(e){return e}),c=-1===l.indexOf(o)?[].concat(function(e){if(Array.isArray(e))return s(e)}(n=l)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,r){if(e){if("string"==typeof e)return s(e,r);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,r):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[o]):l.filter(function(e){return e!==o});return m(m({},e),{},v({},r,c))},y):y;return"#".concat(o().format(m(m(m({},d),n&&{pathname:n}),{},{query:i()(Object.keys(b).reduce(function(e,r){return b[r]&&0!==b[r].length?m(m({},e),{},v({},r,b[r])):e},{}),c)})))},b=function(e){var r,n;return null===(r="object"===f(e)?null!==(n=e.icon)&&void 0!==n?n:null==e?void 0:e.fa_class:e)||void 0===r?void 0:r.replace("fa-","")}},845163(e,r,n){n.r(r),n.d(r,{default:()=>A});var t=n(273517),o=n.n(t),l=n(393149),u=n(811668),c=n(801081),i=n(8117),a=n(8571),f=n(836970),s=n(534332),d=n(406250),m=n(415392),v=n(172175),y=n(66178),b=n(298013),p=n(68352),E=n(501719),g=n(801820);function h(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=Array(r);n<r;n++)t[n]=e[n];return t}var O=[n(425380).cI.VIEWER],S=function(e){var r,n,t=e.resources,l=void 0===t?[]:t;if(l.some(function(e){return O.includes(e.resource_type)})){var u=(r=l,n=1,function(e){if(Array.isArray(e))return e}(r)||function(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,o,l,u,c=[],i=!0,a=!1;try{if(l=(n=n.call(e)).next,0===r){if(Object(n)!==n)return;i=!1}else for(;!(i=(t=l.call(n)).done)&&(c.push(t.value),c.length!==r);i=!0);}catch(e){a=!0,o=e}finally{try{if(!i&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(a)throw o}}return c}}(r,n)||function(e,r){if(e){if("string"==typeof e)return h(e,r);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,r):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0].resource_type;return o().createElement("div",{className:"gn-resource-delete-warning"},o().createElement(i.e6,{className:"warning",glyph:"alert"})," Â ",o().createElement(a.A,{msgId:"gnviewer.deleteResourceWarning.".concat(u)}))}return null},w=(0,u.connect)((0,c.Mz)([function(e){var r;return null==e||null===(r=e.controls)||void 0===r||null===(r=r[b.b.DELETE_RESOURCE])||void 0===r?void 0:r.value},function(e){var r;return null==e||null===(r=e.controls)||void 0===r||null===(r=r[b.b.DELETE_RESOURCE])||void 0===r?void 0:r.loading},function(e){var r;return null==e||null===(r=e.router)||void 0===r?void 0:r.location},v.xF],function(e,r,n,t){return{resources:e,enabled:!!e,loading:r,location:n,selectedResource:t}}),{onClose:m.fN.bind(null,b.b.DELETE_RESOURCE,"value",void 0),onDelete:y.tz.bind(null,b.b.DELETE_RESOURCE)})(function(e){var r=e.enabled,n=e.resources,t=void 0===n?[]:n,l=e.onClose,u=void 0===l?function(){}:l,c=e.onDelete,i=void 0===c?function(){}:c,a=e.redirectTo,f=e.loading,m=e.location,v=e.selectedResource;return o().createElement(d.A,null,o().createElement(s.A,{show:r,titleId:"gnviewer.deleteResourceTitle",titleParams:{count:t.length},cancelId:"gnviewer.deleteResourceNo",cancelParams:{count:t.length},confirmId:"gnviewer.deleteResourceYes",confirmParams:{count:t.length},variant:"danger",loading:f,onCancel:function(){u()},onConfirm:function(){var e,r,n=t.map(function(e){return e.pk});!a&&null!=v&&v.pk&&n.includes(v.pk)&&(e=(0,g.ut)({location:m,excludeQueryKeys:["d"]}),(r=document.createElement("a")).setAttribute("href",e),r.click()),i(t,a)}},o().createElement(S,{resources:t})))}),j=(0,u.connect)((0,c.Mz)([v.xF],function(e){return{resource:e}}),{onClick:m.fN.bind(null,b.b.DELETE_RESOURCE,"value")})(function(e){var r=e.onClick,n=e.size,t=e.resource;return o().createElement(f.A,{variant:"danger",size:n,onClick:function(){r([t])}},o().createElement(a.A,{msgId:"gnhome.delete"}))}),R=(0,u.connect)((0,c.Mz)([E.M3],function(e){return{authenticated:e}}),{onDelete:m.fN.bind(null,b.b.DELETE_RESOURCE,"value")})(function(e){var r,n=e.resource,t=e.authenticated,l=e.onDelete,u=e.component;if(!t||null==n||null===(r=n.perms)||void 0===r||!r.includes("delete_resourcebase"))return null;var c=u;return o().createElement(c,{onClick:function(){return l([n])},glyph:"trash",labelId:"gnhome.delete"})});const A=(0,l.i1)("DeleteResource",{component:w,containers:{ActionNavbar:{name:"DeleteResource",Component:j},ResourcesGrid:{name:b.b.DELETE_RESOURCE,target:"card-options",Component:R}},epics:{},reducers:{controls:p.A}})}}]);