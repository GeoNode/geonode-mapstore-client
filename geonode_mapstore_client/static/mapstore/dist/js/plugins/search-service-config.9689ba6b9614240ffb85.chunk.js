(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[63109],{240626:(e,t,r)=>{"use strict";r.d(t,{bL:()=>n,f6:()=>o,E_:()=>i,ai:()=>a,U8:()=>c,Pg:()=>l});var n="SET_SEARCH_CONFIG_PROP",o="RESET_SEARCH_CONFIG",i="UPDATE_SERVICE";function a(e,t){return{type:n,property:e,value:t}}function c(){return{type:o,page:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0}}function l(e){return{type:i,service:e,idx:arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1}}},38560:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(480681),o=r(124852),i=r.n(o),a=r(294184),c=r.n(a),l=["disabled","className","onClick"];function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s.apply(this,arguments)}var u=r(815135);const p=(f=n.Button,i().forwardRef((function(e,t){var r=e.disabled,n=e.className,o=e.onClick,a=void 0===o?function(){}:o,u=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,l);return i().createElement(f,s({ref:t,className:r?c()("disabled",n):n,onClick:function(){r||a.apply(void 0,arguments)}},u),u.children)})));var f;(0,u.Z)(n.Button)},399534:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(461365),o=r(356936);const i=(0,n.Z)(o.h_)},4298:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>qe});var n=r(124852),o=r.n(n),i=r(171703),a=r(22222),c=r(480681),l=r(729679),s=r(807472),u=r(399534),p=r(481756),f=r(227361),m=r.n(f),y=r(618446),b=r.n(y),v=r(782904),d=r(240626),h=r(805346),g=r(675263),E=r.n(g);function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,I(n.key),n)}}function C(e,t,r){return t=j(t),function(e,t){if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return S(e)}(e,w()?Reflect.construct(t,r||[],j(e).constructor):t.apply(e,r))}function w(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(w=function(){return!!e})()}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}function x(e,t,r){return(t=I(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I(e){var t=function(e,t){if("object"!=P(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==P(t)?t:String(t)}var k=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return x(S(e=C(this,t,[].concat(n))),"getOptions",(function(){return 0===e.props.services.length?o().createElement("div",{className:"search-service-name"},o().createElement(h.Z,{msgId:"search.serviceslistempty"})):e.props.services.map((function(t,r){return o().createElement("div",{className:"search-service-item",key:r},o().createElement("span",{className:"search-service-name"},t.name),o().createElement(l.Z,{className:"list-remove-btn",onConfirm:function(){return e.remove(r)},text:o().createElement(c.Glyphicon,{glyph:"remove-circle"}),confirming:{className:"text-warning list-remove-btn",text:o().createElement(h.Z,{msgId:"search.confirmremove"})}}),o().createElement(c.Glyphicon,{onClick:function(){return e.edit(t,r)},glyph:"pencil"}))}))})),x(S(e),"edit",(function(t,r){e.props.onPropertyChange("init_service_values",t),e.props.onPropertyChange("service",t),e.props.onPropertyChange("editIdx",r),e.props.onPropertyChange("page",1)})),x(S(e),"toggleOverride",(function(){var t=e.props,r=t.services,n=t.override;e.props.onPropertyChange("textSearchConfig",{services:r,override:!n})})),x(S(e),"remove",(function(t){var r=e.props,n=r.services,o=r.override,i=n.filter((function(e,r){return r!==t}));e.props.onPropertyChange("textSearchConfig",{services:i,override:o})})),e}var r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this.props.override;return o().createElement("form",null,o().createElement(c.FormGroup,null,o().createElement(c.ControlLabel,null,o().createElement(h.Z,{msgId:"search.serviceslistlabel"})),o().createElement("div",{className:"services-list"},this.getOptions())),o().createElement(c.Checkbox,{checked:e,onChange:this.toggleOverride},o().createElement(h.Z,{msgId:"search.overriedservice"})))}}])&&O(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),t}(o().Component);x(k,"propTypes",{services:E().array,override:E().bool,service:E().object,onPropertyChange:E().func}),x(k,"contextTypes",{messages:E().object}),x(k,"defaultProps",{services:[],override:!1,onPropertyChange:function(){}});const Z={Element:k,validate:function(){return!0}};var T=r(727418),N=r.n(T);function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function L(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,V(n.key),n)}}function D(e,t,r){return t=R(t),function(e,t){if(t&&("object"===F(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return B(e)}(e,G()?Reflect.construct(t,r||[],R(e).constructor):t.apply(e,r))}function G(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(G=function(){return!!e})()}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},A(e,t)}function q(e,t,r){return(t=V(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V(e){var t=function(e,t){if("object"!=F(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=F(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==F(t)?t:String(t)}var U=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return q(B(e=D(this,t,[].concat(n))),"updateProp",(function(t,r){var n=r.target.value;"queriableAttributes"===t&&(n=n.split(","));var o=N()({},e.props.service.options,q({},t,n));e.props.onPropertyChange("service",N()({},e.props.service,{options:o}))})),q(B(e),"updateName",(function(t){var r=t.target.value;e.props.onPropertyChange("service",N()({},e.props.service,{name:r}))})),q(B(e),"updateMaxFeatures",(function(t){var r=N()({},e.props.service.options,{maxFeatures:parseFloat(t[0],10)});e.props.onPropertyChange("service",N()({},e.props.service,{options:r}))})),e}var r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this.props.service,t=e.options,r=void 0===t?{}:t;return o().createElement("form",null,o().createElement("span",{className:"wfs-required-props-title"},o().createElement(h.Z,{msgId:"search.s_wfs_props_label"})),o().createElement(c.FormGroup,null,o().createElement(c.ControlLabel,null,o().createElement(h.Z,{msgId:"search.s_name"})),o().createElement(c.FormControl,{value:e.name,key:"name",type:"text",onChange:this.updateName})),o().createElement(c.FormGroup,null,o().createElement(c.ControlLabel,null,o().createElement(h.Z,{msgId:"search.s_url"})),o().createElement(c.FormControl,{value:r.url,key:"url",type:"text",onChange:this.updateProp.bind(null,"url")})),o().createElement(c.FormGroup,null,o().createElement(c.ControlLabel,null,o().createElement(h.Z,{msgId:"search.s_layer"})),o().createElement(c.FormControl,{value:r.typeName,key:"typeName",type:"text",onChange:this.updateProp.bind(null,"typeName")})),o().createElement(c.FormGroup,null,o().createElement(c.ControlLabel,null,o().createElement(h.Z,{msgId:"search.s_attributes"})),o().createElement(c.FormControl,{value:([r.queriableAttributes]||0).join(","),key:"queriableAttributes",type:"text",onChange:this.updateProp.bind(null,"queriableAttributes")})))}}])&&L(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),t}(o().Component);q(U,"propTypes",{service:E().object,onPropertyChange:E().func}),q(U,"defaultProps",{service:{},onPropertyChange:function(){}});const $={Element:U,validate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,r=void 0===t?{}:t,n=e.name,o=void 0===n?"":n,i=r.url,a=void 0===i?"":i,c=r.typeName,l=void 0===c?"":c,s=r.queriableAttributes,u=void 0===s?"":s;return o.length>0&&a.length>0&&l.length>0&&u.length>0}};var z=r(185552),H=r.n(z),M=r(743129),X=r(86638);function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function J(){return J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J.apply(this,arguments)}function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach((function(t){ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ae(n.key),n)}}function ee(e,t,r){return t=re(t),function(e,t){if(t&&("object"===W(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ne(e)}(e,te()?Reflect.construct(t,r||[],re(e).constructor):t.apply(e,r))}function te(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(te=function(){return!!e})()}function re(e){return re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},re(e)}function ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oe(e,t){return oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},oe(e,t)}function ie(e,t,r){return(t=ae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ae(e){var t=function(e,t){if("object"!=W(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=W(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==W(t)?t:String(t)}var ce=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return ie(ne(e=ee(this,t,[].concat(n))),"updateProp",(function(t,r,n){var o=m()(n,r||"target.value");e.props.onPropertyChange("service",N()({},e.props.service,ie({},t,o)))})),ie(ne(e),"updatePriority",(function(t){e.props.onPropertyChange("service",N()({},e.props.service,{priority:parseFloat(t[0],10)}))})),ie(ne(e),"updateLaunchInfoPanel",(function(t){var r=t&&t.value?t.value:"";"no_info"===r&&(r=void 0),e.props.onPropertyChange("service",Q(Q({},e.props.service),{},{launchInfoPanel:r,openFeatureInfoButtonEnabled:!1,forceSearchLayerVisibility:!1}))})),e}var r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oe(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e,t,r=this.props.service,n=this.props.launchInfoPanelOptions||[{label:(0,X.S$)(this.context.messages,"search.s_launch_info_panel.no_info"),value:"no_info"},{label:(0,X.S$)(this.context.messages,"search.s_launch_info_panel.all_layers"),value:"all_layers"},{label:(0,X.S$)(this.context.messages,"search.s_launch_info_panel.single_layer"),value:"single_layer"}],i=(null==r?void 0:r.launchInfoPanel)||this.props.launchInfoPanelDefault;return o().createElement("form",null,o().createElement("span",{className:"wfs-required-props-title"},o().createElement(h.Z,{msgId:"search.s_result_props_label"})),o().createElement(c.FormGroup,null,o().createElement(c.ControlLabel,null,o().createElement(h.Z,{msgId:"search.s_title"})),o().createElement(c.FormControl,{value:r.displayName,key:"displayName",type:"text",placeholder:'e.g. "${properties.name}"',onChange:this.updateProp.bind(null,"displayName",null)})),o().createElement(c.FormGroup,null,o().createElement(c.ControlLabel,null,o().createElement(h.Z,{msgId:"search.s_description"})),o().createElement(c.FormControl,{value:r.subTitle,key:"subTitle",type:"text",onChange:this.updateProp.bind(null,"subTitle",null)})),o().createElement(c.FormGroup,null,o().createElement(c.ControlLabel,null,o().createElement(h.Z,{msgId:"search.s_priority"}),o().createElement(c.Label,{key:"priority-label",className:"slider-label"},parseInt(r.priority||1,10))),o().createElement(H(),{key:"priority",start:[r.priority||1],step:1,range:{min:1,max:10},onSlide:this.updatePriority}),o().createElement("span",{className:"priority-info"},o().createElement(h.Z,{msgId:"search.s_priority_info"}))),o().createElement(c.FormGroup,null,o().createElement(c.ControlLabel,null,o().createElement(h.Z,{msgId:"search.s_launch_info_panel.label"})),o().createElement(M.ZP,J({options:n,clearable:!1,value:i,onChange:this.updateLaunchInfoPanel},this.props.launchInfoPanelSelectOptions)),"single_layer"===i?o().createElement(c.FormGroup,null,o().createElement(c.Checkbox,{checked:null!==(e=null==r?void 0:r.openFeatureInfoButtonEnabled)&&void 0!==e&&e,onChange:this.updateProp.bind(null,"openFeatureInfoButtonEnabled","target.checked")},o().createElement(h.Z,{msgId:"search.s_launch_info_panel.openFeatureInfoButtonCheckbox"})),o().createElement(c.Checkbox,{checked:null!==(t=null==r?void 0:r.forceSearchLayerVisibility)&&void 0!==t&&t,onChange:this.updateProp.bind(null,"forceSearchLayerVisibility","target.checked")},o().createElement(h.Z,{msgId:"search.s_launch_info_panel.forceSearchLayerVisibility"}))):null,o().createElement("span",{className:"priority-info with-top-margin"},o().createElement(h.Z,{msgId:"search.s_launch_info_panel.".concat(i,"_description")}))))}}])&&Y(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),t}(o().Component);ie(ce,"propTypes",{service:E().object,launchInfoPanelOptions:E().array,launchInfoPanelDefault:E().string,launchInfoPanelSelectOptions:E().object,onPropertyChange:E().func}),ie(ce,"contextTypes",{messages:E().object}),ie(ce,"defaultProps",{service:{},launchInfoPanelDefault:"no_info",launchInfoPanelSelectOptions:{},onPropertyChange:function(){}});const le={Element:ce,validate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.displayName&&e.displayName.length>0}};function se(e){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(e)}function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(r),!0).forEach((function(t){he(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ge(n.key),n)}}function me(e,t,r){return t=be(t),function(e,t){if(t&&("object"===se(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ve(e)}(e,ye()?Reflect.construct(t,r||[],be(e).constructor):t.apply(e,r))}function ye(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ye=function(){return!!e})()}function be(e){return be=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},be(e)}function ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function de(e,t){return de=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},de(e,t)}function he(e,t,r){return(t=ge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ge(e){var t=function(e,t){if("object"!=se(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=se(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==se(t)?t:String(t)}var Ee=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return he(ve(e=me(this,t,[].concat(n))),"updateProp",(function(t,r){var n=r.target.value,o=N()({},e.props.service.options,he({},t,n));e.props.onPropertyChange("service",N()({},e.props.service,{options:o}))})),he(ve(e),"updateSliderProps",(function(t,r){var n=pe(pe({},e.props.service.options),{},he({},t,parseInt(r[0],10)));e.props.onPropertyChange("service",pe(pe({},e.props.service),{},{options:n}))})),e}var r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&de(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this.props.service.options,t=void 0===e?{}:e;return o().createElement("form",null,o().createElement("span",{className:"wfs-required-props-title"},o().createElement(h.Z,{msgId:"search.s_wfs_opt_props_label"})),o().createElement(c.FormGroup,null,o().createElement(c.ControlLabel,null,o().createElement(h.Z,{msgId:"search.s_sort"})),o().createElement(c.FormControl,{value:t.sortBy,key:"sortBy",type:"text",onChange:this.updateProp.bind(null,"sortBy")})),o().createElement(c.FormGroup,null,o().createElement(c.ControlLabel,null,o().createElement(h.Z,{msgId:"search.s_max_features"})),o().createElement(H(),{key:"maxFeatures",start:[t.maxFeatures||1],range:{min:1,max:50},onSlide:this.updateSliderProps.bind(null,"maxFeatures")}),o().createElement(c.Label,{key:"maxFeatures-label",className:"slider-label"},t.maxFeatures||1)),o().createElement(c.FormGroup,null,o().createElement(c.ControlLabel,null,o().createElement(h.Z,{msgId:"search.s_max_zoom"})),o().createElement(H(),{key:"maxZoomLevel",start:[t.maxZoomLevel||21],range:{min:1,max:35},onSlide:this.updateSliderProps.bind(null,"maxZoomLevel")}),o().createElement(c.Label,{key:"maxZoomLevel-label",className:"slider-label"},t.maxZoomLevel||21)),o().createElement(c.FormGroup,null,o().createElement(c.ControlLabel,null,o().createElement(h.Z,{msgId:"search.s_placeholder"})),o().createElement(c.FormControl,{value:t.placeholder,key:"placeholder",type:"text",onChange:this.updateProp.bind(null,"placeholder")})),o().createElement(c.FormGroup,null,o().createElement(c.ControlLabel,null,o().createElement(h.Z,{msgId:"search.s_tooltip"})),o().createElement(c.FormControl,{value:t.tooltip,key:"tooltip",type:"text",onChange:this.updateProp.bind(null,"tooltip")})))}}])&&fe(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),t}(o().Component);he(Ee,"propTypes",{service:E().object,onPropertyChange:E().func}),he(Ee,"defaultProps",{service:{},onPropertyChange:function(){}});const Pe={Element:Ee,validate:function(){return!0}};var Oe=r(38560),Ce=r(815135),we=r(322843),je=r(360951);function Se(e){return Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Se(e)}function _e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(r),!0).forEach((function(t){Le(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,De(n.key),n)}}function ke(e,t,r){return t=Te(t),function(e,t){if(t&&("object"===Se(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ne(e)}(e,Ze()?Reflect.construct(t,r||[],Te(e).constructor):t.apply(e,r))}function Ze(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ze=function(){return!!e})()}function Te(e){return Te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Te(e)}function Ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fe(e,t){return Fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Fe(e,t)}function Le(e,t,r){return(t=De(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function De(e){var t=function(e,t){if("object"!=Se(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=Se(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Se(t)?t:String(t)}var Ge=(0,Ce.Z)(Oe.Z),Re=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Le(Ne(e=ke(this,t,[].concat(n))),"canProceed",(function(){var t=e.props,r=t.page,n=t.pages,o=t.service;return n[r].validate(o)})),Le(Ne(e),"isDirty",(function(){var t=e.props,r=t.service,n=t.initServiceValues;return!b()(r,n)})),Le(Ne(e),"renderFooter",(function(){var t=e.props,r=t.page,n=t.pages;return 0===r?o().createElement("span",{role:"footer"},o().createElement(Ge,{onClick:e.addService,bsStyle:"primary"},o().createElement(p.Z,{msgId:"search.addbtn"}))):r===n.length-1?o().createElement("span",{role:"footer"},o().createElement(Ge,{onClick:e.prev,bsStyle:"primary"},o().createElement(p.Z,{msgId:"search.prevbtn"})),o().createElement(Ge,{disabled:!e.canProceed(),onClick:e.update,bsStyle:"success"},o().createElement(p.Z,{msgId:"search.savebtn"}))):o().createElement("span",{role:"footer"},1===r&&e.isDirty()?o().createElement(l.Z,{onConfirm:e.prev,bsStyle:"primary",confirming:{text:o().createElement(p.Z,{msgId:"search.cancelconfirm"})},text:o().createElement(p.Z,{msgId:"search.cancelbtn"})}):o().createElement(Ge,{onClick:e.prev,bsStyle:"primary"},o().createElement(p.Z,{msgId:1===r?"search.cancelbtn":"search.prevbtn"})),o().createElement(Ge,{disabled:!e.canProceed(),onClick:e.next,bsStyle:"primary"},o().createElement(p.Z,{msgId:"search.nextbtn"})))})),Le(Ne(e),"onClose",(function(){e.props.toggleControl("searchservicesconfig"),e.props.restServiceConfig(0)})),Le(Ne(e),"addService",(function(){var t=e.props.newService;e.props.onPropertyChange("init_service_values",t),e.props.onPropertyChange("service",t),e.props.onPropertyChange("page",1)})),Le(Ne(e),"prev",(function(){var t=e.props.page;t>1?e.props.onPropertyChange("page",t-1):1===t&&e.props.restServiceConfig(0)})),Le(Ne(e),"next",(function(){var t=e.props,r=t.page;r<t.pages.length-1&&e.props.onPropertyChange("page",r+1)})),Le(Ne(e),"update",(function(){var t=e.props,r=t.service,n=t.editIdx;e.props.updateService(r,n)})),e}var r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fe(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this.props,t=e.enabled,r=e.pages,n=e.page,i=e.id,a=e.panelStyle,f=e.panelClassName,m=e.titleText,y=e.closeGlyph,b=e.onPropertyChange,v=e.service,d=e.textSearchConfig,h=void 0===d?{}:d,g=e.containerClassName,E=r&&r[n]||null;return t?o().createElement(u.Z,null,o().createElement(s.Z,{id:i,style:xe(xe({},a),{},{display:t?"block":"none"}),containerClassName:g,className:f,draggable:!1,modal:!0},o().createElement("span",{role:"header"},o().createElement("span",null,m),this.isDirty()?o().createElement(l.Z,{className:"close",confirming:{text:o().createElement(p.Z,{msgId:"search.cancelconfirm"}),className:"btn btn-sm btn-warning services-config-editor-confirm-close"},onConfirm:this.onClose,bsStyle:"primary",text:o().createElement(c.Glyphicon,{glyph:y})}):o().createElement("button",{onClick:this.onClose,className:"close"},y?o().createElement(c.Glyphicon,{glyph:y}):o().createElement("span",null,"×"))),o().createElement("div",{role:"body",className:"services-config-editor"},o().createElement(E.Element,{services:h.services,override:h.override,onPropertyChange:b,service:v})),this.renderFooter())):null}}])&&Ie(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),t}(o().Component);Le(Re,"propTypes",{id:E().string,enabled:E().bool,panelStyle:E().object,panelClassName:E().string,containerClassName:E().string,closeGlyph:E().string,titleText:E().oneOfType([E().string,E().element]),toggleControl:E().func,pages:E().arrayOf(E().shape({Element:E().func.isRequired,validate:E().func.isRequired})),page:E().number,service:E().object,initServiceValues:E().object,onPropertyChange:E().func,newService:E().object.isRequired,updateService:E().func,restServiceConfig:E().func,textSearchConfig:E().object,editIdx:E().number}),Le(Re,"defaultProps",{id:"search-services-config-editor",enabled:!1,panelStyle:{minWidth:"400px",zIndex:2e3,position:"absolute",top:"100px",minHeight:"300px",left:"calc(50% - 150px)",backgroundColor:"white"},panelClassName:"toolbar-panel",containerClassName:"",closeGlyph:"1-close",titleText:o().createElement(p.Z,{msgId:"search.configpaneltitle"}),closePanel:function(){},onPropertyChange:function(){},page:0,newService:{type:"wfs",name:"",displayName:"",subTitle:"",priority:1,options:{url:"",typeName:"",queriableAttributes:"",sortBy:"",maxFeatures:5,srsName:"EPSG:4326"}}});var Be=(0,i.connect)((function(e){var t=e.controls,r=void 0===t?{}:t,n=e.searchconfig,o=void 0===n?{}:n;return{enabled:m()(r,"searchservicesconfig.enabled",!1),pages:[Z,$,le,Pe],page:m()(o,"page",0),service:m()(o,"service",{}),initServiceValues:m()(o,"init_service_values",{}),textSearchConfig:m()(o,"textSearchConfig",{}),editIdx:o&&o.editIdx}}),{toggleControl:v.Xi,onPropertyChange:d.ai,restServiceConfig:d.U8,updateService:d.Pg})(Re),Ae=(0,i.connect)((0,a.P1)([function(e){return e.search||null},function(e){var t,r;return(null==e||null===(t=e.controls)||void 0===t||null===(r=t.searchservicesconfig)||void 0===r?void 0:r.enabled)||!1}],(function(e,t){return{activeTool:m()(e,"activeSearchTool","addressSearch"),enabled:t}})),{onToggleControl:v.Xi})((function(e){var t=e.activeTool,r=e.enabled,n=e.onToggleControl;return"addressSearch"===t?o().createElement(Ge,{bsStyle:"default",pullRight:!0,className:"square-button-md no-border",tooltipId:"search.searchservicesbutton",tooltipPosition:"bottom",onClick:function(){r||n("searchservicesconfig")}},o().createElement(c.Glyphicon,{glyph:"cog"})):null}));const qe=(0,we.rx)("SearchServicesConfig",{component:Be,containers:{Search:{name:"SearchServicesConfigButton",target:"button",component:Ae}},reducers:{searchconfig:je.Z}})},360951:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(240626),o=r(782904),i=r(881808),a=r(727418),c=r.n(a);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}const s=function(){var e,t,r,a,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,u=arguments.length>1?arguments[1]:void 0;switch(u.type){case n.bL:return c()({},s,(e={},t=u.property,r=u.value,a=function(e,t){if("object"!=l(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==l(a)?a:String(a))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e));case i.ok:var p=u.config.map.text_search_config||u.config.map.text_serch_config;return c()({},s,{textSearchConfig:p});case o.l:case n.f6:return c()({},s,{service:void 0,page:u.page,init_service_values:void 0,editIdx:void 0});case n.E_:var f=(s.textSearchConfig&&s.textSearchConfig.services||[]).slice(),m=c()({},u.service,{priority:parseInt(u.service.priority,10)});return-1!==u.idx?f[u.idx]=m:f.push(m),c()({},s,{service:void 0,page:0,init_service_values:void 0,editIdx:void 0,textSearchConfig:{services:f,override:s.textSearchConfig&&s.textSearchConfig.override||!1}});default:return s}}},945177:(e,t,r)=>{"use strict";var n=r(595318);t.__esModule=!0,t.default=void 0;var o,i=n(r(250139)),a="clearTimeout",c=function(e){var t=(new Date).getTime(),r=Math.max(0,16-(t-s)),n=setTimeout(e,r);return s=t,n},l=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};i.default&&["","webkit","moz","o","ms"].some((function(e){var t=l(e,"request");if(t in window)return a=l(e,"cancel"),c=function(e){return window[t](e)}}));var s=(new Date).getTime();(o=function(e){return c(e)}).cancel=function(e){window[a]&&"function"==typeof window[a]&&window[a](e)};var u=o;t.default=u,e.exports=t.default}}]);