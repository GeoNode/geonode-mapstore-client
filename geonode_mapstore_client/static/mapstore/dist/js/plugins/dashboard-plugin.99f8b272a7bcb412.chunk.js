"use strict";(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[9412],{447430:(t,e,n)=>{n.d(e,{A:()=>h});var r=n(605556),o=n.n(r),i=n(273517),c=n.n(i),u=n(750042),a=n.n(u);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y(r.key),r)}}function p(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(p=function(){return!!t})()}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}function b(t,e,n){return(e=y(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y(t){var e=function(t){if("object"!=l(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==l(e)?e:e+""}n.e(4434).then(n.bind(n,664434));var m=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=f(e),function(t,e){if(e&&("object"==l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,p()?Reflect.construct(e,n||[],f(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){return this.props.loading?c().createElement("div",{className:this.props.className,id:this.props.id},c().createElement(a(),{noFadeIn:!0,overrideSpinnerClassName:"spinner",spinnerName:this.props.spinner})):null}}])&&s(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(c().Component);b(m,"propTypes",{id:o().string,loading:o().bool,className:o().string,spinner:o().string}),b(m,"defaultProps",{id:"mapstore-globalspinner",loading:!1,className:"ms2-loading",spinner:"circle"});const h=m},124434:(t,e,n)=>{n.r(e),n.d(e,{default:()=>J});var r=n(605556),o=n.n(r),i=n(273517),c=n.n(i),u=n(292935),a=n(811668),l=n(916589),s=n(801081),p=n(962193),f=n.n(p),d=n(71665),b=n(8571),y=n(697950),m=n(563864);const h=(0,l.branch)(function(t){return t.selectionActive},(0,l.compose)((0,l.withProps)(function(t){var e=t.className;return{className:"".concat(e," selection-active")}}),(0,l.withHandlers)({getWidgetClass:function(t){var e=t.getWidgetClass,n=void 0===e?function(){}:e,r=t.isWidgetSelectable,o=void 0===r?function(){return!0}:r;return function(t){return n(t)?n(t)+(o(t)?void 0:" disabled"):o(t)?void 0:" disabled"}},onWidgetClick:function(t){var e=t.onWidgetSelected,n=void 0===e?function(){}:e,r=t.isWidgetSelectable,o=void 0===r?function(){return!0}:r;return function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return o(t)?n.apply(void 0,[t].concat(r)):null}}})));var g=n(639996);function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach(function(e){j(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function j(t,e,n){return(e=function(t){var e=function(t){if("object"!=v(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==v(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const P=(0,l.compose)(l.pure,(0,l.defaultProps)({breakpoints:{md:480,xxs:0},cols:{md:6,xxs:1},minLayoutWidth:480}),(0,y.Qy)({overrideWidthProvider:!0}),(0,l.withProps)(function(t){var e=t.width;return{width:e<=t.minLayoutWidth?e-18:e,toolsOptions:{showMaximize:!0}}}),(0,l.withProps)(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.width,n=t.height,r=t.maximized,o=t.minLayoutWidth,i=t.cols,c=null!=r&&r.widget?{width:"100%",height:"100%",marginTop:0,bottom:"auto",top:0,left:0,zIndex:99}:{},u=null!=r&&r.widget?{width:e,useDefaultWidthProvider:!1,rowHeight:n-50,breakpoints:{xxs:0},cols:{xxs:1}}:{};return O({className:"on-map",breakpoints:{md:o,xxs:0},cols:i||{md:6,xxs:1},style:O({position:"absolute",zIndex:50},c)},u)}),(0,m.A)(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).widgets;return 0===(void 0===t?[]:t).length},function(t){return{glyph:"dashboard",title:t.loading?c().createElement(b.A,{msgId:"loading"}):c().createElement(b.A,{msgId:"dashboard.emptyTitle"})}}),(0,l.defaultProps)({isWidgetSelectable:function(){return!0}}),h)(g.A);var S=n(795153),W=n(589769),T=n(286447),E=n(344297),x=n(737704),_=n(102780),D=n(635666),k=n(779956),A=n(447430),C=n(393149),N=n(549112),L=n(891543);function I(t){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(t)}function z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function R(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?z(Object(n),!0).forEach(function(e){X(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function H(){return H=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H.apply(null,arguments)}function Z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,q(r.key),r)}}function B(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(B=function(){return!!t})()}function M(t){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},M(t)}function U(t,e){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},U(t,e)}function X(t,e,n){return(e=q(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q(t){var e=function(t){if("object"!=I(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=I(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==I(e)?e:e+""}var V=(0,l.compose)((0,a.connect)((0,s.Mz)(W.N9,x.mT,x.Cs,x.lo,x.Zh,function(t){return(0,x.bz)(t)},x.Re,W.m4,W.Nq,W.Xt,T.Bv,E.f8,E.RU,x.Og,T.Pd,function(t,e,n,r,o,i,c,u,a,l,s,p,d,b,y){return{resource:t,loading:a,canEdit:l?!l:t&&!!t.canEdit,layouts:n,dependencies:r,selectionActive:o,editingWidget:i,widgets:f()(b)?e:e.filter(function(t){return t.id===b.widget.id}),groups:c,showGroupColor:u,language:p?s:null,env:d,maximized:b,currentLocale:y}}),{editWidget:d.Pd,updateWidgetProperty:d.Dr,exportCSV:d.HX,deleteWidget:d.uv,onWidgetSelected:d.Xj,onLayoutChange:d.ZJ,toggleMaximize:d.th}),(0,l.withProps)(function(){return{style:{height:"100%",overflow:"auto"}}}),(0,l.withHandlers)({isWidgetSelectable:function(t){var e=t.editingWidget;return function(t){return("map"===t.widgetType||"table"===t.widgetType&&(0,N.Ls)(e,t)&&!t.mapSync)&&t.id!==e.id}}}))(P),F=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=M(e),function(t,e){if(e&&("object"==I(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,B()?Reflect.construct(e,n||[],M(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){var t;(null===(t=this.props)||void 0===t?void 0:t.did)&&(this.oldDocumentTitle=document.title)}},{key:"componentDidUpdate",value:function(){var t,e=null===(t=this.props)||void 0===t?void 0:t.did;this.props.dashboardTitle&&e&&(document.title=this.props.dashboardTitle)}},{key:"componentWillUnmount",value:function(){var t;(null===(t=this.props)||void 0===t?void 0:t.did)&&(document.title=this.oldDocumentTitle)}},{key:"render",value:function(){return this.props.enabled?c().createElement(V,{items:this.props.items,width:this.props.width,height:this.props.height,rowHeight:this.props.rowHeight,cols:this.props.cols,minLayoutWidth:this.props.minLayoutWidth,enableZoomInTblWidget:this.props.enableZoomInTblWidget,widgetOpts:this.props.widgetOpts,isDashboardWidget:!0}):null}}])&&Z(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(c().Component);X(F,"propTypes",{items:o().array,enabled:o().bool,rowHeight:o().number,cols:o().object,minLayoutWidth:o().number,widgetOpts:o().object,enableZoomInTblWidget:o().bool,dashboardTitle:o().string}),X(F,"defaultProps",{enabled:!0,minLayoutWidth:480,enableZoomInTblWidget:!0});var G=function(t,e){var n=e.loadedPlugins,r=(0,L.A)({items:t.items,loadedPlugins:n}).filter(function(t){return"table-menu-download"===t.target});return c().createElement(F,H({},t,{items:r}))};G.contextTypes={loadedPlugins:o().object};const J=(0,C.i1)("Dashboard",{component:(0,a.connect)(function(t){return{dashboardTitle:(0,W.gm)(t)}})((0,u.A)(G)),reducers:{dashboard:_.A,widgets:S.A},containers:{SidebarMenu:{name:"Dashboard-spinner",alwaysVisible:!0,position:2e3,tool:(0,a.connect)(function(t){return{loading:(0,W.Nq)(t)}})(A.A)}},epics:R(R({},D.Ay),k.Ay)})}}]);