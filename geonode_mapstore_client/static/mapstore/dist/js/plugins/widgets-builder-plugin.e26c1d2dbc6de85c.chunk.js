"use strict";(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[1735],{717140:(e,t,n)=>{n.d(t,{Ij:()=>v,Jb:()=>o,Kf:()=>f,Lu:()=>i,Ly:()=>y,Mm:()=>b,Mr:()=>R,Ne:()=>p,Nu:()=>h,Q4:()=>u,S$:()=>s,V9:()=>r,VX:()=>O,ZM:()=>c,d:()=>T,et:()=>d,jx:()=>g,tq:()=>m,uw:()=>A,vK:()=>E,vw:()=>S});var r="CHANGE_DRAWING_STATUS",o="DRAW:END_DRAWING",i="DRAW:SET_CURRENT_STYLE",u="DRAW:GEOMETRY_CHANGED",c="DRAW:DRAW_SUPPORT_STOPPED",a="DRAW:FEATURES_SELECTED",l="DRAW:DRAWING_FEATURES",f="DRAW:SET_SNAPPING_LAYER",p="DRAW:SNAPPING_IS_LOADING",s="DRAW:TOGGLE_SNAPPING",y="DRAW:SET_SNAPPING_CONFIG";function E(e,t,n,r,o){return{type:u,features:e,owner:t,enableEdit:n,textChanged:r,circleChanged:o}}function d(){return{type:a,features:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}}function b(){return{type:l,features:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}}function v(){return{type:c}}function O(e,t,n,o,i,u){return{type:r,status:e,method:t,owner:n,features:o,options:i,style:u}}function R(e,t){return{type:o,geometry:e,owner:t}}function T(e){return{type:i,currentStyle:e}}var m=function(e){return O("clean","",e,[],{})};function g(){return{type:s}}function A(e){return{type:f,snappingLayer:e}}function S(){return{type:p}}function h(e,t,n){return{type:y,value:e,prop:t,pluginCfg:n}}},762686:(e,t,n)=>{n.d(t,{$m:()=>je,$r:()=>ze,$w:()=>Oe,BN:()=>xe,Bg:()=>a,Bp:()=>Ke,DK:()=>z,Dv:()=>H,Ek:()=>Ue,FN:()=>Z,Fc:()=>r,Fu:()=>te,GW:()=>be,HS:()=>y,Hu:()=>A,IR:()=>f,Iv:()=>Ve,J6:()=>$,J7:()=>ye,JM:()=>ke,JV:()=>P,Jq:()=>T,K0:()=>Me,L4:()=>b,Lw:()=>u,M3:()=>V,MI:()=>U,MW:()=>Le,N7:()=>le,Nq:()=>Ge,Ol:()=>he,PO:()=>g,Pn:()=>F,Pp:()=>qe,Q4:()=>_,RM:()=>Ye,S8:()=>He,Sm:()=>m,Tw:()=>Pe,UT:()=>ne,V$:()=>M,V_:()=>o,Wm:()=>ue,X_:()=>ce,Xj:()=>Ne,Y3:()=>G,YL:()=>R,Z9:()=>c,Zm:()=>De,_9:()=>ge,_w:()=>Se,aA:()=>ae,bS:()=>h,bU:()=>Ae,bx:()=>W,cU:()=>ie,di:()=>Re,dv:()=>Fe,en:()=>L,et:()=>B,fJ:()=>I,fX:()=>E,fk:()=>Ie,fr:()=>Be,g$:()=>O,gi:()=>ee,gm:()=>_e,h$:()=>X,hD:()=>d,hN:()=>Q,hS:()=>p,hu:()=>J,iB:()=>Je,il:()=>de,j6:()=>x,k7:()=>l,kH:()=>i,k_:()=>s,ke:()=>we,kz:()=>re,l0:()=>S,lP:()=>j,ls:()=>Ee,mQ:()=>D,mq:()=>Y,o_:()=>v,pm:()=>se,ri:()=>C,s:()=>fe,s2:()=>q,t7:()=>k,tB:()=>We,tw:()=>K,ud:()=>Qe,v2:()=>Ze,vK:()=>pe,wT:()=>me,wr:()=>ve,xp:()=>Ce,y3:()=>oe,yM:()=>w,yd:()=>Te,z0:()=>N});var r="FEATUREGRID:SET_UP",o="FEATUREGRID:SELECT_FEATURES",i="FEATUREGRID:DESELECT_FEATURES",u="FEATUREGRID:CLEAR_SELECTION",c="FEATUREGRID:SET_SELECTION_OPTIONS",a="FEATUREGRID:TOGGLE_MODE",l="FEATUREGRID:TOGGLE_FEATURES_SELECTION",f="FEATUREGRID:FEATURES_MODIFIED",p="FEATUREGRID:NEW_FEATURE",s="FEATUREGRID:SAVE_CHANGES",y="FEATUREGRID:SAVING",E="FEATUREGRID:START_EDITING_FEATURE",d="FEATUREGRID:START_DRAWING_FEATURE",b="FEATUREGRID:DELETE_GEOMETRY",v="FEATUREGRID:DELETE_GEOMETRY_FEATURE",O="FEATUREGRID:SAVE_SUCCESS",R="FEATUREGRID:CLEAR_CHANGES",T="FEATUREGRID:SAVE_ERROR",m="FEATUREGRID:DELETE_SELECTED_FEATURES",g="SET_FEATURES",A="FEATUREGRID:SORT_BY",S="FEATUREGRID:SET_LAYER",h="QUERY:UPDATE_FILTER",I="FEATUREGRID:CHANGE_PAGE",_="FEATUREGRID:GEOMETRY_CHANGED",w="DOCK_SIZE_FEATURES",D="FEATUREGRID:TOGGLE_TOOL",P="FEATUREGRID:CUSTOMIZE_ATTRIBUTE",G="ASK_CLOSE_FEATURE_GRID_CONFIRM",F="FEATUREGRID:OPEN_GRID",j="FEATUREGRID:CLOSE_GRID",U="FEATUREGRID:CLEAR_CHANGES_CONFIRMED",N="FEATUREGRID:FEATURE_GRID_CLOSE_CONFIRMED",C="FEATUREGRID:SET_PERMISSION",k="FEATUREGRID:DISABLE_TOOLBAR",L="FEATUREGRID:ACTIVATE_TEMPORARY_CHANGES",M="FEATUREGRID:DEACTIVATE_GEOMETRY_FILTER",W="FEATUREGRID:ADVANCED_SEARCH",B="FEATUREGRID:ZOOM_ALL",z="FEATUREGRID:INIT_PLUGIN",H="FEATUREGRID:SIZE_CHANGE",x="FEATUREGRID:TOGGLE_SHOW_AGAIN_FLAG",V="FEATUREGRID:UPDATE_EDITORS_OPTIONS",Y="FEATUREGRID:LAUNCH_UPDATE_FILTER_FUNC",q="FEATUREGRID:SET_SYNC_TOOL",K="FEATUREGRID:SET_VIEWPORT_FILTER",Z={EDIT:"EDIT",VIEW:"VIEW"},J="FEATUREGRID:START_SYNC_WMS",Q="FEATUREGRID:STOP_SYNC_WMS",$="STORE_ADVANCED_SEARCH_FILTER",X="LOAD_MORE_FEATURES",ee="FEATUREGRID:QUERY_RESULT",te="FEATUREGRID:SET_TIME_SYNC",ne="FEATUREGRID:SET_PAGINATION";function re(){return{type:x}}function oe(e,t){return{type:ee,features:e,pages:t}}function ie(e){return{type:$,filterObj:e}}function ue(){return{type:z,options:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}function ce(){return{type:U}}function ae(){return{type:N}}function le(e,t){return{type:o,features:e,append:t}}function fe(e){return{type:r,options:e}}function pe(e){return{type:_,features:e}}function se(){return{type:E}}function ye(){return{type:d}}function Ee(e){return{type:i,features:e}}function de(){return{type:b}}function be(e){return{type:v,features:e}}function ve(){return{type:u}}function Oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.multiselect,n=e.showCheckbox;return{type:c,multiselect:t,showCheckbox:n}}function Re(e,t){return{type:A,sortBy:e,sortOrder:t}}function Te(e,t){return{type:I,page:e,size:t}}function me(e){return{type:S,id:e}}function ge(e){return{type:h,update:e,append:arguments.length>1&&void 0!==arguments[1]&&arguments[1]}}function Ae(e,t){return{type:D,tool:e,value:t}}function Se(e,t,n){return{type:P,name:e,key:t,value:n}}function he(){return{type:a,mode:Z.EDIT}}function Ie(){return{type:a,mode:Z.VIEW}}function _e(e,t){return{type:f,features:e,updated:t}}function we(e){return{type:p,features:e}}function De(){return{type:s}}function Pe(){return{type:O}}function Ge(){return{type:m}}function Fe(){return{type:y}}function je(){return{type:R}}function Ue(){return{type:T}}function Ne(){return{type:G}}function Ce(e){return{type:j,closer:e}}function ke(){return{type:F}}function Le(e){return{type:k,disabled:e}}function Me(e){return{type:C,permission:e}}function We(){return{type:W}}function Be(){return{type:B}}function ze(){return{type:J}}function He(e,t){return{type:H,size:e,dockProps:t}}var xe=function(e){return{type:X,pages:e}},Ve=function(e){return{type:L,activated:e}},Ye=function(e){return{type:M,deactivated:e}},qe=function(e){return{type:te,value:e}},Ke=function(e){return{type:ne,size:e}},Ze=function(e){return{type:Y,updateFilterAction:e}},Je=function(e){return{type:q,syncWmsFilter:e}},Qe=function(e){return{type:K,value:e}}},926560:(e,t,n)=>{n.d(t,{A:()=>f});var r=n(916589),o=n(164045),i=n(509820);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}var c=["renderPopover","popoverOptions"];function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e,t,n){return(t=function(e){var t=function(e){if("object"!=u(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==u(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f=(0,r.compose)((0,r.withProps)((function(e){var t=e.renderPopover,n=e.popoverOptions;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(t?{renderPopover:t,popoverOptions:n}:{},function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,c))})),(0,r.branch)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.renderPopover,n=e.popoverOptions;return t&&!!n}),i.A,o.A))},509820:(e,t,n)=>{n.d(t,{A:()=>R});var r=n(273517),o=n.n(r),i=n(551258),u=n(8117),c=n(590179),a=n.n(c),l=n(310340),f=n.n(l);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}var s=["popoverOptions","keyProp"];function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(null,arguments)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function d(e){var t=function(e){if("object"!=p(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==p(t)?t:t+""}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(b=function(){return!!e})()}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}const R=function(e){return function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t,n){return t=v(t),function(e,t){if(t&&("object"==p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,b()?Reflect.construct(t,n||[],v(e).constructor):t.apply(e,n))}(this,n,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(n,t),r=n,c=[{key:"render",value:function(){var t=null,n=this.props,r=n.popoverOptions,c=n.keyProp,l=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(n,s);return o().createElement("span",{className:"mapstore-info-popover"},o().createElement(e,y({},a()(l,["renderPopover","tooltipId"]),{key:c,ref:function(e){t=e}})),o().createElement(i.A,{placement:r.placement,shouldUpdatePosition:!0,show:!0,target:function(){return f().findDOMNode(t)}},o().createElement(u.AM,r.props,r.content)))}}],c&&E(r.prototype,c),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,c}(o().Component)}},628304:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(273517),o=n.n(r),i=n(8117),u=n(711030),c=["disabled","id","visible","onClick","glyph","active","className"];function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(null,arguments)}var l={width:0,padding:0,borderWidth:0},f={},p=function(e){return e?f:l};const s=(0,r.forwardRef)((function(e,t){var n=e.disabled,r=e.id,l=e.visible,f=e.onClick,s=e.glyph,y=e.active,E=e.className,d=void 0===E?"square-button-md":E,b=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,c);return o().createElement(u.A,a({ref:t},b,{bsStyle:y?"success":"primary",disabled:n,id:"fg-".concat(r),style:p(l),className:d,onClick:function(){return!n&&f()}}),o().createElement(i.e6,{glyph:s}))}))},929215:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ne});var r=n(273517),o=n.n(r),i=n(605556),u=n.n(i),c=n(45388),a=n.n(c),l=n(668414),f=n.n(l),p=n(71665),s=n(762686),y=n(717140),E=n(223062),d=n(415392),b=n(904059),v=n(980971),O=n(654456),R=n(737704),T=n(806653),m=n(130711),g=n(549112);function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return(t=function(e){var t=function(e){if("object"!=A(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==A(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const w={openWidgetEditor:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===t?function(){}:t;return e.ofType(p.dy,p.zx,p.Q4).filter((function(){return(0,m.N3)(n())})).switchMap((function(){return a().Observable.of((0,d.fN)("widgetBuilder","enabled",!0),(0,d.fN)("metadataexplorer","enabled",!1))}))},closeWidgetEditorOnFinish:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===t?function(){}:t;return e.ofType(p.i,b.Cl).filter((function(){return(0,m.N3)(n())})).switchMap((function(){return a().Observable.of((0,d.fN)("widgetBuilder","enabled",!1))}))},initEditorOnNew:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===t?function(){}:t;return e.ofType(p.dy).filter((function(){return(0,m.N3)(n())})).switchMap((function(e){return a().Observable.of((0,p.l6)(I(I({legend:!1,mapSync:!0,cartesian:!0,yAxis:!0},e),{},{type:void 0}),{step:0}))}))},initEditorOnNewChart:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===t?function(){}:t;return e.ofType(p.Q4).filter((function(){return(0,m.N3)(n())})).switchMap((function(){var e=f()(),t=n(),r=(0,R.oR)(t);return a().Observable.of((0,s.xp)(),(0,p.l6)({mapSync:!0,selectedChartId:e,widgetType:"chart",charts:[{chartId:e,legend:!1,cartesian:!0,traces:[(0,g.h4)({layer:r,filter:(0,T.fQ)(t)})]}]},{step:0}),(0,p.zd)("returnToFeatureGrid",!0))}))},handleWidgetsFilterPanel:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===t?function(){}:t;return e.ofType(p.aE).filter((function(){return(0,m.N3)(n())})).switchMap((function(){return a().Observable.of(O.Mb.apply(void 0,(t=(r=n(),o=(0,R.oR)(r),[o.search&&o.search.url,o.name,o.fields]).concat(["widgets"]),function(e){if(Array.isArray(e))return S(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),(0,E.Bb)((0,R.tp)(n())),(0,d.fN)("widgetBuilder","enabled",!1),(0,d.fN)("queryPanel","enabled",!0)).concat(a().Observable.race(e.ofType(E.TK).take(1),e.ofType(d.x7).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.control,n=e.property;return"queryPanel"===t&&(!n||"enabled"===n)})).take(1)).switchMap((function(e){return(e.filterObj?a().Observable.of((0,p.zd)((0,R.AP)(n()),e.filterObj)):a().Observable.empty()).merge(a().Observable.of((0,d.fN)("widgetBuilder","enabled",!0)))}))).takeUntil(e.ofType(v.LK,p.zx).merge(e.ofType(d.x7).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.control,n=e.property;return"widgetBuilder"===t&&0==!n})))).concat(a().Observable.of((0,y.tq)(),(0,d.fN)("queryPanel","enabled",!1)));var t,r,o}))}};var D=n(393149),P=n(659341),G=n(811668),F=n(801081),j=n(916589),U=n(97401);const N=(0,j.compose)((0,G.connect)((function(e){return{returnToFeatureGrid:(0,R.VI)(e)}}),{backToWidgetList:function(){return(0,p.zd)("widgetType",void 0)},closeWidgetBuilder:function(){return(0,d.fN)("widgetBuilder","enabled",!1,!1)},openFeatureGridTable:function(){return(0,s.JM)()}}),(0,j.withHandlers)({backFromWizard:function(e){var t=e.backToWidgetList,n=void 0===t?function(){}:t,r=e.closeWidgetBuilder,o=void 0===r?function(){}:r,i=e.openFeatureGridTable,u=void 0===i?function(){}:i,c=e.returnToFeatureGrid;return function(){c?(o(),u()):n()}}}),(0,j.withProps)((function(e){var t=e.returnToFeatureGrid,n=e.backFromWizard;return{exitButton:{id:"map-exit-button",onClick:void 0===n?function(){}:n,glyph:"arrow-left",tooltipId:t?"widgets.builder.wizard.backToFeatureGrid":"widgets.builder.wizard.backToWidgetTypeSelection"}}})));var C=n(972554),k=n(926560),L=n(628304),M=(0,k.A)(L.A);const W=(0,G.connect)((function(){return{}}),{onClick:function(){return(0,p.R9)()}})((function(e){var t=e.disabled,n=e.mode,r=e.onClick,i=void 0===r?function(){}:r;return o().createElement(M,{id:"grid-map-chart",keyProp:"grid-map-chart",tooltipId:"featuregrid.toolbar.createNewChart",disabled:t,visible:"VIEW"===n,onClick:i,glyph:"stats"})}));var B=["onClick","selectedNodes","status","itemComponent","statusTypes","available"];function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(null,arguments)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Q(r.key),r)}}function V(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(V=function(){return!!e})()}function Y(e){return Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Y(e)}function q(e,t){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},q(e,t)}function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){J(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(e,t,n){return(t=Q(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e){var t=function(e){if("object"!=z(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==z(t)?t:t+""}var $=(0,j.compose)((0,G.connect)((0,F.Mz)(R.lo,R.fZ,(function(e,t){return Z({dependencies:e},t)})),{toggleConnection:p.Z0}),N)(C.A),X=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=Y(t),function(e,t){if(t&&("object"==z(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,V()?Reflect.construct(t,n||[],Y(e).constructor):t.apply(e,n))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q(e,t)}(t,e),n=t,r=[{key:"componentDidMount",value:function(){this.props.onMount()}},{key:"componentWillUnmount",value:function(){this.props.onUnmount()}},{key:"render",value:function(){return o().createElement(P.A,{open:this.props.enabled,size:this.props.dockSize,zIndex:this.props.zIndex,position:this.props.position,className:"widgets-builder",bsStyle:"primary",hideHeader:!0,style:Z(Z({},this.props.layout),{},{background:"white"})},o().createElement($,{enabled:this.props.enabled,onClose:this.props.onClose,typeFilter:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).type;return"map"!==e&&"legend"!==e}}))}}],r&&x(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(o().Component);J(X,"propTypes",{id:u().string,enabled:u().bool,limitDockHeight:u().bool,fluid:u().bool,zIndex:u().number,dockSize:u().number,position:u().string,onMount:u().func,onUnmount:u().func,onClose:u().func,dimMode:u().string,src:u().string,style:u().object,layout:u().object}),J(X,"defaultProps",{id:"widgets-builder-plugin",enabled:!1,dockSize:500,limitDockHeight:!0,zIndex:1e4,fluid:!1,dimMode:"none",position:"left",onMount:function(){},onUnmount:function(){},onClose:function(){},layout:{}});var ee=(0,G.connect)((0,F.Mz)(m.Xf,(function(e){return(0,U.o7)(e,{height:!0})}),(function(e,t){return{enabled:e,layout:t}})),{onMount:function(){return(0,d.fN)("widgetBuilder","available",!0)},onUnmount:function(){return(0,d.fN)("widgetBuilder","available",!1)},onClose:d.fN.bind(null,"widgetBuilder","enabled",!1,!1)})(X),te=(0,G.connect)((function(e){return{available:(0,m.N3)(e)}}),{onClick:p.jn})((function(e){var t,n=e.onClick,r=e.selectedNodes,i=e.status,u=e.itemComponent,c=e.statusTypes,a=e.available,l=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,B),f=u,p=null==r||null===(t=r[0])||void 0===t?void 0:t.node;return a&&[c.LAYER].includes(i)&&null!=p&&p.search&&"vector"!==p.search&&(null==p||!p.error)?o().createElement(f,H({},l,{glyph:"stats",tooltipId:"toc.createWidget",onClick:function(){return n()}})):null}));const ne=(0,D.i1)("WidgetsBuilder",{component:ee,epics:w,containers:{TOC:{doNotHide:!0,name:"WidgetBuilder",target:"toolbar",Component:te,position:10},FeatureEditor:{doNotHide:!0,target:"toolbar",position:21,Component:W}}})}}]);