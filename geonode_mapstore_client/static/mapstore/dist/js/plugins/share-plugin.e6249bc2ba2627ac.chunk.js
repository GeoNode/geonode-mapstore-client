(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[64059],{68352:(e,t,r)=>{"use strict";r.d(t,{A:()=>f});var n=r(415392),o=r(45228),a=r.n(o),l=r(812366);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t,r){return(t=function(e){var t=function(e){if("object"!=c(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==c(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.x7:var r=t.property||"enabled";return a()({},e,s({},t.control,a()({},e[t.control],s({},r,!(e[t.control]||{})[r]))));case n.$4:return!0===t.toggle&&e[t.control]&&e[t.control][t.property]===t.value?a()({},e,s({},t.control,a()({},e[t.control],s({},t.property,void 0)))):a()({},e,s({},t.control,a()({},e[t.control],s({},t.property,t.value))));case n.FL:return a()({},e,s({},t.control,a()({},e[t.control],t.properties)));case n.rY:var o=Object.keys(e).filter(function(e){return-1===(t.skip||[]).indexOf(e)}).reduce(function(t,r){return a()(t,s({},r,a()({},e[r],!0===e[r].enabled?{enabled:!1}:{})))},{});return a()({},e,o);case l.Df:return u(u({},e),{},{info:u(u({},e.info),{},{available:t.isMounted})});default:return e}}},336444:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(273517),o=r.n(n);const a=(0,n.forwardRef)(function(e,t){var r=e.enabled,n=e.className,a=e.children;return r?o().createElement("div",{ref:t,className:n||"gn-overlay-container",style:{position:"relative",height:"100%"}},a):null})},226192:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>D});var n=r(273517),o=r.n(n),a=r(605556),l=r.n(a),c=r(811668),i=r(801081),u=r(8117),s=r(393149),f=r(415392),p=r(8571),d=r(68352),m=r(836970),y=r(131127),b=r(336444),v=r(172175),g=r(425380),h=r(904072),w=r(59399),E=r.n(w);function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const O=function(e){var t,r,a=e.label,l=e.value,c=e.children,i=(t=(0,n.useState)(!1),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,l,c=[],i=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{if(!i&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=i[0],s=i[1];return(0,n.useEffect)(function(){u&&setTimeout(function(){s(!1)},1e3)},[u]),o().createElement("div",{className:"gn-share-link-pad"},o().createElement("div",{className:"gn-share-link-wrapper"},o().createElement("div",{className:"gn-share-page-link"},o().createElement("label",{className:"gn-share-title"},a),o().createElement("div",{className:"gn-share-link"},o().createElement("input",{readOnly:!0,rel:"noopener noreferrer",target:"_blank",value:l}),!u&&o().createElement(E(),{text:l},o().createElement(m.A,{size:"sm",onClick:function(){return s(!0)}},o().createElement(h.A,{glyph:"copy"}))),u&&o().createElement(m.A,{size:"sm"},o().createElement(h.A,{glyph:"check"}))),c)))};function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const j=function(e){var t,r,a=e.embedUrl,l=e.label,c=(t=(0,n.useState)(!1),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,l,c=[],i=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{if(!i&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=c[0],s=c[1];return o().createElement(O,{value:["<iframe",i?'allow="fullscreen"':"",'width="560"','height="315"','src="'.concat(a).concat(i?"?allowFullscreen=true":"",'"'),'frameborder="0"',"></iframe>"].filter(function(e){return e}).join(" "),label:l},o().createElement(u.Sc,{checked:i,onChange:function(e){return s(!!e.target.checked)}},o().createElement(p.A,{msgId:"gnviewer.includeFullscreen"})))};var S=function(e){var t=((0,g.gX)()[null==e?void 0:e.resource_type]||{}).formatEmbedUrl;return(void 0===t?function(e){return null==e?void 0:e.embed_url}:t)(e)?null==e?void 0:e.embed_url:null};function k(e){var t=e.enabled,r=e.onClose,n=e.resourceType,a=e.embedUrl,l=e.downloadUrl,c=e.pageUrl;return o().createElement(b.A,{enabled:t,className:"gn-overlay-wrapper"},o().createElement("section",{className:"gn-share-panel"},o().createElement("div",{className:"gn-share-panel-head"},o().createElement("h2",null,o().createElement(p.A,{msgId:"gnviewer.shareThisResource"})),o().createElement(m.A,{className:"square-button",onClick:function(){return r()}},o().createElement(u.e6,{glyph:"1-close"}))),o().createElement("div",{className:"gn-share-panel-body"},o().createElement(O,{value:c,label:o().createElement(p.A,{msgId:"gnviewer.thisPage"})}),a&&o().createElement(j,{embedUrl:a,label:o().createElement(p.A,{msgId:"gnviewer.embed".concat(n)})}),"document"===n&&!!l&&o().createElement(O,{value:l,label:o().createElement(p.A,{msgId:"gnviewer.directLink"})}))))}k.propTypes={resourceId:l().oneOfType([l().number,l().string]),enabled:l().bool,onClose:l().func},k.defaultProps={resourceId:null,enabled:!1,onClose:function(){}};var x=(0,c.connect)((0,i.Mz)([function(e){var t;return"Share"===(null==e||null===(t=e.controls)||void 0===t||null===(t=t.rightOverlay)||void 0===t?void 0:t.enabled)},v.xF,v.H2],function(e,t,r){var n;return{enabled:e,embedUrl:S(t),resourceType:r,downloadUrl:null===(n=(0,g.yy)(t))||void 0===n?void 0:n.url,pageUrl:(0,g.pJ)(t)}}),{onClose:f.fN.bind(null,"rightOverlay","enabled",!1)})(k),P=(0,c.connect)((0,i.Mz)(v.$f,v.mv,y.ii,function(e,t,r){return{enabled:!e&&(t||(null==r?void 0:r.id))}}),{onClick:f.fN.bind(null,"rightOverlay","enabled","Share")})(function(e){var t=e.enabled,r=e.variant,n=e.onClick,a=e.size;return t?o().createElement(m.A,{variant:r||"primary",size:a,onClick:function(){return n()}},o().createElement(p.A,{msgId:"share.title"})):null});const D=(0,s.i1)("Share",{component:x,containers:{ActionNavbar:{name:"Share",Component:P}},epics:{},reducers:{controls:d.A}})},17965:(e,t,r)=>{"use strict";var n=r(16426),o={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var r,a,l,c,i,u,s=!1;t||(t={}),r=t.debug||!1;try{if(l=n(),c=document.createRange(),i=document.getSelection(),(u=document.createElement("span")).textContent=e,u.ariaHidden="true",u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",u.addEventListener("copy",function(n){if(n.stopPropagation(),t.format)if(n.preventDefault(),void 0===n.clipboardData){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var a=o[t.format]||o.default;window.clipboardData.setData(a,e)}else n.clipboardData.clearData(),n.clipboardData.setData(t.format,e);t.onCopy&&(n.preventDefault(),t.onCopy(n.clipboardData))}),document.body.appendChild(u),c.selectNodeContents(u),i.addRange(c),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");s=!0}catch(n){r&&console.error("unable to copy using execCommand: ",n),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),s=!0}catch(n){r&&console.error("unable to copy using clipboardData: ",n),r&&console.error("falling back to prompt"),a=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(a,e)}}finally{i&&("function"==typeof i.removeRange?i.removeRange(c):i.removeAllRanges()),u&&document.body.removeChild(u),l()}return s}},325264:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToClipboard=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=c(r(273517)),l=c(r(17965));function c(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.CopyToClipboard=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,c=Array(o),u=0;u<o;u++)c[u]=arguments[u];return r=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),n.onClick=function(e){var t=n.props,r=t.text,o=t.onCopy,c=t.children,i=t.options,u=a.default.Children.only(c),s=(0,l.default)(r,i);o&&o(r,s),u&&u.props&&"function"==typeof u.props.onClick&&u.props.onClick(e)},i(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),r=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["text","onCopy","options","children"]),o=a.default.Children.only(t);return a.default.cloneElement(o,n({},r,{onClick:this.onClick}))}}]),t}(a.default.PureComponent)},59399:(e,t,r)=>{"use strict";var n=r(325264).CopyToClipboard;e.exports=n},16426:e=>{e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,r=[],n=0;n<e.rangeCount;n++)r.push(e.getRangeAt(n));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||r.forEach(function(t){e.addRange(t)}),t&&t.focus()}}}}]);