"use strict";(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[1443],{796163:(e,t,n)=>{n.r(t),n.d(t,{default:()=>M});var r=n(978632),o=n.n(r),i=n(605556),s=n.n(i),c=n(273517),u=n.n(c),l=n(8117),a=n(811668),p=n(801081),f=n(273494),m="CHANGE_MOUSE_POSITION_CRS",b=n(841193),g=n(8571),O=n(971698),y=n(801939);var v=n(131127),d=["degreesTemplate","projectedTemplate"];function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j.apply(null,arguments)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach(function(t){h(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h(e,t,n){return(t=function(e){var t=function(e){if("object"!=P(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==P(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e,t,n){return t.showCenter&&e?e.center:t.showOnClick?n.clickPoint&&n.clickPoint.latlng?{x:n.clickPoint.latlng.lng,y:n.clickPoint.latlng.lat,crs:"EPSG:4326"}:{crs:"EPSG:4326"}:t},T=(0,p.Mz)([function(e){return e},v.mg,function(e){return(0,v.DE)(e)},function(e){return o()(e,"mousePosition.position")||{}},function(e){return o()(e,"mousePosition.crs")||"EPSG:4326"},function(e){return e.mapInfo||{}}],function(e,t,n,r,o,i){return{enabled:n,mousePosition:w(t,r,i),projectionDefs:(0,v.$5)(e),crs:o}}),C=(0,a.connect)(function(e){return{pressed:(0,v.DE)(e),active:(0,v.DE)(e),tooltip:u().createElement(l.m_,{id:"showMousePositionCoordinates"},u().createElement(g.A,{msgId:"showMousePositionCoordinates"})),tooltipPlace:"left",pressedStyle:"success active",defaultStyle:"primary",glyphicon:"mouse",btnConfig:{className:"square-button-md"}}},{registerEventListener:f.K6,unRegisterEventListener:f.nt},function(e,t){return E(E({},e),{},{onClick:function(){return e.active?t.unRegisterEventListener("mousemove","mouseposition"):t.registerEventListener("mousemove","mouseposition")}})})(b.A),_=function(e){var t=e.degreesTemplate,n=void 0===t?"MousePositionLabelDMS":t,r=e.projectedTemplate,o=void 0===r?"MousePositionLabelYX":r,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,d);return u().createElement(O.A,j({degreesTemplate:(0,y.$)(n),projectedTemplate:(0,y.$)(o),toggle:u().createElement(C,null)},i))};_.propTypes={degreesTemplate:s().string,projectedTemplate:s().string};var k=(0,a.connect)(T,{onCRSChange:function(e){return{type:m,crs:e}}})(_);const M={MousePositionPlugin:Object.assign(k,{MapFooter:{name:"mousePosition",position:3,target:"right-footer",priority:1}}),reducers:{mousePosition:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{enabled:!0,position:null,crs:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_MOUSE_POSITION_STATE":return Object.assign({},e,{enabled:t.enabled});case"CHANGE_MOUSE_POSITION":return Object.assign({},e,{position:t.position});case m:return Object.assign({},e,{crs:t.crs});case f.es:return Object.assign({},e,{position:t.position,mouseOut:!1});case f.Jv:return Object.assign({},e,{mouseOut:!0});default:return e}}}}}}]);