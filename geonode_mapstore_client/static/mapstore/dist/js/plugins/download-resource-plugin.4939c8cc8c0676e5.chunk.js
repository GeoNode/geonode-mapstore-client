"use strict";(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[18155],{57234:(e,n,o)=>{o.r(n),o.d(n,{default:()=>R});var r=o(273517),l=o.n(r),t=o(811668),a=o(801081),i=o(962193),d=o.n(i),u=o(393149),s=o(425380),c=o(8571),p=o(836970),m=o(164045),w=o(8117),v=o(904072),g=o(172175),y=o(66178),b=o(61365);function f(){return f=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var r in o)({}).hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},f.apply(null,arguments)}var A={button:(0,m.A)(p.A),menuItem:w.Dr},E=(0,t.connect)((0,a.Mz)([g.xF,b.Y8],(function(e,n){return{resourceData:e,downloading:n}})),{onAction:y.vz})((function(e){var n,o,r=e.resource,t=e.resourceData,a=e.variant,i=e.size,u=e.onAction,p=void 0===u?function(){}:u,m=e.renderType,w=void 0===m?"button":m,g=e.showIcon,y=e.downloadMsgId,b=void 0===y?"gnviewer.download":y,E=e.allowedSources,R=void 0===E?[s.m7.LOCAL,s.m7.REMOTE]:E,_=e.downloading,h=A[w],D="menuItem"!==w,I=null!=r?r:t,C=(0,s.yy)(I),k=(0,s.ow)(I),O=!Boolean(null==C?void 0:C.ajaxSafe);return d()(null==I?void 0:I.download_urls)&&(null==I||null===(n=I.perms)||void 0===n||!n.includes("download_resourcebase"))||null==I||null===(o=I.perms)||void 0===o||!o.includes("download_resourcebase")||!D&&O||[s.sy.REST_MAP,s.sy.REST_IMG].includes(null==I?void 0:I.ptype)||!R.includes(null==I?void 0:I.sourcetype)?null:O?C.url?l().createElement(h,f({},D&&{variant:a,size:i},g&&{tooltipId:b},{download:!0,href:C.url,target:"_blank",rel:"noopener noreferrer"}),g?l().createElement(v.A,{glyph:k?"external-link":"download"}):l().createElement(c.A,{msgId:b})):null:l().createElement(h,f({disabled:!!_,onClick:function(){return _?null:p(I)}},D&&{variant:a,size:i},g&&{tooltipId:b}),g?l().createElement(v.A,{glyph:"download"}):l().createElement(c.A,{msgId:b}))}));const R=(0,u.i1)("DownloadResource",{component:E,containers:{ActionNavbar:{name:"DownloadResource",Component:E,priority:1},ResourcesGrid:{name:"downloadResource",target:"cardOptions",detailsToolbar:!0,Component:E,priority:1},ResourceDetails:{name:"DownloadResource",target:"toolbar",Component:E,priority:1,position:1},LayerDownload:{name:"DownloadResource",Component:E,priority:1}},epics:{},reducers:{}})}}]);