"use strict";(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[3637],{736220:(e,t,r)=>{r.d(t,{A7:()=>o,T1:()=>n,bU:()=>l,cf:()=>i,kZ:()=>a,wb:()=>c});var n="SET_SEARCH_CONFIG_PROP",o="RESET_SEARCH_CONFIG",i="UPDATE_SERVICE";function a(e,t){return{type:n,property:e,value:t}}function c(){return{type:o,page:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0}}function l(e){return{type:i,service:e,idx:arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1}}},63749:(e,t,r)=>{r.d(t,{A:()=>g});var n=r(605556),o=r.n(n),i=r(273517),a=r.n(i),c=r(32485),l=r.n(c);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u.apply(null,arguments)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(f=function(){return!!e})()}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function b(e,t,r){return(t=v(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){var t=function(e){if("object"!=s(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==s(t)?t:t+""}var d=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return b(e=function(e,t,r){return t=m(t),function(e,t){if(t&&("object"==s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,f()?Reflect.construct(t,r||[],m(e).constructor):t.apply(e,r))}(this,t,[].concat(n)),"state",{is:"active"}),b(e,"onClick",function(){return e.props.onClick?e.props.onClick.bind(e):function(){}}),b(e,"onDisable",function(){return e.props.onDisable?e.props.onDisable.bind(e):function(){}}),b(e,"onConfirm",function(){return e.props.onConfirm?e.props.onConfirm():e.props.confirming&&e.props.confirming.onClick?e.props.confirming.onClick():function(){}}),b(e,"isDisabled",function(){return"disabled"===e.state.is}),b(e,"isConfirming",function(){return"confirming"===e.state.is}),b(e,"isActive",function(){return!e.isConfirming()&&!e.isDisabled()}),b(e,"handleClick",function(){return e.isConfirming()&&e.props.disableAfterConfirmed?(e.onConfirm(),e.onDisable(),void e.setState({is:"disabled"})):e.isConfirming()?(e.onConfirm(),void e.setState({is:"active"})):(e.onClick(),void e.setState({is:"confirming"}))}),b(e,"handleBlur",function(){e.setState({is:"active"})}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this.props,t=e.children,r=e.buttonProps,n=e.confirming,o=e.disabled,i=this.props,c=i.text,s=i.style,p=i.className,f=void 0===p?"btn btn-sm btn-danger":p,m=this.isDisabled(),y=this.isConfirming();return m&&(c=o&&o.text||"Loading...",f=o&&o.className||"btn btn-sm btn-secondary",s=o&&o.style||{}),y&&(c=n&&n.text||"Confirm?",f=n&&n.className||"btn btn-sm btn-warning",s=n&&n.style||{}),a().createElement("button",u({className:l()("confirm-button",f),style:s,onClick:this.handleClick,onBlur:this.handleBlur,disabled:m},r),t,t?" ":"",c)}}])&&p(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(a().Component);b(d,"propTypes",{disableAfterConfirmed:o().bool,resetOnBlur:o().bool,onConfirm:o().func,onDisable:o().func,onClick:o().func,text:o().oneOfType([o().string,o().node]),className:o().string,style:o().object,confirming:o().shape({text:o().oneOfType([o().string,o().node]),className:o().string,style:o().object,onClick:o().func}),disabled:o().shape({text:o().oneOfType([o().string,o().node]),className:o().string,style:o().object}),children:o().node,buttonProps:o().object}),b(d,"defaultProps",{resetOnBlur:!0});const g=d},721765:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Ae});var n=r(273517),o=r.n(n),i=r(811668),a=r(801081),c=r(8117),l=r(63749),s=r(711520),u=r(406250),p=r(129519),f=r(858156),m=r.n(f),y=r(302404),b=r.n(y),v=r(415392),d=r(736220),g=r(8571),h=r(605556),E=r.n(h);function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_(n.key),n)}}function j(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(j=function(){return!!e})()}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}function S(e,t,r){return(t=_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(e){var t=function(e){if("object"!=O(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==O(t)?t:t+""}var x=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return S(e=function(e,t,r){return t=w(t),function(e,t){if(t&&("object"==O(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,j()?Reflect.construct(t,r||[],w(e).constructor):t.apply(e,r))}(this,t,[].concat(n)),"getOptions",function(){return 0===e.props.services.length?o().createElement("div",{className:"search-service-name"},o().createElement(g.A,{msgId:"search.serviceslistempty"})):e.props.services.map(function(t,r){return o().createElement("div",{className:"search-service-item",key:r},o().createElement("span",{className:"search-service-name"},t.name),o().createElement(l.A,{className:"list-remove-btn",onConfirm:function(){return e.remove(r)},text:o().createElement(c.e6,{glyph:"remove-circle"}),confirming:{className:"text-warning list-remove-btn",text:o().createElement(g.A,{msgId:"search.confirmremove"})}}),o().createElement(c.e6,{onClick:function(){return e.edit(t,r)},glyph:"pencil"}))})}),S(e,"edit",function(t,r){e.props.onPropertyChange("init_service_values",t),e.props.onPropertyChange("service",t),e.props.onPropertyChange("editIdx",r),e.props.onPropertyChange("page",1)}),S(e,"toggleOverride",function(){var t=e.props,r=t.services,n=t.override;e.props.onPropertyChange("textSearchConfig",{services:r,override:!n})}),S(e,"remove",function(t){var r=e.props,n=r.services,o=r.override,i=n.filter(function(e,r){return r!==t});e.props.onPropertyChange("textSearchConfig",{services:i,override:o})}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this.props.override;return o().createElement("form",null,o().createElement(c.gE,null,o().createElement(c.mq,null,o().createElement(g.A,{msgId:"search.serviceslistlabel"})),o().createElement("div",{className:"services-list"},this.getOptions())),o().createElement(c.Sc,{checked:e,onChange:this.toggleOverride},o().createElement(g.A,{msgId:"search.overriedservice"})))}}])&&P(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(o().Component);S(x,"propTypes",{services:E().array,override:E().bool,service:E().object,onPropertyChange:E().func}),S(x,"contextTypes",{messages:E().object}),S(x,"defaultProps",{services:[],override:!1,onPropertyChange:function(){}});const A={Element:x,validate:function(){return!0}};function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function I(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R(n.key),n)}}function T(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(T=function(){return!!e})()}function N(e){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},N(e)}function D(e,t){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},D(e,t)}function q(e,t,r){return(t=R(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R(e){var t=function(e){if("object"!=k(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==k(t)?t:t+""}var B=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return q(e=function(e,t,r){return t=N(t),function(e,t){if(t&&("object"==k(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,T()?Reflect.construct(t,r||[],N(e).constructor):t.apply(e,r))}(this,t,[].concat(n)),"updateProp",function(t,r){var n=r.target.value;"queriableAttributes"===t&&(n=n.split(","));var o=Object.assign({},e.props.service.options,q({},t,n));e.props.onPropertyChange("service",Object.assign({},e.props.service,{options:o}))}),q(e,"updateName",function(t){var r=t.target.value;e.props.onPropertyChange("service",Object.assign({},e.props.service,{name:r}))}),q(e,"updateMaxFeatures",function(t){var r=Object.assign({},e.props.service.options,{maxFeatures:parseFloat(t[0],10)});e.props.onPropertyChange("service",Object.assign({},e.props.service,{options:r}))}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this.props.service,t=e.options,r=void 0===t?{}:t;return o().createElement("form",null,o().createElement("span",{className:"wfs-required-props-title"},o().createElement(g.A,{msgId:"search.s_wfs_props_label"})),o().createElement(c.gE,null,o().createElement(c.mq,null,o().createElement(g.A,{msgId:"search.s_name"})),o().createElement(c.MJ,{value:e.name,key:"name",type:"text",onChange:this.updateName})),o().createElement(c.gE,null,o().createElement(c.mq,null,o().createElement(g.A,{msgId:"search.s_url"})),o().createElement(c.MJ,{value:r.url,key:"url",type:"text",onChange:this.updateProp.bind(null,"url")})),o().createElement(c.gE,null,o().createElement(c.mq,null,o().createElement(g.A,{msgId:"search.s_layer"})),o().createElement(c.MJ,{value:r.typeName,key:"typeName",type:"text",onChange:this.updateProp.bind(null,"typeName")})),o().createElement(c.gE,null,o().createElement(c.mq,null,o().createElement(g.A,{msgId:"search.s_attributes"})),o().createElement(c.MJ,{value:([r.queriableAttributes]||0).join(","),key:"queriableAttributes",type:"text",onChange:this.updateProp.bind(null,"queriableAttributes")})))}}])&&I(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(o().Component);q(B,"propTypes",{service:E().object,onPropertyChange:E().func}),q(B,"defaultProps",{service:{},onPropertyChange:function(){}});const F={Element:B,validate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,r=void 0===t?{}:t,n=e.name,o=void 0===n?"":n,i=r.url,a=void 0===i?"":i,c=r.typeName,l=void 0===c?"":c,s=r.queriableAttributes,u=void 0===s?"":s;return o.length>0&&a.length>0&&l.length>0&&u.length>0}};var L=r(811341),J=r.n(L),M=r(192016),V=r(628017);function Z(e){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(e)}function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G.apply(null,arguments)}function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach(function(t){$(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function H(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Q(n.key),n)}}function K(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(K=function(){return!!e})()}function W(e){return W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},W(e)}function Y(e,t){return Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Y(e,t)}function $(e,t,r){return(t=Q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q(e){var t=function(e){if("object"!=Z(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Z(t)?t:t+""}var X=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return $(e=function(e,t,r){return t=W(t),function(e,t){if(t&&("object"==Z(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,K()?Reflect.construct(t,r||[],W(e).constructor):t.apply(e,r))}(this,t,[].concat(n)),"updateProp",function(t,r,n){var o=m()(n,r||"target.value");e.props.onPropertyChange("service",Object.assign({},e.props.service,$({},t,o)))}),$(e,"updatePriority",function(t){e.props.onPropertyChange("service",Object.assign({},e.props.service,{priority:parseFloat(t[0],10)}))}),$(e,"updateLaunchInfoPanel",function(t){var r=t&&t.value?t.value:"";"no_info"===r&&(r=void 0),e.props.onPropertyChange("service",z(z({},e.props.service),{},{launchInfoPanel:r,openFeatureInfoButtonEnabled:!1,forceSearchLayerVisibility:!1}))}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e,t,r=this.props.service,n=this.props.launchInfoPanelOptions||[{label:(0,V.kA)(this.context.messages,"search.s_launch_info_panel.no_info"),value:"no_info"},{label:(0,V.kA)(this.context.messages,"search.s_launch_info_panel.all_layers"),value:"all_layers"},{label:(0,V.kA)(this.context.messages,"search.s_launch_info_panel.single_layer"),value:"single_layer"}],i=(null==r?void 0:r.launchInfoPanel)||this.props.launchInfoPanelDefault;return o().createElement("form",null,o().createElement("span",{className:"wfs-required-props-title"},o().createElement(g.A,{msgId:"search.s_result_props_label"})),o().createElement(c.gE,null,o().createElement(c.mq,null,o().createElement(g.A,{msgId:"search.s_title"})),o().createElement(c.MJ,{value:r.displayName,key:"displayName",type:"text",placeholder:'e.g. "${properties.name}"',onChange:this.updateProp.bind(null,"displayName",null)})),o().createElement(c.gE,null,o().createElement(c.mq,null,o().createElement(g.A,{msgId:"search.s_description"})),o().createElement(c.MJ,{value:r.subTitle,key:"subTitle",type:"text",onChange:this.updateProp.bind(null,"subTitle",null)})),o().createElement(c.gE,null,o().createElement(c.mq,null,o().createElement(g.A,{msgId:"search.s_priority"}),o().createElement(c.JU,{key:"priority-label",className:"slider-label"},parseInt(r.priority||1,10))),o().createElement(J(),{key:"priority",start:[r.priority||1],step:1,range:{min:1,max:10},onSlide:this.updatePriority}),o().createElement("span",{className:"priority-info"},o().createElement(g.A,{msgId:"search.s_priority_info"}))),o().createElement(c.gE,null,o().createElement(c.mq,null,o().createElement(g.A,{msgId:"search.s_launch_info_panel.label"})),o().createElement(M.Ay,G({options:n,clearable:!1,value:i,onChange:this.updateLaunchInfoPanel},this.props.launchInfoPanelSelectOptions)),"single_layer"===i?o().createElement(c.gE,null,o().createElement(c.Sc,{checked:null!==(e=null==r?void 0:r.openFeatureInfoButtonEnabled)&&void 0!==e&&e,onChange:this.updateProp.bind(null,"openFeatureInfoButtonEnabled","target.checked")},o().createElement(g.A,{msgId:"search.s_launch_info_panel.openFeatureInfoButtonCheckbox"})),o().createElement(c.Sc,{checked:null!==(t=null==r?void 0:r.forceSearchLayerVisibility)&&void 0!==t&&t,onChange:this.updateProp.bind(null,"forceSearchLayerVisibility","target.checked")},o().createElement(g.A,{msgId:"search.s_launch_info_panel.forceSearchLayerVisibility"}))):null,o().createElement("span",{className:"priority-info with-top-margin"},o().createElement(g.A,{msgId:"search.s_launch_info_panel.".concat(i,"_description")}))))}}])&&H(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(o().Component);$(X,"propTypes",{service:E().object,launchInfoPanelOptions:E().array,launchInfoPanelDefault:E().string,launchInfoPanelSelectOptions:E().object,onPropertyChange:E().func}),$(X,"contextTypes",{messages:E().object}),$(X,"defaultProps",{service:{},launchInfoPanelDefault:"no_info",launchInfoPanelSelectOptions:{},onPropertyChange:function(){}});const ee={Element:X,validate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.displayName&&e.displayName.length>0}};function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach(function(t){le(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function oe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,se(n.key),n)}}function ie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ie=function(){return!!e})()}function ae(e){return ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ae(e)}function ce(e,t){return ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ce(e,t)}function le(e,t,r){return(t=se(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function se(e){var t=function(e){if("object"!=te(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=te(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==te(t)?t:t+""}var ue=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return le(e=function(e,t,r){return t=ae(t),function(e,t){if(t&&("object"==te(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ie()?Reflect.construct(t,r||[],ae(e).constructor):t.apply(e,r))}(this,t,[].concat(n)),"updateProp",function(t,r){var n=r.target.value,o=Object.assign({},e.props.service.options,le({},t,n));e.props.onPropertyChange("service",Object.assign({},e.props.service,{options:o}))}),le(e,"updateSliderProps",function(t,r){var n=ne(ne({},e.props.service.options),{},le({},t,parseInt(r[0],10)));e.props.onPropertyChange("service",ne(ne({},e.props.service),{},{options:n}))}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ce(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this.props.service.options,t=void 0===e?{}:e;return o().createElement("form",null,o().createElement("span",{className:"wfs-required-props-title"},o().createElement(g.A,{msgId:"search.s_wfs_opt_props_label"})),o().createElement(c.gE,null,o().createElement(c.mq,null,o().createElement(g.A,{msgId:"search.s_sort"})),o().createElement(c.MJ,{value:t.sortBy,key:"sortBy",type:"text",onChange:this.updateProp.bind(null,"sortBy")})),o().createElement(c.gE,null,o().createElement(c.mq,null,o().createElement(g.A,{msgId:"search.s_max_features"})),o().createElement(J(),{key:"maxFeatures",start:[t.maxFeatures||1],range:{min:1,max:50},onSlide:this.updateSliderProps.bind(null,"maxFeatures")}),o().createElement(c.JU,{key:"maxFeatures-label",className:"slider-label"},t.maxFeatures||1)),o().createElement(c.gE,null,o().createElement(c.mq,null,o().createElement(g.A,{msgId:"search.s_max_zoom"})),o().createElement(J(),{key:"maxZoomLevel",start:[t.maxZoomLevel||21],range:{min:1,max:35},onSlide:this.updateSliderProps.bind(null,"maxZoomLevel")}),o().createElement(c.JU,{key:"maxZoomLevel-label",className:"slider-label"},t.maxZoomLevel||21)),o().createElement(c.gE,null,o().createElement(c.mq,null,o().createElement(g.A,{msgId:"search.s_placeholder"})),o().createElement(c.MJ,{value:t.placeholder,key:"placeholder",type:"text",onChange:this.updateProp.bind(null,"placeholder")})),o().createElement(c.gE,null,o().createElement(c.mq,null,o().createElement(g.A,{msgId:"search.s_tooltip"})),o().createElement(c.MJ,{value:t.tooltip,key:"tooltip",type:"text",onChange:this.updateProp.bind(null,"tooltip")})))}}])&&oe(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(o().Component);le(ue,"propTypes",{service:E().object,onPropertyChange:E().func}),le(ue,"defaultProps",{service:{},onPropertyChange:function(){}});const pe={Element:ue,validate:function(){return!0}};var fe=r(711030),me=r(164045),ye=r(393149),be=r(847996);function ve(e){return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ve(e)}function de(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?de(Object(r),!0).forEach(function(t){je(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):de(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function he(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,we(n.key),n)}}function Ee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ee=function(){return!!e})()}function Oe(e){return Oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Oe(e)}function Pe(e,t){return Pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pe(e,t)}function je(e,t,r){return(t=we(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function we(e){var t=function(e){if("object"!=ve(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=ve(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ve(t)?t:t+""}var Ce=(0,me.A)(fe.A),Se=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return je(e=function(e,t,r){return t=Oe(t),function(e,t){if(t&&("object"==ve(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ee()?Reflect.construct(t,r||[],Oe(e).constructor):t.apply(e,r))}(this,t,[].concat(n)),"canProceed",function(){var t=e.props,r=t.page,n=t.pages,o=t.service;return n[r].validate(o)}),je(e,"isDirty",function(){var t=e.props,r=t.service,n=t.initServiceValues;return!b()(r,n)}),je(e,"renderFooter",function(){var t=e.props,r=t.page,n=t.pages;return 0===r?o().createElement("span",{role:"footer"},o().createElement(Ce,{onClick:e.addService,bsStyle:"primary"},o().createElement(p.A,{msgId:"search.addbtn"}))):r===n.length-1?o().createElement("span",{role:"footer"},o().createElement(Ce,{onClick:e.prev,bsStyle:"primary"},o().createElement(p.A,{msgId:"search.prevbtn"})),o().createElement(Ce,{disabled:!e.canProceed(),onClick:e.update,bsStyle:"success"},o().createElement(p.A,{msgId:"search.savebtn"}))):o().createElement("span",{role:"footer"},1===r&&e.isDirty()?o().createElement(l.A,{onConfirm:e.prev,bsStyle:"primary",confirming:{text:o().createElement(p.A,{msgId:"search.cancelconfirm"})},text:o().createElement(p.A,{msgId:"search.cancelbtn"})}):o().createElement(Ce,{onClick:e.prev,bsStyle:"primary"},o().createElement(p.A,{msgId:1===r?"search.cancelbtn":"search.prevbtn"})),o().createElement(Ce,{disabled:!e.canProceed(),onClick:e.next,bsStyle:"primary"},o().createElement(p.A,{msgId:"search.nextbtn"})))}),je(e,"onClose",function(){e.props.toggleControl("searchservicesconfig"),e.props.restServiceConfig(0)}),je(e,"addService",function(){var t=e.props.newService;e.props.onPropertyChange("init_service_values",t),e.props.onPropertyChange("service",t),e.props.onPropertyChange("page",1)}),je(e,"prev",function(){var t=e.props.page;t>1?e.props.onPropertyChange("page",t-1):1===t&&e.props.restServiceConfig(0)}),je(e,"next",function(){var t=e.props,r=t.page;r<t.pages.length-1&&e.props.onPropertyChange("page",r+1)}),je(e,"update",function(){var t=e.props,r=t.service,n=t.editIdx;e.props.updateService(r,n)}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pe(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this.props,t=e.enabled,r=e.pages,n=e.page,i=e.id,a=e.panelStyle,f=e.panelClassName,m=e.titleText,y=e.closeGlyph,b=e.onPropertyChange,v=e.service,d=e.textSearchConfig,g=void 0===d?{}:d,h=e.containerClassName,E=r&&r[n]||null;return t?o().createElement(u.A,null,o().createElement(s.A,{id:i,style:ge(ge({},a),{},{display:t?"block":"none"}),containerClassName:h,className:f,draggable:!1,modal:!0},o().createElement("span",{role:"header"},o().createElement("span",{className:"modal-title"},m),this.isDirty()?o().createElement(l.A,{className:"close",confirming:{text:o().createElement(p.A,{msgId:"search.cancelconfirm"}),className:"btn btn-sm btn-warning services-config-editor-confirm-close"},onConfirm:this.onClose,bsStyle:"primary",text:o().createElement(c.e6,{glyph:y})}):o().createElement("button",{onClick:this.onClose,className:"close"},y?o().createElement(c.e6,{glyph:y}):o().createElement("span",null,"×"))),o().createElement("div",{role:"body",className:"services-config-editor"},o().createElement(E.Element,{services:g.services,override:g.override,onPropertyChange:b,service:v})),this.renderFooter())):null}}])&&he(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(o().Component);je(Se,"propTypes",{id:E().string,enabled:E().bool,panelStyle:E().object,panelClassName:E().string,containerClassName:E().string,closeGlyph:E().string,titleText:E().oneOfType([E().string,E().element]),toggleControl:E().func,pages:E().arrayOf(E().shape({Element:E().func.isRequired,validate:E().func.isRequired})),page:E().number,service:E().object,initServiceValues:E().object,onPropertyChange:E().func,newService:E().object.isRequired,updateService:E().func,restServiceConfig:E().func,textSearchConfig:E().object,editIdx:E().number}),je(Se,"defaultProps",{id:"search-services-config-editor",enabled:!1,panelStyle:{minWidth:"400px",zIndex:2e3,position:"absolute",top:"100px",minHeight:"300px",left:"calc(50% - 150px)",backgroundColor:"white"},panelClassName:"toolbar-panel",containerClassName:"",closeGlyph:"1-close",titleText:o().createElement(p.A,{msgId:"search.configpaneltitle"}),closePanel:function(){},onPropertyChange:function(){},page:0,newService:{type:"wfs",name:"",displayName:"",subTitle:"",priority:1,options:{url:"",typeName:"",queriableAttributes:"",sortBy:"",maxFeatures:5,srsName:"EPSG:4326"}}});var _e=(0,i.connect)(function(e){var t=e.controls,r=void 0===t?{}:t,n=e.searchconfig,o=void 0===n?{}:n;return{enabled:m()(r,"searchservicesconfig.enabled",!1),pages:[A,F,ee,pe],page:m()(o,"page",0),service:m()(o,"service",{}),initServiceValues:m()(o,"init_service_values",{}),textSearchConfig:m()(o,"textSearchConfig",{}),editIdx:o&&o.editIdx}},{toggleControl:v.KP,onPropertyChange:d.kZ,restServiceConfig:d.wb,updateService:d.bU})(Se),xe=(0,i.connect)((0,a.Mz)([function(e){return e.search||null},function(e){var t;return(null==e||null===(t=e.controls)||void 0===t||null===(t=t.searchservicesconfig)||void 0===t?void 0:t.enabled)||!1}],function(e,t){return{activeTool:m()(e,"activeSearchTool","addressSearch"),enabled:t}}),{onToggleControl:v.KP})(function(e){var t=e.activeTool,r=e.enabled,n=e.onToggleControl;return"addressSearch"===t?o().createElement(Ce,{bsStyle:"default",pullRight:!0,className:"square-button-md no-border",tooltipId:"search.searchservicesbutton",tooltipPosition:"bottom",onClick:function(){r||n("searchservicesconfig")}},o().createElement(c.e6,{glyph:"cog"})):null});const Ae=(0,ye.i1)("SearchServicesConfig",{component:_e,containers:{Search:{name:"SearchServicesConfigButton",target:"button",component:xe}},reducers:{searchconfig:be.A}})},129519:(e,t,r)=>{r.d(t,{A:()=>i});var n=r(811668),o=r(8571);const i=(0,n.connect)(function(e){return{locale:e.locale&&e.locale.currentLocale,messages:e.locale&&e.locale.messages||[]}})(o.A)},847996:(e,t,r)=>{r.d(t,{A:()=>c});var n=r(736220),o=r(415392),i=r(538704);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}const c=function(){var e,t,r,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,l=arguments.length>1?arguments[1]:void 0;switch(l.type){case n.T1:return Object.assign({},c,(e={},t=l.property,r=l.value,(t=function(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e));case i.mO:var s=l.config.map.text_search_config||l.config.map.text_serch_config;return Object.assign({},c,{textSearchConfig:s});case o.rY:case n.A7:return Object.assign({},c,{service:void 0,page:l.page,init_service_values:void 0,editIdx:void 0});case n.cf:var u=(c.textSearchConfig&&c.textSearchConfig.services||[]).slice(),p=Object.assign({},l.service,{priority:parseInt(l.service.priority,10)});return-1!==l.idx?u[l.idx]=p:u.push(p),Object.assign({},c,{service:void 0,page:0,init_service_values:void 0,editIdx:void 0,textSearchConfig:{services:u,override:c.textSearchConfig&&c.textSearchConfig.override||!1}});default:return c}}}}]);