(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[57412,56399],{615402:(t,e,r)=>{"use strict";r.d(e,{Z:()=>b});var n=r(675263),o=r.n(n),a=r(124852),i=r.n(a);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,d(n.key),n)}}function l(t,e,r){return e=f(e),function(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,s()?Reflect.construct(e,r||[],f(t).constructor):e.apply(t,r))}function s(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(s=function(){return!!t})()}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}function m(t,e,r){return(e=d(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d(t){var e=function(t,e){if("object"!=c(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==c(e)?e:e+""}var y=r(868195).FormattedHTMLMessage,v=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(e,t),r=e,(n=[{key:"render",value:function(){return this.context.intl?i().createElement(y,{id:this.props.msgId,values:this.props.msgParams}):i().createElement("span",null,this.props.msgId||"")}}])&&u(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(i().Component);m(v,"propTypes",{msgId:o().string.isRequired,msgParams:o().object}),m(v,"contextTypes",{intl:o().object});const b=v},38560:(t,e,r)=>{"use strict";r.d(e,{Z:()=>f});var n=r(480681),o=r(124852),a=r.n(o),i=r(294184),c=r.n(i),u=["disabled","className","onClick"];function l(){return l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},l.apply(this,arguments)}var s=r(815135);const f=(p=n.Button,a().forwardRef((function(t,e){var r=t.disabled,n=t.className,o=t.onClick,i=void 0===o?function(){}:o,s=function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(t,u);return a().createElement(p,l({ref:e,className:r?c()("disabled",n):n,onClick:function(){r||i.apply(void 0,arguments)}},s),s.children)})));var p;(0,s.Z)(n.Button)},578511:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>rt});var n={};r.r(n),r.d(n,{exportMapContext:()=>J});var o=r(124852),a=r.n(o),i=r(480681),c=r(478718),u=r.n(c),l=r(227361),s=r.n(l),f=r(171703),p=r(867076),m=r(22222),d=r(805346),y=r(615402),v=r(782904),b="EXPORT::EXPORT_MAP",g=function(){return{type:b,format:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mapstore2"}},h=r(607147),w=r(493220),O=r.n(w),S=r(38560);function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const j=function(t){var e=t.show,r=void 0!==e&&e,n=t.formats,o=void 0===n?{}:n,c=t.selectedFormat,u=t.exportButtonLabel,l=void 0===u?a().createElement(d.Z,{msgId:"mapExport.exportPanel.exportButtonLabel"}):u,f=t.exportPanelTitle,p=void 0===f?a().createElement(y.Z,{msgId:"mapExport.exportPanel.title"}):f,m=t.onSelect,v=void 0===m?function(){}:m,b=t.onExport,g=void 0===b?function(){}:b,h=t.onClose,w=void 0===h?function(){}:h;return r&&a().createElement("div",{className:"export-panel"},a().createElement(S.Z,{style:{border:"none",background:"transparent",color:"white",fontSize:35,top:0,right:0,position:"absolute"},onClick:function(){return w()}},a().createElement(i.Glyphicon,{glyph:"1-close"})),a().createElement("div",{style:{margin:"auto",maxWidth:550}},a().createElement("div",null,a().createElement("div",{className:"export-panel-heading-icon"},a().createElement(i.Glyphicon,{glyph:"upload"})),a().createElement("div",null,p),a().createElement("br",null),a().createElement("div",{className:"export-panel-formats-container"},O()(o).map((function(t){var e,r,n=(r=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,r)||function(t,e){if(t){if("string"==typeof t)return E(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],u=n[1],l=u.label,s=u.glyph;return a().createElement(S.Z,{key:o,bsStyle:"default",className:c===o?"format-selected":"",onClick:function(){return v(o)}},a().createElement("div",null,a().createElement(i.Glyphicon,{style:{marginRight:"4px"},glyph:s}),l))}))),a().createElement("br",null),a().createElement(S.Z,{bsStyle:"primary",onClick:function(){return g(c)}},l),a().createElement("br",null),a().createElement("br",null),s()(o,"".concat(c,".description"),null),s()(o,"".concat(c,".note"))&&a().createElement(a().Fragment,null,a().createElement("hr",null),s()(o,"".concat(c,".note"))))))};var x=r(49977),P=r.n(x),D=r(604788),T=r.n(D),I=r(552259),A=r(680833),M=r(370415),C=r(988753),k=r(761868),_=r(800827),F=r(675110),Z=r(31935),N=r(658422),U=r(531398),B=r(86638),H=r(887218);function R(t){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(t)}function L(t){return function(t){if(Array.isArray(t))return X(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||z(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(t,e){if(t){if("string"==typeof t)return X(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?X(t,e):void 0}}function X(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function G(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?$(Object(r),!0).forEach((function(e){var n,o,a,i;n=t,o=e,a=r[e],i=function(t,e){if("object"!=R(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=R(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o),(o="symbol"==R(i)?i:i+"")in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Q(t,e){this.title=t,this.message=e}var Y=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=I.ZP.saveMapConfiguration((0,_.Od)(t),(0,F.l2)(t),(0,F.Bt)(t),(0,Z.Mz)(t),(0,H.I)(t),(0,H._)(t),(0,N.UC)(t));return e?G(G({},r),{},{map:G(G({},r.map),{},{bbox:(0,_.Od)(t).bbox})}):r},q={mapstore2:function(t){return P().Observable.of([JSON.stringify(Y(t)),"map.json","application/json"])},wmc:function(t){var e,r=Y(t,!0),n=s()(r,"map.layers",[]).filter((function(t){return!!t.url&&"wms"===t.type}));if(0===n.length)throw new Q("mapExport.errorTitle","mapExport.wmcNoLayersError");return(e=P().Observable).forkJoin.apply(e,L(n.map((function(t){return(0,A.kB)(t).catch((function(){return P().Observable.of(null)}))})))).switchMap((function(t){return P().Observable.of([(0,M.Y)((0,k.t8)("map.layers",T()(n,t).map((function(t){var e,r,n=(r=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,r)||z(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],a=n[1];return G(G({},o),{},{capabilities:a})})),r),{}),"context.wmc","application/xml"])}))}},J=function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,r=void 0===e?function(){}:e;return t.ofType(b).switchMap((function(t){var e=t.format;return q[e](r()).do((function(t){return C.LR.apply(void 0,L(t))})).map((function(){return(0,v.Xg)("export","enabled",!1)}))})).catch((function(t,e){return P().Observable.of((0,U.d)(G(G({},t instanceof Q?t:(0,B.e$)(t)),{},{autoDismiss:6,position:"tc"}))).concat(e)}))},K=r(322843);function V(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var W=["mapstore2","wmc"],tt=(0,h.Yq)("export"),et=(0,p.compose)((0,f.connect)((0,m.zB)({enabled:tt}),{onClose:function(){return(0,v.Xi)("export")},onExport:g}),(0,p.defaultProps)({formats:{mapstore2:{label:a().createElement(d.Z,{msgId:"mapExport.formats.mapstore2.label"}),description:a().createElement(y.Z,{msgId:"mapExport.formats.mapstore2.description"}),glyph:"ext-json"},wmc:{label:a().createElement(d.Z,{msgId:"mapExport.formats.wmc.label"}),description:a().createElement(y.Z,{msgId:"mapExport.formats.wmc.description"}),note:a().createElement(y.Z,{msgId:"mapExport.formats.wmc.note"}),glyph:"ext-wmc"}}}),(0,p.withState)("format","setFormat","mapstore2"))((function(t){var e,r=t.enabled,n=t.format,o=t.formats,i=t.enabledFormats,c=void 0===i?W:i,l=t.setFormat,s=void 0===l?function(){}:l,f=t.onExport,p=void 0===f?function(){}:f,m=t.onClose,d=void 0===m?function(){}:m;return a().createElement(j,{show:r,formats:u().apply(void 0,[o].concat((e=c,function(t){if(Array.isArray(t))return V(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return V(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?V(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))),selectedFormat:n,onSelect:s,onExport:p,onClose:d})}));const rt=(0,K.rx)("MapExport",{component:et,containers:{SidebarMenu:function(t){var e=s()(t,"cfg.enabledFormats",W);return{name:"export",position:4,tooltip:"mapExport.tooltip",text:a().createElement(d.Z,{msgId:"mapExport.title"}),icon:a().createElement(i.Glyphicon,{glyph:"download"}),action:e.length>1?function(){return(0,v.Xi)("export")}:function(){return g(e[0]||"mapstore2")},priority:1,toggle:!0,doNotHide:!0}},BurgerMenu:function(t){var e=s()(t,"cfg.enabledFormats",W);return{name:"export",position:4,tooltip:"mapExport.tooltip",text:a().createElement(d.Z,{msgId:"mapExport.title"}),icon:a().createElement(i.Glyphicon,{glyph:"download"}),action:e.length>1?function(){return(0,v.Xi)("export")}:function(){return g(e[0]||"mapstore2")},priority:2,toggle:!0,doNotHide:!0}}},epics:n})},788113:(t,e,r)=>{"use strict";r.d(e,{b6:()=>f,PG:()=>p,_x:()=>m,Mm:()=>d,dP:()=>y,SX:()=>v,ZL:()=>b,_S:()=>g,iH:()=>h,R7:()=>w,Q7:()=>O,n7:()=>S,bA:()=>E,hm:()=>j,E2:()=>x,Cb:()=>P,eK:()=>D,Im:()=>T,e8:()=>I,JF:()=>A,kS:()=>M,y:()=>C,l2:()=>k,HN:()=>_,BM:()=>F,O8:()=>Z,am:()=>N,LV:()=>U,CK:()=>B,jU:()=>H,Qg:()=>R});var n=r(22222),o=r(227361),a=r.n(o),i=r(800827),c=r(577215);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){var n,o,a,i;n=t,o=e,a=r[e],i=function(t,e){if("object"!=u(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o),(o="symbol"==u(i)?i:i+"")in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var f=function(t){return a()(t,"catalog.services")},p=(0,n.P1)((function(t){return a()(t,"catalog.default.staticServices")}),f,(function(t,e){var r=null==t?void 0:t.default_map_backgrounds;return r?(r.readOnly=!0,s(s({},e),{},{default_map_backgrounds:r})):e})),m=function(t){return a()(t,"catalog.default.tileSizes",[256,512])},d=function(t){return a()(t,"controls.metadataexplorer.group")},y=function(t){return a()(t,"catalog.saving")},v=function(t){return a()(t,"catalog.result")},b=function(t){return a()(t,"catalog.openCatalogServiceList")},g=function(t){return a()(t,"catalog.newService")},h=function(t){return a()(t,"catalog.newService.type","csw")},w=function(t){return a()(t,'catalog.services["'.concat(a()(t,"catalog.selectedService"),'"]'))},O=function(t){return a()(t,'catalog.services["'.concat(a()(t,"catalog.selectedService"),'"].type'),function(t){return a()(t,'catalog.default.staticServices["'.concat(a()(t,"catalog.selectedService"),'"].type'),"csw")}(t))},S=function(t){return a()(t,'catalog.services["'.concat(a()(t,"catalog.selectedService"),'"].layerOptions'),{})},E=function(t){return a()(t,"catalog.searchOptions")},j=function(t){return a()(t,"catalog.loadingError")},x=function(t){return a()(t,"catalog.loading",!1)},P=function(t){return a()(t,"catalog.selectedService")},D=function(t){return a()(t,"catalog.mode","view")},T=function(t){return a()(t,"catalog.layerError")},I=function(t){return a()(t,"catalog.searchOptions.text","")},A=function(t){return"metadataexplorer"===a()(t,"controls.toolbar.active")||a()(t,"controls.metadataexplorer.enabled")},M=function(t){return(a()(t,"localConfig.authenticationRules")||[]).filter((function(t){return"authkey"===t.method})).map((function(t){return t.authkeyParamName}))||[]},C=function(t){return a()(t,"catalog.pageSize",4)},k=function(t){return a()(t,"catalog.delayAutoSearch",1e3)},_=(0,n.zB)({projection:i.uy}),F=function(t){return a()(t,"catalog.formatsLoading",!1)},Z=function(t){return a()(t,"catalog.newService.supportedFormats.imageFormats",[])},N=function(t){var e,r;return"edit"===D(t)?Z(t):(null===(e=w(t))||void 0===e||null===(r=e.supportedFormats)||void 0===r?void 0:r.imageFormats)||[]},U=function(t){return a()(t,"catalog.newService.supportedFormats.infoFormats",(0,c.oL)())},B=function(t){return a()(t,"catalog.newService.formatUrlUsed","")},H=function(t){return a()(t,"catalog.isNewServiceAdded",!1)},R=function(t){return a()(t,"catalog.showFormatError",!1)}},531398:(t,e,r)=>{"use strict";r.d(e,{d:()=>o});var n=r(197395),o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.title,r=void 0===e?"notification.warning":e,o=t.autoDismiss,a=void 0===o?6:o,i=t.position,c=void 0===i?"tc":i,u=t.message,l=void 0===u?"Error":u;return(0,n.vU)({title:r,autoDismiss:a,position:c,message:l})}},55237:(t,e,r)=>{"use strict";r.d(e,{tr:()=>O,jb:()=>S,Xu:()=>E,un:()=>j,Qn:()=>x,_q:()=>P,og:()=>D,$4:()=>T,kN:()=>I,oD:()=>A,V$:()=>M,uH:()=>C,pC:()=>k,tz:()=>_,p:()=>F,Q7:()=>Z,t:()=>N});var n=r(747037),o=r.n(n),a=r(647960),i=r.n(a),c=r(227361),u=r.n(c),l=r(984596),s=r.n(l),f=r(730381),p=r.n(f),m=r(86638);function d(t){return function(t){if(Array.isArray(t))return b(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||v(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(t,e)||v(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){if(t){if("string"==typeof t)return b(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(t,e):void 0}}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var g=/PT?[\d\.]+[YMWDHMS]/,h=function(t){return t?o()(t)?new Date(t).getTime():(i()(t)&&t.getTime(),t):null},w=function(t){var e=t.start,r=t.end,n=t.duration,o=p().duration(n).asMilliseconds();return(new Date(r).getTime()-new Date(e).getTime())/o},O=function(t){for(var e=t.start,r=t.end,n=t.duration,o=p().duration(n).asMilliseconds(),a=[],i=new Date(e),c=new Date(r);i<=c;)a.push(new Date(i).toISOString()),i.setTime(i.getTime()+o);return a},S=function(t){var e=t.start,r=t.end,n=t.duration;return O({start:e,end:r,duration:n}).map((function(t){return{start:new Date(t),end:new Date(new Date(t).getTime()+p().duration(n).asMilliseconds())}}))},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.start,r=t.end,n=t.duration,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=o.start,i=o.end;if(!a||!i)return{count:w({start:e,end:r,duration:n}),start:e,end:r};var c=p().duration(n).asMilliseconds(),u=new Date(e).getTime(),l=new Date(r).getTime(),s=new Date(a).getTime(),f=new Date(i).getTime(),m=Math.ceil((s-u)/c),d=Math.floor((f-u)/c),y=Math.floor((l-u)/c);if(m>=0&&d<=y){var v=d-m;return{start:new Date(u+Math.max(0,m)*c),end:new Date(u+Math.min(y,d)*c),count:v}}return{count:w({start:e,end:r,duration:n}),start:e,end:r}},j=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.start,r=t.end,n=arguments.length>1?arguments[1]:void 0,o=new Date(e),a=new Date(r),i=Math.floor(a.getTime()-o.getTime())/n;return{range:{start:e,end:r},resolution:p().duration(i).toISOString().match(g)[0]}},x=function(){var t,e,r=arguments.length>1?arguments[1]:void 0,n=(t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],(e=arguments.length>2?arguments[2]:void 0)?t.map((function(t){var r=y(t.split("/"),2);return{start:r[0],end:r[1]}[e]})):t);return n[function(t,e){var r=h(e),n=1/0,o=-1;return t.forEach((function(t,e){var a=h(t),i=Math.abs(a-r);i<n&&(n=i,o=e)})),o}(n,r)]},P=function(t){return t&&t.indexOf&&t.indexOf("--")>0},D=function(t,e){var r=p()(t).diff(e);return{start:r>=0?e:t,end:r>=0?t:e}},T=function(t){return 6e4*t.getTimezoneOffset()},I=function(t){var e=t;!i()(t)&o()(t)&&(e=new Date(t));var r=e.getUTCHours();r=r<10?"0"+r:r;var n=e.getUTCMinutes();n=n<10?"0"+n:n;var a=e.getUTCSeconds();return a=a<10?"0"+a:a,"".concat(r,":").concat(n,":").concat(a)},A=function(t){var e=t;!i()(t)&o()(t)&&(e=new Date(t));var r=e.getUTCMonth()+1,n=e.getUTCDate();return r=r<10?"0"+r:r,n=n<10?"0"+n:n,"".concat(e.getUTCFullYear(),"-").concat(r,"-").concat(n)},M=function(t,e){var r=(0,m.mh)(t),n="HH:mm:SS";switch(e){case"time":return n;case"date":return r;default:return r+" "+n}},C=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).Domains,e=void 0===t?{}:t,r=arguments.length>1?arguments[1]:void 0,n=s()(e.DimensionDomain||[]).concat(),o=e["@version"]||e.version,a=u()(e,"SpaceDomain.BoundingBox");return a&&n.push({Identifier:"space",Domain:a}),n.map((function(t){var e=t.Identifier,n=t.Domain;return{source:{type:"multidim-extension",version:o,url:r},name:e,domain:n}}))},k=function(t,e,r){var n=h(e),o=h(r);return t.reduce((function(t,e){var r=h(e);return h(n)<r&&h(o)>r?[].concat(d(t),[e]):d(t)}),[])},_=function(t){var e=t.reduce((function(t,e){if(-1!==e.indexOf("/")){var r=y(e.split("/"),2),n=r[0],o=r[1];return[].concat(d(t),[n,o])}return[].concat(d(t),[e])}),[]).sort();return[e[0],e[e.length-1]]},F=function(t,e,r){var n=p()(t);return("add"===r?n.add(e,"seconds"):n.subtract(e,"seconds")).toISOString()},Z=function(t){var e,r;(r=(r=o()(t)?t.indexOf("--")>0?t.split("--"):t.indexOf(",")>0?t.split(","):[t]:t).reduce((function(t,e){return t.concat(e.split("/"))}),[]).sort()).length>2&&(r=[r[0],r[r.length-1]]);var n=y((null===(e=r)||void 0===e?void 0:e.filter((function(t){return!!t})))||[],2);return[n[0],n[1]]},N=function(t){var e=t;!i()(t)&o()(t)&&(e=new Date(t));var r=e.getHours();r=r<10?"0"+r:r;var n=e.getMinutes();n=n<10?"0"+n:n;var a=e.getSeconds();return a=a<10?"0"+a:a,"".concat(r,":").concat(n,":").concat(a)}},887157:(t,e,r)=>{var n=r(640554),o=r(588958);t.exports=function(t,e,r,a){var i=t.length;for((r=n(r))<0&&(r=-r>i?0:i+r),(a=void 0===a||a>i?i:n(a))<0&&(a+=i),a=r>a?0:o(a);r<a;)t[r++]=e;return t}},441761:(t,e,r)=>{var n=r(644239),o=r(637005);t.exports=function(t){return o(t)&&"[object Date]"==n(t)}},819873:(t,e,r)=>{var n=r(887157),o=r(816612);t.exports=function(t,e,r,a){var i=null==t?0:t.length;return i?(r&&"number"!=typeof r&&o(t,e,r)&&(r=0,a=i),n(t,e,r,a)):[]}},647960:(t,e,r)=>{var n=r(441761),o=r(307518),a=r(531167),i=a&&a.isDate,c=i?o(i):n;t.exports=c},588958:(t,e,r)=>{var n=r(829750),o=r(640554);t.exports=function(t){return t?n(o(t),0,4294967295):0}},940690:(t,e,r)=>{var n=r(234963),o=r(829932),a=r(840371),i=r(422545),c=r(229246),u=Math.max;t.exports=function(t){if(!t||!t.length)return[];var e=0;return t=n(t,(function(t){if(c(t))return e=u(t.length,e),!0})),i(e,(function(e){return o(t,a(e))}))}},604788:(t,e,r)=>{var n=r(105976)(r(940690));t.exports=n}}]);