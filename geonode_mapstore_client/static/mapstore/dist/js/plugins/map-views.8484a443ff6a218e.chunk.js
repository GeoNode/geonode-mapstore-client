"use strict";(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[47883],{593429:(e,t,n)=>{n.d(t,{CX:()=>o,E:()=>l,Fh:()=>p,Ls:()=>c,VQ:()=>i,Ym:()=>a,pv:()=>r,u9:()=>u,v9:()=>s,vD:()=>E,y$:()=>f});var r="ADDITIONALLAYER:ADD_ADDITIONAL_LAYERS",i="ADDITIONALLAYER:REMOVE_ADDITIONAL_LAYER",o="ADDITIONALLAYER:REMOVE_ALL_ADDITIONAL_LAYERS",u="ADDITIONALLAYER:UPDATE_ADDITIONAL_LAYER",c="ADDITIONALLAYER:UPDATE_OPTIONS_BY_OWNER",a="ADDITIONALLAYER:MERGE_OPTIONS_BY_OWNER",l=function(e,t){return{type:u,id:e,owner:t,actionType:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"override",options:arguments.length>3?arguments[3]:void 0}},f=function(e,t){return{type:c,owner:e,options:t}},E=function(e,t){return{type:a,owner:e,options:t}},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.owner;return{type:i,id:t,owner:n}},p=function(e){return{type:o,owner:e}}},762686:(e,t,n)=>{n.d(t,{$m:()=>he,$r:()=>We,$w:()=>Ae,BN:()=>He,Bg:()=>a,Bp:()=>Je,DK:()=>W,Dv:()=>z,Ek:()=>Le,FN:()=>x,Fc:()=>r,Fu:()=>te,GW:()=>ye,HS:()=>p,Hu:()=>S,IR:()=>f,Iv:()=>Be,J6:()=>q,J7:()=>pe,JM:()=>Ce,JV:()=>G,Jq:()=>I,K0:()=>je,L4:()=>y,Lw:()=>u,M3:()=>B,MI:()=>L,MW:()=>Ve,N7:()=>le,Nq:()=>Fe,Ol:()=>De,PO:()=>O,Pn:()=>P,Pp:()=>Ke,Q4:()=>U,RM:()=>$e,S8:()=>ze,Sm:()=>m,Tw:()=>Ge,UT:()=>ne,V$:()=>j,V_:()=>i,Wm:()=>ue,X_:()=>ce,Xj:()=>Me,Y3:()=>F,YL:()=>T,Z9:()=>c,Zm:()=>we,_9:()=>Oe,_w:()=>be,aA:()=>ae,bS:()=>D,bU:()=>Se,bx:()=>Y,cU:()=>oe,di:()=>Te,dv:()=>Pe,en:()=>V,et:()=>k,fJ:()=>_,fX:()=>d,fk:()=>_e,fr:()=>ke,g$:()=>A,gi:()=>ee,gm:()=>Ue,h$:()=>X,hD:()=>v,hN:()=>Q,hS:()=>E,hu:()=>Z,iB:()=>Ze,il:()=>ve,j6:()=>H,k7:()=>l,kH:()=>o,k_:()=>s,ke:()=>ge,kz:()=>re,l0:()=>b,lP:()=>h,ls:()=>de,mQ:()=>w,mq:()=>$,o_:()=>R,pm:()=>se,ri:()=>N,s:()=>fe,s2:()=>K,t7:()=>C,tB:()=>Ye,tw:()=>J,ud:()=>Qe,v2:()=>xe,vK:()=>Ee,wT:()=>me,wr:()=>Re,xp:()=>Ne,y3:()=>ie,yM:()=>g,yd:()=>Ie,z0:()=>M});var r="FEATUREGRID:SET_UP",i="FEATUREGRID:SELECT_FEATURES",o="FEATUREGRID:DESELECT_FEATURES",u="FEATUREGRID:CLEAR_SELECTION",c="FEATUREGRID:SET_SELECTION_OPTIONS",a="FEATUREGRID:TOGGLE_MODE",l="FEATUREGRID:TOGGLE_FEATURES_SELECTION",f="FEATUREGRID:FEATURES_MODIFIED",E="FEATUREGRID:NEW_FEATURE",s="FEATUREGRID:SAVE_CHANGES",p="FEATUREGRID:SAVING",d="FEATUREGRID:START_EDITING_FEATURE",v="FEATUREGRID:START_DRAWING_FEATURE",y="FEATUREGRID:DELETE_GEOMETRY",R="FEATUREGRID:DELETE_GEOMETRY_FEATURE",A="FEATUREGRID:SAVE_SUCCESS",T="FEATUREGRID:CLEAR_CHANGES",I="FEATUREGRID:SAVE_ERROR",m="FEATUREGRID:DELETE_SELECTED_FEATURES",O="SET_FEATURES",S="FEATUREGRID:SORT_BY",b="FEATUREGRID:SET_LAYER",D="QUERY:UPDATE_FILTER",_="FEATUREGRID:CHANGE_PAGE",U="FEATUREGRID:GEOMETRY_CHANGED",g="DOCK_SIZE_FEATURES",w="FEATUREGRID:TOGGLE_TOOL",G="FEATUREGRID:CUSTOMIZE_ATTRIBUTE",F="ASK_CLOSE_FEATURE_GRID_CONFIRM",P="FEATUREGRID:OPEN_GRID",h="FEATUREGRID:CLOSE_GRID",L="FEATUREGRID:CLEAR_CHANGES_CONFIRMED",M="FEATUREGRID:FEATURE_GRID_CLOSE_CONFIRMED",N="FEATUREGRID:SET_PERMISSION",C="FEATUREGRID:DISABLE_TOOLBAR",V="FEATUREGRID:ACTIVATE_TEMPORARY_CHANGES",j="FEATUREGRID:DEACTIVATE_GEOMETRY_FILTER",Y="FEATUREGRID:ADVANCED_SEARCH",k="FEATUREGRID:ZOOM_ALL",W="FEATUREGRID:INIT_PLUGIN",z="FEATUREGRID:SIZE_CHANGE",H="FEATUREGRID:TOGGLE_SHOW_AGAIN_FLAG",B="FEATUREGRID:UPDATE_EDITORS_OPTIONS",$="FEATUREGRID:LAUNCH_UPDATE_FILTER_FUNC",K="FEATUREGRID:SET_SYNC_TOOL",J="FEATUREGRID:SET_VIEWPORT_FILTER",x={EDIT:"EDIT",VIEW:"VIEW"},Z="FEATUREGRID:START_SYNC_WMS",Q="FEATUREGRID:STOP_SYNC_WMS",q="STORE_ADVANCED_SEARCH_FILTER",X="LOAD_MORE_FEATURES",ee="FEATUREGRID:QUERY_RESULT",te="FEATUREGRID:SET_TIME_SYNC",ne="FEATUREGRID:SET_PAGINATION";function re(){return{type:H}}function ie(e,t){return{type:ee,features:e,pages:t}}function oe(e){return{type:q,filterObj:e}}function ue(){return{type:W,options:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}function ce(){return{type:L}}function ae(){return{type:M}}function le(e,t){return{type:i,features:e,append:t}}function fe(e){return{type:r,options:e}}function Ee(e){return{type:U,features:e}}function se(){return{type:d}}function pe(){return{type:v}}function de(e){return{type:o,features:e}}function ve(){return{type:y}}function ye(e){return{type:R,features:e}}function Re(){return{type:u}}function Ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.multiselect,n=e.showCheckbox;return{type:c,multiselect:t,showCheckbox:n}}function Te(e,t){return{type:S,sortBy:e,sortOrder:t}}function Ie(e,t){return{type:_,page:e,size:t}}function me(e){return{type:b,id:e}}function Oe(e){return{type:D,update:e,append:arguments.length>1&&void 0!==arguments[1]&&arguments[1]}}function Se(e,t){return{type:w,tool:e,value:t}}function be(e,t,n){return{type:G,name:e,key:t,value:n}}function De(){return{type:a,mode:x.EDIT}}function _e(){return{type:a,mode:x.VIEW}}function Ue(e,t){return{type:f,features:e,updated:t}}function ge(e){return{type:E,features:e}}function we(){return{type:s}}function Ge(){return{type:A}}function Fe(){return{type:m}}function Pe(){return{type:p}}function he(){return{type:T}}function Le(){return{type:I}}function Me(){return{type:F}}function Ne(e){return{type:h,closer:e}}function Ce(){return{type:P}}function Ve(e){return{type:C,disabled:e}}function je(e){return{type:N,permission:e}}function Ye(){return{type:Y}}function ke(){return{type:k}}function We(){return{type:Z}}function ze(e,t){return{type:z,size:e,dockProps:t}}var He=function(e){return{type:X,pages:e}},Be=function(e){return{type:V,activated:e}},$e=function(e){return{type:j,deactivated:e}},Ke=function(e){return{type:te,value:e}},Je=function(e){return{type:ne,size:e}},xe=function(e){return{type:$,updateFilterAction:e}},Ze=function(e){return{type:K,syncWmsFilter:e}},Qe=function(e){return{type:J,value:e}}},995134:(e,t,n)=>{n.d(t,{HH:()=>r,g$:()=>i,k5:()=>o});var r="MAP_TYPE_CHANGED",i="MAP_TYPE:VISUALIZATION_MODE_CHANGED";function o(e){return{type:i,visualizationMode:e}}},221867:(e,t,n)=>{n.d(t,{Y:()=>o});var r=n(181817),i=n(731807),o=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.resourceId,o=t.layer,u=t.resources,c=t.inverse,a=void 0!==c&&c,l=t.offset,f=void 0===l?0:l,E=null!=n?n:function(e,t){var n=t.inverse,r=t.offset;return"".concat(e.id,";inverse:").concat(n,";offset:").concat(r)}(o,{inverse:a,offset:f}),s=null==u?void 0:u.find((function(e){return e.id===E}));return null!=s&&null!==(e=s.data)&&void 0!==e&&e.collection?Promise.resolve(s):{wfs:function(){return(0,r.x$)(o.url,o.name,{outputFormat:"application/json",srsname:"EPSG:4326"}).then((function(e){return e.data}))},vector:function(){var e;return Promise.resolve({type:"FeatureCollection",features:null!==(e=o.features)&&void 0!==e?e:[]})}}[o.type]().then((function(e){return a?(0,i.rM)(e,{offset:f}):e})).then((function(e){return{id:E,updated:!0,data:{type:o.type,name:o.name,title:o.title,url:o.url,id:o.id,collection:e}}}))}},665424:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Ie});var r=n(273517),i=n.n(r),o=n(811668),u=n(393149),c=n(801081),a=n(958642);var l="MAP_VIEWS:SETUP_VIEWS",f="MAP_VIEWS:ACTIVATE_VIEWS",E="MAP_VIEWS:HIDE_VIEWS",s="MAP_VIEWS:SELECT_VIEW",p="MAP_VIEWS:UPDATE_VIEWS",d="MAP_VIEWS:UPDATE_RESOURCES",v="MAP_VIEWS:SET_PREVIOUS_VIEW",y=function(e){return{type:E,hide:e}},R=function(e){return{type:d,resources:e}},A=function(e){return{type:v,view:e}},T=n(538704),I=n(731807),m=n(668414),O=n.n(m);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function b(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return(t=function(e){var t=function(e){if("object"!=S(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==S(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w={};var G=n(307679),F=n(286447),P=n(45388),h=n(962193),L=n.n(h),M=n(185015),N=n.n(M),C=n(415392),V=n(593429),j=n(621939),Y=n(995134),k=n(165561),W=n(904059),z=n(762686),H=n(588100),B=n(221867),$=n(747135);function K(e){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K(e)}var J=["updated"];function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){Q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q(e,t,n){return(t=function(e){var t=function(e){if("object"!=K(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=K(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==K(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e){return function(e){if(Array.isArray(e))return X(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return X(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ee=(0,H.YH)(),te=["drawer","metadataexplorer","print","queryPanel"];const ne={updateMapViewsLayers:function(e,t){return e.ofType(s,p,f,E,l,T.mO,Y.g$).filter((function(){var e=t.getState();return!(0,k.bJ)(e)&&(0,k.Bp)(e)})).switchMap((function(e){var n=t.getState(),r=(0,k.Bn)(n),i=(0,k.xc)(n),o=i||{},u=o.layers,c=void 0===u?[]:u,a=o.mask,l=void 0===a?{}:a,f=o.id;if(e.type!==Y.g$&&ee((null==r?void 0:r.layers)||[],c)&&ee((null==r?void 0:r.mask)||{},l))return P.Observable.of(A(i));var E=(0,k.sp)(n);return function(e,t){var n=t.getState(),r=(0,k.sp)(n),i=e||{},o=i.layers,u=void 0===o?[]:o,c=i.mask,a=void 0===c?{}:c;return P.Observable.defer((function(){var e=(0,G.Kv)(n),t=N()(a.resourceId)?(0,k.$E)(n,a.resourceId):void 0,i=null==e?void 0:e.find((function(e){var n;return e.id===(null==t||null===(n=t.data)||void 0===n?void 0:n.id)})),o=[{resource:t,options:a,vectorLayer:i}].concat(q(u.filter((function(e){return e.clippingLayerResourceId})).map((function(t){var r=t.clippingLayerResourceId,i=N()(r)?(0,k.$E)(n,r):void 0,o=null==e?void 0:e.find((function(e){var t;return e.id===(null==i||null===(t=i.data)||void 0===t?void 0:t.id)}));return{resource:i,vectorLayer:o}}))));return Promise.all(o.filter((function(e){return e.resource})).map((function(e){var t=e.resource,n=e.options,i=e.vectorLayer;return(0,B.Y)({resourceId:t.id,layer:Z(Z({},(null==i?void 0:i.features)&&{features:null==i?void 0:i.features}),t.data),inverse:null==n?void 0:n.inverse,offset:null==n?void 0:n.offset,resources:r}).then((function(e){return e})).catch((function(){return{id:t.id,error:!0}}))})))}))}(i,t).switchMap((function(e){var t,r,o=e.filter((function(e){return!e.error})),u=(0,G.Kv)(n),a=o.filter((function(e){return e.updated})),s=N()(l.resourceId)&&o.find((function(e){return e.id===l.resourceId}));return P.Observable.of.apply(P.Observable,q(a.length>0?[R(E.map((function(e){var t=a.find((function(t){return t.id===e.id}))||{},n=(t.updated,function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,J));return L()(n)?e:n})))]:[]).concat([A(i),(0,V.v9)({owner:I.zU})],q(c.filter((function(e){return!!u.find((function(t){return t.id===e.id}))})).map((function(e){var t,n,r,i=N()(e.clippingLayerResourceId)&&o.find((function(t){return t.id===e.clippingLayerResourceId})),u=N()(e.clippingPolygonFeatureId)&&(null===(t=(0,I.J1)(null==i||null===(n=i.data)||void 0===n||null===(r=n.collection)||void 0===r?void 0:r.features))||void 0===t?void 0:t.find((function(t){return t.id===e.clippingPolygonFeatureId})));return(0,V.E)(e.id,I.zU,"override",Z(Z({},e),{},{clippingPolygon:u}))}))),q((0,$.NR)(n)&&null!=s&&null!==(t=s.data)&&void 0!==t&&null!==(r=t.collection)&&void 0!==r&&r.features?[(0,V.E)("".concat(f,"-mask"),I.zU,"overlay",{id:"".concat(f,"-mask"),type:"vector",features:s.data.collection.features,visibility:!0,style:{format:"geostyler",body:{name:"",rules:[{name:"",symbolizers:[{kind:"Fill",color:"#ffffff",fillOpacity:0,msClampToGround:!0,msClassificationType:"3d"}]}]}}})]:[])))}))}))},removeMapViewsLayersWhenDeactivated:function(e){return e.ofType(f).filter((function(e){return!e.active})).switchMap((function(){return P.Observable.of((0,V.v9)({owner:I.zU}),A())}))},closePluginWhenMapViewsActivate:function(e,t){return e.ofType(f).filter((function(e){return e.active})).switchMap((function(){var e=t.getState();return te.find((function(t){var n,r;return!(null==e||null===(n=e.controls)||void 0===n||null===(r=n[t])||void 0===r||!r.enabled)}))?P.Observable.of.apply(P.Observable,q(te.map((function(e){return(0,C.fN)(e,"enabled",!1)})))):P.Observable.empty()}))},hideMapViewsBasedOnLayoutChanges:function(e,t){return e.ofType(C.x7,C.$4,j.dP,T.mO,W.mU,z.lP).filter((function(e){return[j.dP,T.mO,W.mU,z.lP].includes(e.type)||te.includes(e.control)})).switchMap((function(){var e,n=t.getState();return te.find((function(e){var t,r;return!(null==n||null===(t=n.controls)||void 0===t||null===(r=t[e])||void 0===r||!r.enabled)}))||null!=n&&null!==(e=n.featuregrid)&&void 0!==e&&e.open?P.Observable.of((0,V.v9)({owner:I.zU}),A(),y(!0)):P.Observable.of(y(!1))}))}};var re=n(275705),ie=["pluginName","mapConfig","onSetup","active","onHideViews","initialized","updateUUID"];function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oe.apply(null,arguments)}var ue=(0,r.lazy)((function(){return n.e(8477).then(n.bind(n,208477))})),ce={mapviews:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case T.mO:return U({initialized:!0,hide:null==n?void 0:n.hide,updateUUID:O()()},(null==r||null===(e=r.config)||void 0===e?void 0:e[I.VT])||{});case s:return U(U({},n),{},{selectedId:r.id});case p:return U(U({},n),{},{views:b(r.views)});case d:return U(U({},n),{},{resources:b(r.resources)});case f:return U(U({},n),{},{active:r.active});case E:return U(U({},n),{},{hide:r.hide});case l:return n.initialized?n:U({initialized:!0,updateUUID:O()()},null!==(t=r.config)&&void 0!==t?t:{});case v:return U(U({},n),{},{previousView:r.view});default:return n}}},ae=(0,o.connect)((0,c.Mz)([k.e8,k.ns,G.Kv,F.Pd,function(e){return null==e?void 0:e.mapConfigRawData},k.sp,k.Bp,k.bJ,k.tY,k.RQ],(function(e,t,n,r,i,o,u,c,a,l){return{selectedId:e,views:t,layers:n.filter((function(e){return"background"!==e.group})),locale:r,mapConfig:i,resources:o,active:u,hide:c,initialized:a,updateUUID:l}})),{onSelectView:function(e){return{type:s,id:e}},onUpdateViews:function(e){return{type:p,views:e}},onSetup:function(e){return{type:l,config:e}},onUpdateResources:R,onHideViews:y})((function(e){var t=e.pluginName,n=e.mapConfig,o=e.onSetup,c=void 0===o?function(){}:o,l=e.active,f=(e.onHideViews,e.initialized),E=e.updateUUID,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,ie);return function(e,t){var n=t.reducers,i=t.epics,o=t.removeReducers,c=t.muteEpics,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];(0,r.useEffect)((function(){var t=(0,u.Pc)(e),r=(0,a.KA)();return n&&Object.keys(n).forEach((function(e){return r.storeManager.addReducer(e,n[e])})),i&&(r.storeManager.addEpics(t,i),r.storeManager.unmuteEpics(t)),function(){n&&o&&Object.keys(n).forEach((function(e){return r.storeManager.removeReducer(e)})),i&&c&&r.storeManager.muteEpics(t)}}),l)}(t,{reducers:ce,epics:ne}),(0,r.useEffect)((function(){!f&&null!=n&&n[I.VT]&&c(n[I.VT])}),[null==n?void 0:n[I.VT],f]),l?i().createElement(r.Suspense,{fallback:i().createElement("div",{className:"ms-map-views"},i().createElement("div",{className:"ms-map-views-wrapper"},i().createElement("div",{className:"ms-map-views-header",style:{justifyContent:"center"}},i().createElement(re.A,{size:30}))))},i().createElement(ue,oe({key:E},s))):null}));const le=ae;var fe=n(8117),Ee=n(711030),se=n(8571),pe=n(164045),de=n(914950),ve=n(501719),ye=(0,pe.A)(Ee.A);(0,de.yp)(I.VT,(function(e){return(0,I.wI)({active:(0,k.Bp)(e),selectedId:(0,k.e8)(e),views:(0,k.ns)(e),resources:(0,k.sp)(e)},(0,G.Kv)(e))}));var Re="MapViews",Ae=(0,o.connect)((0,c.Mz)([ve.M3],(function(e){return{pluginName:Re,edit:!!e}})))(le),Te=(0,o.connect)((0,c.Mz)([k.Bp,ve.M3,k.ns],(function(e,t,n){return{active:e,visible:!!t||!t&&((null==n?void 0:n.length)||0)}})),{onClick:function(e){return{type:f,active:e}}})((function(e){var t=e.active,n=e.onClick,r=e.visible,o=e.menuItem;if(!r)return null;var u=t?"mapViews.deactivateMapViews":"mapViews.activateMapViews";return o?i().createElement(fe.Dr,{active:t,onClick:function(){return n(!t)}},i().createElement(fe.e6,{glyph:"map-view"}),i().createElement(se.A,{msgId:u})):i().createElement(ye,{className:"square-button",bsStyle:t?"primary":"tray",active:t,onClick:function(){return n(!t)},tooltipId:u,tooltipPosition:"left"},i().createElement(fe.e6,{glyph:"map-view"}))}));const Ie=(0,u.i1)(Re,{component:function(){return null},containers:{SidebarMenu:{name:"mapViews",position:2e3,tool:Te,priority:1},BurgerMenu:{name:"mapviews",position:9,tool:function(){return i().createElement(Te,{menuItem:!0})},priority:2},Map:{name:Re,Tool:Ae,alwaysRender:!0}}})}}]);