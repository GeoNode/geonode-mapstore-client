(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[75675,80291,56399],{788113:(t,e,r)=>{"use strict";r.d(e,{b6:()=>f,PG:()=>m,_x:()=>d,Mm:()=>v,dP:()=>g,SX:()=>p,ZL:()=>y,_S:()=>h,iH:()=>b,R7:()=>w,Q7:()=>S,n7:()=>O,bA:()=>j,hm:()=>D,E2:()=>I,Cb:()=>E,eK:()=>T,Im:()=>M,e8:()=>P,JF:()=>x,kS:()=>A,y:()=>C,l2:()=>H,HN:()=>z,BM:()=>N,O8:()=>_,am:()=>k,LV:()=>U,CK:()=>q,jU:()=>F,Qg:()=>L});var n=r(22222),a=r(227361),o=r.n(a),i=r(800827),u=r(577215);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){var n,a,o,i;n=t,a=e,o=r[e],i=function(t,e){if("object"!=c(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(a),(a="symbol"==c(i)?i:i+"")in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var f=function(t){return o()(t,"catalog.services")},m=(0,n.P1)((function(t){return o()(t,"catalog.default.staticServices")}),f,(function(t,e){var r=null==t?void 0:t.default_map_backgrounds;return r?(r.readOnly=!0,s(s({},e),{},{default_map_backgrounds:r})):e})),d=function(t){return o()(t,"catalog.default.tileSizes",[256,512])},v=function(t){return o()(t,"controls.metadataexplorer.group")},g=function(t){return o()(t,"catalog.saving")},p=function(t){return o()(t,"catalog.result")},y=function(t){return o()(t,"catalog.openCatalogServiceList")},h=function(t){return o()(t,"catalog.newService")},b=function(t){return o()(t,"catalog.newService.type","csw")},w=function(t){return o()(t,'catalog.services["'.concat(o()(t,"catalog.selectedService"),'"]'))},S=function(t){return o()(t,'catalog.services["'.concat(o()(t,"catalog.selectedService"),'"].type'),function(t){return o()(t,'catalog.default.staticServices["'.concat(o()(t,"catalog.selectedService"),'"].type'),"csw")}(t))},O=function(t){return o()(t,'catalog.services["'.concat(o()(t,"catalog.selectedService"),'"].layerOptions'),{})},j=function(t){return o()(t,"catalog.searchOptions")},D=function(t){return o()(t,"catalog.loadingError")},I=function(t){return o()(t,"catalog.loading",!1)},E=function(t){return o()(t,"catalog.selectedService")},T=function(t){return o()(t,"catalog.mode","view")},M=function(t){return o()(t,"catalog.layerError")},P=function(t){return o()(t,"catalog.searchOptions.text","")},x=function(t){return"metadataexplorer"===o()(t,"controls.toolbar.active")||o()(t,"controls.metadataexplorer.enabled")},A=function(t){return(o()(t,"localConfig.authenticationRules")||[]).filter((function(t){return"authkey"===t.method})).map((function(t){return t.authkeyParamName}))||[]},C=function(t){return o()(t,"catalog.pageSize",4)},H=function(t){return o()(t,"catalog.delayAutoSearch",1e3)},z=(0,n.zB)({projection:i.uy}),N=function(t){return o()(t,"catalog.formatsLoading",!1)},_=function(t){return o()(t,"catalog.newService.supportedFormats.imageFormats",[])},k=function(t){var e,r;return"edit"===T(t)?_(t):(null===(e=w(t))||void 0===e||null===(r=e.supportedFormats)||void 0===r?void 0:r.imageFormats)||[]},U=function(t){return o()(t,"catalog.newService.supportedFormats.infoFormats",(0,u.oL)())},q=function(t){return o()(t,"catalog.newService.formatUrlUsed","")},F=function(t){return o()(t,"catalog.isNewServiceAdded",!1)},L=function(t){return o()(t,"catalog.showFormatError",!1)}},55237:(t,e,r)=>{"use strict";r.d(e,{tr:()=>S,jb:()=>O,Xu:()=>j,un:()=>D,Qn:()=>I,_q:()=>E,og:()=>T,$4:()=>M,kN:()=>P,oD:()=>x,V$:()=>A,uH:()=>C,pC:()=>H,tz:()=>z,p:()=>N,Q7:()=>_,t:()=>k});var n=r(747037),a=r.n(n),o=r(647960),i=r.n(o),u=r(227361),c=r.n(u),l=r(984596),s=r.n(l),f=r(730381),m=r.n(f),d=r(86638);function v(t){return function(t){if(Array.isArray(t))return y(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||p(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,a,o,i,u=[],c=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(t){l=!0,a=t}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return u}}(t,e)||p(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){if(t){if("string"==typeof t)return y(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(t,e):void 0}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var h=/PT?[\d\.]+[YMWDHMS]/,b=function(t){return t?a()(t)?new Date(t).getTime():(i()(t)&&t.getTime(),t):null},w=function(t){var e=t.start,r=t.end,n=t.duration,a=m().duration(n).asMilliseconds();return(new Date(r).getTime()-new Date(e).getTime())/a},S=function(t){for(var e=t.start,r=t.end,n=t.duration,a=m().duration(n).asMilliseconds(),o=[],i=new Date(e),u=new Date(r);i<=u;)o.push(new Date(i).toISOString()),i.setTime(i.getTime()+a);return o},O=function(t){var e=t.start,r=t.end,n=t.duration;return S({start:e,end:r,duration:n}).map((function(t){return{start:new Date(t),end:new Date(new Date(t).getTime()+m().duration(n).asMilliseconds())}}))},j=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.start,r=t.end,n=t.duration,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=a.start,i=a.end;if(!o||!i)return{count:w({start:e,end:r,duration:n}),start:e,end:r};var u=m().duration(n).asMilliseconds(),c=new Date(e).getTime(),l=new Date(r).getTime(),s=new Date(o).getTime(),f=new Date(i).getTime(),d=Math.ceil((s-c)/u),v=Math.floor((f-c)/u),g=Math.floor((l-c)/u);if(d>=0&&v<=g){var p=v-d;return{start:new Date(c+Math.max(0,d)*u),end:new Date(c+Math.min(g,v)*u),count:p}}return{count:w({start:e,end:r,duration:n}),start:e,end:r}},D=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.start,r=t.end,n=arguments.length>1?arguments[1]:void 0,a=new Date(e),o=new Date(r),i=Math.floor(o.getTime()-a.getTime())/n;return{range:{start:e,end:r},resolution:m().duration(i).toISOString().match(h)[0]}},I=function(){var t,e,r=arguments.length>1?arguments[1]:void 0,n=(t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],(e=arguments.length>2?arguments[2]:void 0)?t.map((function(t){var r=g(t.split("/"),2);return{start:r[0],end:r[1]}[e]})):t);return n[function(t,e){var r=b(e),n=1/0,a=-1;return t.forEach((function(t,e){var o=b(t),i=Math.abs(o-r);i<n&&(n=i,a=e)})),a}(n,r)]},E=function(t){return t&&t.indexOf&&t.indexOf("--")>0},T=function(t,e){var r=m()(t).diff(e);return{start:r>=0?e:t,end:r>=0?t:e}},M=function(t){return 6e4*t.getTimezoneOffset()},P=function(t){var e=t;!i()(t)&a()(t)&&(e=new Date(t));var r=e.getUTCHours();r=r<10?"0"+r:r;var n=e.getUTCMinutes();n=n<10?"0"+n:n;var o=e.getUTCSeconds();return o=o<10?"0"+o:o,"".concat(r,":").concat(n,":").concat(o)},x=function(t){var e=t;!i()(t)&a()(t)&&(e=new Date(t));var r=e.getUTCMonth()+1,n=e.getUTCDate();return r=r<10?"0"+r:r,n=n<10?"0"+n:n,"".concat(e.getUTCFullYear(),"-").concat(r,"-").concat(n)},A=function(t,e){var r=(0,d.mh)(t),n="HH:mm:SS";switch(e){case"time":return n;case"date":return r;default:return r+" "+n}},C=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).Domains,e=void 0===t?{}:t,r=arguments.length>1?arguments[1]:void 0,n=s()(e.DimensionDomain||[]).concat(),a=e["@version"]||e.version,o=c()(e,"SpaceDomain.BoundingBox");return o&&n.push({Identifier:"space",Domain:o}),n.map((function(t){var e=t.Identifier,n=t.Domain;return{source:{type:"multidim-extension",version:a,url:r},name:e,domain:n}}))},H=function(t,e,r){var n=b(e),a=b(r);return t.reduce((function(t,e){var r=b(e);return b(n)<r&&b(a)>r?[].concat(v(t),[e]):v(t)}),[])},z=function(t){var e=t.reduce((function(t,e){if(-1!==e.indexOf("/")){var r=g(e.split("/"),2),n=r[0],a=r[1];return[].concat(v(t),[n,a])}return[].concat(v(t),[e])}),[]).sort();return[e[0],e[e.length-1]]},N=function(t,e,r){var n=m()(t);return("add"===r?n.add(e,"seconds"):n.subtract(e,"seconds")).toISOString()},_=function(t){var e,r;(r=(r=a()(t)?t.indexOf("--")>0?t.split("--"):t.indexOf(",")>0?t.split(","):[t]:t).reduce((function(t,e){return t.concat(e.split("/"))}),[]).sort()).length>2&&(r=[r[0],r[r.length-1]]);var n=g((null===(e=r)||void 0===e?void 0:e.filter((function(t){return!!t})))||[],2);return[n[0],n[1]]},k=function(t){var e=t;!i()(t)&a()(t)&&(e=new Date(t));var r=e.getHours();r=r<10?"0"+r:r;var n=e.getMinutes();n=n<10?"0"+n:n;var o=e.getSeconds();return o=o<10?"0"+o:o,"".concat(r,":").concat(n,":").concat(o)}},232100:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>E});var n=r(124852),a=r.n(n),o=r(675263),i=r.n(o),u=r(322843),c=r(22222),l=r(841984),s=r(518212);const f=function(t){var e=t.items,r=t.variant;return a().createElement("div",{className:"gn-sub-flat-menu-container"},a().createElement(s.Z,{toogleIcon:"bars",className:"gn-sub-flat-menu",items:e,variant:r}))};function m(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,a,o,i,u=[],c=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(t){l=!0,a=t}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return d(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const v=function(t){var e=m((0,n.useState)(0),2),r=e[0],a=e[1],o=m((0,n.useState)(0),2),i=o[0],u=o[1],c=function(){null!=t&&t.current&&(a(t.current.offsetWidth),u(t.current.offsetHeight))};return(0,n.useEffect)((function(){return window.addEventListener("resize",c),function(){window.removeEventListener("resize",c)}}),[t]),(0,n.useEffect)((function(){c()})),{width:r,height:i}};function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var p=function(t){var e,r,o=t.items,i=t.formatHref,u=t.query,c=t.variant,s=t.size,m=t.resourceName,d=(0,n.useRef)(),p=(0,n.useRef)(),y=v(d).width,h=v(p).width,b=(e=(0,n.useState)(!1),r=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,a,o,i,u=[],c=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(t){l=!0,a=t}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return u}}(e,r)||function(t,e){if(t){if("string"==typeof t)return g(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),w=b[0],S=b[1];return(0,n.useEffect)((function(){S(h>=y)}),[h,y]),a().createElement("div",{className:"gn-menu-content-side gn-menu-content-left",ref:d},w&&o&&a().createElement(f,{items:o,variant:c}),!w&&o&&a().createElement(l.Z,{ref:p,items:o,containerClass:"gn-menu-list",formatHref:i,query:u,variant:c,size:s,resourceName:m}))},y=function(t){var e=t.items,r=t.formatHref,o=t.query,i=t.variant,u=t.size,c=(0,n.useRef)();return a().createElement("div",{className:"gn-menu-content-right"},e&&a().createElement(l.Z,{ref:c,items:e,containerClass:"gn-menu-list",formatHref:r,query:o,variant:i,alignRight:!0,size:u}))},h=(0,n.forwardRef)((function(t,e){var r=t.style,n=t.leftItems,o=t.rightItems,i=t.query,u=t.formatHref,c=t.variant,l=t.size,s=t.resource;return a().createElement("nav",{ref:e,className:"gn-menu gn-".concat(c),style:r},a().createElement("div",{className:"gn-menu-container"},a().createElement("div",{className:"gn-menu-content"},n.length>0&&a().createElement(p,{items:n,formatHref:u,query:i,variant:c,size:l,resourceName:null==s?void 0:s.title}),o.length>0&&a().createElement(y,{items:o,formatHref:u,query:i,variant:c,size:l}))))}));h.propTypes={style:i().object,leftItems:i().array,rightItems:i().array,query:i().object,formatHref:i().func,variant:i().string},h.defaultProps={leftItems:[],rightItems:[],query:{},formatHref:function(){return"#"},variant:"primary"};const b=h;var w=r(678833),S=r(482100),O=r(770058);function j(t,e){return!t.disableIf&&(!t.type||!t.perms||(0,O.gj)(e,t.perms,"resource"))}function D(t,e){var r=t.items,n=t.leftMenuItems,o=t.rightMenuItems,i=t.resourcePerms,u=t.resource,c=t.isDirtyState,l=t.selectedLayerPermissions,s=e.loadedPlugins,f=(0,w.Z)({items:r,loadedPlugins:s},[null==u?void 0:u.pk,l]),m=(0,O.bH)(n,(function(t){return f.find((function(e){"plugin"===t.type&&e.name===t.name&&(t.Component=null==e?void 0:e.Component)})),t.className=t.showPendingChangesIcon&&c?"gn-pending-changes-icon":"",t})),d=(0,O.bH)(o,(function(t){return f.find((function(e){"plugin"===t.type&&e.name===t.name&&(t.Component=null==e?void 0:e.Component)})),t})),v=(0,O.bH)(m,(function(t){return j(t,i)})),g=(0,O.bH)(d,(function(t){return j(t,i)}));return a().createElement(b,{leftItems:v,rightItems:g,variant:"primary",size:"sm",resource:u})}D.propTypes={items:i().array,leftMenuItems:i().array,rightMenuItems:i().array},D.defaultProps={items:[],leftMenuItems:[],rightMenuItems:[]};var I=(0,u.$j)((0,c.P1)([S.HG,S.ez,S.yK,S.YR,S.l_,S.V$],(function(t,e,r,n,a,o){return{resourcePerms:t.length>0?t:e?["change_resourcebase"]:[],resource:r,isDirtyState:!!n,selectedLayerPermissions:a,disableTitle:o}})))(D);const E=(0,u.rx)("ActionNavbar",{component:I,containers:{},epics:{},reducers:{}})},887157:(t,e,r)=>{var n=r(640554),a=r(588958);t.exports=function(t,e,r,o){var i=t.length;for((r=n(r))<0&&(r=-r>i?0:i+r),(o=void 0===o||o>i?i:n(o))<0&&(o+=i),o=r>o?0:a(o);r<o;)t[r++]=e;return t}},580760:(t,e,r)=>{var n=r(989881);t.exports=function(t,e){var r=[];return n(t,(function(t,n,a){e(t,n,a)&&r.push(t)})),r}},441761:(t,e,r)=>{var n=r(644239),a=r(637005);t.exports=function(t){return a(t)&&"[object Date]"==n(t)}},819873:(t,e,r)=>{var n=r(887157),a=r(816612);t.exports=function(t,e,r,o){var i=null==t?0:t.length;return i?(r&&"number"!=typeof r&&a(t,e,r)&&(r=0,o=i),n(t,e,r,o)):[]}},763105:(t,e,r)=>{var n=r(234963),a=r(580760),o=r(267206),i=r(701469);t.exports=function(t,e){return(i(t)?n:a)(t,o(e,3))}},647960:(t,e,r)=>{var n=r(441761),a=r(307518),o=r(531167),i=o&&o.isDate,u=i?a(i):n;t.exports=u},313880:(t,e,r)=>{var n=r(479833);t.exports=function(){var t=arguments,e=n(t[0]);return t.length<3?e:e.replace(t[1],t[2])}},588958:(t,e,r)=>{var n=r(829750),a=r(640554);t.exports=function(t){return t?n(a(t),0,4294967295):0}}}]);