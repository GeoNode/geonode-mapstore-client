"use strict";(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[2444],{309140:(e,n,r)=>{r.r(n),r.d(n,{default:()=>V});var o=r(273517),l=r.n(o),i=r(811668),u=r(962193),t=r.n(u),a=r(801081),c=r(836970),d=r(393149),s=r(66178),v=r(8571),E=r(275705),g=r(425380),f=r(406250),p=r(298013),m=r(415392),R=r(904072),b=r(172175),w=r(534332),O=["hide","loading","labelId","showLoader"],y=["linkedResources"];function I(){return I=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var o in r)({}).hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},I.apply(null,arguments)}function _(e,n){if(null==e)return{};var r,o,l=function(e,n){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==n.indexOf(o))continue;r[o]=e[o]}return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===n.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}var k=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).resourceType;return e?l().createElement("div",{className:"gn-resource-delete-warning"},l().createElement(R.A,{className:"warning",glyph:"warning"})," Â ",l().createElement(v.A,{msgId:"gnviewer.linkedResource.deleteAndUnlinkWarning.".concat(e)})):null},C=(0,i.connect)((0,a.Mz)([function(e){var n;return null==e||null===(n=e.controls)||void 0===n||null===(n=n[p.b.REMOVE_LINKED_RESOURCE])||void 0===n?void 0:n.value},function(e){var n;return null==e||null===(n=e.controls)||void 0===n||null===(n=n[p.b.REMOVE_LINKED_RESOURCE])||void 0===n?void 0:n.loading},b.xF],function(e,n,r){var o;return{resources:null!==(o=null==e?void 0:e.resources)&&void 0!==o?o:[],resourceType:null==e?void 0:e.resourceType,enabled:!t()(null==e?void 0:e.resources),loading:n,source:null==r?void 0:r.pk}}),{onRemove:s.av,onDelete:s.tz.bind(null,p.b.REMOVE_LINKED_RESOURCE),onClose:m.fN.bind(null,p.b.REMOVE_LINKED_RESOURCE,"value",void 0)})(function(e){var n=e.enabled,r=e.resources,o=void 0===r?[]:r,i=e.onClose,u=void 0===i?function(){}:i,a=e.onDelete,c=void 0===a?function(){}:a,d=e.onRemove,s=void 0===d?function(){}:d,v=e.loading,E=e.resourceType,g=e.source,m=function(){var e=o.map(function(e){return null==e?void 0:e.pk});t()(g)||t()(e)||!E||s({resourceType:E,source:g,target:e,processType:p.b.REMOVE_LINKED_RESOURCE})};return l().createElement(f.A,null,l().createElement(w.A,{show:n,titleId:"gnviewer.linkedResource.deleteTitle",titleParams:{count:o.length},cancelId:"gnviewer.deleteResourceNo",cancelParams:{count:o.length},confirmId:"gnviewer.deleteResourceYes",confirmParams:{count:o.length},variant:"danger",loading:v,preventHide:!1,onHide:function(){u()},onCancel:function(){m(),u()},onConfirm:function(){m(),c(o)}},l().createElement(k,{resourceType:E})))}),h=function(e){var n=e.hide,r=e.loading,o=e.labelId,i=e.showLoader,u=_(e,O);return n?null:l().createElement(c.A,I({},u,{disabled:r,style:{display:"flex",alignItems:"center",gap:10}}),l().createElement(v.A,{msgId:null!=o?o:"gnviewer.linkedResource.remove"}),r&&i&&l().createElement(E.A,{size:12}))},L=(0,i.connect)(function(e){var n,r,o;return{loading:null==e||null===(n=e.controls)||void 0===n||null===(n=n[p.b.REMOVE_LINKED_RESOURCE])||void 0===n?void 0:n.loading,viewerLinkedResource:null==e||null===(r=e.gnresource)||void 0===r?void 0:r.viewerLinkedResource,resource:null==e||null===(o=e.gnresource)||void 0===o?void 0:o.data}},{onRemove:s.av,onDelete:m.fN.bind(null,p.b.REMOVE_LINKED_RESOURCE,"value")})(function(e){var n,r,o=g.cI.VIEWER,i=null!==(n=e.viewerLinkedResource)&&void 0!==n?n:{},u=i.linkedResources,a=_(i,y),c=1===(null==u||null===(r=u.linkedBy)||void 0===r?void 0:r.length);return l().createElement(h,I({},e,{showLoader:!c,onClick:function(){if(c)e.onDelete({resources:[a],resourceType:o});else{var n,r=null===(n=e.resource)||void 0===n?void 0:n.pk,l=null==a?void 0:a.pk;t()(r)||t()(l)||!o||e.onRemove({resourceType:o,source:r,target:l,processType:p.b.REMOVE_LINKED_RESOURCE})}},labelId:"gnviewer.removeViewerConfiguration"}))}),N=(0,i.connect)(function(e){var n,r,o;return{loading:null==e||null===(n=e.controls)||void 0===n||null===(n=n[p.b.REMOVE_LINKED_RESOURCE])||void 0===n?void 0:n.loading,resourceParams:null==e||null===(r=e.gnresource)||void 0===r?void 0:r.params,resource:null==e||null===(o=e.gnresource)||void 0===o?void 0:o.data}},{})(function(e){var n,r;return l().createElement(h,I({},e,{href:"#/viewer/"+(null===(n=e.resourceParams)||void 0===n?void 0:n.appPk)+"/map/"+(null===(r=e.resource)||void 0===r?void 0:r.pk),labelId:"gnviewer.editViewerConfiguration"}))});const V=(0,d.i1)("MapViewerConfiguration",{component:C,containers:{ActionNavbar:[{name:"RemoveMapViewer",Component:L},{name:"EditMapViewer",Component:N}]},epics:{},reducers:{}})}}]);