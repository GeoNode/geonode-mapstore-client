(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[86918],{178612:(e,t,r)=>{var n={"./cesium/plugins/index":[224654,9,38487,56367,55394,86881,86714,92054,91281,57378,24654,58958],"./leaflet/plugins/index":[986657,7,53481,72221,91281,86657,80323],"./openlayers/plugins/index":[3032,9,7434,89029,66968,36128,60284,81224,5991,25e3,74138,74974,91281,6381,41358,40019,26859]};function o(e){if(!r.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],o=t[0];return Promise.all(t.slice(2).map(r.e)).then((()=>r.t(o,16|t[1])))}o.keys=()=>Object.keys(n),o.id=178612,e.exports=o},886181:(e,t,r)=>{var n={"./cesium/index":[659781,56367,55394,86881,86714,23642,57316,59781],"./leaflet/index":[938188,93456,53481,69341,36903,50856,8493,68474,38188],"./openlayers/index":[353858,93456,7434,89029,66968,36128,60284,81224,54620,18048,74138,96845,29132,23739,37811,6910,65798,50856,41358,73998,5308,53858]};function o(e){if(!r.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],o=t[0];return Promise.all(t.slice(1).map(r.e)).then((()=>r(o)))}o.keys=()=>Object.keys(n),o.id=886181,e.exports=o},593429:(e,t,r)=>{"use strict";r.d(t,{CX:()=>i,E:()=>s,Fh:()=>y,Ls:()=>u,VQ:()=>o,Ym:()=>l,pv:()=>n,u9:()=>a,v9:()=>f,vD:()=>p,y$:()=>c});var n="ADDITIONALLAYER:ADD_ADDITIONAL_LAYERS",o="ADDITIONALLAYER:REMOVE_ADDITIONAL_LAYER",i="ADDITIONALLAYER:REMOVE_ALL_ADDITIONAL_LAYERS",a="ADDITIONALLAYER:UPDATE_ADDITIONAL_LAYER",u="ADDITIONALLAYER:UPDATE_OPTIONS_BY_OWNER",l="ADDITIONALLAYER:MERGE_OPTIONS_BY_OWNER",s=function(e,t){return{type:a,id:e,owner:t,actionType:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"override",options:arguments.length>3?arguments[3]:void 0}},c=function(e,t){return{type:u,owner:e,options:t}},p=function(e,t){return{type:l,owner:e,options:t}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,r=e.owner;return{type:o,id:t,owner:r}},y=function(e){return{type:i,owner:e}}},759457:(e,t,r)=>{"use strict";r.d(t,{$H:()=>o,$m:()=>i,Q7:()=>n,Uo:()=>a});var n="BOX_END",o="CHANGE_BOX_SELECTION_STATUS";function i(e){return{type:n,boxEndInfo:e}}function a(e){return{type:o,status:e}}},256688:(e,t,r)=>{"use strict";r.d(t,{GL:()=>n,KO:()=>i,Ll:()=>u,Xb:()=>a,qv:()=>o});var n="HIGHLIGHT_STATUS",o="UPDATE_HIGHLIGHTED",i="HIGHLIGHT:SET_HIGHLIGHT_FEATURES_PATH";function a(e){return{type:i,featuresPath:e}}function u(e,t){return{type:o,features:e,status:t}}},244925:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return(t=function(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Hv:()=>l,Kj:()=>p,SU:()=>u,bn:()=>f,di:()=>y,eg:()=>c,km:()=>d,r_:()=>s});var u="MAP:ADD_POPUP",l="MAP:REMOVE_POPUP",s="MAP:CLEAN_POPUPS",c="MAP:ENABLE_HIDE_EMPTY_POPUP",p=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return{type:u,id:e,popup:i({id:e},t),single:r}},f=function(e){return{type:l,id:e}},y=function(){return{type:s}},d=function(){return{type:c}}},995134:(e,t,r)=>{"use strict";r.d(t,{HH:()=>n,g$:()=>o,k5:()=>i});var n="MAP_TYPE_CHANGED",o="MAP_TYPE:VISUALIZATION_MODE_CHANGED";function i(e){return{type:o,visualizationMode:e}}},437430:(e,t,r)=>{"use strict";r.d(t,{A:()=>y});var n=r(273517),o=r.n(n),i=r(605556),a=r.n(i),u=r(6683);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return(t=function(e){var t=function(e){if("object"!=l(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==l(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(e){return function(t){var r,i,a,l=(null==t||null===(r=t.map)||void 0===r?void 0:r.projection)||"EPSG:3857",s=(null==t||null===(i=t.map)||void 0===i||null===(i=i.mapOptions)||void 0===i||null===(i=i.view)||void 0===i?void 0:i.DPI)||null,p=null==t||null===(a=t.map)||void 0===a||null===(a=a.mapOptions)||void 0===a||null===(a=a.view)||void 0===a?void 0:a.scales,f=(0,n.useMemo)((function(){return p?(0,u.C$)(p,l,s):null}),[p,l,s]),y=f?c(c({},t),{},{map:c(c({},t.map),{},{mapOptions:c(c({},t.map.mapOptions),{},{view:c(c({},t.map.mapOptions.view),{},{resolutions:f})})})}):t;return o().createElement(e,y)}};f.propTypes={Component:a().element};const y=f},748250:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Yt});var n=r(605556),o=r.n(n),i=r(273517),a=r.n(i),u=r(393149),l=r(750042),s=r.n(l),c=r(785072),p=r.n(c),f=r(515601);p()(f.A,{insert:"head",singleton:!1}),f.A.locals;var y=r(8571),d=r(779893),m=r(273494),g=r(185015),v=r.n(g),b=r(131127),O=r(747135),h=r(307679),S=r(858156),w=r.n(S),P=r(801081),j=r(764932);function E(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var T=function(e){return w()(e,e&&e.featuregrid&&e.featuregrid.open&&e.featuregrid.showFilteredObject?"query.filterObj.spatialField":"emptyObject")},L=function(e){return T(e)&&T(e).geometry},D=(0,P.Mz)([function(e){return L(e)&&L(e).coordinates||[]},function(e){return L(e)&&L(e).type||"Polygon"},function(e){return L(e)&&L(e).id||"spatial_object"},function(e){return L(e)&&L(e).projection||"EPSG:3857"}],(function(e,t,r,n){var o={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:t,coordinates:e},style:{fillColor:"#FFFFFF",fillOpacity:"0.2",color:"#ffcc33"},id:r}]};return e.length>0&&t?(0,j.reprojectGeoJson)(o,n,"EPSG:4326").features:[]})),M=(0,P.Mz)([D,function(e){return w()(e,e&&e.highlight&&e.highlight.featuresPath||"highlight.emptyFeatures")||[]}],(function(e,t){return[].concat(E(t),E(e))})),I=r(501719),C=r(286447),x=r(344297),k=r(588100),_=r(302404),N=r.n(_);const Y=(0,k.UU)(N())(b.$5,b.mg,O.GS,h._X,M,(function(e){return e.mapInitialConfig&&e.mapInitialConfig.loadingError&&e.mapInitialConfig.loadingError.data}),I.xi,b.DE,x.f8,x.xX,C.Bv,(function(e,t,r,n,o,i,a,u,l,s,c){return{projectionDefs:e,map:t,mapType:r,layers:n,features:o,loadingError:i,securityToken:a,elevationEnabled:u,isLocalizedLayerStylesEnabled:l,localizedLayerStylesName:s,currentLocaleLanguage:c}}));var z=r(811668),F=r(8117),R=r(192016),G=r(551783),H=r(871543),U=r(628017),B=r(802417);function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){V(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function V(e,t,r){return(t=function(e){var t=function(e){if("object"!=$(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var X=(0,P.Mz)(b.mg,O.GS,O.NR,(function(e,t,r){return{map:e,mapType:t,isCesium:r}})),K={updateConfigAction:m._K},q=(0,H.A)({dateProp:"value",dateTypeProp:"type",setDateProp:"onChange"})(B.A),Q=function(e,t){var r,n,o,i,u=e.map,l=e.mapType,s=e.isCesium,c=e.updateConfigAction,p=e.mapOptions,f=t.messages,m=(0,G.A)(["placeholder","options"])(R.Ay),g=Z(Z({},p&&p[l]||d.Ay.getConfigProp("defaultMapOptions")&&d.Ay.getConfigProp("defaultMapOptions")[l]||{}),null==u?void 0:u.mapOptions),v=function(e,t){c(V({},t,!e[t]))};return s?a().createElement("form",null,a().createElement(F.gE,null,a().createElement(F.mq,null,a().createElement(y.A,{msgId:"map.settings.title"}))),a().createElement(F.Sc,{checked:g.showSkyAtmosphere,onChange:function(){return v(g,"showSkyAtmosphere")}},a().createElement(y.A,{msgId:"map.settings.skyAtmosphere"})),a().createElement(F.Sc,{checked:g.showGroundAtmosphere,onChange:function(){return v(g,"showGroundAtmosphere")}},a().createElement(y.A,{msgId:"map.settings.groundAtmosphere"})),a().createElement(F.Sc,{checked:g.enableFog,onChange:function(){return v(g,"enableFog")}},a().createElement(y.A,{msgId:"map.settings.fog"})),a().createElement(F.Sc,{checked:g.depthTestAgainstTerrain,onChange:function(){return v(g,"depthTestAgainstTerrain")}},a().createElement(y.A,{msgId:"map.settings.depthTest"})),a().createElement(F.gE,null,a().createElement(F.mq,null,a().createElement(y.A,{msgId:"map.settings.lightings.title"})),a().createElement(m,{options:[{label:"map.settings.lightings.sunlightOption",value:"sunlight"},{label:"map.settings.lightings.flashlightOption",value:"flashlight"},{label:"map.settings.lightings.dateTimeOption",value:"dateTime"}],wrapperStyle:{marginTop:"10px"},value:g&&(null===(r=g.lighting)||void 0===r?void 0:r.value)||"sunlight",clearable:!1,onChange:function(e){c("dateTime"!==e?{lighting:{value:e.value}}:{lighting:{value:e.value,dateTime:(new Date).toISOString()}})},placeholder:"map.settings.lightings.placeholder"}),"dateTime"===(null==g||null===(n=g.lighting)||void 0===n?void 0:n.value)?a().createElement("div",{className:"lighting-dateTime-picker"},a().createElement(q,{value:null!==(o=g.lighting)&&void 0!==o&&o.dateTime?new Date(null===(i=g.lighting)||void 0===i?void 0:i.dateTime):new Date,hideOperator:!0,time:!0,popupPosition:"top",calendar:!0,type:"date-time",onChange:function(e){c({lighting:Z(Z({},g.lighting),{},{dateTime:e})})},placeholder:(0,U.kA)(f,"map.settings.lightings.dateTimePlaceholder")})):null)):null};Q.contextTypes={messages:o().object};const J=(0,z.connect)(X,K)(Q);var ee=r(534198),te=r(570312),re=r(978548),ne=r(45228),oe=r.n(ne),ie=r(759457),ae={status:null};var ue=r(256688);function le(e){return le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},le(e)}function se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?se(Object(r),!0).forEach((function(t){pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pe(e,t,r){return(t=function(e){var t=function(e){if("object"!=le(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=le(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==le(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var fe={status:"disabled",layer:"featureselector",features:[],highlighted:0,featuresPath:"highlight.emptyFeatures",emptyFeatures:[]};var ye=r(401502),de=r(593429),me=r(400912),ge=r.n(me),ve=r(971086),be=r.n(ve),Oe=r(383488),he=r.n(Oe),Se=r(223805),we=r.n(Se),Pe=r(956449),je=r.n(Pe);function Ee(e){return Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ee(e)}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(r),!0).forEach((function(t){De(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function De(e,t,r){return(t=function(e){var t=function(e){if("object"!=Ee(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Ee(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ee(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Me=r(45388),Ie=r.n(Me),Ce=r(904059),xe=r(538704),ke=r(754364),_e=r(97401),Ne=r(415392),Ye=r(112585),ze=r(6683),Fe=r(883832),Re=r(812366),Ge=r(473916),He=r.n(Ge);function Ue(e){return Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ue(e)}function Be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(r),!0).forEach((function(t){We(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function We(e,t,r){return(t=function(e){var t=function(e){if("object"!=Ue(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Ue(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ue(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Ze={checkMapPermissions:function(e,t){var r=t.getState,n=void 0===r?function(){}:r;return e.ofType(ke._x).filter((function(){return(0,b.fD)(n())})).map((function(){var e=(0,b.fD)(n());return(0,xe.D7)(e)}))},handleCreationLayerError:function(e,t){return e.ofType(m.DY).delay(500).switchMap((function(e){var r=(0,O.GS)(t.getState()),n=(0,h.pO)(t.getState(),e.options.id);return n&&(0,Ye.eB)(n,r)?Ie().Observable.from([(0,Ce.ju)(e.options.id,{invalid:!0})]):Ie().Observable.empty()}))},handleCreationBackgroundError:function(e,t){return e.ofType(m.DY).delay(500).filter((function(e){var r=(0,h.qF)(t.getState());return r&&e.options.id===r.id&&"background"===e.options.group})).switchMap((function(e){var r=(0,O.GS)(t.getState()),n=ge()((0,h.gT)(t.getState()).filter((function(t){return(0,Ye.eB)(t,r)&&t.id!==e.options.id})));return n?Ie().Observable.from([(0,Ce.ju)(n.id,{visibility:!0}),(0,Ne.fN)("backgroundSelector","currentLayer",n),(0,Ne.fN)("backgroundSelector","tempLayer",n),(0,Fe.$e)({title:"warning",message:"notification.backgroundLayerNotSupported",action:{label:"close"},position:"tc"})]):Ie().Observable.of((0,Fe.$e)({title:"warning",message:"notification.noBackgroundLayerSupported",action:{label:"close"},position:"tc"}))}))},resetMapOnInit:function(e){return e.ofType(m.M8).switchMap((function(){return Ie().Observable.of((0,de.Fh)(),(0,Ne.YM)(),(0,Ce.Ci)(),(0,Re._z)())}))},resetLimitsOnInit:function(e,t){return e.ofType(xe.mO,m.v1).switchMap((function(){var e=(0,b._S)(t.getState()),r=(0,b.$z)(t.getState()),n=(0,b.zH)(t.getState());return Ie().Observable.of((0,m.nP)({restrictedExtent:r,crs:e,minZoom:n}))}))},zoomToExtentEpic:function(e,t){var r=t.getState,n=void 0===r?function(){}:r;return e.ofType(m.HE).switchMap((function(e){var t=function(e){if(je()(e))return e.map((function(e){return"string"==typeof e||e instanceof String?Number(e):e}));if(we()(e)){var t=He()(e,(function(e){return"string"==typeof e||e instanceof String?Number(e):e}));return[t.minx,t.miny,t.maxx,t.maxy]}return null}(e.extent);if(!t)return Ie().Observable.empty();var r=ze.Ay.getHook(ze.Ay.ZOOM_TO_EXTENT_HOOK),o=(0,_e.tV)(n());if(r){var i=e.crs,a=e.maxZoom,u=e.options;return r(t,$e({crs:i,padding:o,maxZoom:a},void 0===u?{}:u)),Ie().Observable.empty()}return function(e,t){var r=0,n=e.extent,o=void 0===n?[]:n,i=j.default.reprojectBbox(o,e.crs,t.bbox&&t.bbox.crs||"EPSG:4326");if(i){var a=j.default.reproject(ze.Ay.getCenterForExtent(o,e.crs),e.crs,"EPSG:4326");if("EPSG:4326"===e.crs&&o&&o[0]<=-180&&o[1]<=-90&&o[2]>=180&&o[3]>=90)r=1;else{var u=j.default.reprojectBbox(o,e.crs,t.projection||"EPSG:4326");r=ze.Ay.getZoomForExtent(u,t.size,0,21,null)}e.maxZoom&&r>e.maxZoom&&(r=e.maxZoom);var l={minx:i[0],miny:i[1],maxx:i[2],maxy:i[3]},s=$e($e({},t.bbox),{},{bounds:l});return Ie().Observable.of((0,m.AB)(a,r,s,t.size,e.mapStateSource,t.projection,t.viewerOptions))}return Ie().Observable.empty()}($e($e({},e),{},{extent:t}),(0,b.mg)(n()))}))}};var Ve=r(244925);function Xe(e){return{type:"CHANGE_SELECTION_STATE",geomType:e.geomType,point:e.point,line:e.line,polygon:e.polygon}}var Ke=r(717140),qe=r(538359),Qe=r(185520);function Je(e){return Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Je(e)}function et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?et(Object(r),!0).forEach((function(t){rt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):et(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rt(e,t,r){return(t=function(e){var t=function(e){if("object"!=Je(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Je(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Je(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ot=function(){return a().createElement("span",null)};var it=r(437430),at=r(102685),ut=r(595535),lt=r(711030);const st=function(e){var t=e.show,r=e.error,n=e.onReload;return t?a().createElement("div",{className:"ms-map-error-panel",style:{position:"absolute",width:"100%",height:"100%",color:"#ffffff",background:"rgba(0, 0, 0, 0.75)",zIndex:100,top:0,left:0,display:"flex",alignItems:"center",justifyContent:"center"}},a().createElement("div",{style:{maxWidth:500}},a().createElement("h1",null,a().createElement(ut.A,{msgId:"map.renderingErrorTitle"})),a().createElement("p",null,a().createElement(ut.A,{msgId:"map.renderingErrorMessage"})),(null==r?void 0:r.message)&&a().createElement(F.Fc,{bsStyle:"danger"},a().createElement("small",null,r.message)),n&&a().createElement(lt.A,{bsStyle:"primary",onClick:function(){return n()}},a().createElement(y.A,{msgId:"map.reloadMap"})))):null};var ct=r(2834),pt=r(952228),ft=r(229665),yt=r(444003);function dt(e){return dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dt(e)}var mt=["features"];function gt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(r),!0).forEach((function(t){bt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function bt(e,t,r){return(t=function(e){var t=function(e){if("object"!=dt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=dt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==dt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ot="__geometry__type__",ht={format:"geostyler",body:{name:"highlight",rules:[{name:"Default Polygon Style",ruleId:"defaultPolygon",filter:["||",["==",Ot,"Polygon"],["==",Ot,"MultiPolygon"]],symbolizers:[{kind:"Fill",color:"#f2f2f2",fillOpacity:.3,outlineColor:"#3075e9",outlineOpacity:1,outlineWidth:2}]},{name:"Default Line Style",ruleId:"defaultLine",filter:["||",["==",Ot,"LineString"],["==",Ot,"MultiLineString"]],symbolizers:[{kind:"Line",color:"#3075e9",opacity:1,width:2}]},{name:"Default Point Style",ruleId:"defaultPoint",filter:["||",["==",Ot,"Point"],["==",Ot,"MultiPoint"]],symbolizers:[{kind:"Mark",color:"#f2f2f2",fillOpacity:.3,strokeColor:"#3075e9",strokeOpacity:1,strokeWidth:2,radius:10,wellKnownName:"Circle",msBringToFront:!0}]}]}},St=["features"],wt=["id"];function Pt(e){return Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pt(e)}function jt(){return jt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jt.apply(null,arguments)}function Et(e){return function(e){if(Array.isArray(e))return At(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return At(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?At(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function At(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Lt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(r),!0).forEach((function(t){kt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Dt(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Mt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_t(n.key),n)}}function It(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(It=function(){return!!e})()}function Ct(e){return Ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ct(e)}function xt(e,t){return xt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xt(e,t)}function kt(e,t,r){return(t=_t(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _t(e){var t=function(e){if("object"!=Pt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Pt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Pt(t)?t:t+""}var Nt=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return kt(e=function(e,t,r){return t=Ct(t),function(e,t){if(t&&("object"==Pt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,It()?Reflect.construct(t,r||[],Ct(e).constructor):t.apply(e,r))}(this,t,[].concat(n)),"state",{}),kt(e,"getHighlightLayer",(function(t,r,n){var o=e.state.plugins,i=function(e){var t=e.features;return vt(vt({},function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,mt)),{},{visibility:!0,features:null==t?void 0:t.map((function(e){var t;return vt(vt({},e),{},{properties:vt(vt({},(null==e?void 0:e.properties)||{}),{},bt({},Ot,null==e||null===(t=e.geometry)||void 0===t?void 0:t.type))})})),style:ht})}({features:e.props.features}),u=i.features,l=Dt(i,St);return a().createElement(o.Layer,{type:"vector",srs:t,position:r,key:"highlight",env:n,options:Lt(Lt({name:"highlight"},l),{},{features:u})},u.map((function(e){return a().createElement(o.Feature,{msId:e.id,properties:e.properties,key:e.id,crs:t,type:e.type,style:e.style||null,geometry:e.geometry})})))})),kt(e,"getTool",(function(t){return v()(t)?{name:t,impl:e.state.plugins.tools[t]}:t[e.props.mapType]||t})),kt(e,"getConfigMapOptions",(function(){return e.props.mapOptions&&e.props.mapOptions[e.props.mapType]||d.Ay.getConfigProp("defaultMapOptions")&&d.Ay.getConfigProp("defaultMapOptions")[e.props.mapType]||{}})),kt(e,"renderLayers",(function(){var t=e.props.map.projection||"EPSG:3857",r=[];e.props.isLocalizedLayerStylesEnabled&&r.push({name:e.props.localizedLayerStylesName,value:e.props.currentLocaleLanguage});var n=e.state.plugins;return[].concat(Et(e.props.layers),Et(e.props.additionalLayers.map((function(e,t){var r=e.id;return Lt(Lt({},Dt(e,wt)),{},{id:r||"additional-layers-".concat(t)})})))).filter(e.filterLayer).map((function(o,i){return a().createElement(n.Layer,{type:o.type,srs:t,position:i,key:o.id||o.name,options:o,securityToken:e.props.securityToken,env:r},e.renderLayerContent(o,t))})).concat(e.props.features&&e.props.features.length&&e.getHighlightLayer(t,e.props.layers.length,r)||[])})),kt(e,"renderLayerContent",(function(t,r){var n=e.state.plugins;if(t.features){var o=(0,at.Kb)(t);return t.features.filter(o).map((function(e){return a().createElement(n.Feature,{key:e.id,msId:e.id,type:e.type,crs:r,geometry:e.geometry,features:e.features,featuresCrs:t.featuresCrs||"EPSG:4326",layerStyle:t.style,style:e.style||t.style||null,properties:e.properties})}))}return null})),kt(e,"renderSupportTools",(function(){var t=e.props.items.filter((function(e){return!!e.Tool})).map((function(t){var r=t.Tool,n=t.name,o=t.cfg;return a().createElement(r,jt({},o,{key:n,mapType:e.props.mapType}))}));return e.props.tools.map((function(t){var r=e.getTool(t),n=e.props.toolsOptions[r.name]&&e.props.toolsOptions[r.name][e.props.mapType]||e.props.toolsOptions[r.name]||{};return a().createElement(r.impl,jt({key:r.name},n))})).concat(t)})),kt(e,"filterLayer",(function(t){return t.useForElevation?"cesium"===e.props.mapType||e.props.elevationEnabled:"elevation"!==t.type||e.props.elevationEnabled})),kt(e,"updatePlugins",(function(t){e.currentMapType=t.mapType,t.onLoadingMapPlugins(!0),e.setState({plugins:void 0}),e.props.pluginsCreator(t.mapType,t.actions).then((function(r){e._isMounted&&r.mapType===e.currentMapType&&(e.setState({plugins:r}),t.onLoadingMapPlugins(!1,t.mapType),t.onMapTypeLoaded(!0,t.mapType))}))})),kt(e,"isValidMapConfiguration",(function(e){return!(null==e||!e.center)})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xt(e,t)}(t,e),r=t,(n=[{key:"UNSAFE_componentWillMount",value:function(){this.updatePlugins(this.props),this._isMounted=!0}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.mapType===this.props.mapType&&e.actions===this.props.actions||this.updatePlugins(e)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){if(this.isValidMapConfiguration(this.props.map)&&this.state.plugins){var e=this.props.map.mapOptions,t=void 0===e?{}:e;return a().createElement(this.state.plugins.Map,jt({id:"map"},this.props.options,{projectionDefs:this.props.projectionDefs},this.props.map,{mapOptions:Lt(Lt({},this.getConfigMapOptions()),t),zoomControl:this.props.zoomControl,onResolutionsChange:this.props.onResolutionsChange,errorPanel:st}),this.renderLayers(),this.renderSupportTools())}return this.props.loadingError?a().createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},className:"mapErrorMessage"},a().createElement(y.A,{msgId:"map.loadingerror"}),":",this.props.loadingError):a().createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},className:"mapLoadingMessage"},this.props.loadingSpinner?a().createElement(s(),{spinnerName:"circle",overrideSpinnerClassName:"spinner"}):null,a().createElement(y.A,{msgId:this.props.mapLoadingMessage}))}}])&&Mt(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(a().Component);kt(Nt,"propTypes",{mapType:o().string,map:o().object,layers:o().array,additionalLayers:o().array,zoomControl:o().bool,mapLoadingMessage:o().string,loadingSpinner:o().bool,loadingError:o().string,tools:o().array,options:o().object,mapOptions:o().object,projectionDefs:o().array,toolsOptions:o().object,onResolutionsChange:o().func,actions:o().object,features:o().array,securityToken:o().string,elevationEnabled:o().bool,isLocalizedLayerStylesEnabled:o().bool,localizedLayerStylesName:o().string,currentLocaleLanguage:o().string,items:o().array,onLoadingMapPlugins:o().func,onMapTypeLoaded:o().func,pluginsCreator:o().func}),kt(Nt,"defaultProps",{mapType:yt.Av.OPENLAYERS,actions:{},zoomControl:!1,mapLoadingMessage:"map.loading",loadingSpinner:!0,tools:["scalebar","draw","highlight","popup","box"],options:{},mapOptions:{},toolsOptions:{measurement:{},locate:{},scalebar:kt({},yt.Av.LEAFLET,{position:"bottomright"}),overview:{overviewOpt:{position:"bottomright",collapsedWidth:25,collapsedHeight:25,zoomLevelOffset:-5,toggleDisplay:!0},layers:[{type:"osm"}]}},securityToken:"",additionalLayers:[],elevationEnabled:!1,onResolutionsChange:function(){},items:[],onLoadingMapPlugins:function(){},onMapTypeLoaded:function(){},pluginsCreator:function(e,t){return Promise.all([r(886181)("./"+e+"/index"),r(178612)("./"+e+"/plugins/index")]).then((function(r){var n,o,i=(n=r,o=1,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(n,o)||function(e,t){if(e){if("string"==typeof e)return nt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?nt(e,t):void 0}}(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0].default,a=(0,z.connect)((function(e){return{projectionDefs:(0,b.$5)(e),mousePosition:(0,b.O1)(e)}}),oe()({},{onMapViewChanges:m.AB,onClick:m.gj,onMouseMove:m.tG,onLayerLoading:Ce.wm,onLayerLoad:Ce.u9,onLayerError:Ce.OC,onWarning:Fe.$e,onMouseOut:m.a8},t),(function(e,t,r){return oe()({},r,e,oe()({},t,{onMouseMove:e.mousePosition?t.onMouseMove:function(){}}))}))(i.LMap),u=(0,z.connect)((function(e){var t;return tt(tt({},null!==(t=e.draw)&&void 0!==t?t:{}),{},{snappingLayerInstance:(0,qe.Zp)(e)})}),{onChangeDrawingStatus:Ke.VX,onEndDrawing:Ke.Mr,onGeometryChanged:Ke.vK,onSelectFeatures:Ke.et,onDrawingFeatures:Ke.Mm,onDrawStopped:Ke.Ij,setCurrentStyle:Ke.d,toggleSnappingIsLoading:Ke.vw})(i.DrawSupport||ot),l=(0,z.connect)((0,P.Mz)((function(e){return function(e){return e&&e.box&&e.box.status}(e)}),(function(e){return{status:e}})),{onBoxEnd:ie.$m})(i.BoxSelectionSupport||ot),s=(0,z.connect)((function(e){return e.highlight||{}}),{updateHighlighted:ue.Ll})(i.HighlightFeatureSupport||ot),c=(0,z.connect)((function(e){return{selection:e.selection||{}}}),{changeSelectionState:Xe})(i.SelectionSupport||ot),p=(0,z.connect)(null,{onWarning:Fe.$e})(i.Layer||ot),f=(0,z.connect)((0,P.Mz)(Qe.N,(function(e){return{popups:e}})),{onPopupClose:Ve.bn})(i.PopupSupport||ot);return{Map:a,Layer:p,Feature:i.Feature||ot,tools:{overview:i.Overview||ot,scalebar:i.ScaleBar||ot,draw:u,highlight:s,selection:c,popup:f,box:l},mapType:e}}))}});const Yt=(0,u.i1)("Map",{component:(0,u.Ng)(Y,{onResolutionsChange:m.cm,onMapTypeLoaded:m.cO})((0,it.A)(Nt)),reducers:{map:ee.A,layers:te.A,draw:re.A,box:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;return t.type===ie.$H?oe()({},e,{status:t.status}):e},highlight:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue.KO:return oe()({},e,{featuresPath:t.featuresPath||"highlight.emptyFeatures"});case ue.GL:return ce(ce({},e),{},{status:t.status});case ue.qv:return ce(ce({},e),{},{highlighted:t.features.length,features:t.features,status:t.status||e.status});default:return e}},maptype:ye.A,additionallayers:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;switch(r.type){case de.u9:var n=be()({id:r.id,owner:r.owner,actionType:r.actionType,options:r.options},he()),o=ge()(t.filter((function(e){return e.id===n.id})));return o?t.map((function(e){return e.id===n.id?Le(Le({},o),n):Le({},e)})):[].concat(function(e){if(Array.isArray(e))return Ae(e)}(e=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ae(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ae(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[n]);case de.pv:return t.concat(r.layers);case de.Ym:return t.map((function(e){return e.owner===r.owner?Le(Le({},e),{},{options:Le(Le({},e.options),r.options)}):e}));case de.Ls:var i=r.options,a=r.owner;return t.map((function(e,t){return e.owner===a?Le(Le({},e),{},{options:we()(i)&&i[e.id]||je()(i)&&i[t]||{}}):Le({},e)}));case de.VQ:var u=r.id,l=r.owner;return l?t.filter((function(e){return e.owner!==l})):t.filter((function(e){return e.id!==u}));case de.CX:return r.owner?t.filter((function(e){return e.owner!==r.owner})):[];default:return t}}},epics:Lt(Lt(Lt({},Ze),pt.A),(0,ct.A)(ft.A)),containers:{Settings:function(){return{tool:a().createElement(J,null),position:2}}}})},570312:(e,t,r)=>{"use strict";r.d(t,{A:()=>P});var n=r(904059),o=r(415392),i=r(45228),a=r.n(i),u=r(541033),l=r.n(u),s=r(185015),c=r.n(s),p=r(679859),f=r.n(p),y=r(499084),d=r.n(y),m=r(112585);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e,t,r){return(t=function(e){var t=function(e){if("object"!=g(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==g(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var w=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return r?e.map((function(e){return c()(e)?e:e.id===r?b(b({},e),{},{nodes:n?[t].concat(h(e.nodes)):[].concat(h(e.nodes),[t])}):b(b({},e),{},{nodes:w(e.nodes,t,r,n)})})):n?[t].concat(h(e)):[].concat(h(e),[t])};const P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{flat:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.x7:return"RefreshLayers"===t.control?a()({},e,{refreshError:[]}):e;case n.xO:var r=(e.flat||[]).map((function(e){return e.id===t.layerId?a()({},e,{loading:!0}):e}));return a()({},e,{flat:r});case n.ZL:var i=(e.flat||[]).map((function(e){return e.id===t.layerId?a()({},e,{loading:!1,previousLoadingError:e.loadingError,loadingError:!!t.error&&"Error"}):e}));return a()({},e,{flat:i});case n.dX:var u=t.tilesCount===t.tilesErrorCount,s=(e.flat||[]).map((function(e){return e.id===t.layerId?a()({},e,{previousLoadingError:e.loadingError,loadingError:u?"Error":"Warning"}):e}));return a()({},e,{flat:s});case n.Np:return a()({},e,{refreshing:t.layers,refreshError:[]});case n.oq:var c=(e.refreshing||[]).filter((function(e){return 0===t.layers.filter((function(t){return t.layer===e.id})).length})),p=t.layers.map((function(e){return{layer:e.fullLayer.title,error:t.error}}));return a()({},e,{refreshing:c,refreshError:[].concat(h(e.refreshError||[]),h(p))});case n.CB:var y=(e.refreshing||[]).filter((function(e){return 0===t.layers.filter((function(t){return t.layer===e.id})).length}));return a()({},e,{refreshing:y});case n.eV:case n.nX:var g=e.flat||[],v=g.reduce((function(e,r){return e||r.id===t.layer&&"background"===r.group}),!1),S=g.map((function(e){return f()(d()(t.layer),e.id)?a()({},e,t.newProperties,t.params?{params:a()({},e.params,t.params)}:{}):"background"===e.group&&v&&t.newProperties&&t.newProperties.visibility?a()({},e,{visibility:!1}):a()({},e)}));return a()({},e,{flat:S});case n.F9:var P=e.flat.map((function(e){var r=e.group||m.Yw;return r===t.group||0===r.indexOf("".concat(t.group,"."))?a()({},e,t.newProperties):a()({},e)}));return a()({},e,{flat:P});case n.iX:var j="layers"===t.nodeType?"flat":"groups",E=e[j]||[],A=(0,m.b)(E,t.node,"expanded",t.status);return a()({},e,O({},j,A));case n.sy:var T=(0,m.Zl)(e.groups||[],t.node),L=T&&T.nodes||t.node===m.$4&&e.groups||null;if(L){var D=t.order.map((function(e){return L[e]})),M=t.node===m.$4?D:(0,m.b)(e.groups,t.node,"nodes",D),I=t.sortLayers?t.sortLayers(M,e.flat):e.flat;return a()({},e,{groups:M,flat:I})}return e;case n.Y:return b(b({},e),{},{layers:t.layers});case n.rN:var C=(0,m.nD)({layers:e.flat,groups:e.groups},{node:t.node,nodeType:t.nodeType,options:t.options});return b(b(b({},e),C.layers&&{flat:C.layers}),C.groups&&{groups:C.groups});case n.fP:var x=(0,m.zp)({groups:e.groups,layers:e.flat},{node:t.node,index:t.index,groupId:t.groupId});return null===x?e:null!==x?b(b({},e),{},{flat:x.layers,groups:x.groups}):e;case n.o0:if("groups"===t.nodeType){var k=(0,m.hR)(e.groups,t.node),_=e.flat.filter((function(e){return!e.group||e.group!==t.node&&0!==e.group.indexOf(t.node+".")}));return{selected:(0,m.BL)((null==e?void 0:e.selected)||[],null==t?void 0:t.node,!0),flat:_,groups:k}}if("layers"===t.nodeType){var N=t.removeEmpty?(0,m.I0)((0,m.hR)(e.groups,t.node)):(0,m.hR)(e.groups,t.node),Y=e.flat.filter((function(e){return e.id!==t.node}));return a()({},e,{flat:Y,groups:N,selected:((null==e?void 0:e.selected)||[]).filter((function(e){return e!==t.node}))})}return e;case n.Cl:var z=(0,m.jR)(t.layer),F=(e.flat||[]).concat(),R=(e.groups||[]).concat(),G=z.id?z:a()({},z,{id:(0,m.h8)(z)});F.push(G);var H=G.group||m.Yw;"background"!==H&&(R=(0,m.A5)(R,G.id,H,F,t.foreground));var U=m.lP?(0,m.lP)(R,F):F;return a()({},e,{flat:U,groups:R});case n.hh:var B=(0,m.hR)(e.groups,t.layerId),$=e.flat.filter((function(e){return e.id!==t.layerId}));return a()({},e,{flat:$,groups:B});case n.Qn:var W,Z=l()(),V={id:m.Yw,name:m.Yw,title:m.Yw,expanded:!0,nodes:[]},X=null!==(W=t.parent)&&void 0!==W?W:m.Yw,K=(e.groups||[]).find((function(e){return e.id===m.Yw}))?e.groups:[V].concat(h(e.groups)),q=w(K,b({id:X+"."+Z,title:t.group,name:Z,nodes:[],expanded:!0},t.options),X,t.asFirst);return a()({},e,{groups:q});case n.E9:var Q=a()({},e.settings,{expanded:!0,node:t.node,nodeType:t.nodeType,options:t.options});return a()({},e,{settings:Q,editLayerName:!1,layerNameIsBeingChecked:!1,layerNameChangeError:!1});case n.LM:var J=a()({},e.settings,{expanded:!1,node:null,nodeType:null,options:{}});return a()({},e,{settings:J,editLayerName:!1,layerNameIsBeingChecked:!1,layerNameChangeError:!1});case n.E5:var ee=a()({},e.settings&&e.settings.options,t.options),te=a()({},e.settings,{options:ee});return a()({},e,{settings:te});case n.ti:return a()({},e,{flat:[],groups:[],selected:[]});case n.S$:return b(b({},e),{},{selected:(0,m.BL)((null==e?void 0:e.selected)||[],null==t?void 0:t.id,null==t?void 0:t.ctrlKey),settings:{expanded:!1,node:null,nodeType:null,options:{}},layerMetadata:{expanded:!1,metadataRecord:{},maskLoading:!1}});case n.Cd:return a()({},e,{filter:t.text||""});case n.IA:var re=a()({},e.layerMetadata,{metadataRecord:t.metadataRecord,expanded:!0,maskLoading:t.maskLoading});return a()({},e,{layerMetadata:re});case n.zJ:var ne=a()({},e.layerMetadata,{metadataRecord:{},expanded:!1});return a()({},e,{layerMetadata:ne});default:return e}}},534198:(e,t,r)=>{"use strict";r.d(t,{A:()=>m});var n=r(273494),o=r(980971),i=r(45228),a=r.n(i),u=r(6683),l=r(764932);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}var c=["type"];function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return(t=function(e){var t=function(e){if("object"!=s(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==s(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const m=function(){var e,t,r,i,s,p,m,g,v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{eventListeners:{}},b=arguments.length>1?arguments[1]:void 0;switch(b.type){case n.e6:b.type;var O=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(b,c);return O.zoom=isNaN(O.zoom)?1:O.zoom,a()({},v,O);case n.$e:return a()({},v,{mousePointer:b.pointer});case o.LK:return"REPLACE"===(null==b||null===(e=b.payload)||void 0===e?void 0:e.action)?v:a()({},{eventListeners:{}});case n.u0:return a()({},v,{zoom:b.zoom,mapStateSource:b.mapStateSource});case n.xi:return a()({},v,{limits:{restrictedExtent:b.restrictedExtent,crs:b.crs,minZoom:b.minZoom}});case n.v1:return a()({},v,{projection:b.crs});case n.ok:if(b.scales){var h=v&&v.mapOptions&&v.mapOptions.view&&v.mapOptions.view.DPI||null,S=u.Ay.getResolutionsForScales(b.scales,v&&v.projection||"EPSG:4326",h);return a()({},v,{mapOptions:a()({},v&&v.mapOptions,{view:a()({},v&&v.mapOptions&&v.mapOptions.view,{resolutions:S,scales:b.scales})})})}if(v&&v.mapOptions&&v.mapOptions.view&&v.mapOptions.view&&v.mapOptions.view.resolutions){var w=a()({},v);return w.mapOptions=a()({},w.mapOptions),w.mapOptions.view=a()({},w.mapOptions.view),delete w.mapOptions.view.resolutions,0===Object.keys(w.mapOptions.view).length&&delete w.mapOptions.view,0===Object.keys(w.mapOptions).length&&delete w.mapOptions,w}return v;case n.Q_:return a()({},v,{resolutions:b.resolutions});case n.H6:return a()({},v,{center:l.default.reproject(b.pos,b.crs,"EPSG:4326"),zoom:b.zoom,mapStateSource:null});case n.gB:var P=l.default.reproject(b.center,b.center.crs||"EPSG:4326","EPSG:4326");return a()({},v,{center:P,mapStateSource:null});case n.g_:return a()({},v,{mapStateSource:b.mapStateSource,style:b.style,resize:v.resize?v.resize+1:1});case n.Y$:return a()({},v,{resize:v.resize?v.resize+1:1});case n.e4:var j=a()({},v.bbox,{rotation:b.rotation});return a()({},v,{bbox:j,mapStateSource:b.mapStateSource});case n.pt:return a()({},v,{version:b.version});case n.QH:return a()({},v,{eventListeners:a()({},v.eventListeners||{},y({},b.eventName,[].concat((g=v.eventListeners&&v.eventListeners[b.eventName]||[],function(e){if(Array.isArray(e))return d(e)}(g)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(g)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}(g)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[b.toolName])))});case n.Fm:var E=v;if(null!=v&&v.eventListeners){var A=(v.eventListeners&&v.eventListeners[b.eventName]||[]).filter((function(e){return e!==b.toolName}))||[];E=a()({},v,{eventListeners:a()({},v.eventListeners,y({},b.eventName,A))})}return E;case n.j3:if(b&&b.orientation&&(b.orientation.center||b.orientation.marker)){var T,L,D=(null==b||null===(T=b.orientation)||void 0===T||null===(T=T.center)||void 0===T?void 0:T.split(","))||(null==b||null===(L=b.orientation)||void 0===L||null===(L=L.marker)||void 0===L?void 0:L.split(",")),M=D&&D[0],I=D&&D[1],C=b.orientation.zoom,x=b.orientation.heading,k=b.orientation.pitch,_=b.orientation.roll;return a()({},v,{orientate:{x:M,y:I,z:C,heading:x,pitch:k,roll:_}})}return null;case n.bU:var N=parseFloat(null==b||null===(t=b.data)||void 0===t?void 0:t.heading),Y=parseFloat(null==b||null===(r=b.data)||void 0===r?void 0:r.pitch),z=parseFloat(null==b||null===(i=b.data)||void 0===i?void 0:i.roll);return{zoom:parseFloat(null==b||null===(s=b.data)||void 0===s?void 0:s.zoom),center:{x:parseFloat(null==b||null===(p=b.data)||void 0===p?void 0:p.coordinate[0]),y:parseFloat(null==b||null===(m=b.data)||void 0===m?void 0:m.coordinate[1])},viewerOptions:{orientation:{heading:N,pitch:Y,roll:z}}};case n.WC:return f(f({},v),{},{mapOptions:f(f({},v.mapOptions),b.configUpdate)});default:return v}}},401502:(e,t,r)=>{"use strict";r.d(t,{A:()=>p});var n=r(995134),o=r(273494),i=r(538704),a=r(444003);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return(t=function(e){var t=function(e){if("object"!=u(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==u(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const p=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{mapType:(0,a.Jq)()},r=arguments.length>1?arguments[1]:void 0;switch(r.type){case i.mO:var u=null==r||null===(e=r.config)||void 0===e||null===(e=e.map)||void 0===e?void 0:e.visualizationMode;return s(s({},t),{},{mapType:(0,a.Jq)(u)});case n.HH:return s(s({},t),{},{mapType:r.mapType});case n.g$:return s(s({},t),{},{mapType:(0,a.Jq)(r.visualizationMode)});case o.se:return s(s({},t),{},{loaded:s(s({},t.loaded),{},c({},r.mapType,r.loaded))});default:return t}}},538359:(e,t,r)=>{"use strict";r.d(t,{BD:()=>d,IO:()=>v,X0:()=>y,Zp:()=>f,ht:()=>m,uP:()=>g});var n=r(858156),o=r.n(n),i=r(223805),a=r.n(i),u=r(307679),l=r(401631),s=r(588100),c=r(112585),p=r(286447),f=function(e){var t,r;return!(null==e||null===(t=e.draw)||void 0===t||!t.snappingLayer)&&(null!==(r=(0,u.pO)(e,e.draw.snappingLayer))&&void 0!==r?r:(0,u._x)(e,e.draw.snappingLayer))},y=function(e){return o()(e,"draw.snapping",!1)},d=function(e){return o()(e,"draw.snappingIsLoading",!1)},m=function(e){return o()(e,"draw.snapConfig",!1)},g=function(e){return o()(e,"draw.drawOwner","")},v=(0,s.UU)((function(e,t){return e===t||a()(e)&&a()(t)&&(null==e?void 0:e.id)===(null==t?void 0:t.id)&&(null==e?void 0:e.title)===(null==t?void 0:t.title)&&(null==e?void 0:e.visibility)===(null==t?void 0:t.visibility)}))([u.Kv,u.d1,l.IT,f,m,p.Pd],(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,a=null==n?void 0:n.id,u=null==r?void 0:r.id,l=t.filter((function(e){var t;return(null!==(t=null==o?void 0:o.additionalLayers)&&void 0!==t?t:[]).includes(e.id)})).map((function(e){return e.options})).concat(e);return(u?[{value:u,label:(0,c.ez)(r,i),active:u===a}]:[]).concat(l.map((function(e){var t;return!(e.id===u||!["wms","wfs","vector"].includes(null==e?void 0:e.type)||"wms"===(null==e?void 0:e.type)&&"wfs"!==(null==e||null===(t=e.search)||void 0===t?void 0:t.type)||"background"===e.group||!e.visibility)&&{value:e.id,label:(0,c.ez)(e,i),active:e.id===a}})).filter(Boolean))}))},185520:(e,t,r)=>{"use strict";r.d(t,{N:()=>n,T:()=>o});var n=function(e){var t;return(null==e?void 0:e.mapPopups)&&(null==e||null===(t=e.mapPopups)||void 0===t?void 0:t.popups)||[]},o=function(e){var t;return(null==e?void 0:e.mapPopups)&&(null==e||null===(t=e.mapPopups)||void 0===t?void 0:t.hideEmptyPopupOption)||!1}},515601:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(576314),o=r.n(n)()((function(e){return e[1]}));o.push([e.id,".msgapi .mapErrorMessage {\n    font-size: 16px;\n    color: red;\n}\n",""]);const i=o},978659:(e,t,r)=>{var n=r(587133),o=r(399374);e.exports=function(e,t,r){return void 0===r&&(r=t,t=void 0),void 0!==r&&(r=(r=o(r))==r?r:0),void 0!==t&&(t=(t=o(t))==t?t:0),n(o(e),t,r)}},534973:(e,t,r)=>{"use strict";t.__esModule=!0,t.default=function(e){if("function"!=typeof e)throw new TypeError("You must provide a valid moment object");var t="function"==typeof e().locale?"locale":"lang";if(!e.localeData)throw new TypeError("The Moment localizer depends on the `localeData` api, please provide a moment object v2.2.0 or higher");function r(r,n,o){return r?e(n,o)[t](r):e(n,o)}var n={formats:{date:"L",time:"LT",default:"lll",header:"MMMM YYYY",footer:"LL",weekday:"dd",dayOfMonth:"DD",month:"MMM",year:"YYYY",decade:function(t,r,n){return n.format(t,"YYYY",r)+" - "+n.format(function(t){return e(t).add(10,"year").add(-1,"millisecond").toDate()}(t),"YYYY",r)},century:function(t,r,n){return n.format(t,"YYYY",r)+" - "+n.format(function(t){return e(t).add(100,"year").add(-1,"millisecond").toDate()}(t),"YYYY",r)}},firstOfWeek:function(t){return e.localeData(t).firstDayOfWeek()},parse:function(e,t,n){if(!e)return null;var o=r(n,e,t);return o.isValid()?o.toDate():null},format:function(e,t,n){return r(n,e).format(t)}};return o.default.setDateLocalizer(n),n};var n,o=(n=r(780228))&&n.__esModule?n:{default:n};e.exports=t.default}}]);