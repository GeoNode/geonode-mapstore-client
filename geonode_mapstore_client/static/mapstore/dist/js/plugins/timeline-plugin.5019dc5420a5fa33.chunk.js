(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[61619],{509820:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(273517),o=n.n(r),i=n(551258),a=n(8117),l=n(590179),c=n.n(l),u=n(310340),s=n.n(u);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}var d=["popoverOptions","keyProp"];function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(null,arguments)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function y(e){var t=function(e){if("object"!=f(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==f(t)?t:t+""}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(b=function(){return!!e})()}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}const h=function(e){return function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t,n){return t=v(t),function(e,t){if(t&&("object"==f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,b()?Reflect.construct(t,n||[],v(e).constructor):t.apply(e,n))}(this,n,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(n,t),r=n,l=[{key:"render",value:function(){var t=null,n=this.props,r=n.popoverOptions,l=n.keyProp,u=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(n,d);return o().createElement("span",{className:"mapstore-info-popover"},o().createElement(e,p({},c()(u,["renderPopover","tooltipId"]),{key:l,ref:function(e){t=e}})),o().createElement(i.A,{placement:r.placement,shouldUpdatePosition:!0,show:!0,target:function(){return s().findDOMNode(t)}},o().createElement(a.AM,r.props,r.content)))}}],l&&m(r.prototype,l),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,l}(o().Component)}},454518:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(273517),o=n.n(r),i=n(916589),a=n(406250),l=function(e,t,n){var r=n.maskContainerStyle,l=n.maskStyle,c=n.className,u=n.white,s=n.enablePortal;return function(n){return(0,i.nest)(function(n){var i=o().createElement("div",{className:"ms2-mask-container ".concat(c||""," ").concat(e(n)?"":"ms2-mask-empty"),style:r},n.children,e(n)?o().createElement("div",{className:"ms2-mask"+(u?" white-mask":""),style:l},t(n)):null);return s?o().createElement(a.A,null,i):i},n)}};const c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.alwaysWrap,o=void 0===r||r,a=n.white,c=void 0!==a&&a,u=n.maskContainerStyle,s=void 0===u?{}:u,f=n.maskStyle,d=void 0===f?{}:f,p=n.className,m=n.enablePortal;return o?l(e,t,{maskContainerStyle:s,maskStyle:d,className:p,white:c,enablePortal:void 0!==m&&m}):(0,i.branch)(e,l(function(){return!0},t,{maskContainerStyle:s,maskStyle:d,white:c}))}},109054:(e,t,n)=>{"use strict";n.d(t,{A:()=>g});var r=n(273517),o=n.n(r),i=n(738221),a=n.n(i),l=n(605556),c=n.n(l),u=n(310340),s=n.n(u);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function b(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){var t=function(e){if("object"!=f(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==f(t)?t:t+""}const g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.debounceTime,n=e.querySelector,r=e.closest,i=void 0!==r&&r;return function(e){var r;return r=function(r){function l(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),b(r=function(e,t,n){return t=m(t),function(e,t){if(t&&("object"==f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,p()?Reflect.construct(t,n||[],m(e).constructor):t.apply(e,n))}(this,l,[e]),"findDomNode",function(){if(!r.isMounded)return null;var e=s().findDOMNode(r);return e&&i&&n?e.closest(n||"*"):e&&(n?e.querySelector(n):e)}),r.width=void 0,r.height=void 0,r.skipOnMount=e.skipOnMount,r.div=null,r.onResize=a()(function(){var e;return(e=r.props).onResize.apply(e,arguments)},void 0!==t?t:e.debounceTime||1e3),r.ro=new ResizeObserver(function(e){e.forEach(function(e){var t=e.contentRect,n=t.width,o=t.height,i=r.props.handleWidth&&r.width!==n,a=r.props.handleHeight&&r.height!==o;r.skipOnMount||!i&&!a||r.onResize({width:n,height:o}),r.width=n,r.height=o,r.skipOnMount=!1})}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(l,r),c=l,(u=[{key:"componentDidMount",value:function(){this.isMounded=!0,this.div=this.findDomNode(),this.div&&this.ro.observe(this.div)}},{key:"componentDidUpdate",value:function(){this.div=this.findDomNode(),this.div&&this.ro.observe(this.div)}},{key:"componentWillUnmount",value:function(){var e=this.findDomNode();e&&this.ro&&this.ro.unobserve&&this.ro.unobserve(e)}},{key:"render",value:function(){return o().createElement(e,this.props)}}])&&d(c.prototype,u),Object.defineProperty(c,"prototype",{writable:!1}),c;var c,u}(o().Component),b(r,"propTypes",{handleWidth:c().bool,handleHeight:c().bool,onResize:c().func}),b(r,"defaultProps",{onResize:function(){},handleWidth:!0,handleHeight:!0}),r}}},432060:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(273517),o=n.n(r);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(null,arguments)}const a=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).fallback,n=void 0===t?null:t;return function(t){return(0,r.forwardRef)(function(a,l){return void 0===e||e(a)?o().createElement(r.Suspense,{fallback:n},o().createElement(t,i({ref:l},a))):null})}}},246018:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>G});var r=n(45388),o=n.n(r),i=n(185015),a=n.n(i),l=n(858156),c=n.n(l),u=n(400912),s=n.n(u),f=n(499084),d=n.n(f),p=n(962193),m=n.n(p),y=n(269843),b=n.n(y),v=n(795093),g=n.n(v),h=n(233999),O=n(273494),S=n(837997),w=n(941860),P=n(904059),j=n(883832),T=n(307679),E=n(653046),k=n(141857),I=n(574548),D=n(364602),R=n(579440),L=n(538704);function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function C(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||M(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){if(e){if("string"==typeof e)return N(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach(function(t){Z(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Z(e,t,n){return(t=function(e){var t=function(e){if("object"!=A(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==A(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z="time",U=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,E.IT)(e()),r=(0,E.SR)(e()),o=(0,E.ES)(e()),i=(0,E.J6)(n)(e()),a="end"===(0,E.Yt)(e());return[o,r,"time",_(_({limit:1},t),{},{fromEnd:a}),i]},Y=function(e,t,n){var r=e();if((0,E.SR)(r)){var i=(0,E.Yt)(r);return(0,R.M)(U,!0,e,i,n).map(function(e){return(0,I.vG)(e.filter(function(e){return!!e}),n,i)||n})}var a=(0,k.xw)((0,T.pO)(r,t))(r);return o().Observable.of((0,I.vG)(a,n)||n)},B=function(e){return a()(e)?e:e.toISOString()},W=function(e,t,n){var r,i,l=e.isFullRange,c=e.offsetTime;(i=(i=a()(t)?t.indexOf("--")>0?t.split("--"):t.indexOf(",")>0?t.split(","):[t]:t).reduce(function(e,t){return e.concat(t.split("/"))},[])).length>2&&(i=[i[0],i[i.length-1]]);var u,s,f=(u=(null===(r=i)||void 0===r?void 0:r.filter(function(e){return!!e}))||[],s=2,function(e){if(Array.isArray(e))return e}(u)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(u,s)||M(u,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=f[0],p=f[1],m=l&&null!=d?d:n,y=g()(432e6).diff(0),b=g()(new Date).add(y/5).toISOString(),v=l?null!=p?p:b:null!=c?c:b,h=g()(v).diff(g()(m)),O=g()(m).add(h).toISOString();return o().Observable.of((0,w.hW)(m)).concat(o().Observable.of((0,w.lx)(v))).concat(o().Observable.of((0,S.df)({start:d,end:O})))},H=function(e,t){return(0,S.gb)(c()((0,k.Xc)(e),"[0].id"),t)};const G={updateTimelineDataOnMapLoad:function(e){return e.ofType(L.mO).filter(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).config;return!m()(e)}).switchMap(function(){var e,t,n,r,i,a,l,c=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).config,u=null==c||null===(e=c.timelineData)||void 0===e?void 0:e.selectedLayer,s=null==c||null===(t=c.dimensionData)||void 0===t?void 0:t.currentTime,f=null==c||null===(n=c.timelineData)||void 0===n?void 0:n.endValuesSupport,d=null==c||null===(r=c.timelineData)||void 0===r?void 0:r.snapRadioButtonEnabled,p=null==c||null===(i=c.timelineData)||void 0===i?void 0:i.layers;return(a=o().Observable).of.apply(a,C(m()(u)?[]:[(0,S.gb)(u)]).concat(C(b()(f)?[]:[(0,S.L$)(f)]),C(b()(d)?[]:[(0,S.j)(d)]),C(m()(p)?[]:[(0,S.y6)(p)]))).concat((l=o().Observable).of.apply(l,C(m()(s)?[(0,S.sC)()]:[])))})},setTimelineCurrentTime:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===t?function(){}:t;return e.ofType(S.Z3).throttleTime(100).switchMap(function(e){var t=e.time,r=e.group,i=n();return r?Y(n,r,t).switchMap(function(e){var t=(0,E.nK)(i)||{},n=t.start,r=t.end,a=[];if(n&&r&&(g()(e).isBefore(n)||g()(e).isAfter(r))){var l=g()(r).diff(n);a=[(0,S.df)({start:g()(e).subtract(l/2),end:g()(e).add(l/2)})]}return o().Observable.from([].concat(C(a),[(0,w.hW)(e)]))}).let((0,h.TC)((0,S.o$)(!1,!0),(0,S.o$)(!1,!1))):o().Observable.of((0,w.hW)(t))})},settingInitialOffsetValue:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===t?function(){}:t;return e.ofType(S._Y).switchMap(function(e){var t=n(),r=(0,k.gC)(t),i=(0,E.nK)(t);if(e.enabled){var a=i||{},l=a.start,c=void 0===l?0:l,u=a.end,s=void 0===u?432e6:u,f=(0,k.QU)(t),d=g()(s).diff(c),p=i?g()(c).add(d/2).toISOString():g()(new Date).toISOString(),m=g()(r||p).add(d/5),y=e.enabled&&!r?o().Observable.of((0,w.hW)(p)):o().Observable.empty(),b=e.enabled&&!f||e.enabled&&g()(f).diff(r)<0?o().Observable.of((0,w.lx)(m.toISOString())):o().Observable.empty(),v=i?o().Observable.empty():o().Observable.of((0,S.df)({start:g()(p).add(-1*d/2),end:g()(p).add(d/2)}));return y.concat(b).concat(v)}return o().Observable.of((0,w.lx)())})},updateRangeDataOnRangeChange:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===t?function(){}:t;return e.ofType(S.n7).merge(e.ofType(O.e6).filter(function(){return(0,E.wE)(n())}),e.ofType(S.Qf)).debounceTime(400).merge(e.ofType(w.GP).debounceTime(50)).switchMap(function(e){var t,r=!1===e.mapSync,i=(0,k.Ju)(n())||{},a=Object.keys(i).filter(function(e){return i[e]&&i[e].domain&&(0,I.X3)(i[e].domain)||(0,E.wE)(n())||r});return(t=o().Observable).merge.apply(t,C(a.map(function(e){return function(e,t,n){var r=(0,E.nK)(n());if(!r){var i=(0,I._y)(t.domain);r={start:new Date(i[0]),end:new Date(i[1]||i[0])}}var a=(0,I.OT)(r,20),l=a.range,u=a.resolution,f=(0,T.pO)(n(),e).name,p=(0,E.xS)(n()),m=Z({},z,"".concat(B(l.start),"/").concat(B(l.end)));return(0,D.RZ)(t.source.url,f,z,Z({},z,"".concat(B(l.start),"/").concat(B(l.end))),u,(0,E.J6)(e)(n())).merge((0,D.vh)(t.source.url,f,m,_(_({},(0,E.J6)(e)(n())),{},{expandLimit:p}))).scan(function(e,t){return _(_({},e),t)},{}).switchMap(function(e){var t,n=e.Histogram,r=e.Domains,i=c()(s()(d()(c()(r,"DimensionDomain")||[]).filter(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).Identifier===z})),"Domain");try{t=n&&n.Values&&n.Values.split(",").map(function(e){return parseInt(e,10)})||[]}catch(e){t=[]}var a=i&&i.indexOf("--")<0&&i.split(",");return o().Observable.of({range:l,histogram:n&&n.Domain?{values:t,domain:n.Domain}:void 0,domain:i?{values:a}:void 0})})}(e,i[e],n).map(function(t){var n=t.range,r=t.histogram,o=t.domain;return(0,S.hh)(e,n,r,o)}).startWith((0,S.o$)(e,!0)).catch(function(){return o().Observable.of((0,j.z3)({uid:"error_with_timeline_update",title:"timeline.errors.multidim_error_title",message:"timeline.errors.multidim_error_message"}))}).concat(o().Observable.of((0,S.o$)(e,!1)))})))})},syncTimelineGuideLayer:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===t?function(){}:t;return e.ofType(S.uP).merge(e.ofType(P.o0,P.nX).withLatestFrom(e.ofType(S.rG),function(e,t){var r=t.layerId;return r&&!(0,E.l6)(n()).some(function(e){return e.id===r})}).filter(function(e){return!!e})).switchMap(function(){var e=n(),t=c()((0,E.l6)(e),"[0].id");return(0,E.lP)(e)&&t?o().Observable.of((0,S.YC)(t)):o().Observable.empty()})},snapTimeGuideLayer:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===t?function(){}:t;return e.ofType(S.rG,S.Ch).filter(function(e){return(null==e?void 0:e.layerId)&&(0,E.lP)(n())&&(null==e?void 0:e.snap)}).switchMap(function(e){var t=e.layerId;return Y(n,t,(0,k.gC)(n())||(new Date).toISOString()).filter(function(e){return e}).map(function(e){return(0,w.hW)(e)})})},onInitTimeLine:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===t?function(){}:t;return e.ofType(S.ZZ).debounceTime(500).switchMap(function(){var e,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).config,r=n(),i=(0,E.SR)(r),a=t.initialMode,l=t.initialSnap;if("single"===a&&"now"===l)return(e=o().Observable).of.apply(e,C(m()(i)?[H(r)]:[]));if("range"===a&&!m()(l)){var c="fullRange"!==l;return o().Observable.of(m()(i)?H(r,c):(0,S.gp)())}return o().Observable.empty()})},setRangeOnInit:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===t?function(){}:t;return e.ofType(S.eE).switchMap(function(){var e,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).value,r=n(),o=(0,E.Yt)(r),i=(0,E.IT)(r),a={isFullRange:[t,null===(e=(0,E.t2)(r))||void 0===e?void 0:e.initialSnap].includes("fullRange"),offsetTime:(0,k.QU)(r)},l=((0,k.VI)(i,"time")(r)||{}).domain,c=(0,k.gC)(r),u=function(e){return(0,R.M)(U,!1,n,o,e)},s=function(e){return u().switchMap(function(t){return W(a,t,e)})};if(!m()(l)&&!m()(c))return W(a,l,c);if(m()(l)&&!m()(c)||a.isFullRange)return s(c);var f=(new Date).toISOString();return u(f).switchMap(function(e){var t=(0,I.vG)(e.filter(function(e){return!!e}),f,o)||f;return s(t)})})},rangeOnInitSelectLayer:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===t?function(){}:t;return e.ofType(S.Ch).filter(function(){var e;return(0,k.Y0)(n())||"range"===(null===(e=(0,E.t2)(n()))||void 0===e?void 0:e.initialMode)}).switchMap(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).snap;return o().Observable.of((0,S.gp)(b()(e)||e?"now":"fullRange"))})},onUpdateLayerDimensionData:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===t?function(){}:t;return e.ofType(w.GP).filter(function(e){var t=e.data;return"time"===(null==t?void 0:t.name)&&!(0,E.IT)(n())}).switchMap(function(){var e,t,r=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data;return m()(r)?o().Observable.empty():(e=o().Observable).of.apply(e,[(0,S.sC)()].concat(C(void 0===(0,E.eP)(n())?[(0,S.L$)("1.2"===(null==r||null===(t=r.source)||void 0===t?void 0:t.version))]:[])))})},resetTimeline:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===t?function(){}:t;return e.ofType(S.ah).switchMap(function(){var e,t=n(),r=(0,k.Y0)(t),i=(0,E.IT)(t);if(r)return o().Observable.of(m()(i)?H(t,!1):(0,S.gp)("fullRange"));var a=(0,E.nK)(t)||{},l=new Date,c=g()(a.end)>g()(l);return(e=o().Observable.of((0,S.aU)(l.toISOString(),i))).concat.apply(e,C(c?[]:[o().Observable.of((0,S.df)({start:a.start,end:g()(l).add(432e6)}))]))})},setTimeLayersSetting:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===t?function(){}:t;return e.ofType(S.ZZ,P.o0,P.nX,P.rN).switchMap(function(){var e,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).config,r=n(),i=o().Observable.empty(),a=(0,E.UT)(r)||[];if(!m()(t)&&!m()(a))return i;var l=null===(e=(0,k.TI)(r))||void 0===e?void 0:e.filter(function(e){return e.visibility});if(!m()(l)){var u=l.map(function(e){var t=e.id,n=a.find(function(e){return e[t]});return Z({},t,{hideInTimeline:!m()(n)&&c()(n,"".concat(t,".hideInTimeline"))})});1===u.length&&(u=u.map(function(e){return Z({},c()(Object.keys(e),"[0]"),{hideInTimeline:!1})})),i=o().Observable.of((0,S.y6)(u))}return i})}}},278782:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>_e});var r=n(400912),o=n.n(r),i=n(185015),a=n.n(i),l=n(795093),c=n.n(l),u=n(273517),s=n.n(u),f=n(8117),d=n(811668),p=n(916589),m=n(801081),y=n(941860),b=n(954463),v=n(837997),g=n(8571),h=n(164045),O=n(109054),S=n(256951),w=n(800462),P=n(141857),j=n(97401),T=n(990872),E=n(653046),k=n(223805),I=n.n(k),D=n(897648),R=n.n(D),L=n(269843),A=n.n(L),C=n(442426),M=n.n(C),N=n(432060),x=n(588100),_=n(454518),Z=n(672975),z=n(344826),U=n.n(z),Y=n(574548);function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach(function(t){G(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function G(e,t,n){return(t=function(e){var t=function(e){if("object"!=B(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=B(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==B(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V=function(e,t){return c()(t).diff(e)>0};const K=(0,p.withHandlers)({clickHandler:function(e){var t=e.selectedLayer,n=e.offsetEnabled,r=e.status,o=e.setCurrentTime,i=void 0===o?function(){}:o,a=e.selectGroup,l=void 0===a?function(){}:a;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.time,a=e.group,c=e.what,u=e.event;if("PLAY"!==r)if("group-label"===c)a&&"PLAY"!==r&&l(a);else{var s=u&&u.target&&u.target.closest(".vis-custom-time"),f=s&&s.getAttribute("class"),d=f&&U()(f.replace("vis-custom-time",""));o&&!n&&"startPlaybackTime"!==d&&"endPlaybackTime"!==d&&i(o.toISOString(),t)}}},timechangedHandler:function(e){var t=e.currentTime,n=e.setOffset,r=void 0===n?function(){}:n,o=e.setCurrentTime,i=void 0===o?function(){}:o,a=e.currentTimeRange,l=void 0===a?{}:a,c=e.playbackRange,u=e.setPlaybackRange,s=void 0===u?function(){}:u,f=e.selectedLayer;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.time,o=e.id;if("startPlaybackTime"!==o&&"endPlaybackTime"!==o)"currentTime"===o&&(l.end?V(n,l.end)?i(n.toISOString(),null):(i(l.end),r(n.toISOString())):i(n.toISOString(),f)),"offsetTime"===o&&(V(t,n)?r(n.toISOString()):(i(n.toISOString()),r(t)));else{var a=H(H({},c),{},G({},o,n.toISOString())),u=(0,Y.E0)(a.startPlaybackTime,a.endPlaybackTime),d=u.start,p=u.end;V(d,p)&&s({startPlaybackTime:d,endPlaybackTime:p})}}}});function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach(function(t){J(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function J(e,t,n){return(t=function(e){var t=function(e){if("object"!=$(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e){return function(e){if(Array.isArray(e))return X(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return X(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const ee=(0,p.compose)((0,p.withPropsOnChange)(["rangeItems","playbackRange","playbackEnabled","selectedLayer"],function(e){var t=e.rangeItems,n=void 0===t?[]:t,r=e.playbackEnabled,o=e.playbackRange;return{rangeItems:r&&o&&void 0!==o.startPlaybackTime&&void 0!==o.endPlaybackTime?[].concat(Q(n),[q(q({id:"playback-range"},(0,Y.E0)(o.startPlaybackTime,o.endPlaybackTime)),{},{type:"background",className:"ms-playback-range"})]).filter(function(e){return e}):n}}),(0,p.compose)((0,p.withHandlers)({onUpdate:function(e){var t=e.moveCurrentRange,n=void 0===t?function(){}:t;return function(e){var t=e.id,r=e.start;"current-range"===t&&n(r.toISOString())}}}),(0,p.withPropsOnChange)(["options","onUpdate"],function(e){var t=e.options,n=void 0===t?{}:t,r=e.onUpdate,o=void 0===r?function(){}:r;return{options:q(q({},n),{},{snap:null,editable:{add:!1,updateTime:!1,updateGroup:!1,remove:!1,overrideItems:!1},onMove:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;o(e),t(e)}})}}),(0,p.withPropsOnChange)(["rangeItems","currentTime","offsetEnabled","selectedLayer","currentTimeRange","readOnly"],function(e){var t=e.currentTimeRange,n=e.rangeItems,r=void 0===n?[]:n,o=e.readOnly;return{rangeItems:e.offsetEnabled&&void 0!==t.start&&void 0!==t.end?[].concat(Q(r),[q(q({id:"current-range",editable:{updateTime:!o,updateGroup:!1,remove:!1}},(0,Y.E0)(t.start,t.end)),{},{type:"background",className:"ms-current-range"})]).filter(function(e){return e}):r}})),(0,p.withPropsOnChange)(["currentTime","playbackRange","playbackEnabled","offsetEnabled","currentTimeRange"],function(e){var t=e.currentTime,n=e.playbackRange,r=e.playbackEnabled,o=e.offsetEnabled,i=e.currentTimeRange;return{customTimes:[t?{currentTime:t}:{},r&&n&&n.startPlaybackTime&&n.endPlaybackTime?n:{},o&&i?{offsetTime:i.end}:{}].reduce(function(e,t){return t?q(q({},e),t):q({},e)},{})}}));var te=n(286447);function ne(e){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ne(e)}function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach(function(t){ie(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ie(e,t,n){return(t=function(e){var t=function(e){if("object"!=ne(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ne(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ne(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ae=(0,x.UU)(function(e,t){return e===t||!A()(e)&&!A()(t)&&e.id===t.id&&e.title===t.title&&e.name===t.name})(E.l6,function(e){return e}),le=(0,p.compose)((0,d.connect)((0,m.Mz)(E.nK,E.GZ,ae,E.Uc,te.Pd,function(e,t,n,r,o){return{viewRange:e,items:t,layers:n,loading:r,currentLocale:o}})),(0,p.withPropsOnChange)(function(e,t){var n=e.layers,r=void 0===n?[]:n,o=e.loading,i=e.selectedLayer,a=e.currentLocale,l=t.layers,c=t.loading,u=t.selectedLayer,s=t.nextLocale,f=e.hideLayersName!==t.hideLayersName;return o!==c||i!==u||a!==s||f||r&&l&&r.length!==l.length||R()(r,l||[],function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.id+e.title+e.name}).length>0},function(e){var t=e.layers,n=void 0===t?[]:t,r=e.loading,o=void 0===r?{}:r,i=e.selectedLayer,l=e.currentLocale;return{groups:n.map(function(e){var t;return{id:e.id,className:(o[e.id]?"loading":"")+(e.id&&e.id===i?" selected":""),content:'<div class="timeline-layer-label-container">'+(o[e.id]?'<div class="timeline-layer-icon"><div class="timeline-spinner"></div></div>':'<div class="timeline-layer-icon">'.concat(e.id&&e.id===i?'<i class="glyphicon glyphicon-time"></i>':"","</div>"))+'<div class="timeline-layer-title">'.concat(I()(e.title)?null!==(t=e.title[l])&&void 0!==t?t:e.title.default:a()(e.title)&&e.title?e.title:e.name,"</div>")+"</div>"}})}})),ce=(0,p.compose)((0,d.connect)((0,m.Mz)(P.gC,E.bf,function(e,t){return{currentTime:e,currentTimeRange:t}}),{setCurrentTime:v.aU,moveCurrentRange:y.Lx,setOffset:y.lx})),ue=(0,p.compose)((0,d.connect)((0,m.j8)({playbackRange:T.KI,status:T.sO}),{setPlaybackRange:b.P7})),se=(0,p.compose)((0,d.connect)((0,m.Mz)(E.IT,function(e){return{selectedLayer:e}}),{selectGroup:v.YC})),fe=(0,p.compose)((0,d.connect)(function(){return{}},{rangechangedHandler:v.df}));const de=(0,p.compose)(ce,ue,se,K,fe,le,(0,p.defaultProps)({key:"timeline",options:{maxHeight:"90%",verticalScroll:!0,stack:!1,showMajorLabels:!0,showCurrentTime:!1,zoomMin:10,zoomable:!0,type:"background",margin:{item:0,axis:0},format:{minorLabels:{minute:"h:mma",hour:"ha"}},itemsAlwaysDraggable:!0,moment:function(e){return c()(e).utc()}}}),(0,p.withPropsOnChange)(["viewRange","options"],function(e){var t=e.viewRange,n=void 0===t?{}:t;return{options:oe(oe({},e.options),n)}}),(0,p.withPropsOnChange)(["status"],function(e){return{readOnly:"PLAY"===e.status}}),(0,p.withPropsOnChange)(["items"],function(e){var t=e.items,n=e.options,r=M()(t,{className:"interval"});return{options:oe(oe({},n),r&&{stack:!0})}}),ee,(0,_.A)(function(e){var t=e.loading;return t&&t.timeline},function(){return s().createElement("div",{style:{margin:"auto",fontWeight:"bold"}},s().createElement(Z.A,{style:{display:"inline-block",verticalAlign:"middle"}}),s().createElement(g.A,{msgId:"loading"}))},{white:!0}))((0,N.A)()((0,u.lazy)(function(){return Promise.all([n.e(66216),n.e(98540)]).then(n.bind(n,383567))})));var pe=n(45388),me=n.n(pe),ye=n(509820),be=n(711030);function ve(e){return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ve(e)}function ge(){return ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ge.apply(null,arguments)}function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach(function(t){Se(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Se(e,t,n){return(t=function(e){var t=function(e){if("object"!=ve(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ve(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ve(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var we=(0,h.A)(be.A),Pe=(0,p.compose)((0,p.withProps)({collapseHintPopoverOptions:{placement:"top",props:{title:s().createElement("span",null,s().createElement(f.e6,{glyph:"time"})," ",s().createElement("strong",null,s().createElement(g.A,{msgId:"timeline.collapsed.title"})))},content:s().createElement(g.A,{msgId:"timeline.collapsed.tooltip"})}}),(0,p.mapPropsStream)(function(e){return e.combineLatest(function(e){return e.distinctUntilKeyChanged("collapsed").filter(function(e){return e.collapsed}).take(1).switchMap(function(e){var t=e.collapseHintPopoverOptions;return me().Observable.timer(5e3).startWith({popoverOptions:t}).concat(me().Observable.of({}))}).startWith({})}(e),function(e,t){return Oe(Oe({},e),t)})}),(0,p.branch)(function(e){return e.popoverOptions},ye.A,function(){return function(e){return s().createElement(we,e)}}))(be.A);const je=(0,p.compose)((0,d.connect)((0,m.Mz)(E.kW,E.bP,function(e,t){return{collapsed:e,visible:t}}),{setCollapsed:v.gP}),(0,p.branch)(function(e){return!e.visible},p.renderNothing),(0,p.withHandlers)({onClick:function(e){var t=e.collapsed,n=e.setCollapsed;return function(){return n(!t)}}}),(0,p.withProps)(function(e){var t=e.collapsed;return{bsStyle:t?"primary":"success",tooltipId:t?"timeline.show":"timeline.hide"}}))(function(e){return s().createElement(Pe,ge({},e,{bsSize:"xsmall"}),s().createElement(f.e6,{glyph:"time"}))});var Te=n(112585),Ee=n(275705);function ke(e){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ke(e)}function Ie(){return Ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ie.apply(null,arguments)}function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach(function(t){Le(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Le(e,t,n){return(t=function(e){var t=function(e){if("object"!=ke(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ke(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ke(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ae=(0,h.A)(be.A),Ce=function(e){return a()(e)&&-1!==e.indexOf("%")},Me=function(e){return parseInt(e,10)/100},Ne=function(e,t){return c()(t).diff(e)>0},xe=(0,p.compose)((0,d.connect)((0,m.Mz)(E.zN,E.l6,P.gC,E.bf,P.Y0,T.KI,T.sO,E.nK,function(e){var t;return void 0!==(null===(t=e.timeline)||void 0===t?void 0:t.loader)},E.IT,function(e,t,n,r,o,i,a,l,c,u){return{visible:e,layers:t,currentTime:n,currentTimeRange:r,offsetEnabled:o,playbackRange:i,status:a,viewRange:l,timelineIsReady:c,selectedLayer:u}}),{setCurrentTime:v.aU,onOffsetEnabled:v.JC,setOffset:y.lx,setPlaybackRange:b.P7,moveRangeTo:v.df,onInit:v.c5,reset:v.Rn}),(0,p.branch)(function(e){var t=e.visible,n=void 0===t||t,r=e.layers,o=void 0===r?[]:r;return!n||0===Object.keys(o).length},p.renderNothing),(0,p.withState)("options","setOptions",function(e){return{collapsed:!e.expandedPanel}}),(0,d.connect)((0,m.Mz)(E.wE,function(e){return{mapSync:e}}),{toggleMapSync:v.qs}),(0,p.compose)((0,p.compose)((0,p.withStateHandlers)(function(){return{}},{onResize:function(){return function(e){return{containerWidth:e.width}}}}),(0,O.A)({querySelector:".ms2",closest:!0,debounceTime:100})),(0,p.defaultProps)({showHiddenLayers:!1,expandLimit:20,snapType:"start",endValuesSupport:void 0,style:{marginBottom:35,marginLeft:100,marginRight:80}}),(0,d.connect)((0,m.Mz)(function(e){return(0,j.o7)(e,{right:!0,bottom:!0,left:!0})},function(e){return{mapLayoutStyle:e}})),(0,p.withProps)(function(e){var t=e.containerWidth,n=e.style,r=e.mapLayoutStyle,o=n||{},i=o.marginLeft,a=o.marginRight,l=r.left,c=void 0===l?0:l,u=r.right,s=void 0===u?0:u;if(s=Ce(s)&&Me(s)*t||s,c=Ce(c)&&Me(c)*t||c,t){var f=t-s-c-i-a;return{hide:f<410,compactToolbar:f<880,style:Re(Re(Re({},n),r),{},{minWidth:410})}}return{style:Re(Re(Re({},n),r),{},{minWidth:410})}}),(0,p.branch)(function(e){return e.hide},p.renderNothing),(0,p.setDisplayName)("TimelinePlugin")))(function(e){var t=e.items,n=e.options,r=e.setOptions,i=e.mapSync,a=e.toggleMapSync,l=void 0===a?function(){}:a,d=e.currentTime,p=e.setCurrentTime,m=e.offsetEnabled,y=e.onOffsetEnabled,b=e.currentTimeRange,v=e.setOffset,h=e.style,O=e.status,P=e.viewRange,j=e.moveRangeTo,T=e.compactToolbar,E=e.showHiddenLayers,k=e.expandLimit,I=e.snapType,D=e.endValuesSupport,R=e.onInit,L=void 0===R?function(){}:R,A=e.layers,C=e.timelineIsReady,M=e.initialMode,N=void 0===M?"single":M,x=e.initialSnap,_=void 0===x?"now":x,Z=e.resetButton,z=e.reset,U=void 0===z?function(){}:z,Y=e.selectedLayer;(0,u.useEffect)(function(){L({showHiddenLayers:E,expandLimit:k,snapType:I,endValuesSupport:D,initialMode:N,initialSnap:_})},[L]);var B=n.hideLayersName,W=n.collapsed,H=o()(t&&t.filter(function(e){return"playback"===e.name})),G=H&&H.plugin,V=function(e,t,n,r){var o=c()(n.end).diff(n.start)/2;if("time-current"===t&&n&&n.start.toString()!==c()(e).add(-1*o).toString()&&n.end.toString()!==c()(e).add(o).toString()&&j({start:c()(e).add(-1*o),end:c()(e).add(o)}),"range-start"===t||"range-end"===t){var i=c()(r.end).diff(r.start),a=c()(r.start).add(i/2);j(i/2<=o?{start:c()(a).add(-1*o),end:c()(a).add(o)}:{start:c()(a).add(-1*i*5/2),end:c()(a).add(5*i/2)})}};return s().createElement("div",{style:Re(Re({position:"absolute",marginBottom:35,marginLeft:100},h),{},{right:W?"auto":h.right||0}),className:"timeline-plugin".concat(B?" hide-layers-name":"").concat(m?" with-time-offset":""," ").concat((0,Te.uw)(A)?"":"hidden")},m&&s().createElement(w.A,{clickable:!W,glyph:"range-start",onIconClick:function(e,t){return"PLAY"!==O&&V(e,t,P,b)},tooltip:s().createElement(g.A,{msgId:"timeline.rangeStart"}),showButtons:!0,date:d||b&&b.start,onUpdate:function(e){return(b&&Ne(e,b.end)||!b)&&"PLAY"!==O&&p(e)},className:"shadow-soft",style:{position:"absolute",top:-5,left:2,transform:"translateY(-100%)"}}),s().createElement("div",{className:"timeline-plugin-toolbar".concat(T?" ms-collapsed":"")},m&&b?s().createElement(w.A,{clickable:!W,glyph:"range-end",onIconClick:function(e,t){return"PLAY"!==O&&V(e,t,P,b)},tooltip:s().createElement(g.A,{msgId:"timeline.rangeEnd"}),date:b.end,showButtons:!0,onUpdate:function(e){return"PLAY"!==O&&Ne(d,e)&&v(e)}}):s().createElement(w.A,{clickable:!W,glyph:"time-current",showButtons:!0,onIconClick:function(e,t){return"PLAY"!==O&&V(e,t,P)},tooltip:s().createElement(g.A,{msgId:"timeline.currentTime"}),date:d||b&&b.start,onUpdate:function(e){return(b&&Ne(e,b.end)||!b)&&"PLAY"!==O&&p(e)}}),s().createElement("div",{className:"timeline-plugin-btn-group"},s().createElement(S.A,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:[{glyph:"list",tooltip:s().createElement(g.A,{msgId:B?"timeline.showLayerName":"timeline.hideLayerName"}),bsStyle:B?"primary":"success",visible:!W,active:!B,onClick:function(){return r(Re(Re({},n),{},{hideLayersName:!B}))}},{glyph:"time-offset",bsStyle:m?"success":"primary",active:m,disabled:"PLAY"===O,tooltip:s().createElement(g.A,{msgId:m?"timeline.disableRange":"timeline.enableRange"}),onClick:function(){"PLAY"!==O&&y(!m)}},{glyph:"viewport-filter",tooltip:s().createElement(g.A,{msgId:i?"timeline.mapSyncOn":"timeline.mapSyncOff"}),bsStyle:i?"success":"primary",active:i,onClick:function(){return l(!i)}},{glyph:m?"resize-horizontal":"time",visible:!!Z,tooltip:s().createElement(g.A,{msgId:"timeline.reset.".concat(m?"range":Y?"singleNearest":"singleNow")}),bsStyle:"primary",onClick:U}]}),G&&s().createElement(G,Ie({},H,{settingsStyle:{right:W||T?40:"unset"}}))),s().createElement(Ae,{onClick:function(){return r(Re(Re({},n),{},{collapsed:!W}))},className:"square-button-sm ms-timeline-expand",bsStyle:"primary",tooltip:s().createElement(g.A,{msgId:W?"timeline.expand":"timeline.collapse"})},s().createElement(f.e6,{glyph:W?"chevron-up":"chevron-down"}))),!C&&s().createElement("div",{className:"timeline-loader"},s().createElement(Ee.A,{size:50})),!W&&s().createElement(de,{offsetEnabled:m,playbackEnabled:!0,hideLayersName:B,timelineLayers:A}))});const _e={TimelinePlugin:Object.assign(xe,{disablePluginIf:"{state('mapType') === 'cesium'}",WidgetsTray:{tool:s().createElement(je,null),position:0}}),reducers:{dimension:n(648644).A,timeline:n(9485).A},epics:n(246018).Ay}},9485:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(904059),o=n(415392),i=n(837997),a=n(538704),l=n(954463),c=n(905185),u=n(386139),s=n.n(u),f=n(971086),d=n.n(f),p=n(761448),m=n.n(p);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){g(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function g(e,t,n){return(t=function(e){var t=function(e){if("object"!=y(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==y(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{settings:{autoSelect:!0,collapsed:!1,snapType:"start",snapRadioButtonEnabled:!1}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.hW:return(0,c.hZ)("settings.collapsed",t.collapsed,e);case i.Qf:return(0,c.hZ)("settings.mapSync",t.mapSync,e);case i.Tt:return(0,c.hZ)("settings.snapType",t.snapType,e);case i.EN:return(0,c.hZ)("settings.endValuesSupport",t.endValuesSupport,e);case i.n7:return(0,c.hZ)("range",{start:t.start,end:t.end},e);case i.FS:return(0,c.hZ)("rangeData[".concat(t.layerId,"]"),{range:t.range,histogram:t.histogram,domain:t.domain},e);case i.F5:return t.layerId?(0,c.hZ)("loading[".concat(t.layerId,"]"),t.loading,e):(0,c.hZ)("loading.timeline",t.loading,e);case i.rG:var n=e;return n=(0,c.hZ)("selectedLayer",t.layerId,n),(0,c.hZ)("settings",v(v({},n.settings),{},{snapType:"start",snapRadioButtonEnabled:!1}),n);case i.dH:case l.k:var u,f=null!==(u=t.timeIntervalData)&&void 0!==u?u:t.snapRadioButtonEnabled;return(0,c.hZ)("settings.snapRadioButtonEnabled",f,e);case i.Ch:return(0,c.hZ)("selectedLayer",t.layerId,e);case r.o0:var p=e;return s()({},e,{rangeData:m()(p.rangeData,t.node)?d()(p.rangeData,function(e,n){return n!==t.node}):p.rangeData,loading:m()(p.rangeData,t.node)?d()(p.loading,function(e,n){return n!==t.node}):p.loading,selectedLayer:e.selectedLayer===t.node?void 0:e.selectedLayer});case o.rY:return s()({},e,{range:void 0,rangeData:void 0,selectedLayer:void 0,loading:void 0,MouseEvent:void 0,layers:void 0});case i.ZZ:var y,b,g=null==e||null===(y=e.settings)||void 0===y?void 0:y.endValuesSupport,h=null==e||null===(b=e.settings)||void 0===b?void 0:b.snapRadioButtonEnabled,O=null==t?void 0:t.config;return(0,c.hZ)("settings",v(v({},e.settings),{},{showHiddenLayers:O.showHiddenLayers,expandLimit:O.expandLimit,snapType:O.snapType,endValuesSupport:null!=g?g:O.endValuesSupport,snapRadioButtonEnabled:null!=h?h:O.snapRadioButtonEnabled,initialMode:O.initialMode,initialSnap:O.initialSnap}),e);case a.mO:var S,w;return v(v({},e),{},{settings:v(v({},e.settings),{},{endValuesSupport:null==t||null===(S=t.config)||void 0===S||null===(S=S.timelineData)||void 0===S?void 0:S.endValuesSupport,snapRadioButtonEnabled:null==t||null===(w=t.config)||void 0===w||null===(w=w.timelineData)||void 0===w?void 0:w.snapRadioButtonEnabled})});case i.MF:return(0,c.hZ)("layers",t.layers,e);case i.np:return(0,c.hZ)("layers",(e.layers||[]).map(function(e){var n;return null!==(n=Object.keys(e))&&void 0!==n&&n.find(function(e){return e===t.id})?(0,c.hZ)("".concat(t.id),{hideInTimeline:!t.checked},e):e}),e);default:return e}}},897648:(e,t,n)=>{var r=n(983915),o=n(983120),i=n(315389),a=n(269302),l=n(683693),c=n(468090),u=a(function(e,t){var n=c(t);return l(n)&&(n=void 0),l(e)?r(e,o(t,1,l,!0),i(n,2)):[]});e.exports=u}}]);