(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[78225],{868143:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>D});var o=n(124852),r=n.n(o),i=n(867076),c=n(22222),u=n(171703),a=n(675263),l=n.n(a),s=n(322843),p=n(367306),f=n(296311),d=n(557579),b=n(555927);const y=(0,i.compose)((0,u.connect)((function(){return{}}),{backFromWizard:function(){return(0,d.Rz)("layer",void 0)}}),(0,i.withProps)((function(t){var e=t.backFromWizard;return{exitButton:{id:"dashboard-exit-button",onClick:void 0===e?function(){}:e,glyph:"arrow-left",tooltipId:"widgets.builder.wizard.backToLayerSelection"}}})));var m=n(454679),g=n(807691),v=n(24412);function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function w(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,E(o.key),o)}}function j(t,e,n){return e=S(e),function(t,e){if(e&&("object"===h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,O()?Reflect.construct(e,n||[],S(t).constructor):e.apply(t,n))}function O(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(O=function(){return!!t})()}function S(t){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},S(t)}function k(t,e){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},k(t,e)}function P(t,e,n){return(e=E(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E(t){var e=function(t,e){if("object"!=h(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!=h(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==h(e)?e:String(e)}var _=(0,i.compose)((0,u.connect)(f.Nb,{toggleConnection:d.w2,triggerShowConnections:b.G9}),(0,u.connect)(f.Tw),(0,i.withProps)((function(t){var e=t.availableDependencies;return{availableDependencies:(void 0===e?[]:e).filter((function(t){return"map"!==t}))}})),y)(m.Z),C=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),j(this,e,arguments)}var n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k(t,e)}(e,t),n=e,(o=[{key:"componentDidMount",value:function(){this.props.onMount()}},{key:"componentWillUnmount",value:function(){this.props.onUnmount()}},{key:"render",value:function(){var t=this,e=this.props.pluginCfg.selectedService||"",n=this.props.pluginCfg.services||{};return!!this.props.editing&&r().createElement("div",{className:"dashboard-editor de-builder"},r().createElement(_,{disableEmptyMap:this.props.disableEmptyMap,defaultSelectedService:e,defaultServices:n,enabled:this.props.editing,onClose:function(){return t.props.setEditing(!1)},catalog:this.props.catalog}))}}])&&w(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),e}(r().Component);P(C,"propTypes",{id:l().string,editing:l().bool,limitDockHeight:l().bool,fluid:l().bool,zIndex:l().number,dockSize:l().number,position:l().string,onMount:l().func,onUnmount:l().func,setEditing:l().func,dimMode:l().string,src:l().string,style:l().object,pluginCfg:l().object,catalog:l().object,disableEmptyMap:l().bool}),P(C,"defaultProps",{id:"dashboard-editor",editing:!1,dockSize:500,limitDockHeight:!0,zIndex:1e4,fluid:!1,dimMode:"none",position:"left",onMount:function(){},onUnmount:function(){},setEditing:function(){}});var M=(0,u.connect)((0,c.P1)(p.i$,p.MZ,p.Wy,(function(t,e){return{editing:t,isDashboardOpened:e}})),{setEditing:b.D_,onMount:function(){return(0,b.Nl)(!0)},onUnmount:function(){return(0,b.Nl)(!1)}})(C);const D=(0,s.rx)("DashboardEditor",{component:M,reducers:{dashboard:v.Z},epics:g.ZP})}}]);