"use strict";(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[9170],{68352:(e,r,t)=>{t.d(r,{A:()=>a});var n=t(415392),o=t(812366);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function i(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function l(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?i(Object(t),!0).forEach(function(r){u(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function u(e,r,t){return(r=function(e){var r=function(e){if("object"!=c(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,"string");if("object"!=c(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==c(r)?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;switch(r.type){case n.x7:var t=r.property||"enabled";return Object.assign({},e,u({},r.control,Object.assign({},e[r.control],u({},t,!(e[r.control]||{})[t]))));case n.$4:return!0===r.toggle&&e[r.control]&&e[r.control][r.property]===r.value?Object.assign({},e,u({},r.control,Object.assign({},e[r.control],u({},r.property,void 0)))):Object.assign({},e,u({},r.control,Object.assign({},e[r.control],u({},r.property,r.value))));case n.FL:return Object.assign({},e,u({},r.control,Object.assign({},e[r.control],r.properties)));case n.rY:var c=Object.keys(e).filter(function(e){return-1===(r.skip||[]).indexOf(e)}).reduce(function(r,t){return Object.assign(r,u({},t,Object.assign({},e[t],!0===e[t].enabled?{enabled:!1}:{})))},{});return Object.assign({},e,c);case o.Df:return l(l({},e),{},{info:l(l({},e.info),{},{available:r.isMounted})});default:return e}}},845163:(e,r,t)=>{t.r(r),t.d(r,{default:()=>R});var n=t(273517),o=t.n(n),c=t(393149),i=t(811668),l=t(801081),u=t(8117),a=t(8571),s=t(836970),f=t(534332),b=t(406250),y=t(415392),d=t(172175),p=t(66178),v=t(298013),m=t(68352),g=t(501719),O=t(801820);function E(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}var j=[t(425380).cI.VIEWER],h=function(e){var r,t,n=e.resources,c=void 0===n?[]:n;if(c.some(function(e){return j.includes(e.resource_type)})){var i=(r=c,t=1,function(e){if(Array.isArray(e))return e}(r)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,c,i,l=[],u=!0,a=!1;try{if(c=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;u=!1}else for(;!(u=(n=c.call(t)).done)&&(l.push(n.value),l.length!==r);u=!0);}catch(e){a=!0,o=e}finally{try{if(!u&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(a)throw o}}return l}}(r,t)||function(e,r){if(e){if("string"==typeof e)return E(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?E(e,r):void 0}}(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0].resource_type;return o().createElement("div",{className:"gn-resource-delete-warning"},o().createElement(u.e6,{className:"warning",glyph:"alert"})," Â ",o().createElement(a.A,{msgId:"gnviewer.deleteResourceWarning.".concat(i)}))}return null},S=(0,i.connect)((0,l.Mz)([function(e){var r;return null==e||null===(r=e.controls)||void 0===r||null===(r=r[v.b.DELETE_RESOURCE])||void 0===r?void 0:r.value},function(e){var r;return null==e||null===(r=e.controls)||void 0===r||null===(r=r[v.b.DELETE_RESOURCE])||void 0===r?void 0:r.loading},function(e){var r;return null==e||null===(r=e.router)||void 0===r?void 0:r.location},d.xF],function(e,r,t,n){return{resources:e,enabled:!!e,loading:r,location:t,selectedResource:n}}),{onClose:y.fN.bind(null,v.b.DELETE_RESOURCE,"value",void 0),onDelete:p.tz.bind(null,v.b.DELETE_RESOURCE)})(function(e){var r=e.enabled,t=e.resources,n=void 0===t?[]:t,c=e.onClose,i=void 0===c?function(){}:c,l=e.onDelete,u=void 0===l?function(){}:l,a=e.redirectTo,s=e.loading,y=e.location,d=e.selectedResource;return o().createElement(b.A,null,o().createElement(f.A,{show:r,titleId:"gnviewer.deleteResourceTitle",titleParams:{count:n.length},cancelId:"gnviewer.deleteResourceNo",cancelParams:{count:n.length},confirmId:"gnviewer.deleteResourceYes",confirmParams:{count:n.length},variant:"danger",loading:s,onCancel:function(){i()},onConfirm:function(){var e,r,t=n.map(function(e){return e.pk});!a&&null!=d&&d.pk&&t.includes(d.pk)&&(e=(0,O.ut)({location:y,excludeQueryKeys:["d"]}),(r=document.createElement("a")).setAttribute("href",e),r.click()),u(n,a)}},o().createElement(h,{resources:n})))}),w=(0,i.connect)((0,l.Mz)([d.xF],function(e){return{resource:e}}),{onClick:y.fN.bind(null,v.b.DELETE_RESOURCE,"value")})(function(e){var r=e.onClick,t=e.size,n=e.resource;return o().createElement(s.A,{variant:"danger",size:t,onClick:function(){r([n])}},o().createElement(a.A,{msgId:"gnhome.delete"}))}),P=(0,i.connect)((0,l.Mz)([g.M3],function(e){return{authenticated:e}}),{onDelete:y.fN.bind(null,v.b.DELETE_RESOURCE,"value")})(function(e){var r,t=e.resource,n=e.authenticated,c=e.onDelete,i=e.component;if(!n||null==t||null===(r=t.perms)||void 0===r||!r.includes("delete_resourcebase"))return null;var l=i;return o().createElement(l,{onClick:function(){return c([t])},glyph:"trash",labelId:"gnhome.delete"})});const R=(0,c.i1)("DeleteResource",{component:S,containers:{ActionNavbar:{name:"DeleteResource",Component:w},ResourcesGrid:{name:v.b.DELETE_RESOURCE,target:"card-options",Component:P}},epics:{},reducers:{controls:m.A}})},801820:(e,r,t)=>{t.d(r,{h4:()=>v,ut:()=>p});var n=t(23412),o=t.n(n),c=t(499084),i=t.n(c),l=t(590179),u=t.n(l),a=(t(541033),["search"]);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function b(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function y(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?b(Object(t),!0).forEach(function(r){d(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function d(e,r,t){return(r=function(e){var r=function(e){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,"string");if("object"!=s(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==s(r)?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var p=function(e){var r=e.location,t=e.pathname,n=e.query,c=e.replaceQuery,l=e.excludeQueryKeys,s=r.search,b=function(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==r.indexOf(n))continue;t[n]=e[n]}return t}(e,r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)t=c[n],-1===r.indexOf(t)&&{}.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}(r,a),p=o().parse(s||"",!0).query,v=n?c?y(y({},p),n):Object.keys(n).reduce(function(e,r){var t,o=n[r],c=i()(e[r]).filter(function(e){return e}),l=-1===c.indexOf(o)?[].concat(function(e){if(Array.isArray(e))return f(e)}(t=c)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,r){if(e){if("string"==typeof e)return f(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?f(e,r):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[o]):c.filter(function(e){return e!==o});return y(y({},e),{},d({},r,l))},p):p;return"#".concat(o().format(y(y(y({},b),t&&{pathname:t}),{},{query:u()(Object.keys(v).reduce(function(e,r){return v[r]&&0!==v[r].length?y(y({},e),{},d({},r,v[r])):e},{}),l)})))},v=function(e){var r,t;return null===(r="object"===s(e)?null!==(t=e.icon)&&void 0!==t?t:null==e?void 0:e.fa_class:e)||void 0===r?void 0:r.replace("fa-","")}}}]);