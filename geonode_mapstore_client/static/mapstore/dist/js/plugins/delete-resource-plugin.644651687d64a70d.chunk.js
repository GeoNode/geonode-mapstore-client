"use strict";(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[9170],{68352:(e,r,t)=>{t.d(r,{A:()=>s});var n=t(415392),o=t(45228),c=t.n(o),i=t(812366);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function a(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?u(Object(t),!0).forEach(function(r){f(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function f(e,r,t){return(r=function(e){var r=function(e){if("object"!=l(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,"string");if("object"!=l(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==l(r)?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;switch(r.type){case n.x7:var t=r.property||"enabled";return c()({},e,f({},r.control,c()({},e[r.control],f({},t,!(e[r.control]||{})[t]))));case n.$4:return!0===r.toggle&&e[r.control]&&e[r.control][r.property]===r.value?c()({},e,f({},r.control,c()({},e[r.control],f({},r.property,void 0)))):c()({},e,f({},r.control,c()({},e[r.control],f({},r.property,r.value))));case n.FL:return c()({},e,f({},r.control,c()({},e[r.control],r.properties)));case n.rY:var o=Object.keys(e).filter(function(e){return-1===(r.skip||[]).indexOf(e)}).reduce(function(r,t){return c()(r,f({},t,c()({},e[t],!0===e[t].enabled?{enabled:!1}:{})))},{});return c()({},e,o);case i.Df:return a(a({},e),{},{info:a(a({},e.info),{},{available:r.isMounted})});default:return e}}},845163:(e,r,t)=>{t.r(r),t.d(r,{default:()=>R});var n=t(273517),o=t.n(n),c=t(393149),i=t(811668),l=t(801081),u=t(904072),a=t(8571),f=t(836970),s=t(534332),y=t(406250),b=t(415392),p=t(172175),d=t(66178),v=t(298013),m=t(68352),g=t(501719),O=t(801820);function E(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}var h=[t(425380).cI.VIEWER],j=function(e){var r,t,n=e.resources,c=void 0===n?[]:n;if(c.some(function(e){return h.includes(e.resource_type)})){var i=(r=c,t=1,function(e){if(Array.isArray(e))return e}(r)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,c,i,l=[],u=!0,a=!1;try{if(c=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;u=!1}else for(;!(u=(n=c.call(t)).done)&&(l.push(n.value),l.length!==r);u=!0);}catch(e){a=!0,o=e}finally{try{if(!u&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(a)throw o}}return l}}(r,t)||function(e,r){if(e){if("string"==typeof e)return E(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?E(e,r):void 0}}(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0].resource_type;return o().createElement("div",{className:"gn-resource-delete-warning"},o().createElement(u.A,{className:"warning",glyph:"warning"})," Â ",o().createElement(a.A,{msgId:"gnviewer.deleteResourceWarning.".concat(i)}))}return null},w=(0,i.connect)((0,l.Mz)([function(e){var r;return null==e||null===(r=e.controls)||void 0===r||null===(r=r[v.b.DELETE_RESOURCE])||void 0===r?void 0:r.value},function(e){var r;return null==e||null===(r=e.controls)||void 0===r||null===(r=r[v.b.DELETE_RESOURCE])||void 0===r?void 0:r.loading},function(e){var r;return null==e||null===(r=e.router)||void 0===r?void 0:r.location},p.xF],function(e,r,t,n){return{resources:e,enabled:!!e,loading:r,location:t,selectedResource:n}}),{onClose:b.fN.bind(null,v.b.DELETE_RESOURCE,"value",void 0),onDelete:d.tz.bind(null,v.b.DELETE_RESOURCE)})(function(e){var r=e.enabled,t=e.resources,n=void 0===t?[]:t,c=e.onClose,i=void 0===c?function(){}:c,l=e.onDelete,u=void 0===l?function(){}:l,a=e.redirectTo,f=e.loading,b=e.location,p=e.selectedResource;return o().createElement(y.A,null,o().createElement(s.A,{show:r,titleId:"gnviewer.deleteResourceTitle",titleParams:{count:n.length},cancelId:"gnviewer.deleteResourceNo",cancelParams:{count:n.length},confirmId:"gnviewer.deleteResourceYes",confirmParams:{count:n.length},variant:"danger",loading:f,onCancel:function(){i()},onConfirm:function(){var e,r,t=n.map(function(e){return e.pk});!a&&null!=p&&p.pk&&t.includes(p.pk)&&(e=(0,O.ut)({location:b,excludeQueryKeys:["d"]}),(r=document.createElement("a")).setAttribute("href",e),r.click()),u(n,a)}},o().createElement(j,{resources:n})))}),S=(0,i.connect)((0,l.Mz)([p.xF],function(e){return{resource:e}}),{onClick:b.fN.bind(null,v.b.DELETE_RESOURCE,"value")})(function(e){var r=e.onClick,t=e.size,n=e.resource;return o().createElement(f.A,{variant:"danger",size:t,onClick:function(){r([n])}},o().createElement(a.A,{msgId:"gnhome.delete"}))}),P=(0,i.connect)((0,l.Mz)([g.M3],function(e){return{authenticated:e}}),{onDelete:b.fN.bind(null,v.b.DELETE_RESOURCE,"value")})(function(e){var r,t=e.resource,n=e.authenticated,c=e.onDelete,i=e.component;if(!n||null==t||null===(r=t.perms)||void 0===r||!r.includes("delete_resourcebase"))return null;var l=i;return o().createElement(l,{onClick:function(){return c([t])},glyph:"trash",iconType:"glyphicon",labelId:"gnhome.delete"})});const R=(0,c.i1)("DeleteResource",{component:w,containers:{ActionNavbar:{name:"DeleteResource",Component:S},ResourcesGrid:{name:v.b.DELETE_RESOURCE,target:"card-options",Component:P}},epics:{},reducers:{controls:m.A}})},801820:(e,r,t)=>{t.d(r,{h4:()=>v,ut:()=>d});var n=t(23412),o=t.n(n),c=t(499084),i=t.n(c),l=t(590179),u=t.n(l),a=(t(541033),["search"]);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function s(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function y(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function b(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?y(Object(t),!0).forEach(function(r){p(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function p(e,r,t){return(r=function(e){var r=function(e){if("object"!=f(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,"string");if("object"!=f(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==f(r)?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var d=function(e){var r=e.location,t=e.pathname,n=e.query,c=e.replaceQuery,l=e.excludeQueryKeys,f=r.search,y=function(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==r.indexOf(n))continue;t[n]=e[n]}return t}(e,r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)t=c[n],-1===r.indexOf(t)&&{}.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}(r,a),d=o().parse(f||"",!0).query,v=n?c?b(b({},d),n):Object.keys(n).reduce(function(e,r){var t,o=n[r],c=i()(e[r]).filter(function(e){return e}),l=-1===c.indexOf(o)?[].concat(function(e){if(Array.isArray(e))return s(e)}(t=c)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,r){if(e){if("string"==typeof e)return s(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,r):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[o]):c.filter(function(e){return e!==o});return b(b({},e),{},p({},r,l))},d):d;return"#".concat(o().format(b(b(b({},y),t&&{pathname:t}),{},{query:u()(Object.keys(v).reduce(function(e,r){return v[r]&&0!==v[r].length?b(b({},e),{},p({},r,v[r])):e},{}),l)})))},v=function(e){var r,t;return null===(r="object"===f(e)?null!==(t=e.icon)&&void 0!==t?t:null==e?void 0:e.fa_class:e)||void 0===r?void 0:r.replace("fa-","")}}}]);