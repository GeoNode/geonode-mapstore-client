"use strict";(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[1e3],{712318:(n,e,o)=>{o.d(e,{RZ:()=>r,XM:()=>t,cJ:()=>l,p$:()=>i});var t="GEONODE:DOWNLOAD_METADATA",r="GEONODE:DOWNLOAD_METADATA_COMPLETE";function l(n,e){return{type:t,link:n,pk:e}}function i(n,e){return{type:r,link:n,pk:e}}},121657:(n,e,o)=>{o.d(e,{b:()=>u});var t=o(45388),r=o(995531),l=o(791936),i=o(712318),a=o(883832),u=function(n,e){return n.ofType(i.XM).switchMap(function(n){var o,u,c=e.getState(),d=null===(o=c.gnresource)||void 0===o||null===(o=o.data)||void 0===o||null===(o=o.links)||void 0===o?void 0:o.find(function(e){return e.name===n.link}).url,s=null===(u=c.gnresource)||void 0===u||null===(u=u.data)||void 0===u||null===(u=u.title)||void 0===u?void 0:u.replace(/[\.\s]/g,"_");return t.Observable.defer(function(){return r.A.get(d).then(function(n){return n})}).switchMap(function(e){var o=e.data,r=e.headers;if("application/xml"===r["content-type"]||"application/xml; charset=UTF-8"===r["content-type"]){var a=String.fromCharCode.apply(null,new Uint8Array(o));if(0===a.indexOf("<ows:ExceptionReport"))throw a}return(0,l.saveAs)(new Blob([o],{type:r&&r["content-type"]}),"".concat(s,"_").concat(n.link.split(" ").join("_"),"_Metadata")),t.Observable.of((0,i.p$)(n.link,n.pk))}).catch(function(e){var o,r,l;return t.Observable.of((0,i.p$)(n.link,n.pk),(0,a.z3)({title:"gnviewer.cannotPerfomAction",message:(null==e||null===(o=e.data)||void 0===o?void 0:o.message)||(null==e||null===(r=e.data)||void 0===r?void 0:r.detail)||(null==e||null===(l=e.originalError)||void 0===l?void 0:l.message)||"gnviewer.syncErrorDefault"}))})})}},280643:(n,e,o)=>{o.r(e),o.d(e,{default:()=>w});var t=o(273517),r=o.n(t),l=o(811668),i=o(801081),a=o(393149),u=o(8571),c=o(836970),d=o(712318),s=o(121657),v=o(890559),f=o(873204);function p(n){var e=n.onDownload,o=n.resourcePk,t=n.isDownloading;return r().createElement(c.A,{variant:"default",onClick:function(){return e("Dublin Core",o)}},t&&r().createElement(v.A,{animation:"border",role:"status"},r().createElement("span",{className:"sr-only"},"Loading..."))," ",r().createElement(u.A,{msgId:"gnviewer.dublinCore"}))}var b=(0,l.connect)((0,i.Mz)([function(n){var e;return(null==n||null===(e=n.gnresource)||void 0===e?void 0:e.data.pk)||null},function(n){var e;return(null==n||null===(e=n.gnDownload)||void 0===e||null===(e=e.downloads)||void 0===e?void 0:e.DublinCore)||{}}],function(n,e){return{resourcePk:n,isDownloading:e[n]}}),{onDownload:d.cJ})(p);p.defaultProps={onDownload:function(){},resourcePk:null,isDownloading:!1};const w=(0,a.i1)("DublinCoreDownload",{component:function(){return null},containers:{ActionNavbar:{name:"DublinCoreDownload",Component:b}},epics:{gnDownloadMetaData:s.b},reducers:{gnDownload:f.A}})},335937:(n,e,o)=>{o.r(e),o.d(e,{default:()=>w});var t=o(273517),r=o.n(t),l=o(811668),i=o(801081),a=o(393149),u=o(8571),c=o(836970),d=o(712318),s=o(121657),v=o(890559),f=o(873204);function p(n){var e=n.onDownload,o=n.resourcePk,t=n.isDownloading;return r().createElement(c.A,{variant:"default",onClick:function(){return e("ISO",o)},className:"isobutton"},t&&r().createElement(v.A,{animation:"border",role:"status"},r().createElement("span",{className:"sr-only"},"Loading..."))," ",r().createElement(u.A,{msgId:"gnviewer.iso"}))}var b=(0,l.connect)((0,i.Mz)([function(n){var e;return(null==n||null===(e=n.gnresource)||void 0===e?void 0:e.data.pk)||null},function(n){var e;return(null==n||null===(e=n.gnDownload)||void 0===e||null===(e=e.downloads)||void 0===e?void 0:e.ISO)||{}}],function(n,e){return{resourcePk:n,isDownloading:e[n]}}),{onDownload:d.cJ})(p);p.defaultProps={onDownload:function(){},resourcePk:null,isDownloading:!1};const w=(0,a.i1)("IsoDownload",{component:function(){return null},containers:{ActionNavbar:{name:"IsoDownload",Component:b}},epics:{gnDownloadMetaData:s.b},reducers:{gnDownload:f.A}})},873204:(n,e,o)=>{o.d(e,{A:()=>c});var t=o(712318);function r(n){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},r(n)}function l(n,e){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),o.push.apply(o,t)}return o}function i(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?l(Object(o),!0).forEach(function(e){a(n,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function a(n,e,o){return(e=function(n){var e=function(n){if("object"!=r(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var o=e.call(n,"string");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==r(e)?e:e+""}(e))in n?Object.defineProperty(n,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[e]=o,n}var u={downloads:{ISO:{},DublinCore:{}}};const c=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case t.XM:var o,r=null==e||null===(o=e.link)||void 0===o?void 0:o.split(" ").join("");return i(i({},n),{},{downloads:i(i({},n.downloads),{},a({},r,a({},e.pk,!0)))});case t.RZ:var l,c=i({},n),d=null==e||null===(l=e.link)||void 0===l?void 0:l.split(" ").join(""),s=c.downloads[d];return delete s[e.pk],i(i({},c),{},{downloads:i(i({},c.downloads),{},a({},d,i({},s)))});default:return n}}}}]);