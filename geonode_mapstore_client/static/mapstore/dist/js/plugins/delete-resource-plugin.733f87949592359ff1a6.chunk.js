(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[1157,9081],{99534:(e,r,t)=>{"use strict";t.d(r,{Z:()=>l});var n=t(61365),a=t(69334);const l=(0,n.Z)(a.h_)},85428:(e,r,t)=>{"use strict";t.d(r,{Z:()=>u});var n=t(67294),a=t.n(n),l=t(45697),o=t.n(l),c=["href","readOnly","children"];function s(){return s=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},s.apply(this,arguments)}function i(e){var r=e.href,t=e.readOnly,n=e.children,l=function(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},l=Object.keys(e);for(n=0;n<l.length;n++)t=l[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)t=l[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}(e,c);return t?n:a().createElement("a",s({href:r},l),n)}i.propTypes={href:o().string,readOnly:o().bool.isRequired,children:o().any},i.defaultProps={href:"",readOnly:!1};const u=i},60330:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n.Z});var n=t(85428)},34065:(e,r,t)=>{"use strict";t.d(r,{Z:()=>m});var n=t(67294),a=t.n(n),l=t(45697),o=t.n(l),c=t(77593),s=t(60330),i=["resource","readOnly","formatHref"];function u(){return u=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},u.apply(this,arguments)}function d(e){var r,t,n=e.resource,l=e.readOnly,o=e.formatHref,d=function(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},l=Object.keys(e);for(n=0;n<l.length;n++)t=l[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)t=l[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}(e,i);return a().createElement("p",u({className:"card-text gn-card-user"},d),(null===(r=n.owner)||void 0===r?void 0:r.avatar)&&a().createElement("img",{src:n.owner.avatar,alt:(0,c.vW)(n.owner),className:"gn-card-author-image"}),a().createElement(s.Z,{readOnly:l,href:o({query:{"filter{owner.username.in}":null===(t=n.owner)||void 0===t?void 0:t.username}})},n.owner&&(0,c.vW)(n.owner)))}d.propTypes={resource:o().object,readOnly:o().bool,formatHref:o().func,props:o().any},d.defaultProps={resource:{},readOnly:!1,formatHref:function(){return"#"}};const m=d},39399:(e,r,t)=>{"use strict";t.d(r,{Z:()=>c});var n=t(67294),a=t.n(n),l=t(57588);function o(){return o=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},o.apply(this,arguments)}l.Dropdown.Item=l.MenuItem,l.Dropdown.Divider=function(e){return a().createElement(l.MenuItem,o({},e,{divider:!0}))};const c=l.Dropdown},36693:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n.Z});var n=t(39399)},69582:(e,r,t)=>{"use strict";t.d(r,{Z:()=>v});var n=t(67294),a=t.n(n),l=t(5346),o=t(97842),c=t(36693),s=t(93473),i=t(51605),u=t(35721),d=t(89239),m=t(60330),f=t(34065);function p(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var g=(0,n.forwardRef)((function(e,r){var t,g,v=e.data,y=e.active,E=e.options,h=e.formatHref,b=e.getTypesInfo,O=e.layoutCardsStyle,Z=e.buildHrefByTemplate,w=e.readOnly,N=e.actions,j=e.onAction,k=e.className,C=e.loading,I=e.featured,P=e.onClick,S=v,_=b(),R=(_[S.subtype]||_[S.resource_type]||{}).icon,T=S&&(_[S.subtype]||_[S.resource_type])||{},D=T.formatDetailUrl,x=void 0===D?function(e){return null==e?void 0:e.detail_url}:D,A=T.canPreviewed,z=(null==S?void 0:S.pk)&&x(S),H=(null==S?void 0:S.pk)&&A&&A(S),U=(null==S?void 0:S.pk)&&(0,u.J7)(S),L=(t=(0,n.useState)(!1),g=2,function(e){if(Array.isArray(e))return e}(t)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,l=[],o=!0,c=!1;try{for(t=t.call(e);!(o=(n=t.next()).done)&&(l.push(n.value),!r||l.length!==r);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==t.return||t.return()}finally{if(c)throw a}}return l}}(t,g)||function(e,r){if(e){if("string"==typeof e)return p(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?p(e,r):void 0}}(t,g)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),M=L[0],q=L[1],F="list"===O?"card-img-left":"card-img-top";return a().createElement("div",{ref:r,onClick:function(){P(v)},className:"gn-resource-card".concat(y?" active":"").concat(w?" read-only":""," gn-card-type-").concat(O," ").concat("list"===O?"rounded-0":"").concat(k?" ".concat(k):"")},!w&&a().createElement("a",{className:"gn-resource-card-link",href:h({pathname:"/detail/".concat(S.resource_type,"/").concat(S.pk)})}),a().createElement("div",{className:"card-resource-".concat(O)},M?a().createElement("div",{className:"".concat(F," card-img-placeholder")}):a().createElement("img",{className:F,src:S.thumbnail_url,onError:function(){return q(!0)}}),a().createElement("div",{className:"gn-resource-card-body-wrapper"},a().createElement("div",{className:"card-body"},a().createElement("div",{className:"card-title"},R&&!C&&a().createElement(a().Fragment,null,a().createElement(m.Z,{readOnly:w,href:h({query:{"filter{resource_type.in}":S.resource_type}})},a().createElement(o.Z,{name:R}))),C&&a().createElement(i.Z,null),a().createElement(m.Z,{className:I?"gn-featured-card-title":"gn-card-title",readOnly:w,href:h({pathname:"/detail/".concat(S.resource_type,"/").concat(S.pk)})},S.title)),a().createElement(d.Z,{resource:S}),a().createElement("p",{className:"card-text gn-card-description"},S.raw_abstract?S.raw_abstract:"...")),a().createElement("div",{className:"gn-footer-wrapper"},a().createElement("div",{className:"gn-card-footer",style:{padding:E&&0===E.length?"0 0.25rem 0 0.5rem":"0 0.5rem"}},a().createElement(f.Z,{resource:S,readOnly:w,formatHref:h}),a().createElement("div",{className:"gn-card-actions"},!w&&(z||U)&&a().createElement("div",{className:"".concat(E&&0===E.length?"gn-card-view-editor-right":"gn-card-view-editor")},a().createElement(s.Z,{variant:"primary",href:H?z:U,rel:"noopener noreferrer"},a().createElement(l.Z,{msgId:"gnhome.view"}))),!w&&E&&E.length>0&&a().createElement(c.Z,{className:"gn-card-options",pullRight:!0},a().createElement(c.Z.Toggle,{id:"gn-card-options-".concat(S.pk),variant:"default",size:"sm",noCaret:!0},a().createElement(o.Z,{name:"ellipsis-h"})),a().createElement(c.Z.Menu,{className:"gn-card-dropdown"},E.map((function(e){return"button"===e.type&&N[e.action]?a().createElement(c.Z.Item,{key:e.action,onClick:function(){return j(N[e.action],[S])}},a().createElement(o.Z,{name:e.icon})," ",a().createElement(l.Z,{msgId:e.labelId})):a().createElement(c.Z.Item,{key:e.href,href:Z(S,e.href)},a().createElement(o.Z,{name:e.icon})," ",a().createElement(l.Z,{msgId:e.labelId}))}))))))))))}));g.defaultProps={links:[],theme:"light",getTypesInfo:u.NN,formatHref:function(){return"#"},featured:!1,onClick:function(){}};const v=g},57914:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n.Z});var n=t(69582)},99469:(e,r,t)=>{"use strict";t.d(r,{Z:()=>m});var n=t(67294),a=t.n(n),l=t(5346),o=t(45697),c=t.n(o),s=t(41609),i=t.n(s),u=t(35721),d=function(e){var r=e.resource,t=void 0===r?{}:r,n=(0,u.fu)(t),o=n.isApproved,c=n.isPublished,s=n.isProcessing,d=n.isCopying,m=n.isDeleting,f=n.isDeleted;return i()(t)?null:a().createElement("p",null,!s&&!o&&a().createElement("span",{className:"gn-resource-status gn-resource-status-warning"},a().createElement(l.Z,{msgId:"gnviewer.underApproval"})),!s&&!c&&a().createElement("span",{className:"gn-resource-status gn-resource-status-danger"},a().createElement(l.Z,{msgId:"gnviewer.unpublish"})),m&&a().createElement("span",{className:"gn-resource-status gn-resource-status-danger"},a().createElement(l.Z,{msgId:"gnviewer.deleting"})),f&&a().createElement("span",{className:"gn-resource-status gn-resource-status-danger"},a().createElement(l.Z,{msgId:"gnviewer.deleted"})),d&&a().createElement("span",{className:"gn-resource-status gn-resource-status-primary"},a().createElement(l.Z,{msgId:"gnviewer.cloning"})))};d.propTypes={isApproved:c().bool,isPublished:c().bool},d.defaultProps={isApproved:!0,isPublished:!0};const m=d},89239:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n.Z});var n=t(99469)},28261:(e,r,t)=>{"use strict";t.d(r,{Z:()=>u});var n=t(67294),a=t.n(n),l=t(45697),o=t.n(l),c=["id","className","style","children"];function s(){return s=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},s.apply(this,arguments)}function i(e){var r=e.id,t=e.className,n=e.style,l=e.children,o=function(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},l=Object.keys(e);for(n=0;n<l.length;n++)t=l[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)t=l[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}(e,c),i=t?" "+t:"";return a().createElement(a().Fragment,null,a().createElement("div",s({},o,{id:r,className:"gn-spinner".concat(i),style:n}),a().createElement("div",null)),l)}i.propTypes={id:o().string,className:o().string,style:o().object},i.defaultProps={};const u=i},51605:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n.Z});var n=t(28261)},60466:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>b});var n=t(67294),a=t.n(n),l=t(22843),o=t(33664),c=t(22222),s=t(5346),i=t(93473),u=t(94745),d=t(99534),m=t(82904),f=t(3828),p=t(43892),g=t(57914),v=t(12530),y=t(32425),E=(0,o.connect)((0,c.P1)([function(e){var r,t;return null==e||null===(r=e.controls)||void 0===r||null===(t=r[v.zj.DELETE_RESOURCE])||void 0===t?void 0:t.value},function(e){var r,t;return null==e||null===(r=e.controls)||void 0===r||null===(t=r[v.zj.DELETE_RESOURCE])||void 0===t?void 0:t.loading}],(function(e,r){return{resources:e,enabled:!!e,loading:r}})),{onClose:m.Xg.bind(null,v.zj.DELETE_RESOURCE,"value",void 0),onDelete:p.EU.bind(null,v.zj.DELETE_RESOURCE)})((function(e){var r=e.enabled,t=e.resources,n=void 0===t?[]:t,l=e.onClose,o=void 0===l?function(){}:l,c=e.onDelete,i=void 0===c?function(){}:c,m=e.redirectTo,f=void 0===m?"/":m,p=e.loading;return a().createElement(d.Z,null,a().createElement(u.Z,{title:a().createElement(s.Z,{msgId:"gnviewer.deleteResourceTitle",msgParams:{count:n.length}}),show:r,fitContent:!0,clickOutEnabled:!1,modalClassName:"gn-simple-dialog",buttons:p?[]:[{text:a().createElement(s.Z,{msgId:"gnviewer.deleteResourceNo",msgParams:{count:n.length}}),onClick:function(){return o()}},{text:a().createElement(s.Z,{msgId:"gnviewer.deleteResourceYes",msgParams:{count:n.length}}),bsStyle:"danger",onClick:function(){return i(n,f)}}],onClose:p?null:function(){return o()}},a().createElement("ul",{className:"gn-card-grid",style:{listStyleType:"none",padding:"0.5rem",margin:0}},n.map((function(e,r){return a().createElement("li",{style:{padding:"0.25rem 0"},key:e.pk+"-"+r},a().createElement(g.Z,{data:e,layoutCardsStyle:"list",readOnly:!0}))}))),p&&a().createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(255, 255, 255, 0.8)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"}},a().createElement(y.Z,{size:70}))))})),h=(0,o.connect)((0,c.P1)([f.yK],(function(e){return{resource:e}})),{onClick:m.Xg.bind(null,v.zj.DELETE_RESOURCE,"value")})((function(e){var r=e.onClick,t=e.size,n=e.resource;return a().createElement(i.Z,{variant:"danger",size:t,onClick:function(){r([n])}},a().createElement(s.Z,{msgId:"gnhome.delete"}))}));const b=(0,l.rx)("DeleteResource",{component:E,containers:{ActionNavbar:{name:"DeleteResource",Component:h}},epics:{},reducers:{}})},19081:(e,r,t)=>{"use strict";e.exports=t(1174)}}]);