"use strict";(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[65512],{615402:(e,r,t)=>{t.d(r,{Z:()=>b});var n=t(45697),o=t.n(n),i=t(124852),u=t.n(i);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function a(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(l=function(){return!!e})()}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function s(e,r){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},s(e,r)}function d(e,r,t){return(r=y(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function y(e){var r=function(e){if("object"!=c(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,"string");if("object"!=c(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==c(r)?r:r+""}var p=t(868195).FormattedHTMLMessage,m=function(e){function r(){return function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r),function(e,r,t){return r=f(r),function(e,r){if(r&&("object"==c(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,l()?Reflect.construct(r,t||[],f(e).constructor):r.apply(e,t))}(this,r,arguments)}return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&s(e,r)}(r,e),t=r,(n=[{key:"render",value:function(){return this.context.intl?u().createElement(p,{id:this.props.msgId,values:this.props.msgParams}):u().createElement("span",null,this.props.msgId||"")}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}(u().Component);d(m,"propTypes",{msgId:o().string.isRequired,msgParams:o().object}),d(m,"contextTypes",{intl:o().object});const b=m},957914:(e,r,t)=>{t.d(r,{Z:()=>n.Z});var n=t(205342)},916462:(e,r,t)=>{t.r(r),t.d(r,{default:()=>$});var n=t(124852),o=t.n(n),i=t(171703),u=t(180307),c=t(322843),a=t(472500),l=t.n(a),f=t(22222),s=t(770058),d=t(93993),y=t(693473),p=t(51605),m=t(615402),b=t(507412),v=t(580628),g=t(957914),h=t(535721);const O=function(e){var r=e.resources,t=e.formatHref,n=e.isCardActive,i=e.buildHrefByTemplate,u=e.options,c=e.downloading,a=e.getDetailHref;return o().createElement("ul",{className:"gn-card-list gn-cards-type-grid"},r.map((function(e){var r=(0,h.fu)(e).isProcessing;return o().createElement("li",{key:null==e?void 0:e.pk},o().createElement(g.Z,{active:n(e),data:e,formatHref:t,options:u,buildHrefByTemplate:i,layoutCardsStyle:"grid",loading:r,readOnly:r,featured:!0,downloading:!(null==c||!c.find((function(r){return r.pk===e.pk}))),getDetailHref:a}))})))};function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function j(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function w(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?j(Object(t),!0).forEach((function(r){S(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function S(e,r,t){return(r=function(e){var r=function(e){if("object"!=P(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,"string");if("object"!=P(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==P(r)?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var E=(0,v.Z)((function(e){var r=e.resources,t=e.loading,i=e.isNextPageAvailable,u=e.formatHref,c=e.isCardActive,a=e.containerStyle,l=e.header,f=e.buildHrefByTemplate,s=e.isPreviousPageAvailable,d=e.loadFeaturedResources,v=e.onLoad,g=e.width,h=e.downloading,P=e.getDetailHref,j=e.cardsCount,S=void 0===j?4:j,E=w({fontSize:"1rem"},!i||t?{color:"grey",cursor:"not-allowed"}:{cursor:"pointer"}),A=w({fontSize:"1rem"},!s||t?{color:"grey",cursor:"not-allowed"}:{cursor:"pointer"});return(0,n.useEffect)((function(){v(void 0,S)}),[S]),o().createElement("div",{className:"gn-card-grid",style:0===r.length?{display:"none"}:{}},l,o().createElement("div",{className:"gn-card-grid-container",style:a},o().createElement("h3",null,o().createElement(m.Z,{msgId:"gnhome.featuredList"})),o().createElement(O,{featured:!0,resources:r,formatHref:u,isCardActive:c,buildHrefByTemplate:f,containerWidth:g,downloading:h,getDetailHref:P}),o().createElement("div",{className:"gn-card-grid-pagination featured-list"},o().createElement(y.Z,{size:"sm",onClick:function(){return d("previous",S)},disabled:!s||t,"aria-hidden":"true"},o().createElement(b.Z,{style:A,name:"caret-left"})),o().createElement("div",null,t&&o().createElement(p.Z,{size:"sm",animation:"border",role:"status"},o().createElement("span",{className:"sr-only"},"Loading..."))),o().createElement(y.Z,{size:"sm",onClick:function(){return d("next",S)},disabled:!i||t,"aria-hidden":"true"},o().createElement(b.Z,{style:E,name:"caret-right"})))))}));E.defaultProps={page:1,resources:[],isNextPageAvailable:!1,loading:!1,formatHref:function(){return"#"},isCardActive:function(){return!1},isPreviousPageAvailable:!1,onLoad:function(){}};const A=E;var H=t(877593),k=t(653488),Z=t(452992),C=t(805207),T=t(572036),D=t(555168),_=t(980754),R=t(18576),x=t(331869);function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function B(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function F(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?B(Object(t),!0).forEach((function(r){I(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):B(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function I(e,r,t){return(r=function(e){var r=function(e){if("object"!=N(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,"string");if("object"!=N(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==N(r)?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var z=(0,i.connect)((0,f.P1)([k.n,function(e){var r,t;return(null==e||null===(r=e.gnsearch)||void 0===r||null===(t=r.featuredResources)||void 0===t?void 0:t.page)||1},function(e){var r,t;return(null==e||null===(r=e.gnsearch)||void 0===r||null===(t=r.featuredResources)||void 0===t?void 0:t.isNextPageAvailable)||!1},function(e){var r,t;return(null==e||null===(r=e.gnsearch)||void 0===r||null===(t=r.featuredResources)||void 0===t?void 0:t.isPreviousPageAvailable)||!1},function(e){var r,t;return(null==e||null===(r=e.gnsearch)||void 0===r||null===(t=r.featuredResources)||void 0===t?void 0:t.loading)||!1},Z.aZ],(function(e,r,t,n,o,i){return{resources:e,page:r,isNextPageAvailable:t,isPreviousPageAvailable:n,loading:o,downloading:i}})),{loadFeaturedResources:d.Jl})(A);function L(e){var r=e.targetSelector,t=void 0===r?"":r,n=e.children,i=t?document.querySelector(t):null;return i?(0,u.createPortal)(n,i):o().createElement(o().Fragment,null,n)}var q=(0,i.connect)((0,f.P1)([function(e){var r;return null==e||null===(r=e.router)||void 0===r?void 0:r.location},function(e){var r;return(null==e||null===(r=e.gnresource)||void 0===r?void 0:r.data)||null}],(function(e,r){return{location:e,resource:r}})),{fetchFeaturedResources:d.Jl})((function(e){var r=e.location,t=e.pagePath,n=void 0===t?"":t,i=e.fetchFeaturedResources,u=e.targetSelector,c=e.resource;function a(e){return n+(0,H.nz)(F({location:r},e))}var f=l().parse(r.search,!0).query;return o().createElement(L,{targetSelector:u},o().createElement("div",{className:"gn-row gn-home-section"},o().createElement("div",{className:"gn-grid-container"},o().createElement(z,{query:f,getDetailHref:function(e){return a({query:{d:"".concat(e.pk,";").concat(e.resource_type).concat(e.subtype?";".concat(e.subtype):"")},replaceQuery:!0,excludeQueryKeys:[]})},formatHref:a,cardOptions:[],isCardActive:function(e){return e.pk===(null==c?void 0:c.pk)},buildHrefByTemplate:s.QH,onLoad:i,containerStyle:{minHeight:"auto"}}))))}));const $=(0,c.rx)("FeaturedResourcesGrid",{component:q,containers:{},epics:F(F(F({},_.ZP),R.ZP),x.ZP),reducers:{gnsearch:C.Z,gnresource:T.Z,resourceservice:D.Z}})},770058:(e,r,t)=>{t.d(r,{gj:()=>d,QH:()=>y,mk:()=>p,BK:()=>m,bH:()=>b,_y:()=>v});var n=t(227361),o=t.n(n),i=t(414293),u=t.n(i),c=t(322843),a=t(368523);function l(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,i,u,c=[],a=!0,l=!1;try{if(i=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;a=!1}else for(;!(a=(n=i.call(t)).done)&&(c.push(n.value),c.length!==r);a=!0);}catch(e){l=!0,o=e}finally{try{if(!a&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(l)throw o}}return c}}(e,r)||function(e,r){if(e){if("string"==typeof e)return f(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?f(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function d(e,r,t){var n=r?r.filter((function(e){return e.type===t})):void 0;return void 0===n||n&&0===n.length||n&&n.some((function(r){return e&&e.includes(null==r?void 0:r.value)}))}function y(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",n=r.split(t).map((function(r){return function(e,r){return 0===(null==r?void 0:r.indexOf("${"))?o()(e,r.replace(/^\$\{(.*)\}$/,"$1")):r}(e,r)}));return n.join(t)}var p=function(e){return!(""===e||u()(e))},m=function(e){var r=function(t){return t&&"object"===s(t)?Array.isArray(t)?t.map(r):Object.fromEntries(Object.entries(t).map((function(t){var n=l(t,2),o=n[0],i=n[1];return[o,r(i,e)]}))):e(t)};return r},b=function(e,r){return e&&e.reduce((function(e,t){var n=t;return Object.entries(t).forEach((function(e){var o=l(e,2),i=o[0],u=o[1];Array.isArray(u)&&(n[i]=b(t[i],r))})),r(n)&&e.push(n),e}),[])},v=function(e,r){var t=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).filterFunc,n=void 0===t?function(e){return!e.disableIf}:t;return l(b([m((function(r){return(0,c.CU)((function(r){return o()(e,r)}),(0,a.z)(),r)}))(r)],n),1)[0]}}}]);