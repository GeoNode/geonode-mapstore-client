(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[27290],{989077:(n,r,e)=>{"use strict";e.d(r,{Yf:()=>h,Lz:()=>S,LR:()=>b,RP:()=>A,I:()=>k,zr:()=>O,xp:()=>x,jU:()=>w,mr:()=>j});var t=e(178598),o=e.n(t),i=e(859825),a=e(997995),c=e.n(a),u=e(279003),l=e.n(u),f=(e(489597),e(966085)),s=e.n(f),p=e(882702),d=(e(727418),e(972163),e(505055),e(3674),e(252628),e(227361),e(91175),e(66604),e(187185),e(630998),e(478718),e(218721),e(493220),e(984596),e(423570),e(957557),e(747037),e(385564)),v=e.n(d);function m(n,r){return function(n){if(Array.isArray(n))return n}(n)||function(n,r){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var t,o,i,a,c=[],u=!0,l=!1;try{if(i=(e=e.call(n)).next,0===r){if(Object(e)!==e)return;u=!1}else for(;!(u=(t=i.call(e)).done)&&(c.push(t.value),c.length!==r);u=!0);}catch(n){l=!0,o=n}finally{try{if(!u&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(n,r)||function(n,r){if(n){if("string"==typeof n)return g(n,r);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?g(n,r):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(n,r){(null==r||r>n.length)&&(r=n.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=n[e];return t}e(313311),e(406557);var y=function(n,r,e,t){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return v()([[[/\&/g,"&amp;"]],n?[]:[[/\"/g,"&quot;"]],r?[]:[[/\'/g,"&apos;"]],e?[]:[[/\>/g,"&gt;"]],t?[]:[[/\</g,"&lt;"]]]).reduce((function(n,r){var e=m(r,2),t=e[0],o=e[1];return n.replace(t,o)}),o)};y.bind(null,!0,!0,!0,!1),y.bind(null,!1,!1,!0,!1),e(624262),e(916651),new DOMParser;var h={avi:"video/avi",gpx:"application/gpx+xml",kmz:"application/vnd.google-earth.kmz",kml:"application/vnd.google-earth.kml+xml",dxf:"image/vnd.dxf",zip:"application/zip",json:"application/json",geojson:"application/json",wmc:"application/vnd.wmc"},w=function(n){return n.split(".").slice(-1)[0]},b=function(n,r,e){var t=new Blob([n],{type:e});o().saveAs(t,r)},A=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"snapshot.png",e=arguments.length>2?arguments[2]:void 0;b(c()(n),r,e)},j=function(n){return[].concat(l().parseZip(n))},x=function(n){return new p.Promise((function(r,e){var t=new FileReader;t.onload=function(){r(t.result)},t.onerror=function(){e(t.error.name)},t.readAsArrayBuffer(n)}))},O=function(n){return new p.Promise((function(r,e){var t=new FileReader;t.onload=function(){try{r(JSON.parse(t.result))}catch(n){e(n)}},t.onerror=function(){e(t.error.name)},t.readAsText(n)}))},k=function(n){return new p.Promise((function(r,e){var t=new FileReader;t.onload=function(){try{var n=(new i.H).parseSync(t.result);r(n)}catch(n){e(n)}},t.onerror=function(){e(t.error.name)},t.readAsText(n)}))},S=function(n){var r=new(s());return new p.Promise((function(e){r.loadAsync(n).then((function(n){var r=n.files,t=void 0===r?{}:r,o=Object.keys(t).filter((function(n){return!t[n].dir&&0!==n.indexOf("__MACOSX")&&n.indexOf(".shp")===n.length-4})).map((function(n){return n.slice(0,-4)})).reduce((function(n,r){return n.concat(!t["".concat(r,".prj")]&&r||[])}),[]);e(o)}))}))}},272810:()=>{},486799:()=>{}}]);