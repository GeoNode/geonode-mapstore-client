(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[88805],{921533:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(867076),o=r(815135),i=r(159979);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var l=["renderPopover","popoverOptions"];function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}const u=(0,n.compose)((0,n.withProps)((function(e){var t=e.renderPopover,r=e.popoverOptions;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){var n,o,i,l;n=e,o=t,i=r[t],l=function(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==a(l)?l:String(l))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}(t?{renderPopover:t,popoverOptions:r}:{},function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,l))})),(0,n.branch)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.renderPopover,r=e.popoverOptions;return t&&!!r}),i.Z,o.Z))},159979:(e,t,r)=>{"use strict";r.d(t,{Z:()=>O});var n=r(124852),o=r.n(n),i=r(352595),a=r(480681),l=r(957557),c=r.n(l),u=r(180307),s=r.n(u);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}var f=["popoverOptions","keyProp"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d.apply(this,arguments)}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function b(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==p(t)?t:String(t)}function y(e,t,r){return t=v(t),function(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,g()?Reflect.construct(t,r||[],v(e).constructor):t.apply(e,r))}function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(g=function(){return!!e})()}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}const O=function(e){return function(t){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),y(this,r,arguments)}var n,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(r,t),n=r,(l=[{key:"render",value:function(){var t=null,r=this.props,n=r.popoverOptions,l=r.keyProp,u=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(r,f);return o().createElement("span",{className:"mapstore-info-popover"},o().createElement(e,d({},c()(u,["renderPopover","tooltipId"]),{key:l,ref:function(e){t=e}})),o().createElement(i.Z,{placement:n.placement,shouldUpdatePosition:!0,show:!0,target:function(){return s().findDOMNode(t)}},o().createElement(a.Popover,n.props,n.content)))}}])&&m(n.prototype,l),Object.defineProperty(n,"prototype",{writable:!1}),r}(o().Component)}},656903:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(124852),o=r.n(n),i=r(480681),a=r(38560),l=["disabled","id","visible","onClick","glyph","active","className"];function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}var u={width:0,padding:0,borderWidth:0},s={},p=function(e){return e?s:u};const f=(0,n.forwardRef)((function(e,t){var r=e.disabled,n=e.id,u=e.visible,s=e.onClick,f=e.glyph,d=e.active,m=e.className,b=void 0===m?"square-button-md":m,y=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,l);return o().createElement(a.Z,c({ref:t},y,{bsStyle:d?"success":"primary",disabled:r,id:"fg-".concat(n),style:p(u),className:b,onClick:function(){return!r&&s()}}),o().createElement(i.Glyphicon,{glyph:f}))}))},965539:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(124852),o=r.n(n);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){var n,o,a,l;n=e,o=t,a=r[t],l=function(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==i(l)?l:String(l))in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const c=function(e){var t=e.id,r=e.children,n=e.header,i=e.footer,a=e.columns,c=e.height,u=e.style,s=void 0===u?{}:u,p=e.className,f=e.bodyClassName,d=void 0===f?"ms2-border-layout-body":f;return o().createElement("div",{id:t,className:p,style:l({display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"hidden"},s)},n,o().createElement("div",{className:d,style:{display:"flex",flex:1,overflowY:"auto"}},o().createElement("main",{className:"ms2-border-layout-content",style:{flex:1,overflowX:"hidden"}},c?o().createElement("div",{style:{height:c}},r):r),c?o().createElement("div",{style:{height:c}},a):a),i)}},38560:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(480681),o=r(124852),i=r.n(o),a=r(294184),l=r.n(a),c=["disabled","className","onClick"];function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u.apply(this,arguments)}var s=r(815135);const p=(f=n.Button,i().forwardRef((function(e,t){var r=e.disabled,n=e.className,o=e.onClick,a=void 0===o?function(){}:o,s=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,c);return i().createElement(f,u({ref:t,className:r?l()("disabled",n):n,onClick:function(){r||a.apply(void 0,arguments)}},s),s.children)})));var f;(0,s.Z)(n.Button)},501262:(e,t,r)=>{"use strict";r.d(t,{Z:()=>C});var n=r(727418),o=r.n(n),i=r(675263),a=r.n(i),l=r(124852),c=r.n(l),u=r(180307),s=r.n(u),p=r(480681),f=r(38560),d=r(805346),m=r(807472);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S(n.key),n)}}function g(e,t,r){return t=h(t),function(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return O(e)}(e,v()?Reflect.construct(t,r||[],h(e).constructor):t.apply(e,r))}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v=function(){return!!e})()}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function E(e,t,r){return(t=S(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e){var t=function(e,t){if("object"!=b(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==b(t)?t:String(t)}var j=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return E(O(e=g(this,t,[].concat(n))),"setConfirmRef",(function(t){return e.confirm=t,e.confirm})),e}var r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(t,e),r=t,(n=[{key:"componentDidMount",value:function(){this.props.focusConfirm&&s().findDOMNode(this.confirm).focus()}},{key:"render",value:function(){return c().createElement(m.Z,{draggable:this.props.draggable,onClickOut:this.props.onClose,id:"confirm-dialog",modal:this.props.modal,style:o()({},this.props.style,{display:this.props.show?"block":"none"})},c().createElement("span",{role:"header"},c().createElement("span",{className:"user-panel-title"},this.props.title),c().createElement("button",{onClick:this.props.onClose,className:"login-panel-close close"},this.props.closeGlyph?c().createElement(p.Glyphicon,{glyph:this.props.closeGlyph}):c().createElement("span",null,"×"))),c().createElement("div",{role:"body"},this.props.children),c().createElement("div",{role:"footer"},c().createElement(p.ButtonGroup,null,c().createElement(f.Z,{ref:this.setConfirmRef,onClick:this.props.onConfirm,disabled:this.props.confirmButtonDisabled,bsStyle:this.props.confirmButtonBSStyle},this.props.confirmButtonContent),c().createElement(f.Z,{onClick:this.props.onClose},this.props.closeText))))}}])&&y(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),t}(c().Component);E(j,"propTypes",{show:a().bool,draggable:a().bool,onClose:a().func,onConfirm:a().func,onSave:a().func,modal:a().bool,closeGlyph:a().string,style:a().object,buttonSize:a().string,inputStyle:a().object,title:a().node,confirmButtonContent:a().node,confirmButtonDisabled:a().bool,closeText:a().node,confirmButtonBSStyle:a().string,focusConfirm:a().bool}),E(j,"defaultProps",{onClose:function(){},onChange:function(){},modal:!0,title:c().createElement(d.Z,{msgId:"confirmTitle"}),closeGlyph:"",confirmButtonBSStyle:"danger",confirmButtonDisabled:!1,confirmButtonContent:c().createElement(d.Z,{msgId:"confirm"})||"Confirm",closeText:c().createElement(d.Z,{msgId:"close"}),includeCloseButton:!0,focusConfirm:!1});const C=j},807472:(e,t,r)=>{"use strict";r.d(t,{Z:()=>P});var n=r(727418),o=r.n(n),i=r(675263),a=r.n(i),l=r(124852),c=r.n(l),u=r(485294),s=r.n(u),p=r(472986),f=r.n(p),d=r(805346);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j(n.key),n)}}function v(e,t,r){return t=O(t),function(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}(e,h()?Reflect.construct(t,r||[],O(e).constructor):t.apply(e,r))}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(h=function(){return!!e})()}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}function S(e,t,r){return(t=j(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e){var t=function(e,t){if("object"!=m(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==m(t)?t:String(t)}var C=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return S(w(e=v(this,t,[].concat(n))),"renderLoading",(function(){return e.props.maskLoading?c().createElement("div",{style:{width:"100%",height:"100%",position:"absolute",overflow:"visible",margin:"auto",verticalAlign:"center",left:"0",background:"rgba(255, 255, 255, 0.5)",zIndex:2}},c().createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -40%)"}},c().createElement(d.Z,{msgId:"loading"}),c().createElement(f(),{spinnerName:"circle",noFadeIn:!0,overrideSpinnerClassName:"spinner"}))):null})),S(w(e),"renderRole",(function(t){return c().Children.toArray(e.props.children).filter((function(e){return e.props.role===t}))})),S(w(e),"hasRole",(function(t){return c().Children.toArray(e.props.children).filter((function(e){return e.props.role===t})).length>0})),S(w(e),"onClickOut",(function(t){e.props.onClickOut&&e.mask===t.target&&e.props.onClickOut(t)})),e}var r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this,t=c().createElement("div",{id:this.props.id,style:y({},this.props.style),className:"".concat(this.props.draggable?"modal-dialog-draggable":""," ").concat(this.props.className," modal-dialog-container")},c().createElement("div",{className:this.props.headerClassName+" draggable-header"},this.renderRole("header")),c().createElement("div",{className:this.props.bodyClassName},this.renderLoading(),this.renderRole("body")),this.hasRole("footer")?c().createElement("div",{className:this.props.footerClassName},this.renderRole("footer")):c().createElement("span",null)),r=this.props.draggable?c().createElement(s(),{defaultPosition:this.props.start,bounds:this.props.bounds,handle:".draggable-header, .draggable-header *"},t):t,n=o()({},this.props.style.display?{display:this.props.style.display}:{},this.props.backgroundStyle);return this.props.modal?c().createElement("div",{ref:function(t){e.mask=t},onClick:this.onClickOut,style:n,className:"fade in modal "+this.props.containerClassName,role:"dialog"},r):r}}])&&g(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),t}(c().Component);S(C,"propTypes",{id:a().string.isRequired,style:a().object,backgroundStyle:a().object,className:a().string,maskLoading:a().bool,containerClassName:a().string,headerClassName:a().string,bodyClassName:a().string,footerClassName:a().string,onClickOut:a().func,modal:a().bool,start:a().object,draggable:a().bool,bounds:a().oneOfType([a().string,a().object])}),S(C,"defaultProps",{style:{},backgroundStyle:{background:"rgba(0,0,0,.5)"},start:{x:0,y:150},className:"modal-dialog modal-content",maskLoading:!1,containerClassName:"",headerClassName:"modal-header",bodyClassName:"modal-body",footerClassName:"modal-footer",modal:!1,draggable:!0,bounds:"parent"});const P=C},352595:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=(0,r(461365).Z)(r(480681).Overlay)},399534:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(461365),o=r(356936);const i=(0,n.Z)(o.h_)},273849:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(867076),o=r(828878),i=r(49977),a=r.n(i);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){var n,o,i,a;n=e,o=t,i=r[t],a=function(e,t){if("object"!=l(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==l(a)?a:String(a))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s=(0,n.mapPropsStreamWithConfig)(o.Z);const p=(0,n.compose)((0,n.defaultProps)({dataStreamFactory:function(){return a().Observable.of({})}}),s((function(e){return e.take(1).switchMap((function(t){return t.dataStreamFactory(e.startWith(t),t)})).combineLatest(e,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(u({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),e)}))})))},737174:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Ue,selector:()=>We});var n=r(124852),o=r.n(n),i=r(171703),a=r(22222),l=r(12838),c=r(227361),u=r.n(c),s=r(478718),p=r.n(s),f=r(618446),d=r.n(f),m=r(867076),b=r(732833),y=r(496259),g=r(946723),v=r(965539),h=r(196958),O=r(433528),w=r(55105),E=r(824260),S=r(731255),j=r(501262),C=r(399534),P=r(805346),k=r(830029),T=r(49988),x=r(480681),D=r(472986),I=r.n(D),N=r(38560),F=r(893379),Z=r.n(F),B=r(213506);Z()(B.Z,{insert:"head",singleton:!1}),B.Z.locals;var M=r(189734),A=r.n(M),G=r(921533),z=r(656903),_=r(415124),Y=r(210308);Z()(Y.Z,{insert:"head",singleton:!1}),Y.Z.locals;var L=r(294184),R=r.n(L);function V(e){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e)}var W=["disabled","id","visible","onClick","active","title","buttonClassName","menuStyle","className","children","onMount"];function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q.apply(this,arguments)}function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){K(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function K(e,t,r){var n;return n=function(e,t){if("object"!=V(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=V(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==V(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const X=(0,n.forwardRef)((function(e,t){var r,i,a=e.disabled,l=e.id,c=e.visible,u=e.onClick,s=e.active,p=e.title,f=e.buttonClassName,d=void 0===f?"square-button-md":f,m=e.menuStyle,b=void 0===m?{}:m,g=e.className,v=e.children,h=e.onMount,O=void 0===h?function(){}:h,w=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,W),E=(r=(0,n.useState)(!1),i=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(r,i)||function(e,t){if(e){if("string"==typeof e)return Q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Q(e,t):void 0}}(r,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),S=E[0],j=E[1];return(0,n.useEffect)((function(){"function"==typeof O&&O()}),[]),!!c&&o().createElement(y.Z,null,o().createElement(x.Dropdown,{className:R()(H({"split-button":!0},g?K({},g,!0):{})),open:S,onToggle:function(e,t){t&&j(e)}},o().createElement(x.Button,q({ref:t,id:l,onClick:function(){return!a&&u()},className:d,bsStyle:s?"success":"primary"},w),p),o().createElement(x.Dropdown.Toggle,{bsStyle:s?"success":"primary"}),o().createElement(x.Dropdown.Menu,{style:b,onSelect:function(e){["number","text"].includes(e.target.type)?j(!0):j(!S)}},v)))}));var $=r(743129),J=r(898631);function ee(e){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(e)}var te=["position"];function re(){return re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},re.apply(this,arguments)}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(r),!0).forEach((function(t){var n,o,i,a;n=e,o=t,i=r[t],a=function(e,t){if("object"!=ee(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=ee(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==ee(a)?a:String(a))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ae=(0,G.Z)(z.Z),le=(0,G.Z)(X),ce=function(e,t){return e?"featuregrid.toolbar.stopDrawGeom":t?"featuregrid.toolbar.drawGeom":"featuregrid.toolbar.addGeom"},ue=function(e){var t=e.saving,r=e.saved;return t||r?"featuregrid.toolbar.saving":"featuregrid.toolbar.saveChanges"},se={editMode:function(e){var t=e.disabled,r=e.mode,n=e.isEditingAllowed,i=e.layer,a=e.events,l=void 0===a?{}:a;return o().createElement(ae,{id:"edit-mode",keyProp:"edit-mode",tooltipId:"featuregrid.toolbar.editMode",disabled:t,visible:"VIEW"===r&&n&&(0,h.BF)(i),onClick:l.switchEditMode,glyph:"pencil"})},filter:function(e){var t=e.isFilterActive,r=void 0!==t&&t,n=e.viewportFilter,i=e.disabled,a=e.isSearchAllowed,l=e.mode,c=e.showAdvancedFilterButton,u=void 0===c||c,s=e.events,p=void 0===s?{}:s;return o().createElement(ae,{id:"search",keyProp:"search",tooltipId:"featuregrid.toolbar.advancedFilter",active:r||n,disabled:i||!a,visible:"VIEW"===l&&u,onClick:p.showQueryPanel,glyph:"filter"})},zoomAll:function(e){var t=e.disabled,r=e.disableZoomAll,n=void 0!==r&&r,i=e.mode,a=e.events,l=void 0===a?{}:a;return o().createElement(ae,{id:"zoom-all",keyProp:"zoom-all",tooltipId:"featuregrid.toolbar.zoomAll",disabled:t||n,visible:"VIEW"===i,onClick:l.zoomAll,glyph:"zoom-to"})},backToViewMode:function(e){var t=e.disabled,r=e.mode,n=e.hasChanges,i=e.hasNewFeatures,a=e.events,l=void 0===a?{}:a;return o().createElement(ae,{id:"back-view",keyProp:"back-view",tooltipId:"featuregrid.toolbar.quitEditMode",disabled:t,visible:"EDIT"===r&&!n&&!i,onClick:l.switchViewMode,glyph:"arrow-left"})},addFeature:function(e){var t=e.disabled,r=e.mode,n=e.hasNewFeatures,i=e.hasChanges,a=e.hasSupportedGeometry,l=void 0===a||a,c=e.events,u=void 0===c?{}:c;return o().createElement(ae,{id:"add-feature",keyProp:"add-feature",tooltipId:"featuregrid.toolbar.addNewFeatures",disabled:t,visible:"EDIT"===r&&!n&&!i&&l,onClick:u.createFeature,glyph:"row-add"})},drawFeature:function(e){var t=e.isDrawing,r=void 0!==t&&t,n=e.disabled,i=e.isSimpleGeom,a=e.mode,l=e.selectedCount,c=e.hasGeometry,u=e.hasSupportedGeometry,s=void 0===u||u,p=e.events,f=void 0===p?{}:p;return o().createElement(ae,{id:"draw-feature",keyProp:"draw-feature",tooltipId:ce(r,i),disabled:n,visible:"EDIT"===a&&1===l&&(!c||c&&!i)&&s,onClick:f.startDrawingFeature,active:r,glyph:"pencil-add"})},removeFeature:function(e){var t=e.disabled,r=e.mode,n=e.selectedCount,i=e.hasChanges,a=e.hasNewFeatures,l=e.events,c=void 0===l?{}:l;return o().createElement(ae,{id:"remove-features",keyProp:"remove-features",tooltipId:"featuregrid.toolbar.deleteSelectedFeatures",disabled:t,visible:"EDIT"===r&&n>0&&!i&&!a,onClick:c.deleteFeatures,glyph:"trash-square"})},saveFeature:function(e){var t=e.saving,r=void 0!==t&&t,n=e.saved,i=void 0!==n&&n,a=e.disabled,l=e.mode,c=e.hasChanges,u=e.hasNewFeatures,s=e.events,p=void 0===s?{}:s;return o().createElement(ae,{id:"save-feature",keyProp:"save-feature",tooltipId:ue({saving:r,saved:i}),disabled:r||i||a,visible:"EDIT"===l&&c||u,active:i,onClick:p.saveChanges,glyph:"floppy-disk"})},cancelEditing:function(e){var t=e.disabled,r=e.mode,n=e.hasChanges,i=e.hasNewFeatures,a=e.events,l=void 0===a?{}:a;return o().createElement(ae,{id:"cancel-editing",keyProp:"cancel-editing",tooltipId:"featuregrid.toolbar.cancelChanges",disabled:t,visible:"EDIT"===r&&n||i,onClick:l.clearFeatureEditing,glyph:"remove-square"})},deleteGeometry:function(e){var t=e.disabled,r=e.mode,n=e.hasGeometry,i=e.selectedCount,a=e.hasSupportedGeometry,l=void 0===a||a,c=e.events,u=void 0===c?{}:c;return o().createElement(ae,{id:"delete-geometry",keyProp:"delete-geometry",tooltipId:"featuregrid.toolbar.deleteGeometry",disabled:t,visible:"EDIT"===r&&n&&1===i&&l,onClick:u.deleteGeometry,glyph:"polygon-trash"})},gridSettings:function(e){var t=e.disabled,r=e.isColumnsOpen,n=e.selectedCount,i=e.mode,a=e.events,l=void 0===a?{}:a;return o().createElement(ae,{id:"grid-settings",keyProp:"grid-settings",tooltipId:"featuregrid.toolbar.hideShowColumns",disabled:t,active:r,visible:n<=1&&"VIEW"===i,onClick:l.settings,glyph:"features-grid-set"})},syncGridFilterToMap:function(e){var t=e.disabled,r=e.isSyncActive,n=void 0!==r&&r,i=e.showSyncOnMapButton,a=void 0===i||i,l=e.events,c=void 0===l?{}:l,u=e.syncPopover,s=void 0===u?{dockSize:"32.2%"}:u,p=e.showPopoverSync,f=e.hideSyncPopover;return o().createElement(ae,{id:"grid-map-filter",keyProp:"grid-map-filter",tooltipId:"featuregrid.toolbar.syncOnMap",disabled:t,active:n,visible:a,onClick:c.sync,glyph:"map-filter",renderPopover:p,popoverOptions:!t&&{placement:"top",content:o().createElement("span",null,o().createElement("p",null,o().createElement(P.Z,{msgId:"featuregrid.toolbar.synchPopoverText"})),o().createElement("p",null,o().createElement(x.Checkbox,{checked:s.showAgain,onClick:c.toggleShowAgain},o().createElement(P.Z,{msgId:"featuregrid.toolbar.notShowAgain"})))),props:{id:"sync-popover",title:o().createElement("div",null,o().createElement(P.Z,{msgId:"featuregrid.toolbar.synchPopoverTitle"}),o().createElement("button",{onClick:function(){if(s.showAgain)try{(0,_.ac)().setItem("showPopoverSync",!1)}catch(e){console.error(e)}f()},className:"close"},o().createElement(x.Glyphicon,{className:"pull-right",glyph:"1-close"}))),style:{bottom:s.dockSize}}}})},syncTimeParameter:function(e){var t=e.timeSync,r=e.showTimeSyncButton,n=void 0!==r&&r,i=e.events,a=void 0===i?{}:i;return o().createElement(ae,{id:"timeSync-button",keyProp:"fg-timeSync-button",tooltipId:t?"featuregrid.toolbar.disableTimeSync":"featuregrid.toolbar.enableTimeSync",visible:n,active:t,onClick:function(){return a.setTimeSync&&a.setTimeSync(!t)},glyph:"time"})},snapToFeature:function(e){var t,r,n,i,a,l,c,u,s,p,f,d,m,b=e.snapping,y=e.availableSnappingLayers,g=void 0===y?[]:y,v=e.isSnappingLoading,h=e.snappingConfig,O=e.mode,w=e.mapType,E=e.editorHeight,S=e.pluginCfg,j=e.events,C=void 0===j?{}:j;return o().createElement(le,{id:"snap-button",keyProp:"snap-button",tooltipId:b?"featuregrid.toolbar.disableSnapping":"featuregrid.toolbar.enableSnapping",visible:"EDIT"===O&&(null===(t=null==S?void 0:S.snapTool)||void 0===t||t)&&w===J.Bk.OPENLAYERS,onClick:function(){C.toggleSnapping&&C.toggleSnapping(!b)},onMount:function(){return!h&&C.setSnappingConfig&&C.setSnappingConfig(null,null,S)},title:v?o().createElement(I(),{spinnerName:"ball-beat",overrideSpinnerClassName:"spinner",key:"loadingSpinner",noFadeIn:!0}):o().createElement(x.Glyphicon,{glyph:"magnet"}),tooltipPosition:"top",className:"snap-tool",buttonClassName:"square-button-md no-border",menuStyle:{maxHeight:"calc(".concat(Math.round(100*E),"vh - 50px)"),overflowY:"auto"},active:!!b,pullLeft:!0},o().createElement(o().Fragment,null,o().createElement("label",{className:"control-label"},o().createElement(P.Z,{msgId:"featuregrid.toolbar.snapToLayer"})),o().createElement($.ZP,{clearable:!1,escapeClearsValue:!1,options:g,onChange:function(e){return C.setSnappingLayer(e.value)},value:g.find((function(e){return e.active}))})),o().createElement("label",{className:"control-label"},o().createElement(P.Z,{msgId:"featuregrid.toolbar.snappingSettings.header"})),o().createElement(x.FormGroup,null,o().createElement(x.Col,{xs:6},o().createElement(x.Checkbox,{key:"edge",checked:null===(r=null!==(n=null==h?void 0:h.edge)&&void 0!==n?n:null==S||null===(i=S.snapConfig)||void 0===i?void 0:i.edge)||void 0===r||r,inline:!0,onChange:function(e){return C.setSnappingConfig(e.target.checked,"edge",S)}},o().createElement(P.Z,{msgId:"featuregrid.toolbar.snappingSettings.edge"}))),o().createElement(x.Col,{xs:6},o().createElement(x.Checkbox,{key:"vertex",checked:null===(a=null!==(l=null==h?void 0:h.vertex)&&void 0!==l?l:null==S||null===(c=S.snapConfig)||void 0===c?void 0:c.vertex)||void 0===a||a,inline:!0,onChange:function(e){return C.setSnappingConfig(e.target.checked,"vertex",S)}},o().createElement(P.Z,{msgId:"featuregrid.toolbar.snappingSettings.vertex"}))),o().createElement("span",{className:"clearfix"})),o().createElement(x.FormGroup,null,o().createElement(x.Col,{xs:7},o().createElement("span",{className:"inline-control-label"},o().createElement(P.Z,{msgId:"featuregrid.toolbar.snappingSettings.pixelTolerance"}))),o().createElement(x.Col,{xs:5},o().createElement(x.FormControl,{key:"pixelTolerance",type:"number",onChange:function(e){return C.setSnappingConfig(e.target.value,"pixelTolerance",S)},defaultValue:null!==(u=null!==(s=null==h?void 0:h.pixelTolerance)&&void 0!==s?s:null==S||null===(p=S.snapConfig)||void 0===p?void 0:p.pixelTolerance)&&void 0!==u?u:10})),o().createElement("span",{className:"clearfix"})),o().createElement(x.FormGroup,null,o().createElement(x.Col,{xs:7},o().createElement("span",{className:"inline-control-label"},o().createElement(P.Z,{msgId:"featuregrid.toolbar.snappingSettings.loadingStrategy"}))),o().createElement(x.Col,{xs:5},o().createElement(x.FormControl,{componentClass:"select",defaultValue:null!==(f=null!==(d=null==h?void 0:h.strategy)&&void 0!==d?d:null==S||null===(m=S.snapConfig)||void 0===m?void 0:m.strategy)&&void 0!==f?f:"bbox",onChange:function(e){return C.setSnappingConfig(e.target.value,"strategy",S)}},o().createElement("option",{value:"bbox"},"bbox"),o().createElement("option",{value:"all"},"all"))),o().createElement("span",{className:"clearfix"})))},viewportFilter:function(e){var t,r=e.viewportFilter,n=e.isFilterByViewportSupported,i=e.pluginCfg,a=e.events,l=void 0===a?{}:a;return o().createElement(ae,{id:"viewportFilter-button",keyProp:"viewportFilter-button",tooltipId:r?"featuregrid.toolbar.disableViewportFilter":"featuregrid.toolbar.enableViewportFilter",visible:(null===(t=null==i?void 0:i.showFilterByViewportTool)||void 0===t||t)&&n,onClick:function(){l.setViewportFilter&&l.setViewportFilter(!r)},glyph:"viewport-filter",tooltipPosition:"top",className:"viewportFilter-tool",buttonClassName:"square-button-md no-border",active:null!=r?r:null==i?void 0:i.filterByViewport,pullLeft:!0})}},pe=[{name:"editMode",Component:se.editMode},{name:"backToViewMode",Component:se.backToViewMode},{name:"addFeature",Component:se.addFeature},{name:"drawFeature",Component:se.drawFeature},{name:"removeFeature",Component:se.removeFeature},{name:"saveFeature",Component:se.saveFeature},{name:"cancelEditing",Component:se.cancelEditing},{name:"deleteGeometry",Component:se.deleteGeometry},{name:"filter",Component:se.filter},{name:"viewportFilter",Component:se.viewportFilter},{name:"zoomAll",Component:se.zoomAll},{name:"gridSettings",position:900,Component:se.gridSettings},{name:"snap",position:1300,Component:se.snapToFeature},{name:"syncGridFilterToMap",position:1100,Component:se.syncGridFilterToMap},{name:"syncTimeParameter",Component:se.syncTimeParameter}].map((function(e,t){var r=e.position;return ie(ie({},function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,te)),{},{position:null!=r?r:t})}));const fe=o().memo((function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.toolbarItems,i=void 0===n?[]:n,a=r.pluginCfg,l=void 0===a?{showPopoverSync:!1}:a,c=(e=o().useState(null!==(0,_.ac)().getItem("showPopoverSync")&&null!=l&&l.showPopoverSync?"true"===(0,_.ac)().getItem("showPopoverSync"):null==l?void 0:l.showPopoverSync),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ne(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ne(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=c[0],s=c[1];return o().useEffect((function(){u&&"EDIT"===r.mode?s(!1):u||"EDIT"===r.mode||s(null!==(0,_.ac)().getItem("showPopoverSync")&&null!=l&&l.showPopoverSync?"true"===(0,_.ac)().getItem("showPopoverSync"):null==l?void 0:l.showPopoverSync)}),[r.mode]),o().createElement(x.ButtonGroup,{id:"featuregrid-toolbar",className:"featuregrid-toolbar featuregrid-toolbar-margin"},A()(pe.concat(i),["position"]).map((function(e){var t,n=e.Component;return o().createElement(n,re({},r,{showPopoverSync:u,hideSyncPopover:function(){return s(!1)},mode:null!==(t=null==r?void 0:r.mode)&&void 0!==t?t:"VIEW",disabled:r.disableToolbar}))})))}));var de=r(93152),me=r(378889),be=r(682608),ye=r(285547);const ge=(0,i.connect)((function(e){return{attributes:(0,S.o)(e),fields:(0,S.w3)(e)}}),{onChange:function(e,t){return(0,O.an)(e,"hide",t)}})((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style,r=void 0===t?{}:t,n=e.titleMsg,i=void 0===n?"featuregrid.columns":n,a=e.onChange,l=void 0===a?function(){}:a,c=e.attributes,u=void 0===c?[]:c;return o().createElement("div",{className:"bg-body data-attribute-selector",style:r},o().createElement("h4",{className:"text-center"},o().createElement("strong",null,o().createElement(P.Z,{msgId:i}))),o().createElement("div",null,u.map((function(e){var t=(0,ye.s8)(e.label,e.attribute);return o().createElement(x.Checkbox,{key:e.attribute||e.name,checked:!e.hide,onChange:function(){return l(e.attribute,!e.hide)}},o().createElement(ye.ZP,{value:t}))}))))}));var ve=r(120096);function he(e){return he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},he(e)}function Oe(){return Oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oe.apply(this,arguments)}function we(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?we(Object(r),!0).forEach((function(t){Se(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):we(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Se(e,t,r){var n;return n=function(e,t){if("object"!=he(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=he(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==he(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var je=(0,i.connect)((0,a.zB)({loading:E.gy}))(k.Z),Ce=(0,i.connect)((0,a.zB)({saving:S.uz,saved:S.Ci,mode:S.eK,hasChanges:S.LB,hasNewFeatures:S.b4,hasGeometry:S.OK,syncPopover:function(e){return{showAgain:(0,S.tU)(e),dockSize:(0,w.ic)(e,{dockSize:!0}).dockSize+3.2+"%"}},isDrawing:S.Ae,isSimpleGeom:S.He,selectedCount:S.jY,disableToolbar:function(e){return e&&e.featuregrid&&e.featuregrid.disableToolbar||!(0,E.hk)(e,(0,S.kd)(e))},results:E.Mz,isSyncActive:E.M7,isColumnsOpen:function(e){return e&&e.featuregrid&&e.featuregrid.tools&&e.featuregrid.tools.settings},disableZoomAll:function(e){return e&&e.featuregrid.virtualScroll||0===(0,E.F0)(e).features.length},isSearchAllowed:function(e){return!(0,de.c0)(e)},isEditingAllowed:S.nq,hasSupportedGeometry:S.bq,isFilterActive:E.VD,showTimeSyncButton:S.ou,timeSync:S.DK,snapping:ve.jP,availableSnappingLayers:ve.$N,isSnappingLoading:ve.Qp,snappingConfig:ve.l,mapType:de.$v,editorHeight:S.P4,viewportFilter:S.qd,isFilterByViewportSupported:S.Kt,layer:S.Li}),(function(e){return{events:(0,l.DE)(be.XB,e)}}))(fe),Pe=(0,i.connect)((0,a.P1)(S.Sj,(function(e){return{title:e}})),{onClose:be.XB.onClose})((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{onDownloadToggle:function(){}};return o().createElement("div",{className:"data-grid-top-toolbar"},o().createElement("div",{className:"data-grid-top-toolbar-left"},e.children),!e.hideLayerTitle&&o().createElement("div",{className:"data-grid-top-toolbar-title"},e.title),o().createElement("div",{className:"data-grid-top-toolbar-right"},!e.hideCloseButton&&o().createElement(N.Z,{onClick:e.onClose,className:"square-button-md no-border featuregrid-top-toolbar-margin"},o().createElement(x.Glyphicon,{glyph:"1-close"}))))})),ke=(0,i.connect)((0,a.P1)((0,a.zB)(E.b0),E.gy,(function(e){return e&&e.featuregrid&&!!e.featuregrid.virtualScroll}),S.jY,(function(e,t,r,n){return Ee(Ee({},e),{},{selected:n,loading:t,virtualScroll:r})})),be.TL)((function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,onPageChange:function(){}},n=(0,h.DR)(r),i=n.page,a=void 0===i?0:i,l=n.size,c=void 0===l?0:l,u=n.resultSize,s=void 0===u?0:u,p=n.maxPages,f=void 0===p?0:p,d=n.total,m=void 0===d?0:d;return o().createElement(x.Grid,{className:"bg-body data-grid-bottom-toolbar",fluid:!0,style:{width:"100%"}},o().createElement(x.Row,{className:"featuregrid-toolbar-margin"},o().createElement(x.Col,{md:3},o().createElement("span",null,o().createElement(P.Z,{msgId:r.virtualScroll?"featuregrid.resultInfoVirtual":"featuregrid.resultInfo",msgParams:{start:a*c+1,end:a*c+s,total:m,selected:null!==(e=r.selected)&&void 0!==e?e:0}}))," ",r.selected>0?o().createElement("span",null,o().createElement(P.Z,{msgId:"featuregrid.selectedInfo",msgParams:{selected:null!==(t=r.selected)&&void 0!==t?t:0}})):null),r.virtualScroll?null:o().createElement(x.Col,{className:"text-center",md:6},o().createElement(N.Z,{key:"first-page",onClick:function(){return r.onPageChange(0)},disabled:0===a,className:"no-border first-page"},o().createElement(x.Glyphicon,{glyph:"step-backward"})),o().createElement(N.Z,{key:"prev-page",onClick:function(){return r.onPageChange(a-1)},disabled:0===a,className:"no-border prev-page"},o().createElement(x.Glyphicon,{glyph:"chevron-left"})),o().createElement("span",{key:"page-info"},o().createElement(P.Z,{msgId:"featuregrid.pageInfo",msgParams:{page:a+1,totalPages:f+1}})),o().createElement(N.Z,{key:"next-page",onClick:function(){return r.onPageChange(a+1)},className:"no-border next-page",disabled:a>=f},o().createElement(x.Glyphicon,{glyph:"chevron-right"})),o().createElement(N.Z,{key:"last-page",onClick:function(){return r.onPageChange(f)},className:"no-border last-page",disabled:a>=f},o().createElement(x.Glyphicon,{glyph:"step-forward"})))," ",o().createElement(x.Col,{md:3},r.loading?o().createElement("span",{style:{float:"right"}},o().createElement(P.Z,{msgId:"loading"}),o().createElement(I(),{spinnerName:"circle",style:{float:"right"},noFadeIn:!0})):null)))})),Te=(0,i.connect)((0,a.P1)(S.jY,(function(e){return{count:e}})),{onClose:function(){return(0,O.Pv)("deleteConfirm",!1)},onConfirm:function(){return(0,O.Uz)()}})((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onClose,r=void 0===t?function(){}:t,n=e.saving,i=void 0!==n&&n,a=e.count,l=e.onConfirm,c=void 0===l?function(){}:l;return o().createElement(C.Z,null,o().createElement(j.Z,{show:!0,onClose:r,onConfirm:c,confirmButtonBSStyle:"default",closeGlyph:"1-close",confirmButtonContent:o().createElement(P.Z,{msgId:"featuregrid.deleteButton"}),confirmButtonDisabled:i},o().createElement(P.Z,{msgId:"featuregrid.delete",msgParams:{count:a}})))})),xe=(0,i.connect)((0,a.P1)(S.jY,(function(e){return{count:e}})),{onClose:function(){return(0,O.Pv)("clearConfirm",!1)},onConfirm:function(){return(0,O.oL)()}})((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onClose,r=void 0===t?function(){}:t,n=e.saving,i=void 0!==n&&n,a=e.onConfirm,l=void 0===a?function(){}:a;return o().createElement(C.Z,null,o().createElement(j.Z,{draggable:!1,show:!0,onClose:r,onConfirm:l,confirmButtonBSStyle:"default",closeGlyph:"1-close",confirmButtonContent:o().createElement(P.Z,{msgId:"featuregrid.yesButton"}),confirmButtonDisabled:i,closeText:o().createElement(P.Z,{msgId:"featuregrid.noButton"})},o().createElement(P.Z,{msgId:"featuregrid.clear"})))})),De=(0,i.connect)((function(){return{}}),{onClose:function(){return(0,O.Ap)()},onConfirm:function(){return(0,O.YV)()}})((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onClose,r=void 0===t?function(){}:t,n=e.saving,i=void 0!==n&&n,a=e.onConfirm,l=void 0===a?function(){}:a;return o().createElement(C.Z,null,o().createElement(j.Z,{show:!0,onClose:r,onConfirm:l,confirmButtonBSStyle:"default",closeGlyph:"1-close",confirmButtonContent:o().createElement(P.Z,{msgId:"featuregrid.yesButton"}),confirmButtonDisabled:i,closeText:o().createElement(P.Z,{msgId:"featuregrid.noButton"})},o().createElement(P.Z,{msgId:"featuregrid.featureClose"})))})),Ie={settings:ge},Ne={deleteConfirm:Te,featureCloseConfirm:De,clearConfirm:xe},Fe={settings:{style:{padding:"0 12px",overflow:"auto",flex:"0 0 14em",boxShadow:"inset 0px 0px 10px rgba(0, 0, 0, 0.4)",height:"100%",minWidth:195}}},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).filter((function(t){return e[t]&&Ie[t]})).map((function(e){var t=Ie[e];return o().createElement(t,Oe({key:e},Fe[e]||{}))}))},Be=function(e){var t=e.hideCloseButton,r=e.hideLayerTitle,n=e.toolbarItems,i=e.pluginCfg;return o().createElement(Pe,{hideCloseButton:t,hideLayerTitle:r},o().createElement(Ce,{pluginCfg:i,toolbarItems:n}))},Me=function(e){return e.focusOnEdit&&e.hasChanges||e.newFeatures.length>0?null:o().createElement(ke,null)},Ae=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return e?((0,me.getFeatureTypeProperties)(e)||[]).reduce((function(e,n){var o,l,c=t.find((function(e){return e.name===n.name}));return Ee(Ee({},e),{},Se({},n.name,(0,i.connect)((0,a.P1)((function(e){return(0,S.g5)(e,n.name)}),S.eK,(function(e,t){var r=Ee({value:e&&(e.rawValue||e.value),operator:e&&e.operator},(0,me.isGeometryType)(n)?{filterEnabled:null==e?void 0:e.enabled,filterDeactivated:null==e?void 0:e.deactivated}:{}),o=(0,me.isGeometryType)(n)?{}:{disabled:!0,tooltipMsgId:"featuregrid.filter.tooltips.editMode"};return"EDIT"===t?Ee(Ee({},r),o):r})))((0,T.QU)({type:(0,me.isGeometryType)(n)?"geometry":n.localType,name:null==c||null===(o=c.filterRenderer)||void 0===o?void 0:o.name,options:null==c||null===(l=c.filterRenderer)||void 0===l?void 0:l.options,isWithinAttrTbl:r}))))}),{}):{}};function Ge(e){return Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ge(e)}function ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(r),!0).forEach((function(t){var n,o,i,a;n=e,o=t,i=r[t],a=function(e,t){if("object"!=Ge(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=Ge(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==Ge(a)?a:String(a))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ze(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ye(){return Ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ye.apply(this,arguments)}var Le=[],Re={},Ve=(0,i.connect)((0,a.P1)(S.P4,(function(e){return(0,w.ic)(e,{transform:!0})}),(function(e,t){return{size:e,dockStyle:t}})))(b.default),We=(0,a.zB)({open:function(e){return u()(e,"featuregrid.open")},customEditorsOptions:function(e){return u()(e,"featuregrid.customEditorsOptions")},autocompleteEnabled:function(e){return u()(e,"queryform.autocompleteEnabled")},url:function(e){return(0,E.UM)(e)},typeName:function(e){return(0,E.HY)(e)},features:function(e){return u()(e,"featuregrid.features")||Le},describe:E.Qs,fields:S.w3,attributes:function(e){return u()(e,"featuregrid.attributes")},tools:function(e){return u()(e,"featuregrid.tools")},select:S._w,mode:S.eK,changes:function(e){return(0,h.rK)((0,S.eO)(e))},newFeatures:function(e){return(0,S.kG)(e)||Le},hasChanges:S.LB,focusOnEdit:function(e){return u()(e,"featuregrid.focusOnEdit",!1)},enableColumnFilters:function(e){return u()(e,"featuregrid.enableColumnFilters")},pagination:(0,a.zB)(E.b0),pages:function(e){return u()(e,"featuregrid.pages")},size:function(e){return u()(e,"featuregrid.pagination.size")}}),qe=(0,m.compose)((0,m.defaultProps)({isWithinAttrTbl:!0}),(0,i.connect)((function(e){return{isSyncWmsActive:(0,E.M7)(e)}}),(function(e){return{onMount:(0,l.DE)(O.Z_,e),setSyncTool:(0,l.DE)(O.gL,e)}})),(0,m.lifecycle)({componentDidMount:function(){this.props.onMount(p()(this.props,["showFilteredObject","showTimeSync","timeSync","customEditorsOptions"])),this.props.isSyncWmsActive||(this.props.enableMapFilterSync?this.props.setSyncTool(!0):this.props.setSyncTool(!1))},componentDidUpdate:function(e){var t=p()(this.props,["showFilteredObject","showTimeSync","timeSync","customEditorsOptions"]),r=p()(e,["showFilteredObject","showTimeSync","timeSync","customEditorsOptions"]);d()(t,r)||this.props.onMount(t)}}),(0,i.connect)(We,(function(e){return{gridEvents:(0,l.DE)(be.gH,e),pageEvents:(0,l.DE)(be.TL,e),toolbarEvents:(0,l.DE)(be.XB,e),gridTools:be.QI.map((function(t){return _e(_e({},t),{},{events:(0,l.DE)(t.events,e)})})),onSizeChange:function(){return e(O.Ox.apply(void 0,arguments))}}})))((function(){var e,t,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{tools:Re,dialogs:Re,select:Le},a=null===(e=i.virtualScroll)||void 0===e||e,l=null==i||null===(t=i.pluginCfg)||void 0===t?void 0:t.maxZoom,c={dimMode:"none",defaultSize:.35,fluid:!0,isVisible:i.open,maxDockSize:.7,minDockSize:.1,position:"bottom",setDockSize:function(){},zIndex:1060},u=(null!==(r=null==i?void 0:i.items)&&void 0!==r?r:[]).filter((function(e){return"toolbar"===e.target})),s=(0,n.useMemo)((function(){return Ae(i.describe,i.fields,i.isWithinAttrTbl)}),[i.describe,i.fields]);return o().createElement("div",{className:"feature-grid-wrapper"},o().createElement(Ve,Ye({},c,{onSizeChange:function(e){i.onSizeChange(e,c)}}),i.open&&o().createElement(y.Z,null,(function(e){var t=e.height;return o().createElement(v.Z,{className:"feature-grid-container",key:"feature-grid-container",height:t-74,header:Be({toolbarItems:u,hideCloseButton:i.hideCloseButton,hideLayerTitle:i.hideLayerTitle,pluginCfg:i.pluginCfg}),columns:Ze(i.tools),footer:Me(i)},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).filter((function(t){return e[t]&&Ne[t]})).map((function(e){var t=Ne[e];return o().createElement(t,{key:e})}))}(i.tools),o().createElement(g.default,{isWithinAttrTbl:!0,showCheckbox:i.showCheckbox,editingAllowedRoles:i.editingAllowedRoles,customEditorsOptions:i.customEditorsOptions,autocompleteEnabled:i.autocompleteEnabled,url:i.url,typeName:i.typeName,filterRenderers:s,enableColumnFilters:i.enableColumnFilters,emptyRowsView:je,focusOnEdit:i.focusOnEdit,newFeatures:i.newFeatures,changes:i.changes,mode:i.mode,select:i.select,key:"feature-grid-container",columnSettings:i.attributes,fields:i.fields,gridEvents:i.gridEvents,pageEvents:i.pageEvents,describeFeatureType:i.describe,features:i.features,minHeight:600,tools:i.gridTools,pagination:i.pagination,pages:i.pages,virtualScroll:a,maxStoredPages:i.maxStoredPages,vsOverScan:i.vsOverScan,scrollDebounce:i.scrollDebounce,size:i.size,actionOpts:{maxZoom:l},dateFormats:i.dateFormats}))}))))}));const Ue=qe},210308:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(923645),o=r.n(n)()((function(e){return e[1]}));o.push([e.id,"#featuregrid-toolbar .snap-tool.split-button .dropdown-menu {\n  min-width: 250px;\n  min-height: 200px;\n  overflow: hidden !important;\n}\n#featuregrid-toolbar .snap-tool.split-button .dropdown-menu > label,\n#featuregrid-toolbar .snap-tool.split-button .dropdown-menu .form-group > label {\n  padding: 3px 10px;\n  margin-bottom: 0;\n}\n#featuregrid-toolbar .snap-tool.split-button .dropdown-menu .Select {\n  margin: 0 15px;\n}\n#featuregrid-toolbar .snap-tool.split-button .Select-menu-outer .Select-menu {\n  overflow: auto;\n  max-height: 150px;\n}\n",""]);const i=o},213506:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(923645),o=r.n(n)()((function(e){return e[1]}));o.push([e.id,"\n.msgapi .featuregrid-toolbar {\n    margin-top: 5px;\n    margin-bottom: 5px;\n}\n\n.msgapi #featuregrid-toolbar .btn {\n    overflow: hidden;\n}\n\n.msgapi #featuregrid-toolbar .spinner {\n    margin: 0 auto;\n    width: 100%;\n}\n\n.msgapi #featuregrid-toolbar .spinner > div {\n    background-color: white;\n    width: 8px;\n    height: 8px;\n}\n",""]);const i=o},945177:(e,t,r)=>{"use strict";var n=r(595318);t.__esModule=!0,t.default=void 0;var o,i=n(r(250139)),a="clearTimeout",l=function(e){var t=(new Date).getTime(),r=Math.max(0,16-(t-u)),n=setTimeout(e,r);return u=t,n},c=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};i.default&&["","webkit","moz","o","ms"].some((function(e){var t=c(e,"request");if(t in window)return a=c(e,"cancel"),l=function(e){return window[t](e)}}));var u=(new Date).getTime();(o=function(e){return l(e)}).cancel=function(e){window[a]&&"function"==typeof window[a]&&window[a](e)};var s=o;t.default=s,e.exports=t.default},974691:(e,t,r)=>{var n=r(829750),o=r(14841);e.exports=function(e,t,r){return void 0===r&&(r=t,t=void 0),void 0!==r&&(r=(r=o(r))==r?r:0),void 0!==t&&(t=(t=o(t))==t?t:0),n(o(e),t,r)}},93054:(e,t,r)=>{"use strict";t.__esModule=!0,t.default=function(e){if("function"!=typeof e)throw new TypeError("You must provide a valid moment object");var t="function"==typeof e().locale?"locale":"lang";if(!e.localeData)throw new TypeError("The Moment localizer depends on the `localeData` api, please provide a moment object v2.2.0 or higher");function r(r,n,o){return r?e(n,o)[t](r):e(n,o)}var n={formats:{date:"L",time:"LT",default:"lll",header:"MMMM YYYY",footer:"LL",weekday:"dd",dayOfMonth:"DD",month:"MMM",year:"YYYY",decade:function(t,r,n){return n.format(t,"YYYY",r)+" - "+n.format(function(t){return e(t).add(10,"year").add(-1,"millisecond").toDate()}(t),"YYYY",r)},century:function(t,r,n){return n.format(t,"YYYY",r)+" - "+n.format(function(t){return e(t).add(100,"year").add(-1,"millisecond").toDate()}(t),"YYYY",r)}},firstOfWeek:function(t){return e.localeData(t).firstDayOfWeek()},parse:function(e,t,n){if(!e)return null;var o=r(n,e,t);return o.isValid()?o.toDate():null},format:function(e,t,n){return r(n,e).format(t)}};return o.default.setDateLocalizer(n),n};var n,o=(n=r(577036))&&n.__esModule?n:{default:n};e.exports=t.default}}]);