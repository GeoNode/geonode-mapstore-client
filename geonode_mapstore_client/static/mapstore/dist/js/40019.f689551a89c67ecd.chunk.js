(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[40019],{8218:(e,t,r)=>{"use strict";var n=r(187355),o=r(130945),i=r(658942);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return(t=function(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(0,n.registerType)("arcgis",{create:function(e){return new o.A({msId:e.id,opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex,minResolution:e.minResolution,maxResolution:e.maxResolution,source:new i.A({params:s(s({},void 0!==e.name&&{LAYERS:"show:".concat(e.name)}),e.format&&{format:e.format}),url:e.url})})},update:function(e,t,r){r.minResolution!==t.minResolution&&e.setMinResolution(void 0===t.minResolution?0:t.minResolution),r.maxResolution!==t.maxResolution&&e.setMaxResolution(void 0===t.maxResolution?1/0:t.maxResolution)},render:function(){return null}})},727723:(e,t,r)=>{"use strict";var n=r(187355),o=r(130945),i=r(322660),a=function(e,t){e.getSource&&"error"===e.getSource().getState()&&t.onError&&t.onError(e),e.getSource&&"loading"===e.getSource().getState()&&setTimeout(a.bind(null,e,t),1e3)};n.default.registerType("bing",{create:function(e){var t=e.apiKey,r=e.maxNativeZoom||19,n=new o.A({msId:e.id,preload:1/0,opacity:void 0!==e.opacity?e.opacity:1,zIndex:e.zIndex,visible:e.visibility,minResolution:e.minResolution,maxResolution:e.maxResolution,source:new i.A({key:t,imagerySet:e.name,maxZoom:r})});return setTimeout(a.bind(null,n,e),1e3),n},update:function(e,t,r){r.minResolution!==t.minResolution&&e.setMinResolution(void 0===t.minResolution?0:t.minResolution),r.maxResolution!==t.maxResolution&&e.setMaxResolution(void 0===t.maxResolution?1/0:t.maxResolution)},isValid:function(e){return!e.getSource||"error"!==e.getSource().getState()}})},497374:(e,t,r)=>{"use strict";var n=r(187355),o=r(302404),i=r.n(o),a=r(858156),l=r.n(a),s=r(919431),u=r(10740),c=r(294312);function f(e){return new u.A({msId:e.id,style:l()(e,"style.body"),opacity:void 0!==e.opacity?e.opacity:1,visible:e.visibility,source:new s.A({convertToRGB:"auto",sources:e.sources,wrapX:!0}),zIndex:e.zIndex,minResolution:e.minResolution,maxResolution:e.maxResolution})}n.default.registerType("cog",{create:f,update:function(e,t,r,n){return t.srs===r.srs&&i()(t.style,r.style)&&i()(t.sources,r.sources)?(r.minResolution!==t.minResolution&&e.setMinResolution(void 0===t.minResolution?0:t.minResolution),r.maxResolution!==t.maxResolution&&e.setMaxResolution(void 0===t.maxResolution?1/0:t.maxResolution),null):f(t)},isCompatible:function(e){var t;return(0,c.dv)(null==e||null===(t=e.sourceMetadata)||void 0===t?void 0:t.crs)}})},835018:(e,t,r)=>{"use strict";var n=r(187355),o=r(956449),i=r.n(o),a=r(584153),l=r(613420),s=r(130945),u=r(482728),c=r(600863);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=function(e){var t=function(e){if("object"!=f(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==f(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function v(e){try{var t=function(e,t){var r=e.get("map");return e.getSource().getTileGrid().getTileCoordForCoordAndZ(t,r.getView().getZoom())}(this,e),r=p(t,3),n=r[0],o=r[1],a=r[2],s=this.getSource().getTileGrid(),u=s.getTileSize(),c=s.getTileCoordExtent(t),f=i()(u)?u:[u,u],m=(0,l.S1)((0,l.bn)(o,a,n,this.get("msId")),(0,l.bx)(e,c,f),f[0],this.get("nodata"),this.get("littleEndian"));return m.available?m.value:""}catch(e){return""}}var g=function(e,t){var r,n,o=(0,c.uJ)(i()(e.url)?e.url:[e.url]),f=(0,c.fr)(e)||{};o.forEach((function(t){return(0,a.XM)(t,f,e.securityToken)}));var m=new s.A({msId:e.id,opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex,minResolution:e.minResolution,maxResolution:e.maxResolution,source:new u.A({attributions:(0,c.xm)(e.credits),urls:o,crossOrigin:e.crossOrigin,params:y(y({},f),{},{format:(null==e?void 0:e.format)||"application/bil16"}),tileGrid:(0,c.O7)(e,t),tileLoadFunction:function(t,r){var n=(0,c.OJ)(e.forceProxy,r),o=t.getTileCoord();t.getImage().src="";var i=p(o,3),a=i[0],s=i[1],u=i[2];(0,l.tY)(n,o,(0,l.bn)(s,u,a,e.id))}})});m.set("map",t),m.set("nodata",e.nodata),m.set("littleEndian",null!==(r=null!==(n=null==e?void 0:e.littleEndian)&&void 0!==n?n:null==e?void 0:e.littleendian)&&void 0!==r&&r),m.set("getElevation",v.bind(m)),t.get("msElevationLayers")||t.set("msElevationLayers",[]),t.get("msElevationLayers").push(m);var d=function(r){"map"===r.key&&null===r.target.get(r.key)&&(t.set("msElevationLayers",t.get("msElevationLayers").filter((function(t){return t.get("msId")!==e.id}))),m.un("propertychange",d))};return m.on("propertychange",d),m};n.default.registerType("elevation",{create:function(e,t){return"wms"===e.provider?g(e,t):null}})},207856:(e,t,r)=>{"use strict";var n,o,i=r(187355),a=r(273517),l=r.n(a),s=r(207434),u={},c="ontouchstart"in window,f=c?"touchstart":"mousedown",m=c?"touchmove":"mousemove",y=c?"touchend":"mouseup";function d(){var e;return null===(e=window)||void 0===e||null===(e=e.google)||void 0===e?void 0:e.maps}i.default.registerType("google",{create:function(e,t,r){if(document.getElementById(r+"gmaps")){var o=d();if(!o)return null;n||(n={HYBRID:o.MapTypeId.HYBRID,SATELLITE:o.MapTypeId.SATELLITE,ROADMAP:o.MapTypeId.ROADMAP,TERRAIN:o.MapTypeId.TERRAIN}),u[r]||(u[r]=new o.Map(document.getElementById(r+"gmaps"),{disableDefaultUI:!0,keyboardShortcuts:!1,draggable:!1,disableDoubleClickZoom:!0,scrollwheel:!1,streetViewControl:!1,minZoom:e.minZoom,maxZoom:e.maxZoom})),u[r].setMapTypeId(n[e.name]);var i=document.getElementById(r+"gmaps"),a=function(){if(u[r]&&"hidden"!==i.style.visibility){var e=(0,s.pd)(t.getView().getCenter(),"EPSG:3857","EPSG:4326");u[r].setCenter(new o.LatLng(e[1],e[0]))}},l=function(){u[r]&&"hidden"!==i.style.visibility&&u[r].setZoom(t.getView().getZoom())},c=function(){if("hidden"!==i.style.visibility){var e=180*t.getView().getRotation()/Math.PI;i.style.transform="rotate("+e+"deg)",o.event.trigger(u[r],"resize")}},p=function(){var e=t.getView();e.on("change:center",a),e.on("change:resolution",l),e.on("change:rotation",c)};t.on("change:view",p),p(),a(),l();var b=t.getViewport(),v=document.getElementById(r+"gmaps").style.transform,g=!1,h=!1;b.addEventListener(f,(function(){g=!0})),b.addEventListener(y,(function(){h&&g&&function(){var e=document.getElementById(r+"gmaps").style.transform;if(u[r]&&e!==v&&-1!==e.indexOf("rotate")){var n=function(e,t){var r=t[0],n=t[1],o=[[r/2,n/2],[-r/2,n/2],[-r/2,-n/2],[r/2,-n/2]].map((function(t){return r=t,n=e*Math.PI/180,o=r[0],i=r[1],[o*Math.cos(n)-i*Math.sin(n),o*Math.sin(n)+i*Math.cos(n)];var r,n,o,i})),i=o.map((function(e){return e[0]})),a=o.map((function(e){return e[1]})),l=Math.max.apply(null,i),s=Math.min.apply(null,i),u=Math.max.apply(null,a),c=Math.min.apply(null,a),f=Math.abs(u)+Math.abs(c);return{width:Math.abs(l)+Math.abs(s),height:f}}(-parseFloat(e.match(/[\+\-]?\d+\.?\d*/i)[0]),t.getSize());i.style.width=n.width+"px",i.style.height=n.height+"px",i.style.left=Math.round((t.getSize()[0]-n.width)/2)+"px",i.style.top=Math.round((t.getSize()[1]-n.height)/2)+"px",o.event.trigger(u[r],"resize"),a()}}(),v=document.getElementById(r+"gmaps").style.transform,g=!1})),b.addEventListener(m,(function(){h=g}))}return null},render:function(e,t,r){o||(o=e.name);var i={zIndex:0};if(!0===e.visibility){var a=document.getElementById(r+"gmaps");a&&(a.style.visibility="visible"),u[r]&&n&&(u[r].setMapTypeId(n[e.name]),u[r].setTilt(0))}else i.visibility="hidden";if(o===e.name){var s=document.getElementById(r+"gmaps");return s&&(s.style.visibility=e.visibility?"visible":"hidden"),l().createElement("div",{id:r+"gmaps",className:"fill",style:i})}return null},update:function(e,t,r,n,o){if(u[o]){var i=d();if(!r.visibility&&t.visibility){var a=n.getView(),l=(0,s.pd)(a.getCenter(),"EPSG:3857","EPSG:4326");u[o].setCenter(new i.LatLng(l[1],l[0])),u[o].setZoom(a.getZoom())}!r.minZoom&&t.minZoom&&u[o].setOptions({minZoom:t.minZoom}),!r.maxZoom&&t.maxZoom&&u[o].setOptions({maxZoom:t.maxZoom})}},remove:function(e,t,r){o===e.name&&(o=void 0,delete u[r])}})},418942:(e,t,r)=>{"use strict";var n=r(187355),o=r(650071),i=r(883984),a=r(786717),l=r(113628),s=r(611217),u=r(644294),c=r(934142),f=r(200953),m=r(429276),y=r(981426),d=r(712651),p=r(754602),b=r(570915),v=r(61597),g=r(207434),h=r(887331),S=r(225616),x=r(64268);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e,t,r){return(t=_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_(n.key),n)}}function _(e){var t=function(e){if("object"!=w(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==w(t)?t:t+""}function A(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(A=function(){return!!e})()}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function L(e,t){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},L(e,t)}var T=new f.A({color:"rgba(0,0,0,0.2)"}),I=new m.Ay({stroke:new f.A({color:"rgba(0,0,0,1)"}),fill:new l.A({color:"rgba(255,255,255,1)"})}),M=new y.A({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new l.A({color:"rgba(0,0,0,1)"}),stroke:new f.A({color:"rgba(255,255,255,1)",width:3})}),k=new y.A({font:"12px Calibri,sans-serif",textAlign:"end",fill:new l.A({color:"rgba(0,0,0,1)"}),stroke:new f.A({color:"rgba(255,255,255,1)",width:3})});const z=function(e){function t(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e||{},a=Object.assign({updateWhileAnimating:!0,updateWhileInteracting:!0,renderBuffer:0},n);return delete a.maxLines,delete a.strokeStyle,delete a.targetSize,delete a.showLabels,delete a.showFrame,delete a.frameRatio,delete a.frameStyle,delete a.xLabelFormatter,delete a.yLabelFormatter,delete a.xLabelPosition,delete a.yLabelPosition,delete a.xLabelStyle,delete a.yLabelStyle,delete a.intervals,(r=function(e,t,r){return t=E(t),function(e,t){if(t&&("object"==w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,A()?Reflect.construct(t,r||[],E(e).constructor):t.apply(e,r))}(this,t,[a])).gridProjection_=(0,g.Jt)(void 0!==n.projection?n.projection:"EPSG:4326"),r.projection_=null,r.maxY_=1/0,r.maxX_=1/0,r.minY_=-1/0,r.minX_=-1/0,r.maxYP_=1/0,r.maxXP_=1/0,r.minYP_=-1/0,r.minXP_=-1/0,r.targetSize_=void 0!==n.targetSize?n.targetSize:100,r.maxLines_=void 0!==n.maxLines?n.maxLines:100,r.meridians_=[],r.parallels_=[],r.strokeStyle_=void 0!==n.strokeStyle?n.strokeStyle:T,r.fromTargetTransform_=void 0,r.toTargetTransform_=void 0,r.projectionCenterTarget_=null,r.meridiansLabels_=null,r.parallelsLabels_=null,r.frameStyle_=null,r.frame_=null,r.frameRatio_=0,!0===n.showFrame&&(r.frameStyle_=void 0!==n.frameStyle?n.frameStyle:I,r.frameRatio_=void 0!==n.frameRatio?n.frameRatio:.1),!0===n.showLabels&&(r.xLabelFormatter_=(0,x.xe)(n.projection||"EPSG:4326",n.xLabelFormatter),r.yLabelFormatter_=(0,x.wk)(n.projection||"EPSG:4326",n.yLabelFormatter),r.xLabelPosition_=void 0===n.xLabelPosition?0:n.xLabelPosition,r.yLabelPosition_=void 0===n.yLabelPosition?1:n.yLabelPosition,r.xLabelStyleBase_=new m.Ay({text:void 0!==n.xLabelStyle?n.xLabelStyle.clone():M}),r.xLabelStyle_=function(e){var t=e.get("graticule_label");return r.xLabelStyleBase_.getText().setText(t),r.xLabelStyleBase_},r.yLabelStyleBase_=new m.Ay({text:void 0!==n.yLabelStyle?n.yLabelStyle.clone():k}),r.yLabelStyle_=function(e){var t=e.get("graticule_label");return r.yLabelStyleBase_.getText().setText(t),r.yLabelStyleBase_},r.meridiansLabels_=[],r.parallelsLabels_=[],r.addEventListener(i.A.POSTRENDER,r.drawLabels_.bind(r))),r.intervals_=void 0!==n.intervals?n.intervals:(0,S.rA)(n.projection||"EPSG:4326"),r.setSource(new p.A({loader:r.loaderFunction.bind(r),strategy:r.strategyFunction.bind(r),features:new o.A,overlaps:!1,useSpatialIndex:!1,wrapX:n.wrapX})),r.featurePool_=[],r.lineStyle_=new m.Ay({stroke:r.strokeStyle_}),r.loadedExtent_=null,r.renderedExtent_=null,r.renderedResolution_=null,r.setRenderOrder(null),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}(t,e),r=t,(n=[{key:"strategyFunction",value:function(e,t){var r=e.slice();return this.projection_&&this.getSource().getWrapX()&&(0,b.Li)(r,this.projection_),this.loadedExtent_&&((0,b.bE)(this.loadedExtent_,r,t)?r=this.loadedExtent_.slice():this.getSource().removeLoadedExtent(this.loadedExtent_)),[r]}},{key:"loaderFunction",value:function(e,t,r){this.loadedExtent_=e;var n=this.getSource(),o=this.getExtent()||[-1/0,-1/0,1/0,1/0],i=(0,b._N)(o,e);if(!(this.renderedExtent_&&(0,b.aI)(this.renderedExtent_,i)&&this.renderedResolution_===t||(this.renderedExtent_=i,this.renderedResolution_=t,(0,b.Im)(i)))){var l=(0,b.q1)(i),s=t*t/4;(!this.projection_||!(0,g.tI)(this.projection_,r))&&this.updateProjectionInfo_(r),this.createGraticule_(i,l,t,s);var u,c=this.meridians_.length+this.parallels_.length;for(this.meridiansLabels_&&(c+=this.meridians_.length),this.parallelsLabels_&&(c+=this.parallels_.length);c>this.featurePool_.length;)u=new a.A,this.featurePool_.push(u);var f=n.getFeaturesCollection();f.clear();var m,y,d=0;for(m=0,y=this.meridians_.length;m<y;++m)(u=this.featurePool_[d++]).setGeometry(this.meridians_[m]),u.setStyle(this.lineStyle_),f.push(u);for(m=0,y=this.parallels_.length;m<y;++m)(u=this.featurePool_[d++]).setGeometry(this.parallels_[m]),u.setStyle(this.lineStyle_),f.push(u)}}},{key:"drawLabels_",value:function(e){var t=e.frameState.viewState.rotation,r=e.frameState.viewState.resolution,n=e.frameState.size,o=e.frameState.extent,i=(0,b.q1)(o),a=o;if(t){var l=n[0]*r,s=n[1]*r;a=[i[0]-l/2,i[1]-s/2,i[0]+l/2,i[1]+s/2]}var u=0,c=0,f=this.yLabelPosition_<.5,m=this.projection_.getExtent(),y=(0,b.RG)(m);this.getSource().getWrapX()&&this.projection_.canWrapX()&&!(0,b.ms)(m,o)&&(u=Math.floor((o[0]-m[0])/y),c=Math.ceil((o[2]-m[2])/y),f=f!==Math.abs(t)>Math.PI/2);var d=(0,h.r2)(e);this.frame_&&(d.setFillStrokeStyle(this.frameStyle_.getFill(),this.frameStyle_.getStroke()),d.drawGeometry(this.frame_));for(var p=u;p<=c;++p){var v,g=this.meridians_.length+this.parallels_.length,S=void 0,x=void 0,w=void 0,O=void 0;if(this.meridiansLabels_)for(x=0,w=this.meridiansLabels_.length;x<w;++x){var P=this.meridians_[x];if(t||0!==p){var j=P.clone();j.translate(p*y,0),j.rotate(-t,i),(O=this.getMeridianPoint_(j,a,x)).rotate(t,i)}else O=this.getMeridianPoint_(P,o,x);(S=this.featurePool_[g++]).setGeometry(O),S.set("graticule_label",this.meridiansLabels_[x].text),d.drawFeature(S,this.xLabelStyle_(S))}if((null===(v=this.parallelsLabels_)||void 0===v?void 0:v.length)>0&&(p===u&&f||p===c&&!f))for(x=0,w=this.parallels_.length;x<w;++x){var R=this.parallels_[x];if(t||0!==p){var _=R.clone();_.translate(p*y,0),_.rotate(-t,i),(O=this.getParallelPoint_(_,a,x)).rotate(t,i)}else O=this.getParallelPoint_(R,o,x);(S=this.featurePool_[g++]).setGeometry(O),S.set("graticule_label",this.parallelsLabels_[x].text),d.drawFeature(S,this.yLabelStyle_(S))}}}},{key:"createGraticule_",value:function(e,t,r,n){var o=(0,S.A8)(this.intervals_,this.projectionCenterTarget_,this.targetSize_,r,this.fromTargetTransform_),i=(0,S.Dv)(o,this.projection_.getCode(),this.gridProjection_.getCode(),[e[0],e[1],e[2],e[3]],[this.minXP_,this.minYP_,this.maxXP_,this.maxYP_],t,n,this.maxLines_,!!this.xLabelFormatter_,this.xLabelFormatter_,this.yLabelFormatter_,this.xLabelPosition_,this.yLabelPosition_,this.frameRatio_,{center:t,resolution:r,interval:o});this.meridians_=i.xLines.map((function(e){return new s.A(e,"XY")})),this.parallels_=i.yLines.map((function(e){return new s.A(e,"XY")})),this.meridiansLabels_=i.xLabels.map((function(e){return P(P({},e),{},{geom:new u.A(e.geom)})})),this.parallelsLabels_=i.yLabels.map((function(e){return P(P({},e),{},{geom:new u.A(e.geom)})})),this.frame_=i.frame?new c.Ay([i.frame.exterior,i.frame.interior],"XY"):null}},{key:"getMeridianPoint_",value:function(e,t,r){var n=e.getFlatCoordinates(),o=1,i=n.length-1;n[o]>n[i]&&(o=i,i=1);var a=Math.max(t[1],n[o]),l=Math.min(t[3],n[i]),s=(0,v.qE)(t[1]+Math.abs(t[1]-t[3])*this.xLabelPosition_,a,l),u=[n[o-1]+(n[i-1]-n[o-1])*(s-n[o])/(n[i]-n[o]),s],c=this.meridiansLabels_[r].geom;return c.setCoordinates(u),c}},{key:"getMeridians",value:function(){return this.meridians_}},{key:"getParallelPoint_",value:function(e,t,r){var n=e.getFlatCoordinates(),o=0,i=n.length-2;n[o]>n[i]&&(o=i,i=0);var a=Math.max(t[0],n[o]),l=Math.min(t[2],n[i]),s=(0,v.qE)(t[0]+Math.abs(t[0]-t[2])*this.yLabelPosition_,a,l),u=[s,n[o+1]+(n[i+1]-n[o+1])*(s-n[o])/(n[i]-n[o])],c=this.parallelsLabels_[r].geom;return c.setCoordinates(u),c}},{key:"getParallels",value:function(){return this.parallels_}},{key:"updateProjectionInfo_",value:function(e){var t=this.gridProjection_||(0,g.Jt)("EPSG:4326"),r=e.getWorldExtent(),n=e.getExtent();this.maxY_=r[3],this.maxX_=r[2],this.minY_=r[1],this.minX_=r[0],this.maxYP_=n[3],this.maxXP_=n[2],this.minYP_=n[1],this.minXP_=n[0],this.fromTargetTransform_=(0,g.RG)(t,e),this.toTargetTransform_=(0,g.RG)(e,t),this.projectionCenterTarget_=this.toTargetTransform_((0,b.q1)(e.getExtent())),this.projection_=e}}])&&R(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(d.A);var C=r(841358);function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){N(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e,t,r){return(t=function(e){var t=function(e){if("object"!=G(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=G(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==G(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B(e){return new z({zIndex:1/0,strokeStyle:e.style?(0,C.gd)(e).getStroke():new f.A({color:"rgba(255,120,0,0.9)",width:2,lineDash:[.5,4]}),xLabelStyle:e.labelXStyle?(0,C.gd)({style:D(D({},e.labelXStyle),{},{verticalAlign:e.labelXStyle.verticalAlign||"bottom",offsetY:0}),properties:{isText:!0}})[0].getText():new y.A({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new l.A({color:"rgba(0,0,0,1)"}),stroke:new f.A({color:"rgba(255,255,255,1)",width:3})}),yLabelStyle:e.labelYStyle?(0,C.gd)({style:D(D({},e.labelYStyle),{},{textAlign:e.labelYStyle.textAlign||"end",offsetY:0}),properties:{isText:!0}})[0].getText():new y.A({font:"12px Calibri,sans-serif",textAlign:"end",fill:new l.A({color:"rgba(0,0,0,1)"}),stroke:new f.A({color:"rgba(255,255,255,1)",width:3})}),showLabels:e.labels||!1,showFrame:e.frame||!1,frameRatio:e.frameRatio,frameStyle:e.frameStyle?(0,C.gd)({style:e.frameStyle}):new m.Ay({stroke:new f.A({color:"rgba(0,0,0,1)"}),fill:new l.A({color:"rgba(255,255,255,1)"})}),projection:e.srs,xLabelFormatter:e.xLabelFormatter,yLabelFormatter:e.yLabelFormatter})}n.default.registerType("graticule",{create:B,update:function(e,t,r,n){return t.srs!==r.srs?B(t):null}})},570362:(e,t,r)=>{"use strict";r(187355).default.registerType("mapquest",{create:function(e){return e.onError(),!1},isValid:function(){return!1}})},933616:(e,t,r)=>{"use strict";var n=r(187355),o=r(587896),i=r(130945);n.default.registerType("osm",{create:function(e){return new i.A({msId:e.id,opacity:void 0!==e.opacity?e.opacity:1,visible:e.visibility,zIndex:e.zIndex,source:new o.A,minResolution:e.minResolution,maxResolution:e.maxResolution})},update:function(e,t,r){r.minResolution!==t.minResolution&&e.setMinResolution(void 0===t.minResolution?0:t.minResolution),r.maxResolution!==t.maxResolution&&e.setMaxResolution(void 0===t.maxResolution?1/0:t.maxResolution)}})},952475:(e,t,r)=>{"use strict";var n=r(187355),o=r(851543),i=r.n(o),a=r(211795),l=function(e){if(0!==e.length)for(var t=0;t<e.length;t++){var r=e.item(t);r.removeAttribute("data-reactid"),l(r.children||[])}};n.default.registerType("overlay",{create:function(e,t){var r=function(e,t){var r=e.cloneNode(!0);r.id=t.id+"-overlay",r.className=(t.className||e.className)+"-overlay",r.removeAttribute("data-reactid"),l(r.children||[]);var n=t.closeClass||"close";if(t.onClose&&1===r.getElementsByClassName(n).length){var o=r.getElementsByClassName(n)[0];i().add(o,"click",(function(e){t.onClose(e.target.getAttribute("data-overlayid"))}))}if(t.onLink)for(var a=r.getElementsByTagName("a"),s=0;s<a.length;s++)i().add(a[s],"click",t.onLink);return r}(document.getElementById(e.id),e);document.body.appendChild(r);var n=new a.A({id:e.id,element:r,autoPan:e.autoPan||!1,positioning:e.positioning||"top-left",offset:e.offset||[0,0],autoPanAnimation:{duration:e.autoPanAnimation||250},position:[e.position.x,e.position.y]});return t.addOverlay(n),{detached:!0,remove:function(){t.removeOverlay(n)}}}})},250307:(e,t,r)=>{"use strict";var n=r(858156),o=r.n(n),i=r(187355),a=r(810702),l=r(456758),s=r(130945);i.default.registerType("tms",{create:function(e){return new s.A(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o()(e,"bbox.bounds",{}),r=t.minx,n=t.miny,i=t.maxx,s=t.maxy,u={projection:e.srs,url:"".concat(e.tileMapUrl,"/{z}/{x}/{-y}.").concat(e.extension),attributions:e.attribution?[e.attribution]:[]},c=new a.A(u),f=c.getTileGrid();if(e.forceDefaultTileGrid){var m=f.getExtent(),y=[m[0],m[1]],d=new l.A({origin:y,extent:e.bbox&&[r,n,i,s],resolutions:f.getResolutions(),tileSize:e.tileSize});c.setTileGridForProjection(e.srs,d),"EPSG:3857"===e.srs&&c.setTileGridForProjection("EPSG:900913",d)}else e.tileSets&&c.setTileGridForProjection(e.srs,new l.A({origin:e.origin,extent:e.bbox&&[r,n,i,s],resolutions:e.tileSets.map((function(e){return e.resolution})),tileSize:e.tileSize}));return{msId:e.id,extent:e.bbox&&[r,n,i,s],opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex,source:c,minResolution:e.minResolution,maxResolution:e.maxResolution}}(e))},update:function(e,t,r){r.minResolution!==t.minResolution&&e.setMinResolution(void 0===t.minResolution?0:t.minResolution),r.maxResolution!==t.maxResolution&&e.setMaxResolution(void 0===t.maxResolution?1/0:t.maxResolution)}})},512926:(e,t,r)=>{"use strict";var n=r(45228),o=r.n(n),i=r(187355),a=r(680323),l=r(764932),s=r(891080),u=r(810702),c=r(130945);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}i.default.registerType("tileprovider",{create:function(e){var t=f(a.A.getLayerConfig(e.provider,e),2),r=t[0],n=t[1];return n.url=r,new c.A(function(e){var t,r,n,i,a,c,m,y,d,p=e.url.match(/(\{s\})/)?(0,s.Jm)(e):[(0,s.vs)(e.url,e)],b=o()({},{urls:p,attributions:e.attribution?[e.attribution]:[],maxZoom:e.maxZoom?e.maxZoom:18,minZoom:e.minZoom?e.minZoom:0}),v=new u.A(b);return o()({},{msId:e.id,opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex,source:v,minResolution:e.minResolution,maxResolution:e.maxResolution},e.bounds?{extent:(t=e.bounds,r=e.srs?e.srs:"EPSG:3857",n=f(t,2),i=f(n[0],2),a=i[0],c=i[1],m=f(n[1],2),y=m[0],d=m[1],l.default.reprojectBbox([c,a,d,y],"EPSG:4326",l.default.normalizeSRS(r)))}:{})}(n))},update:function(e,t,r){r.minResolution!==t.minResolution&&e.setMinResolution(void 0===t.minResolution?0:t.minResolution),r.maxResolution!==t.maxResolution&&e.setMaxResolution(void 0===t.maxResolution?1/0:t.maxResolution)}})},257484:(e,t,r)=>{"use strict";var n=r(187355),o=r(841358),i=r(302404),a=r.n(i),l=r(754602),s=r(712651),u=r(181634);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return(t=function(e){var t=function(e){if("object"!=c(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==c(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}n.default.registerType("vector",{create:function(e,t){var r=new l.A({features:[],useSpatialIndex:!1}),n=new s.A({msId:e.id,source:r,visible:!1!==e.visibility,zIndex:e.zIndex,opacity:e.opacity,minResolution:e.minResolution,maxResolution:e.maxResolution});return(0,o.gd)((0,u.s)(m(m({},e),{},{asPromise:!0}))).then((function(r){r&&(r.__geoStylerStyle?r({map:t,features:e.features}).then((function(e){n.setStyle(e)})):n.setStyle(r))})),n},update:function(e,t,r,n){var i=r.crs||r.srs||"EPSG:3857",l=t.crs||t.srs||"EPSG:3857";l!==i&&e.getSource().forEachFeature((function(e){e.getGeometry().transform(i,l)}));var s=!a()(r.features,t.features),c=!a()(r.style,t.style),f=r.styleName!==t.styleName;(c||f||s)&&(0,o.gd)((0,u.s)(m(m({},t),{},{asPromise:!0}))).then((function(r){r&&(r.__geoStylerStyle?r({map:n,features:t.features}).then((function(t){e.setStyle(t)})):e.setStyle(r))})),r.minResolution!==t.minResolution&&e.setMinResolution(void 0===t.minResolution?0:t.minResolution),r.maxResolution!==t.maxResolution&&e.setMaxResolution(void 0===t.maxResolution?1/0:t.maxResolution)},render:function(){return null}})},120925:(e,t,r)=>{"use strict";var n=r(187355),o=r(112585),i=r(841358),a=r(754602),l=r(712651),s=r(260942),u=r(736128),c=r(181817),f=r(504631),m=r(112206),y=r(181634);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return(t=function(e){var t=function(e){if("object"!=d(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==d(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var h=function(e,t){return function(r,n,i){var a,l,s,u=i.getCode(),y=[],d=function(){e.removeLoadedExtent(r),e.dispatchEvent("vectorerror")};if(t.serverType===o.zy.NO_VENDOR)if((0,m.ob)(t))a=new Promise((function(e,t){t()}));else{if("bbox"===(null==t?void 0:t.strategy)){var p=(s=4,function(e){if(Array.isArray(e))return e}(l=r)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(l,s)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}(l,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());y=[{spatialField:{operation:"BBOX",geometry:{projection:u,extent:[[p[0],p[1],p[2],p[3]]]}}}]}a=(0,c.CG)(t,{filters:y,proj:u},(0,m.zj)(t))}else{var v=(0,f.w)(t),h=(0,m.zj)(t);a=(0,c.x$)(t.url,t.name,b({outputFormat:"application/json",srsname:u},v),h)}a.then((function(r){200===r.status?(e.addFeatures(e.getFormat().readFeatures(r.data)),e.set("@wfsFeatureCollection",r.data),t.onLoadEnd&&t.onLoadEnd()):d()})).catch((function(e){d()}))}},S=function(e){return"bbox"===e.strategy?s.Qk:"all"===e.strategy?s.Q7:"tile"===e.strategy?s.Vs:null},x=function(e,t,r){return function(e,t,r){var n=e.getSource().get("@wfsFeatureCollection")||{};return(0,i.gd)((0,y.s)(b(b({},t),{},{features:n.features,asPromise:!0}))).then((function(t){t&&(t.__geoStylerStyle?t({map:r,features:n.features}).then((function(t){e.setStyle(t)})):e.setStyle(t))}))}(e,t,r)};n.default.registerType("wfs",{create:function(e,t){var r,n=new a.A({strategy:S(e)||void 0,format:new u.A});return n.setLoader(h(n,b(b({},e),{},{onLoadEnd:function(){x(r,e,t)}}))),r=new l.A({msId:e.id,source:n,visible:!1!==e.visibility,zIndex:e.zIndex,opacity:e.opacity,minResolution:e.minResolution,maxResolution:e.maxResolution}),x(r,e,t),r},update:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,o=r.crs||r.srs||"EPSG:3857",i=t.crs||t.srs||"EPSG:3857",a=e.getSource();i!==o&&a.forEachFeature((function(e){e.getGeometry().transform(o,i)})),(0,m.Xs)(r,t)&&(a.setLoader(h(a,t)),a.clear(),a.refresh()),t.style===r.style&&t.styleName===r.styleName||x(e,t,n),r.minResolution!==t.minResolution&&e.setMinResolution(void 0===t.minResolution?0:t.minResolution),r.maxResolution!==t.maxResolution&&e.setMaxResolution(void 0===t.maxResolution?1/0:t.maxResolution)},render:function(){return null}})},142444:(e,t,r)=>{"use strict";var n=r(187355),o=r(269843),i=r.n(o),a=r(302404),l=r.n(a),s=r(280299),u=r.n(s),c=r(956449),f=r.n(c),m=r(45228),y=r.n(m),d=r(995531),p=r(764932),b=r(294312),v=r(779893),g=r(504631),h=r(584153),S=r(925388),x=r(96580),w=r(207434),O=r(130945),P=r(482728),j=r(940180),R=r(765544),_=r(553818),A=r(142974),E=r(256124),L=r(736128),T=r(233729),I=r(841358),M={"application/vnd.mapbox-vector-tile":E.A,"application/json;type=geojson":L.A,"application/json;type=topojson":T.A},k=function(e,t,r){(0,I.gd)({asPromise:!0,style:e}).then((function(e){null!=e&&e.__geoStylerStyle?e({map:r}).then((function(e){t.setStyle(e)})):t.setStyle(e)})).catch((function(){}))},z=r(600863);function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){D(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function D(e,t,r){return(t=function(e){var t=function(e){if("object"!=C(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==C(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var B=function(e,t){return function(r,n){var o,i,a=r.getImage(),l=(0,z.OJ)(e.forceProxy,n);if("function"==typeof window.btoa&&n.length>=(e.maxLengthUrl||(null===(o=(0,v.Uh)("miscSettings"))||void 0===o?void 0:o.maxURLLength)||1/0)){var s=function(e){if(Array.isArray(e))return e}(i=n.split("&"))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return N(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?N(e,t):void 0}}(i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=s[0],c=s.slice(1);u=(0,z.OJ)(e.forceProxy,u),d.A.post(u,"&"+c.join("&"),{headers:F({"Content-type":"application/x-www-form-urlencoded;charset=utf-8"},t),responseType:"arraybuffer"}).then((function(e){if(200===e.status){for(var t=new Uint8Array(e.data),r=t.length,n=new Array(r);r--;)n[r]=String.fromCharCode(t[r]);var o=n.join(""),i=e.headers["content-type"];0===i.indexOf("image")&&(a.src="data:"+i+";base64,"+window.btoa(o))}})).catch((function(e){console.error(e)}))}else t?d.A.get(l,{headers:t,responseType:"blob"}).then((function(e){(0,A.M8)(e)?r.getImage().src=URL.createObjectURL(e.data):(r.getImage().src=null,console.error("error: "+e.data))})).catch((function(e){console.error(e)})):a.src=l}},X=function(e,t,r){if(e.useForElevation)return n.default.createLayer("elevation",F(F({},e),{},{provider:"wms"}),t,r);var o=(0,z.uJ)(f()(e.url)?e.url:[e.url]),i=(0,z.fr)(e)||{};o.forEach((function(t){return(0,h.XM)(t,i,e.securityToken)}));var a=(0,h.tL)(o[0],e.securityToken),l=(0,_.h)(e.format);if(e.singleTile&&!l)return new S.A({msId:e.id,opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex,minResolution:e.minResolution,maxResolution:e.maxResolution,source:new x.A({url:o[0],crossOrigin:e.crossOrigin,attributions:(0,z.xm)(e.credits),params:i,ratio:e.ratio||1,imageLoadFunction:B(e,a)})});var s,u={attributions:(0,z.xm)(e.credits),urls:o,crossOrigin:e.crossOrigin,params:i,tileGrid:(0,z.O7)(e,t),tileLoadFunction:B(e,a)},c=new P.A(F({},u)),m={msId:e.id,opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex,minResolution:e.minResolution,maxResolution:e.maxResolution};return(s=l?new R.A(F(F({},m),{},{source:new j.A(F(F({},u),{},{format:new M[e.format]({layerName:"_layer_"}),tileUrlFunction:function(e,t,r){return c.tileUrlFunction(e,t,r)}}))})):new O.A(F(F({},m),{},{source:c}))).set("map",t),l&&(s.set("wmsSource",c),e.vectorStyle&&k(e.vectorStyle,s,t)),s};n.default.registerType("wms",{create:X,update:function(e,t,r,n){var o=(0,_.h)(t.format);if(function(e,t){return e.singleTile!==t.singleTile||e.securityToken!==t.securityToken||e.ratio!==t.ratio||e.credits!==t.credits&&!t.credits||(0,_.h)(e.format)!==(0,_.h)(t.format)||(0,_.h)(e.format)&&(0,_.h)(t.format)&&e.format!==t.format||e.localizedLayerStyles!==t.localizedLayerStyles||e.tileSize!==t.tileSize||e.forceProxy!==t.forceProxy||e.tileGridStrategy!==t.tileGridStrategy||!l()(e.tileGrids,t.tileGrids)}(r,t))return X(t,n);var a=!1;o&&t.vectorStyle&&!l()(t.vectorStyle,r.vectorStyle||{})&&(k(t.vectorStyle,e,n),a=!0);var s=e.get("wmsSource")||e.getSource(),c=o?e.getSource():null;if(r.srs!==t.srs){var f=p.default.normalizeSRS(t.srs,t.allowedSRS),m=(0,w.Jt)(f).getExtent()||(0,b.c2)(f).extent;if(t.singleTile&&!o)e.setExtent(m);else{var d=(0,z.O7)(t,n);s.tileGrid=d,c&&(c.tileGrid=d)}a=!0}r.credits!==t.credits&&t.credits&&(s.setAttributions((0,z.xm)(t.credits)),a=!0);var v,S,x,O,P=!1;if(r&&s&&s.updateParams&&(r.params&&t.params?P=u()(Object.keys(r.params),Object.keys(t.params)).reduce((function(e,n){return t.params[n]!==r.params[n]||e}),!1):(!r.params&&t.params||r.params&&!t.params)&&(P=!0),v=(0,z.fr)(r),S=(0,z.fr)(t),P=P||["LAYERS","STYLES","FORMAT","TRANSPARENT","TILED","VERSION","_v_","CQL_FILTER","SLD","VIEWPARAMS"].reduce((function(e,t){return v[t]!==S[t]||e}),!1),a=a||P),r.minResolution!==t.minResolution&&e.setMinResolution(void 0===t.minResolution?0:t.minResolution),r.maxResolution!==t.maxResolution&&e.setMaxResolution(void 0===t.maxResolution?1/0:t.maxResolution),a&&(null==s||null===(x=s.tileCache)||void 0===x||null===(O=x.pruneExceptNewestZ)||void 0===O||O.call(x),c&&(c.clear(),c.refresh()),P)){var j=y()(S,(0,h.mL)((0,g.w)(t)||{},t));s.updateParams(y()(j,Object.keys(v||{}).reduce((function(e,t){return i()(j[t])?y()(e,D({},t,void 0)):e}),{})))}return null}})},684386:(e,t,r)=>{"use strict";var n=r(187355),o=r(499084),i=r.n(o),a=r(400912),l=r.n(a),s=r(468090),u=r.n(s),c=r(584153),f=r(724188),m=r(764932),y=r(6683),d=r(553818),p=r(23412),b=r.n(p),v=r(207434),g=r(570915),h=r(130945),S=r(765544),x=r(557916),w=r(940180),O=r(691531),P=r(256124),j=r(736128),R=r(233729),_=r(841358),A=r(112585);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){I(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e,t,r){return(t=function(e){var t=function(e){if("object"!=E(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==E(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var M={"application/vnd.mapbox-vector-tile":P.A,"application/json;type=geojson":j.A,"application/json;type=topojson":R.A},k=function(e){var t="RESTful"===e.requestEncoding?"REST":e.requestEncoding,r=function(e,t){return e.map((function(e){return"REST"===t?e:e.split("?")[0]}))}(i()(e.url),t),n=m.default.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),o=(0,v.Jt)(n),a=o.getMetersPerUnit(),l=f.EM(e,n),s=l.tileMatrixSetName,p=l.tileMatrixSet,P=l.matrixIds,j=p&&(null==p?void 0:p.TileMatrix.map((function(e){return Number(e.ScaleDenominator)}))),R=y.Ay.getResolutions(),E=e.resolutions||j&&j.map((function(e){return 28e-5*e/a}))||R,L="ne"===o.getAxisOrientation().substr(0,2),I=p&&p.TileMatrix&&p.TileMatrix.map((function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).TopLeftCorner;return e&&m.default.parseString(e)})).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.x,r=e.y;return L?[r,t]:[t,r]})),k=p&&p.TileMatrix&&p.TileMatrix.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.MatrixWidth,r=e.MatrixHeight;return[parseInt(t,10),parseInt(r,10)]})),z=p&&p.TileMatrix&&p.TileMatrix.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.TileWidth,r=e.TileHeight;return[parseInt(t,10),parseInt(r,10)]})),C=e.bbox,G=C?(0,g.NW)([parseFloat(C.bounds.minx),parseFloat(C.bounds.miny),parseFloat(C.bounds.maxx),parseFloat(C.bounds.maxy)],(0,v.RG)(C.crs,e.srs)):void 0,F=G&&(0,g._N)(G,o.getExtent()),D={};r.forEach((function(t){return(0,c.XM)(t,D,e.securityToken)}));var N=b().format({query:T({},D)}),B=e.maxResolution||u()(R.filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return E[0]/e*256<.5}))),X=-1!==(e.availableFormats||[]).indexOf(e.format)&&e.format||!e.availableFormats&&e.format||"image/png",Z=(0,d.h)(X),Y=T(T({requestEncoding:t,urls:r.map((function(e){return e+N})),layer:e.name,version:e.version||"1.0.0",matrixSet:s},e.credits&&{attributions:(0,A.PJ)(e.credits)}),{},{format:X,style:e.style||"",tileGrid:new O.A({origins:I,origin:I?void 0:[20037508.3428,-20037508.3428],resolutions:E,matrixIds:f.hW((P||f.Ub(e)||[]).map((function(e){return e.identifier})),E.length),sizes:k,extent:F,tileSizes:z,tileSize:!z&&(e.tileSize||[256,256])}),wrapX:!0}),U=new x.A(Y),V=new(Z?S.A:h.A)({msId:e.id,opacity:void 0!==e.opacity?e.opacity:1,zIndex:e.zIndex,minResolution:e.minResolution,maxResolution:e.maxResolution<B?e.maxResolution:B,visible:!1!==e.visibility,source:Z?new w.A(T(T({},Y),{},{format:new M[e.format]({dataProjection:n}),tileUrlFunction:function(){return U.tileUrlFunction.apply(U,arguments)}})):U});return Z&&V.setStyle((0,_.gd)(e)),V};n.default.registerType("wmts",{create:k,update:function(e,t,r){return r.securityToken!==t.securityToken||r.srs!==t.srs||r.format!==t.format||r.style!==t.style||r.credits!==t.credits?k(t):(r.minResolution!==t.minResolution&&e.setMinResolution(void 0===t.minResolution?0:t.minResolution),r.maxResolution!==t.maxResolution&&e.setMaxResolution(void 0===t.maxResolution?1/0:t.maxResolution),null)},isCompatible:function(e){return!!l()(m.default.getEquivalentSRS(e.srs||"EPSG:3857").filter((function(t){return function(e,t){var r=f.EM(t,e),n=r.tileMatrixSetName,o=r.tileMatrixSet;return o?m.default.getEPSGCode(o["ows:SupportedCRS"])===e:n===e}(t,e)})))}})},3032:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n={BingLayer:r(727723).A,GoogleLayer:r(207856).A,GraticuleLayer:r(418942).A,MapQuest:r(570362).A,OSMLayer:r(933616).A,OverlayLayer:r(952475).A,TMSLayer:r(250307).A,TileProviderLayer:r(512926).A,VectorLayer:r(257484).A,WFSLayer:r(120925).A,WMSLayer:r(142444).A,WMTSLayer:r(684386).A,COGLayer:r(497374).A,ElevationLayer:r(835018).A,ArcGISLayer:r(8218).A}},613420:(e,t,r)=>{"use strict";r.d(t,{S1:()=>y,bn:()=>s,bx:()=>u,tY:()=>m,xP:()=>c});var n=r(995531),o=r(514832),i=r.n(o),a=r(786964),l=new(i())(100),s=function(e,t,r,n){return"".concat(r,":").concat(e,":").concat(t,":").concat(n)};function u(e,t,r){var n=r[0]/(t[2]-t[0]),o=r[1]/(t[3]-t[1]);return{x:Math.floor((e[0]-t[0])*n),y:Math.floor((t[3]-e[1])*o)}}var c=function(e,t,r){l.set(r,{data:e,dataView:new DataView(e),coords:t,current:!0,status:"success"})},f=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-9999,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=n*e+r;try{var l=t.dataView.getInt16(2*a,i);if(l!==o&&32767!==l&&-32768!==l)return l}catch(e){}return null},m=function(e,t,r){return l.has(r)?null:new a.Promise((function(o,i){n.A.get(e,{responseType:"arraybuffer"}).then((function(e){c(e.data,t,r),o()})).catch((function(e){!function(e,t,r){l.set(r,{coords:t,current:!0,status:"error: "+e})}(e.message,t,r),i(e)}))}))},y=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-9999,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=l.get(e);return i&&"success"===i.status?{available:!0,value:f(r,i,t.x,t.y,n,o)}:i&&"loading"===i.status?{available:!1,message:"elevationLoading"}:i&&"error"===i.status?{available:!1,message:"elevationLoadingError"}:{available:!1,message:"elevationNotAvailable"}}},181634:(e,t,r)=>{"use strict";r.d(t,{d:()=>g,s:()=>h});var n=r(987021),o=r.n(n),i=r(541033),a=r.n(i),l=r(910219),s=r.n(l),u=r(962193),c=r.n(u),f=r(491281);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return(t=function(e){var t=function(e){if("object"!=m(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==m(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var g=function(e){var t=e.marker,r=e.fillColor,n=void 0===r?"#f2f2f2":r,o=e.fillOpacity,i=void 0===o?.3:o,l=e.strokeColor,u=void 0===l?"#3075e9":l,c=e.strokeOpacity,f=void 0===c?1:c,m=e.strokeWidth,y=void 0===m?2:m,d=e.radius,p=void 0===d?10:d,v=e.geometryType,g=void 0===v?"GeometryCollection":v;return{format:"geostyler",metadata:{editorType:"visual"},body:{rules:[].concat(b(t?[{name:"Default Marker Style",ruleId:a()(),symbolizers:[{kind:"Icon",image:s(),opacity:1,size:32,rotate:0,msBringToFront:!0,msHeightReference:"none",symbolizerId:a()()}]}]:[]),b(["GeometryCollection","Point","MultiPoint"].includes(g)&&!t?[{name:"Default Point Style",ruleId:a()(),symbolizers:[{kind:"Mark",color:n,fillOpacity:i,opacity:1,strokeColor:u,strokeOpacity:f,strokeWidth:y,wellKnownName:"Circle",radius:p,msBringToFront:!0,symbolizerId:a()()}]}]:[]),b(["GeometryCollection","LineString","MultiLineString"].includes(g)&&!t?[{name:"Default Line Style",ruleId:a()(),symbolizers:[{kind:"Line",color:u,opacity:f,width:y,symbolizerId:a()()}]}]:[]),b(["GeometryCollection","Polygon","MultiPolygon"].includes(g)&&!t?[{name:"Default Polygon Style",ruleId:a()(),symbolizers:[{kind:"Fill",color:n,fillOpacity:i,outlineColor:u,outlineOpacity:f,outlineWidth:y,symbolizerId:a()()}]}]:[]))}}},h=function(e,t){var r,n,i,a,l,s=(0,f.flattenFeatures)((null==e?void 0:e.features)||[]);if(s.find((function(e){var t;return!c()((null==e?void 0:e.style)||{})&&(null==e||null===(t=e.properties)||void 0===t?void 0:t.id)}))||null!=e&&null!==(r=e.style)&&void 0!==r&&r.format&&!c()(null==e||null===(n=e.style)||void 0===n?void 0:n.body)||(null==e||null===(i=e.style)||void 0===i||!i.format)&&!c()(e.style))return e;var u=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).features,t=((e||[]).find((function(e){var t=e.geometry;return null==t?void 0:t.type}))||{}).geometry;if(!t)return null;var r=t.type.replace("Multi","");return"GeometryCollection"===r||(e||[]).find((function(e){var t,n=e.geometry;return(null==n||null===(t=n.type)||void 0===t?void 0:t.replace("Multi",""))!==r}))?"GeometryCollection":r}({features:s}),m=!(null==t||!t.marker||!["Point","MultiPoint"].includes(u)),y=t&&o()(t.fill).toHexString(),p=null==t||null===(a=t.fill)||void 0===a?void 0:a.a,b=t&&o()(null==t?void 0:t.color).toHexString(),v=null==t||null===(l=t.color)||void 0===l?void 0:l.a,h=null==t?void 0:t.width,S=null==t?void 0:t.radius;return d(d(d({},e),m&&{handleClickOnLayer:!0}),{},{style:g(t?{marker:m,fillColor:y,fillOpacity:p,strokeColor:b,strokeOpacity:v,strokeWidth:h,radius:S,geometryType:u}:{geometryType:u})})}},553818:(e,t,r)=>{"use strict";r.d(t,{h:()=>o});var n=["application/vnd.mapbox-vector-tile","application/json;type=geojson","application/json;type=topojson"],o=function(e){return-1!==n.indexOf(e)}},600863:(e,t,r)=>{"use strict";r.d(t,{O7:()=>P,OJ:()=>S,fr:()=>O,uJ:()=>x,xm:()=>w});var n=r(45228),o=r.n(n),i=r(207434),a=r(456758),l=r(764932),s=r(294312),u=r(417497),c=r(504631),f=r(584153),m=r(112585),y=r(6683),d=r(250161),p=r(142974);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return(t=function(e){var t=function(e){if("object"!=b(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==b(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S=function(e,t){var r=e||function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"https:"===(null===(e=window)||void 0===e||null===(e=e.location)||void 0===e?void 0:e.protocol)&&(0===t.indexOf("http")?"http:"===new URL(t).protocol:0!==t.indexOf("/"))}(t),n=t;return r&&(0,u.jG)(t)&&(n=(0,u.s_)()+encodeURIComponent(t)),n};function x(e){return e.map((function(e){return e.split("?")[0]}))}var w=function(e){return e&&(0,m.PJ)(e)||void 0};function O(e){var t=(0,c.w)(e),r=o()({},e.baseParams,g(g({LAYERS:e.name,STYLES:e.style||"",FORMAT:e.format||"image/png",TRANSPARENT:void 0===e.transparent||e.transparent,SRS:l.default.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),CRS:l.default.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS)},(0,m.yO)(e)),{},{VERSION:e.version||"1.3.0"}),o()({},e._v_?{_v_:e._v_}:{},t||{},e.localizedLayerStyles&&e.env&&e.env.length&&"background"!==e.group?{ENV:(0,d.C)(e.env)}:{}));return(0,f.mL)(r,e)}var P=function(e,t){var r,n=(null==t||null===(r=t.getView())||void 0===r||null===(r=r.getProjection())||void 0===r?void 0:r.getCode())||"EPSG:3857",o=l.default.normalizeSRS(e.srs||n,e.allowedSRS),u=e.tileSize?e.tileSize:256,c=(0,i.Jt)(o).getExtent()||(0,s.c2)(o).extent,f=(0,m.yO)(e).TILED&&"custom"===e.tileGridStrategy&&e.tileGrids?(0,p.gK)({tileSize:u,projection:o,tileGrids:e.tileGrids}):null;if(f&&(f.resolutions||f.scales)&&(f.origins||f.origin)&&(f.tileSizes||f.tileSize)){var d=f.resolutions,b=f.scales,v=f.origin,g=f.origins,h=f.tileSize,S=f.tileSizes,x=(0,i.Jt)(o).getMetersPerUnit(),w=d||b.map((function(e){return 28e-5*e/x}));return new a.A({extent:c,resolutions:w,tileSizes:S,tileSize:h,origin:v,origins:g})}var O=e.resolutions||(0,y.yw)(o,{tileWidth:u,tileHeight:u,extent:c}),P=e.origin?e.origin:[c[0],c[1]];return new a.A({extent:c,resolutions:O,tileSize:u,origin:P})}},928625:()=>{},556504:()=>{}}]);