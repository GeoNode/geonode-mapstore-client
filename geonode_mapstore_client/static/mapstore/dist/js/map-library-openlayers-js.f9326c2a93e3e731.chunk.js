(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[82044,37369,21855],{812366:(t,e,n)=>{"use strict";n.d(e,{$j:()=>W,A2:()=>p,A_:()=>Z,BQ:()=>E,Cu:()=>w,Cx:()=>d,DK:()=>F,Df:()=>j,Ej:()=>Q,GN:()=>T,Gt:()=>B,HN:()=>o,Lg:()=>tt,M4:()=>a,MX:()=>c,Ms:()=>z,Q$:()=>b,Rr:()=>f,S$:()=>L,Tg:()=>g,Tl:()=>I,Tv:()=>M,VK:()=>ot,W5:()=>P,WE:()=>D,Wp:()=>Y,Yq:()=>V,Zv:()=>J,_z:()=>G,bC:()=>k,bV:()=>R,cc:()=>K,cn:()=>H,dk:()=>it,fJ:()=>_,fK:()=>y,g5:()=>N,gt:()=>U,jN:()=>m,kl:()=>l,m7:()=>nt,nq:()=>A,nx:()=>et,ow:()=>s,p7:()=>O,pK:()=>ut,r:()=>$,s9:()=>v,t7:()=>u,tW:()=>i,ti:()=>S,uk:()=>h,vt:()=>rt,wC:()=>x,xk:()=>C,yd:()=>X});var r=n(737369),o="LOAD_FEATURE_INFO",i="ERROR_FEATURE_INFO",u="EXCEPTIONS_FEATURE_INFO",p="CHANGE_MAPINFO_STATE",a="NEW_MAPINFO_REQUEST",c="PURGE_MAPINFO_RESULTS",s="CHANGE_MAPINFO_FORMAT",l="SHOW_MAPINFO_MARKER",f="HIDE_MAPINFO_MARKER",d="SHOW_REVERSE_GEOCODE",y="HIDE_REVERSE_GEOCODE",v="NO_QUERYABLE_LAYERS",m="CLEAR_WARNING",E="FEATURE_INFO_CLICK",b="IDENTIFY:UPDATE_FEATURE_INFO_CLICK_POINT",O="IDENTIFY:TOGGLE_HIGHLIGHT_FEATURE",P="TOGGLE_MAPINFO_STATE",g="UPDATE_CENTER_TO_MARKER",_="IDENTIFY:CHANGE_PAGE",h="IDENTIFY:CLOSE_IDENTIFY",I="IDENTIFY:CHANGE_FORMAT",T="IDENTIFY:TOGGLE_SHOW_COORD_EDITOR",A="IDENTIFY:EDIT_LAYER_FEATURES",N="IDENTIFY:CURRENT_EDIT_FEATURE_QUERY",S="IDENTIFY:SET_MAP_TRIGGER",w="IDENTIFY:TOGGLE_EMPTY_MESSAGE_GFI",R="IDENTIFY:SET_SHOW_IN_MAP_POPUP",j="IDENTIFY:IDENTIFY_IS_MOUNTED",F="IDENTIFY:INIT_PLUGIN";function M(t,e,n,r,i){return{type:o,data:e,reqId:t,requestParams:n,layerMetadata:r,layer:i}}function C(t,e,n,r){return{type:i,error:e,reqId:t,requestParams:n,layerMetadata:r}}function D(){return{type:v}}function G(){return{type:m}}function x(t,e){return{type:a,reqId:t,request:e}}function L(t){return{type:p,enabled:t}}function U(){return{type:c}}function Y(t){return{type:s,infoFormat:t}}function H(){return{type:l}}function k(){return{type:f}}function q(t){return{type:d,reverseGeocodeData:t.data}}function W(t){return function(e){r.A.reverseGeocode(t).then((function(t){e(q(t))})).catch((function(t){e(q(t))}))}}function B(){return{type:y}}function K(){return{type:P}}function V(t){return{type:g,status:t}}function z(t,e){return{type:E,point:t,layer:e,filterNameList:arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],overrideParams:arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},itemId:arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,ignoreVisibilityLimits:arguments.length>5&&void 0!==arguments[5]&&arguments[5]}}function Q(t){return{type:b,point:t}}function $(t){return{type:O,enabled:t}}function X(t){return{type:_,index:t}}var J=function(){return{type:h}},Z=function(t){return{type:I,format:t}},tt=function(t){return{type:T,showCoordinateEditor:t}},et=function(t){return{type:A,layer:t}},nt=function(t){return{type:N,query:t}},rt=function(t){return{type:S,trigger:t}},ot=function(t){return{type:R,value:t}},it=function(t){return{type:j,isMounted:t}},ut=function(t){return{type:F,cfg:t}}},737369:(t,e,n)=>{"use strict";n.d(e,{A:()=>c});var r=n(995531),o=n(23412),i=n.n(o),u=n(45228),p=n.n(u),a={format:"json",bounded:0,polygon_geojson:1,priority:5};const c={geocode:function(t,e){var n=p()({q:t},a,e||{}),o=i().format({protocol:"https",host:"nominatim.openstreetmap.org",query:n});return r.A.get(o)},reverseGeocode:function(t,e){var n=p()({lat:t.lat,lon:t.lng},e||{},a),o=i().format({protocol:"https",host:"nominatim.openstreetmap.org/reverse",query:n});return r.A.get(o)}}},595535:(t,e,n)=>{"use strict";n.d(e,{A:()=>m});var r=n(605556),o=n.n(r),i=n(273517),u=n.n(i);function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d(r.key),r)}}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(c=function(){return!!t})()}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}function f(t,e,n){return(e=d(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t){var e=function(t){if("object"!=p(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==p(e)?e:e+""}var y=n(274156).FormattedHTMLMessage,v=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=s(e),function(t,e){if(e&&("object"==p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,n||[],s(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){return this.context.intl?u().createElement(y,{id:this.props.msgId,values:this.props.msgParams}):u().createElement("span",null,this.props.msgId||"")}}])&&a(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(u().Component);f(v,"propTypes",{msgId:o().string.isRequired,msgParams:o().object}),f(v,"contextTypes",{intl:o().object});const m=v},116745:(t,e,n)=>{"use strict";n.d(e,{A:()=>u});var r,o=n(273517),i=n(151230);const u=function(t){var e=t.map,n=t.onBoxEnd,u=t.status;return(0,o.useEffect)((function(){"start"===u?(r=new i.A({condition:function(t){return t.originalEvent.altKey}}),e.addInteraction(r)):"end"===u&&e.removeInteraction(r)}),[u]),(0,o.useEffect)((function(){r&&r.on("boxend",(function(t){n({boxExtent:r.getGeometry().getExtent(),modifiers:{ctrl:t.mapBrowserEvent.originalEvent.ctrlKey,metaKey:t.mapBrowserEvent.originalEvent.metaKey}})}))}),[u]),null}},194166:(t,e,n)=>{"use strict";n.d(e,{A:()=>_});var r=n(273517),o=n.n(r),i=n(310340),u=n.n(i),p=n(605556),a=n.n(p),c=n(211795),s=n(185015),l=n.n(s),f=n(315211),d=n(520943);function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g(r.key),r)}}function E(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(E=function(){return!!t})()}function b(t){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},b(t)}function O(t,e){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},O(t,e)}function P(t,e,n){return(e=g(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g(t){var e=function(t){if("object"!=y(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==y(e)?e:e+""}var _=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return P(t=function(t,e,n){return e=b(e),function(t,e){if(e&&("object"==y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,E()?Reflect.construct(e,n||[],b(t).constructor):e.apply(t,n))}(this,e,[].concat(r)),"onPopupClose",(function(e){t.props.onPopupClose(e)})),P(t,"renderPopups",(function(){return t.preparePopups().map((function(e){var n,r=e.popup,i=e.id,p=e.component,a=e.content,c=e.props,s=e.containerStyle,y=r.getElement(),v=l()(p)&&d.default[p]||p;return v?n=o().isValidElement(v)&&v||o().createElement(v,c):a&&(n=f.AH(a)?o().createElement("div",{dangerouslySetInnerHTML:{__html:a}}):a),y&&u().createPortal(o().createElement("div",{className:"map-popup-ol",key:i,onMouseUp:t.convertToClick},o().createElement("div",{className:"ol-popup-content-wrapper"},o().createElement("div",{className:"ol-popup-content",style:s},n)),o().createElement("div",{className:"ol-popup-closer",onClick:function(){return t.onPopupClose(i)}},"x")),y)}))})),P(t,"update",(function(){(t._popups||[]).map((function(t){var e=t.popup;e.setElement(e.getElement())}))})),P(t,"convertToClick",(function(t){var e=new MouseEvent("click",{bubbles:!0});e.stopPropagation=function(){},t.target.dispatchEvent(e)})),P(t,"preparePopups",(function(){var e=t.props,n=e.popups,r=void 0===n?[]:n,o=e.map,i=o.getSize();return(t._popups||[]).forEach((function(t){var e=t.popup,n=t.observer;n&&n.disconnect(),e&&o.removeOverlay(e)})),t._popups=r.map((function(t){var e=Math.round(.9*i[0])-40,n=Math.round(.9*i[1])-40,r=t.id,u=t.position.coordinates,p=t.className,a=t.maxWidth,s=void 0===a?e:a,l=t.maxHeight,d=void 0===l?n:l,y=t.autoPan,m=void 0!==y&&y,E=t.autoPanMargin,b=void 0===E?20:E,O=t.offset,g=void 0===O?[0,0]:O,_=t.autoPanAnimation,h=void 0===_?{duration:200}:_,I=s>e?e:s,T=d>n?n:d,A=f.g$(r,p),N=new c.A({id:r,element:A,autoPan:m,offset:g,autoPanMargin:b,autoPanAnimation:h,positioning:"bottom-center",className:"ol-overlay-container ol-unselectable",position:u});o.addOverlay(N);var S=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new MutationObserver((function(){t.getMap().getSize()&&(t.setPosition(void 0),t.setPosition(n.coordinates))}));return r.observe(e,{attributes:!0,childList:!0,subtree:!0}),r}(N,A,{coordinates:u});return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){P(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({popup:N,observer:S,containerStyle:{maxWidth:I,maxHeight:T}},t)})),t._popups})),P(t,"stopPropagationOnPointerMove",(function(t){t.stopPropagation()})),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O(t,e)}(e,t),n=e,(r=[{key:"UNSAFE_componentWillMount",value:function(){this.props.map&&this.props.map.getOverlayContainerStopEvent().addEventListener("pointermove",this.stopPropagationOnPointerMove)}},{key:"shouldComponentUpdate",value:function(t){return t.popups!==this.props.popups}},{key:"componentWillUnmount",value:function(){this.props.map&&this.props.map.getOverlayContainerStopEvent().removeEventListener("pointermove",this.stopPropagationOnPointerMove)}},{key:"render",value:function(){return o().createElement("div",null,this.renderPopups())}}])&&m(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(o().Component);P(_,"propTypes",{map:a().object,popups:a().arrayOf(a().object),onPopupClose:a().func}),P(_,"defaultProps",{popups:[],onPopupClose:function(){}})},752933:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});const r=function(){return n(3032).default,{Map:n(971481).A,Layer:n(954762).A,Feature:n(42811).A,MeasurementSupport:n(128168).default,Overview:n(868280).A,ScaleBar:n(94584).A,DrawSupport:n(173998).A,PopupSupport:n(194166).A,BoxSelectionSupport:n(116745).A}}},520943:(t,e,n)=>{"use strict";n.r(e),n.d(e,{IDENTIFY_POPUP:()=>h,default:()=>I});var r=n(273517),o=n.n(r),i=n(764997),u=n(419862),p=n(916589),a=n(811668),c=n(801081),s=n(975699),l=n(812366),f=n(986446),d=n(956449),y=n.n(d),v=n(762216),m=n.n(v),E=n(737056),b=n(131127),O=n(185520),P=(0,p.compose)((0,a.connect)((0,c.Mz)(s.oO,(function(t){return{index:t}})),{setIndex:l.yd}),(0,p.defaultProps)({index:0,responses:[]})),g=(0,c.Mz)([s.SL,s.mR,s.KB,s.P9,s.XJ,b.GY,s.SH,O.T],(function(t,e,n,r,o,i,u,p){return{responses:t,validResponses:e,requests:n,format:r,showEmptyMessageGFI:o,missingResponses:(n||[]).length-(t||[]).length,renderValidOnly:i,loaded:u,hidePopupIfNoResults:p}}));const _=(0,p.compose)((0,a.connect)(g),(0,p.defaultProps)({responses:[],container:function(t){var e=t.index,n=t.children;return o().createElement(o().Fragment,null,y()(n)&&n[e]||n)},header:E.A}),P,u.Bo,u.tq,(0,i.A)((function(t){var e=t.loaded;return m()(e)})))(f.A);var h="identify";const I={identify:_}},185520:(t,e,n)=>{"use strict";n.d(e,{N:()=>r,T:()=>o});var r=function(t){var e;return(null==t?void 0:t.mapPopups)&&(null==t||null===(e=t.mapPopups)||void 0===e?void 0:e.popups)||[]},o=function(t){var e;return(null==t?void 0:t.mapPopups)&&(null==t||null===(e=t.mapPopups)||void 0===e?void 0:e.hideEmptyPopupOption)||!1}},315211:(t,e,n)=>{"use strict";n.d(e,{AH:()=>u,BC:()=>p,g$:()=>i});var r=n(668414),o=n.n(r),i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o()(),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ms-map-popup",n=document.createElement("div");return n.setAttribute("id",t+"-map-popup"),n.setAttribute("class",e),n},u=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").startsWith("<")},p=function(t,e){if(!e)return t;if(e instanceof Node){var n=document.createDocumentFragment();n.appendChild(e),t.appendChild(n)}else u(e)?t.innerHTML=e:t.append(document.createTextNode(String(e)));return t}},927537:(t,e,n)=>{var r=n(225160),o=n(761489);t.exports=function(t,e,n){var i=null==t?0:t.length;return i?(e=n||void 0===e?1:o(e),r(t,0,(e=i-e)<0?0:e)):[]}},677126:t=>{var e=Array.prototype.reverse;t.exports=function(t){return null==t?t:e.call(t)}},722331:(t,e,n)=>{var r=n(587133),o=n(677556),i=n(761489),u=n(213222);t.exports=function(t,e,n){return t=u(t),n=null==n?0:r(i(n),0,t.length),e=o(e),t.slice(n,n+e.length)==e}}}]);