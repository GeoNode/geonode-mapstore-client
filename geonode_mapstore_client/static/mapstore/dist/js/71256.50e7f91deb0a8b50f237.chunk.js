(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[71256],{881808:(t,e,r)=>{"use strict";r.d(e,{eD:()=>n,AM:()=>o,ok:()=>i,Gg:()=>u,nT:()=>a,TL:()=>c,KS:()=>l,EB:()=>s,DZ:()=>f,Aw:()=>p,V_:()=>y,H0:()=>d,jW:()=>m,JZ:()=>b,fQ:()=>v,HK:()=>g,YO:()=>O,I6:()=>h});var n="MAP:LOAD_NEW_MAP",o="MAP_LOAD_MAP_CONFIG",i="MAP_CONFIG_LOADED",u="MAP_CONFIG_LOAD_ERROR",a="MAP_LOAD_INFO",c="MAP_INFO_LOAD_START",l="MAP_INFO_LOADED",s="MAP_INFO_LOAD_ERROR",f="MAP:MAP_SAVE_ERROR",p="MAP:MAP_SAVED",y="MAP:RESET_MAP_SAVE_ERROR";function d(t,e,r){return{type:i,config:t,legacy:!!e,mapId:e,zoomToExtent:r}}function m(t,e){return{type:u,error:t,mapId:e}}function b(t,e,r,n,i){return{type:o,configName:t,mapId:e,config:r,mapInfo:n,overrideConfig:i}}function v(t,e){return{type:l,mapId:e,info:t}}function g(t,e){return{type:s,mapId:t,error:e}}function O(t){return{type:c,mapId:t}}function h(t){return{type:a,mapId:t}}},555927:(t,e,r)=>{"use strict";r.d(e,{BJ:()=>n,_y:()=>o,vk:()=>i,uI:()=>u,mg:()=>a,aR:()=>c,SW:()=>l,$l:()=>s,zX:()=>f,R4:()=>p,E9:()=>y,CP:()=>d,s6:()=>m,E5:()=>b,CF:()=>v,B_:()=>g,js:()=>O,TA:()=>h,Kv:()=>w,zV:()=>E,D_:()=>S,Nl:()=>A,G9:()=>P,gE:()=>j,pB:()=>T,GD:()=>R,sA:()=>_,o2:()=>D,PC:()=>I,rR:()=>L,vM:()=>C,AN:()=>F,tH:()=>N,kk:()=>M,ak:()=>k,qY:()=>x});var n="DASHBOARD:SET_AVAILABLE",o="DASHBOARD:SET_EDITING",i="DASHBOARD:SHOW_CONNECTIONS",u="DASHBOARD:TRIGGER_SAVE_MODAL",a="DASHBOARD:TRIGGER_SAVE_AS_MODAL",c="DASHBOARD:SAVE_DASHBOARD",l="DASHBOARD:SAVE_ERROR",s="DASHBOARD:DASHBOARD_SAVED",f="DASHBOARD:LOAD_DASHBOARD",p="DASHBOARD:DASHBOARD_RESET",y="DASHBOARD:DASHBOARD_LOADED",d="DASHBOARD:DASHBOARD_LOADING",m="DASHBOARD:UPDATE_SERVICES",b="DASHBOARD:SET_SELECTED_SERVICE",v="DASHBOARD:ADD_NEW_SERVICE",g="DASHBOARD:CATALOG_MODE",O="DASHBOARD:DELETE_SERVICE",h="DASHBOARD:SAVE_SERVICE_LOADING",w="DASHBOARD:EXPORT",E="DASHBOARD:IMPORT",S=function(t){return{type:o,editing:t}},A=function(t){return{type:n,available:t}},P=function(t){return{type:i,show:t}},j=function(t){return{type:u,show:t}},T=function(t){return{type:a,show:t}},R=function(t){return{type:l,error:t}},_=function(t){return{type:s,id:t}},D=function(t){return{type:f,id:t}},I=function(){return{type:p}},L=function(t,e){return{type:y,resource:t,data:e}},C=function(t){return{type:d,name:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"loading",value:t}},F=function(t){return{type:"DASHBOARD:DASHBOARD_LOAD_ERROR",error:t}},N=function(t,e){return{type:b,service:t,services:e}},M=function(t,e,r){return{type:v,service:t,services:e,isNew:r}},k=function(t,e){return{type:g,mode:t,isNew:e}},x=function(t,e){return{type:O,service:t,services:e}}},580416:(t,e,r)=>{"use strict";r.d(e,{yS:()=>n,Zz:()=>o,ms:()=>i,ih:()=>u,OX:()=>c,sb:()=>l,K$:()=>s,k7:()=>f,cX:()=>p,x9:()=>y,vs:()=>d,oE:()=>m,Po:()=>b,qv:()=>v,cI:()=>g,g6:()=>O,I4:()=>h,l$:()=>w,Xv:()=>E,k3:()=>S,CQ:()=>A,R8:()=>P,HN:()=>j,sH:()=>T,c7:()=>R,_7:()=>_,eF:()=>D,O6:()=>I,ED:()=>L,RP:()=>C,sF:()=>F,VP:()=>N,He:()=>M,vO:()=>k,WO:()=>x,bh:()=>Z,pV:()=>U,MK:()=>G,ZF:()=>B,tV:()=>H,Dv:()=>Y,Yz:()=>V,kI:()=>W,XG:()=>q,A4:()=>Q,Rp:()=>$,$o:()=>z,ct:()=>X,oh:()=>K,$h:()=>J,ud:()=>tt,Qr:()=>et,LR:()=>rt,nN:()=>nt,UG:()=>ot,F5:()=>it,c9:()=>ut,Jh:()=>at,Xy:()=>ct});var n="CHANGE_LAYER_PROPERTIES",o="LAYERS:CHANGE_LAYER_PARAMS",i="CHANGE_GROUP_PROPERTIES",u="TOGGLE_NODE",a="CONTEXT_NODE",c="SORT_NODE",l="REMOVE_NODE",s="UPDATE_NODE",f="MOVE_NODE",p="LAYER_LOADING",y="LAYER_LOAD",d="LAYER_ERROR",m="ADD_LAYER",b="ADD_GROUP",v="REMOVE_LAYER",g="SHOW_SETTINGS",O="HIDE_SETTINGS",h="UPDATE_SETTINGS",w="REFRESH_LAYERS",E="LAYERS:UPDATE_LAYERS_DIMENSION",S="LAYERS_REFRESHED",A="LAYERS_REFRESH_ERROR",P="LAYERS:BROWSE_DATA",j="LAYERS:DOWNLOAD",T="LAYERS:CLEAR_LAYERS",R="LAYERS:SELECT_NODE",_="LAYERS:FILTER_LAYERS",D="LAYERS:SHOW_LAYER_METADATA",I="LAYERS:HIDE_LAYER_METADATA",L="LAYERS:UPDATE_SETTINGS_PARAMS";function C(t,e,r){return{type:g,node:t,nodeType:e,options:r}}function F(){return{type:O}}function N(t){return{type:h,options:t}}function M(t,e){return{type:n,newProperties:e,layer:t}}function k(t,e){return{type:o,layer:t,params:e}}function x(t,e){return{type:i,newProperties:e,group:t}}function Z(t,e,r){return{type:u,node:t,nodeType:e,status:!r}}function U(t){return{type:a,node:t}}function G(t,e){return{type:c,node:t,order:e,sortLayers:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null}}function B(t,e){return{type:l,node:t,nodeType:e,removeEmpty:arguments.length>2&&void 0!==arguments[2]&&arguments[2]}}function H(t,e,r){return{type:s,node:t,nodeType:e,options:r}}function Y(t,e,r){return{type:f,node:t,groupId:e,index:r}}function V(t){return{type:p,layerId:t}}function W(t,e){return{type:y,layerId:t,error:e}}function q(t,e,r){return{type:d,layerId:t,tilesCount:e,tilesErrorCount:r}}function Q(t){return{type:m,layer:t,foreground:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]}}function $(t,e,r){return{type:b,group:t,parent:e,options:r,asFirst:arguments.length>3&&void 0!==arguments[3]&&arguments[3]}}function z(t){return{type:v,layerId:t}}function X(t,e){return{type:n,layer:t,newProperties:{_v_:e||(new Date).getTime()}}}function K(t){return{type:S,layers:t}}function J(t,e){return{type:A,layers:t,error:e}}function tt(t,e,r,n){return{type:E,dimension:t,value:e,options:r,layers:n}}function et(t){return{type:P,layer:t}}function rt(t){return{type:j,layer:t}}function nt(){return{type:T}}function ot(t,e,r){return{type:R,id:t,nodeType:e,ctrlKey:r}}function it(t){return{type:_,text:t}}function ut(t,e){return{type:D,metadataRecord:t,maskLoading:e}}function at(){return{type:I}}function ct(t,e){return{type:L,newParams:t,update:e}}},807878:(t,e,r)=>{"use strict";r.d(e,{E6:()=>u,vo:()=>a,l1:()=>c,J9:()=>l,U:()=>s,z8:()=>f,ql:()=>p,O_:()=>y,M$:()=>d,Ug:()=>m,p5:()=>b,Fz:()=>v,WZ:()=>g,bP:()=>O,On:()=>h,d_:()=>w,xM:()=>E,bl:()=>S,Wi:()=>A,PN:()=>P,_M:()=>j,Wm:()=>T,Eg:()=>R,V1:()=>_,cY:()=>D,RD:()=>I,Hl:()=>L,co:()=>C,uY:()=>F,H8:()=>N,je:()=>M,go:()=>k,_8:()=>x,xd:()=>Z,o7:()=>U,Nr:()=>G,Gf:()=>B,nh:()=>H,Rf:()=>Y,Xp:()=>V,D6:()=>W,Sm:()=>q,Ef:()=>Q,qu:()=>$,LY:()=>z,ZC:()=>X,c1:()=>K,jW:()=>J,kQ:()=>tt,JG:()=>et,js:()=>rt,q$:()=>nt,OZ:()=>ot,Nc:()=>it,NV:()=>ut,I5:()=>at,QL:()=>ct,I:()=>lt,ku:()=>st,EU:()=>ft,IV:()=>pt,HT:()=>yt,lg:()=>dt,ds:()=>mt,VF:()=>bt,DD:()=>vt,uo:()=>gt,Ry:()=>Ot,ZH:()=>ht,AQ:()=>wt,yC:()=>Et,F:()=>St,mc:()=>At,uM:()=>jt,eJ:()=>Tt,uP:()=>Rt,N5:()=>_t,bn:()=>Dt,Bm:()=>It,F2:()=>Lt,jR:()=>Ct,$J:()=>Ft,ln:()=>Nt});var n=r(375875),o=r.n(n);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}var u="ADD_FILTER_FIELD",a="REMOVE_FILTER_FIELD",c="UPDATE_FILTER_FIELD",l="UPDATE_EXCEPTION_FIELD",s="ADD_GROUP_FIELD",f="UPDATE_LOGIC_COMBO",p="REMOVE_GROUP_FIELD",y="CHANGE_CASCADING_VALUE",d="EXPAND_ATTRIBUTE_PANEL",m="EXPAND_SPATIAL_PANEL",b="QUERYFORM:EXPAND_CROSS_LAYER",v="QUERYFORM:SET_CROSS_LAYER_PARAMETER",g="QUERYFORM:RESET_CROSS_LAYER_FILTER",O="SELECT_SPATIAL_METHOD",h="SELECT_VIEWPORT_SPATIAL_METHOD",w="UPDATE_GEOMETRY",E="SELECT_SPATIAL_OPERATION",S="CHANGE_SPATIAL_ATTRIBUTE",A="CHANGE_SPATIAL_FILTER_VALUE",P="REMOVE_SPATIAL_SELECT",j="SHOW_SPATIAL_DETAILS",T="QUERY_FORM_SEARCH",R="QUERY_FORM_RESET",_="SHOW_GENERATED_FILTER",D="CHANGE_DWITHIN_VALUE",I="ZONE_SEARCH",L="ZONE_SEARCH_ERROR",C="ZONE_FILTER",F="ZONE_CHANGE",N="ZONES_RESET",M="SIMPLE_FILTER_FIELD_UPDATE",k="ADD_SIMPLE_FILTER_FIELD",x="REMOVE_SIMPLE_FILTER_FIELD",Z="REMOVE_ALL_SIMPLE_FILTER_FIELDS",U="UPDATE_FILTER_FIELD_OPTIONS",G="LOADING_FILTER_FIELD_OPTIONS",B="QUERYFORM:ADD_CROSS_LAYER_FILTER_FIELD",H="QUERYFORM:UPDATE_CROSS_LAYER_FILTER_FIELD",Y="QUERYFORM:REMOVE_CROSS_LAYER_FILTER_FIELD",V="QUERYFORM:UPDATE_CROSS_LAYER_FILTER_FIELD_OPTIONS",W="SET_AUTOCOMPLETE_MODE",q="TOGGLE_AUTOCOMPLETE_MENU",Q="QUERYFORM:LOAD_FILTER",$="QUERYFORM:UPSERT_FILTERS",z="QUERYFORM:REMOVE_FILTERS",X="QUERYFORM:CHANGE_MAP_EDITOR",K=function(t){return{type:X,mapData:t}};function J(t){return{type:u,groupId:t}}function tt(t,e){return{type:s,groupId:t,index:e}}function et(t){return{type:a,rowId:t}}function rt(t,e){return{type:q,rowId:t,status:e,layerFilterType:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"filterField"}}function nt(t,e,r,n){return{type:c,rowId:t,fieldName:e,fieldValue:r,fieldType:n,fieldOptions:arguments.length>4&&void 0!==arguments[4]?arguments[4]:{}}}function ot(t,e){return{type:l,rowId:t,exceptionMessage:e}}function it(t,e){return{type:f,groupId:t,logic:e}}function ut(t){return{type:W,status:t}}function at(t){return{type:p,groupId:t}}function ct(t){return{type:y,attributes:t}}function lt(t){return{type:d,expand:t}}function st(t){return{type:m,expand:t}}function ft(t){return{type:b,expand:t}}function pt(t,e){return{type:v,key:t,value:e}}function yt(t,e){return{type:O,fieldName:e,method:t}}function dt(){return{type:h}}function mt(t){return{type:w,geometry:t}}function bt(t,e){return{type:E,fieldName:e,operation:t}}function vt(t){return{type:S,attribute:t}}function gt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.feature,r=t.srsName,n=t.collectGeometries,o=t.style,i=t.options,u=t.value;return{type:A,value:u,collectGeometries:n,options:i,geometry:e&&e.geometry,feature:e,srsName:r,style:o}}function Ot(){return{type:P}}function ht(t){return{type:j,show:t}}function wt(t){return{type:D,distance:t}}function Et(t,e){return{type:T,searchUrl:t,filterObj:e}}function St(t){return{type:Q,filter:t}}function At(t){return{type:R,skip:t}}function Pt(t,e){return{type:L,error:t,id:e}}function jt(t,e){return{type:I,active:t,id:e}}function Tt(t,e,r){return function(n){return o().post(t,e,{timeout:1e4,headers:{Accept:"application/json","Content-Type":"text/plain"}}).then((function(o){var u=o.data;if("object"!==i(u))try{u=JSON.parse(u)}catch(o){n(Pt("Search result broken ("+t+":   "+e+"): "+o.message,r))}n(function(t,e){return{type:C,data:t,id:e}}(u,r)),n(jt(!1,r))})).catch((function(t){n(Pt(t,r))}))}}function Rt(t,e){return{type:F,id:t,value:e}}function _t(t){return{type:B,rowId:(new Date).getTime(),groupId:t}}function Dt(t,e,r,n){return{type:H,rowId:t,fieldName:e,fieldValue:r,fieldType:n,fieldOptions:arguments.length>4&&void 0!==arguments[4]?arguments[4]:{}}}function It(t){return{type:Y,rowId:t}}function Lt(){return{type:g}}function Ct(t,e){return{type:G,status:t,filterField:e,layerFilterType:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"filterField"}}function Ft(t,e,r){return{type:U,filterField:t,options:e,valuesCount:r}}function Nt(t,e,r){return{type:V,filterField:t,options:e,valuesCount:r}}},95797:(t,e,r)=>{"use strict";r.d(e,{DR:()=>n,S0:()=>o,u7:()=>i,lj:()=>u,yz:()=>a,lN:()=>c,zW:()=>l,Yx:()=>s,VN:()=>f,Hu:()=>p,VT:()=>y,RD:()=>d,Qq:()=>m,R1:()=>b,_T:()=>v,vO:()=>g,XO:()=>O,jG:()=>h,Xc:()=>w,gT:()=>E,rG:()=>S,t3:()=>A,Fs:()=>P,w_:()=>j,Lm:()=>T,rh:()=>R,rP:()=>_,IO:()=>D}),r(375875);var n="LAYER_SELECTED_FOR_SEARCH",o="FEATURE_TYPE_SELECTED",i="FEATURE_TYPE_LOADED",u="FEATURE_LOADED",a="FEATURE_LOADING",c="FEATURE_TYPE_ERROR",l="FEATURE_ERROR",s="QUERY_CREATE",f="QUERY:UPDATE_QUERY",p="QUERY_RESULT",y="QUERY_ERROR",d="RESET_QUERY",m="QUERY",b="INIT_QUERY_PANEL",v="QUERY:TOGGLE_SYNC_WMS",g="QUERY:TOGGLE_LAYER_FILTER";function O(){return{type:v}}function h(){return{type:g}}function w(){return{type:b}}function E(t,e){return{type:o,url:t,typeName:e,fields:arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],owner:arguments.length>3?arguments[3]:void 0}}function S(t,e,r){return{type:i,typeName:t,featureType:e,owner:r}}function A(t,e){return{type:c,typeName:t,error:e}}function P(t){return{type:a,isLoading:t}}function j(t,e,r,n,o){return{type:p,searchUrl:e,filterObj:r,result:t,queryOptions:n,reason:o}}function T(t){return{type:y,error:t}}function R(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.updates,r=t.reason,n=t.useLayerFilter;return{type:f,updates:e,reason:r,useLayerFilter:n}}function _(t,e,r){return{type:s,searchUrl:t,filterObj:e,owner:r}}function D(t,e,r,n){return{type:m,searchUrl:t,filterObj:e,queryOptions:r,reason:n}}},735913:(t,e,r)=>{"use strict";r.d(e,{Z:()=>O});var n=r(675263),o=r.n(n),i=r(124852),u=r.n(i),a=r(480681),c=r(950966),l=r(805346);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,v(n.key),n)}}function p(t,e,r){return e=d(e),function(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,y()?Reflect.construct(e,r||[],d(t).constructor):e.apply(t,r))}function y(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(y=function(){return!!t})()}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function m(t,e){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},m(t,e)}function b(t,e,r){return(e=v(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==s(e)?e:e+""}var g=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e)}(e,t),r=e,(n=[{key:"render",value:function(){var t=this,e=this.props.className?" "+this.props.className:"",r=u().createElement(a.Glyphicon,{className:"toc-layer-tool"+e,style:this.props.style,glyph:this.props.glyph,onClick:function(){return t.props.onClick(t.props.node)}});return this.props.tooltip?u().createElement(c.Z,{placement:"bottom",overlay:u().createElement(a.Tooltip,{id:"Tooltip-"+this.props.tooltip},u().createElement("strong",null,u().createElement(l.Z,{msgId:this.props.tooltip,msgParams:this.props.msgParams})))},r):r}}])&&f(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(u().Component);b(g,"propTypes",{node:o().object,onClick:o().func,style:o().object,glyph:o().string,tooltip:o().string,msgParams:o().object,className:o().string}),b(g,"defaultProps",{onClick:function(){}});const O=g},497844:(t,e,r)=>{"use strict";r.d(e,{Z:()=>w});var n=r(124852),o=r.n(n),i=r(675263),u=r.n(i),a=r(1036),c=r(414293),l=r.n(c),s=r(701469),f=r.n(s);function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,O(n.key),n)}}function d(t,e,r){return e=b(e),function(t,e){if(e&&("object"===p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,m()?Reflect.construct(e,r||[],b(t).constructor):e.apply(t,r))}function m(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(m=function(){return!!t})()}function b(t){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},b(t)}function v(t,e){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},v(t,e)}function g(t,e,r){return(e=O(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O(t){var e=function(t,e){if("object"!=p(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==p(e)?e:e+""}var h=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}(e,t),r=e,(n=[{key:"render",value:function(){var t=this;return o().createElement("div",{className:"mapstore-slider ".concat(this.props.hideTooltip?"":"with-tooltip"),onClick:function(t){t.stopPropagation()}},this.props.hideTooltip&&o().createElement(a.Z,{disabled:this.props.disabled,start:[l()(this.props.opacity)?100:Math.round(100*this.props.opacity)],range:{min:0,max:100},onChange:function(e){f()(e)&&e[0]&&t.props.onChange(parseFloat(e[0].replace(" %","")/100))}})||o().createElement(a.Z,{disabled:this.props.disabled,start:[l()(this.props.opacity)?100:Math.round(100*this.props.opacity)],tooltips:[!0],format:{from:function(t){return Math.round(t)},to:function(t){return Math.round(t)+" %"}},range:{min:0,max:100},onChange:function(e){return t.props.onChange(parseFloat(e[0].replace(" %",""))/100)}}))}}])&&y(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(o().Component);g(h,"propTypes",{opacity:u().number,disabled:u().bool,hideTooltip:u().bool,onChange:u().func}),g(h,"defaultProps",{opacity:1,onChange:function(){},visibility:!0});const w=h},359294:(t,e,r)=>{"use strict";r.d(e,{Z:()=>S});var n=r(675263),o=r.n(n),i=r(124852),u=r.n(i),a=r(480681),c=r(950966),l=r(359112),s=r(893379),f=r.n(s),p=r(161253);function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function m(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,w(n.key),n)}}function b(t,e,r){return e=g(e),function(t,e){if(e&&("object"===y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,v()?Reflect.construct(e,r||[],g(t).constructor):e.apply(t,r))}function v(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(v=function(){return!!t})()}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}function O(t,e){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},O(t,e)}function h(t,e,r){return(e=w(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w(t){var e=function(t,e){if("object"!=y(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==y(e)?e:e+""}f()(p.Z,{insert:"head",singleton:!1}),p.Z.locals;var E=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return h(t=b(this,e,[].concat(n)),"getFilteredTitle",(function(e){var r=new RegExp(t.props.filterText.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"gi"),n=e.match(r);return t.props.filterText&&n?e.split(r).map((function(t,e){return e<n.length?[].concat(function(t){if(Array.isArray(t))return d(t)}(r=t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(r)||function(t,e){if(t){if("string"==typeof t)return d(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(t,e):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[u().createElement("strong",{key:e},n[e])]):t;var r})):e})),h(t,"renderTitle",(function(){var e=(0,l.BC)(t.props).title;return u().createElement("div",{className:"toc-title",onClick:t.props.onClick?function(e){return t.props.onClick(t.props.node.id,"layer",e.ctrlKey)}:function(){},onContextMenu:function(e){e.preventDefault(),t.props.onContextMenu(t.props.node)}},t.getFilteredTitle(e))})),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O(t,e)}(e,t),r=e,(n=[{key:"render",value:function(){var t=(0,l.BC)(this.props).tooltipText;return this.props.tooltip&&t?u().createElement(c.Z,{placement:this.props.node.tooltipPlacement||"top",overlay:u().createElement(a.Tooltip,{id:"tooltip-layer-title"},t)},this.renderTitle()):this.renderTitle()}}])&&m(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(u().Component);h(E,"propTypes",{node:o().object,onClick:o().func,onContextMenu:o().func,currentLocale:o().string,filterText:o().string,tooltip:o().bool,tooltipOptions:o().object}),h(E,"defaultProps",{onClick:function(){},onContextMenu:function(){},currentLocale:"en-US",filterText:"",tooltip:!1,tooltipOptions:{maxLength:807,separator:" - "}});const S=E},262770:(t,e,r)=>{"use strict";r.d(e,{Z:()=>E});var n=r(124852),o=r.n(n),i=r(675263),u=r.n(i),a=r(441609),c=r.n(a),l=r(281763),s=r.n(l),f=r(490079);function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function d(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,h(n.key),n)}}function m(t,e,r){return e=v(e),function(t,e){if(e&&("object"===p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,b()?Reflect.construct(e,r||[],v(t).constructor):e.apply(t,r))}function b(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(b=function(){return!!t})()}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}function g(t,e){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},g(t,e)}function O(t,e,r){return(e=h(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h(t){var e=function(t,e){if("object"!=p(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==p(e)?e:e+""}var w=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),O(r=m(this,e,[t]),"state",{containerWidth:0,legendContainerStyle:{overflowX:"auto"}}),O(r,"canShow",(function(t){return t.visibility||!r.props.showOnlyIfVisible})),O(r,"useLegendOptions",(function(){return!c()(r.props.node.legendOptions)&&s()(r.props.node.legendOptions.legendHeight)&&s()(r.props.node.legendOptions.legendWidth)})),O(r,"setOverflow",(function(){return r.useLegendOptions()&&r.props.node.legendOptions.legendWidth>r.state.containerWidth})),r.containerRef=o().createRef(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}(e,t),r=e,n=[{key:"componentDidMount",value:function(){var t=this.containerRef.current&&this.containerRef.current.clientWidth;this.setState(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach((function(e){O(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({containerWidth:t},this.state))}},{key:"render",value:function(){var t=this.props.node||{},e=this.canShow(t)&&"wms"===t.type&&"background"!==t.group,r=e&&this.useLegendOptions();return e?o().createElement("div",{style:this.setOverflow()?this.state.legendContainerStyle:this.props.legendContainerStyle,ref:this.containerRef},o().createElement(f.Z,{style:this.setOverflow()?{}:this.props.legendStyle,layer:t,currentZoomLvl:this.props.currentZoomLvl,scales:this.props.scales,legendHeight:r&&this.props.node.legendOptions&&this.props.node.legendOptions.legendHeight||this.props.legendHeight||void 0,legendWidth:r&&this.props.node.legendOptions&&this.props.node.legendOptions.legendWidth||this.props.legendWidth||void 0,legendOptions:this.props.WMSLegendOptions,scaleDependent:this.props.scaleDependent,language:this.props.language})):null}}],n&&d(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(o().Component);O(w,"propTypes",{node:u().object,legendContainerStyle:u().object,legendStyle:u().object,showOnlyIfVisible:u().bool,currentZoomLvl:u().number,scales:u().array,WMSLegendOptions:u().string,scaleDependent:u().bool,language:u().string,legendWidth:u().number,legendHeight:u().number}),O(w,"defaultProps",{legendContainerStyle:{},showOnlyIfVisible:!1,scaleDependent:!0});const E=w},490079:(t,e,r)=>{"use strict";r.d(e,{Z:()=>j});var n=r(472500),o=r.n(n),i=r(701469),u=r.n(i),a=r(414293),c=r.n(a),l=r(727418),s=r.n(l),f=r(675263),p=r.n(f),y=r(124852),d=r.n(y),m=r(233044),b=r(805346);function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function g(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,A(n.key),n)}}function O(t,e,r){return e=w(e),function(t,e){if(e&&("object"===v(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,h()?Reflect.construct(e,r||[],w(t).constructor):e.apply(t,r))}function h(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(h=function(){return!!t})()}function w(t){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},w(t)}function E(t,e){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},E(t,e)}function S(t,e,r){return(e=A(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A(t){var e=function(t,e){if("object"!=v(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==v(e)?e:e+""}var P=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return S(t=O(this,e,[].concat(n)),"state",{error:!1}),S(t,"onImgError",(function(){t.setState((function(){return{error:!0}}))})),S(t,"getScale",(function(t){if(t.scales&&void 0!==t.currentZoomLvl&&t.scaleDependent){var e,r=Math.round(t.currentZoomLvl),n=null!==(e=t.scales[r])&&void 0!==e?e:t.scales[t.scales.length-1];return Math.round(n)}return null})),S(t,"getUrl",(function(e,r){if(e.layer&&"wms"===e.layer.type&&e.layer.url){var n=e.layer,i=c()(r)?u()(n.url)&&Math.floor(Math.random()*n.url.length):r,a=u()(n.url)?n.url[i]:n.url.replace(/[?].*$/g,""),l=o().parse(a),f=(0,m.clearNilValuesForParams)(n.params),p=t.getScale(e),y=s()({},{service:"WMS",request:"GetLegendGraphic",format:"image/png",height:e.legendHeight,width:e.legendWidth,layer:n.name,style:n.style||null,version:n.version||"1.3.0",SLD_VERSION:"1.1.0",LEGEND_OPTIONS:e.legendOptions},n.legendParams||{},e.language&&n.localizedLayerStyles?{LANGUAGE:e.language}:{},(0,m.addAuthenticationToSLD)(f||{},e.layer),f&&f.SLD_BODY?{SLD_BODY:f.SLD_BODY}:{},null!==p?{SCALE:p}:{});return(0,m.addAuthenticationParameter)(a,y),o().format({host:l.host,protocol:l.protocol,pathname:l.pathname,query:y})}return""})),S(t,"validateImg",(function(e){e.height<=1&&e.width<=2&&t.onImgError()})),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E(t,e)}(e,t),r=e,(n=[{key:"UNSAFE_componentWillReceiveProps",value:function(t){this.state.error&&this.getUrl(t,0)!==this.getUrl(this.props,0)&&this.setState((function(){return{error:!1}}))}},{key:"render",value:function(){var t=this;return!this.state.error&&this.props.layer&&"wms"===this.props.layer.type&&this.props.layer.url?d().createElement("img",{onError:this.onImgError,onLoad:function(e){return t.validateImg(e.target)},src:this.getUrl(this.props),style:this.props.style}):d().createElement(b.Z,{msgId:"layerProperties.legenderror"})}}])&&g(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(d().Component);S(P,"propTypes",{layer:p().object,legendHeight:p().number,legendWidth:p().number,legendOptions:p().string,style:p().object,currentZoomLvl:p().number,scales:p().array,scaleDependent:p().bool,language:p().string}),S(P,"defaultProps",{legendHeight:12,legendWidth:12,legendOptions:"forceLabels:on",style:{maxWidth:"100%"},scaleDependent:!0});const j=P},351990:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n=r(653391).ZP},965539:(t,e,r)=>{"use strict";r.d(e,{Z:()=>c});var n=r(124852),o=r.n(n);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){var n,o,u,a;n=t,o=e,u=r[e],a=function(t,e){if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o),(o="symbol"==i(a)?a:a+"")in n?Object.defineProperty(n,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):n[o]=u})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}const c=function(t){var e=t.id,r=t.children,n=t.header,i=t.footer,u=t.columns,c=t.height,l=t.style,s=void 0===l?{}:l,f=t.className,p=t.bodyClassName,y=void 0===p?"ms2-border-layout-body":p;return o().createElement("div",{id:e,className:f,style:a({display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"hidden"},s)},n,o().createElement("div",{className:y,style:{display:"flex",flex:1,overflowY:"auto"}},o().createElement("main",{className:"ms2-border-layout-content",style:{flex:1,overflowX:"hidden"}},c?o().createElement("div",{style:{height:c}},r):r),c?o().createElement("div",{style:{height:c}},u):u),i)}},507848:(t,e,r)=>{"use strict";r.d(e,{Z:()=>a});var n=r(124852),o=r.n(n),i=r(898631);function u(){return u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u.apply(this,arguments)}const a=function(t){return function(e){var r;return o().createElement(t,u({mapType:(0,i._1)(null==e||null===(r=e.map)||void 0===r?void 0:r.visualizationMode)},e))}}},819983:(t,e,r)=>{"use strict";r.d(e,{Z:()=>p});var n=r(124852),o=r.n(n),i=r(675263),u=r.n(i),a=r(552259);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){var n,o,i,u;n=t,o=e,i=r[e],u=function(t,e){if("object"!=c(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o),(o="symbol"==c(u)?u:u+"")in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var f=function(t){return function(e){var r,i,u,c,l,f,p,y=(null==e||null===(r=e.map)||void 0===r?void 0:r.projection)||"EPSG:3857",d=(null==e||null===(i=e.map)||void 0===i||null===(u=i.mapOptions)||void 0===u||null===(c=u.view)||void 0===c?void 0:c.DPI)||null,m=null==e||null===(l=e.map)||void 0===l||null===(f=l.mapOptions)||void 0===f||null===(p=f.view)||void 0===p?void 0:p.scales,b=(0,n.useMemo)((function(){return m?(0,a.Xf)(m,y,d):null}),[m,y,d]),v=b?s(s({},e),{},{map:s(s({},e.map),{},{mapOptions:s(s({},e.map.mapOptions),{},{view:s(s({},e.map.mapOptions.view),{},{resolutions:b})})})}):e;return o().createElement(t,v)}};f.propTypes={Component:u().element};const p=f},975480:(t,e,r)=>{"use strict";r.d(e,{Z:()=>i});var n=r(124852),o=r.n(n);const i=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).style,e=void 0===t?{display:"inline-block"}:t;return o().createElement("div",{style:e,className:"mapstore-inline-loader"})}},843614:(t,e,r)=>{"use strict";r.d(e,{Z:()=>m});var n=r(727418),o=r.n(n),i=r(480681),u=r(461365);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l(n.key),n)}}function l(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==a(e)?e:e+""}function s(t,e,r){return e=p(e),function(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,f()?Reflect.construct(e,r||[],p(t).constructor):e.apply(t,r))}function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(f=function(){return!!t})()}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function y(t,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y(t,e)}var d=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(e,t),r=e,(n=[{key:"handleDialogClick",value:function(t){t.target===t.currentTarget&&this.props.onHide(t)}}])&&c(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(i.Modal);const m=o()((0,u.Z)(d),{Body:i.Modal.Body,Dialog:i.Modal.Dialog,Footer:i.Modal.Footer,Header:i.Modal.Header,Title:i.Modal.Title})},273849:(t,e,r)=>{"use strict";r.d(e,{Z:()=>f});var n=r(867076),o=r(828878),i=r(49977),u=r.n(i);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){var n,o,i,u;n=t,o=e,i=r[e],u=function(t,e){if("object"!=a(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o),(o="symbol"==a(u)?u:u+"")in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var s=(0,n.mapPropsStreamWithConfig)(o.Z);const f=(0,n.compose)((0,n.defaultProps)({dataStreamFactory:function(){return u().Observable.of({})}}),s((function(t){return t.take(1).switchMap((function(e){return e.dataStreamFactory(t.startWith(e),e)})).combineLatest(t,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l(l({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),t)}))})))},193190:(t,e,r)=>{"use strict";r.d(e,{Z:()=>h});var n=r(124852),o=r.n(n),i=r(743129),u=r(480681),a=r(441609),c=r.n(a),l=r(227361),s=r.n(l),f=r(815135),p=r(993451),y=r(805346),d=r(38560),m=r(552259);function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var v=(0,p.Z)("placeholder")(u.FormControl),g=(0,p.Z)(["noResultsText"])(i.ZP),O=(0,f.Z)(d.Z);const h=function(t){var e,r=t.maps,i=void 0===r?[]:r,a=t.onChange,l=void 0===a?function(){}:a,f=t.value,p=void 0===f?"":f,d=t.disabled,h=void 0!==d&&d,w=t.className,E=void 0===w?"":w,S=t.editorData,A=void 0===S?{}:S,P=t.setSelectedMap,j=void 0===P?function(){}:P,T=t.setEmptyMap,R=void 0===T?function(){}:T,_=t.emptyMap,D=void 0!==_&&_,I=t.withContainer,L=void 0!==I&&I,C=t.selectedMap,F=void 0===C?{}:C,N=function(t){var e;if(1===t.length)return null;var r=((null==t?void 0:t.find((function(t){return(null==t?void 0:t.mapId)===p})))||{}).size;return!L&&(null==r?void 0:r.width)<=400?o().createElement(O,{tooltipId:"widgets.mapSwitcher.infoOnHide",className:"square-button-md no-border",key:"info-sign"},o().createElement(u.Glyphicon,{glyph:"info-sign"})):o().createElement(g,{className:E,disabled:h,noResultsText:"widgets.mapSwitcher.noResults",options:c()(t)?[]:t.map((function(t){return{label:t.name,value:t.mapId}})),onChange:function(t){return t.value&&l("selectedMapId",t.value)},value:p||(null==t||null===(e=t[0])||void 0===e?void 0:e.mapId),clearable:!1})};if(!L)return N(i);var M,k,x=(M=(0,n.useState)(""),k=2,function(t){if(Array.isArray(t))return t}(M)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,u,a=[],c=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return a}}(M,k)||function(t,e){if(t){if("string"==typeof t)return b(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(t,e):void 0}}(M,k)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),Z=x[0],U=x[1];return(0,n.useEffect)((function(){if(!c()(null==A?void 0:A.maps)&&L){var t,e,r,n=null==A||null===(t=A.maps)||void 0===t?void 0:t.find((function(t){return t.name===m.wO}));c()(n)?(R(!1),e=s()(A,"maps[0]",{}),c()(A.selectedMapId)?l("selectedMapId",e.mapId):e=null===(r=A.maps)||void 0===r?void 0:r.find((function(t){return t.mapId===A.selectedMapId}))):(R(!0),e=n),j(e)}}),[A.maps,A.selectedMapId,L,j,l,R]),D||(null===(e=A.maps)||void 0===e?void 0:e.length)>1?o().createElement("div",{className:"widget-selector"},D?o().createElement("div",{style:{display:"inline-flex"}},o().createElement(v,{className:"widget-empty-map",type:"text",placeholder:"widgets.mapSwitcher.placeholder",style:{textOverflow:"ellipsis"},value:Z,onChange:function(t){return U(t.target.value)}}),o().createElement(O,{bsStyle:"primary",disabled:!Z,onClick:function(){l("maps[".concat(F.mapId,"].name"),Z),l("selectedMapId",F.mapId)}},o().createElement(u.Glyphicon,{glyph:"ok"}))):o().createElement(o().Fragment,null,o().createElement("div",{className:"widget-selector-label"},o().createElement("strong",null,o().createElement(y.Z,{msgId:"widgets.mapSwitcher.selectLabel"}))),N(A.maps))):null}},130909:(t,e,r)=>{"use strict";r.d(e,{Z:()=>f,H:()=>p});var n=r(867076),o=r(12425),i=r(839860);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){var n,o,i,a;n=t,o=e,i=r[e],a=function(t,e){if("object"!=u(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o),(o="symbol"==u(a)?a:a+"")in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function l(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const f=(0,n.compose)(o.Z,(0,n.compose)((0,n.withState)("showTable","setShowTable",!1),(0,n.withHandlers)({toggleTableView:function(t){var e=t.setShowTable,r=t.showTable;return function(){return e(!r)}}}),(0,n.withProps)((function(t){var e=t.widgetTools,r=void 0===e?[]:e,n=t.toggleTableView,o=void 0===n?function(){}:n,i=t.traces;return{widgetTools:[].concat(l(r),l(1===(null==i?void 0:i.length)?[{glyph:"features-grid",target:"menu",textId:"widgets.widget.menu.showChartData",onClick:function(){return o()}}]:[]))}}))),(0,i.tR)(),(0,i.AV)(),(0,i.E6)(),(0,n.branch)((function(t){return!t.showTable}),(0,i.um)()));var p=(0,n.compose)((0,n.withProps)((function(t){var e,r=t.charts,n=void 0===r?[]:r,o=t.selectedChartId,i=t.options,u=void 0===i?{}:i,a=(null==n?void 0:n.find((function(t){return t.chartId===o})))||{};return c(c({},a),{},{options:c(c({},u),null!==(e=null==a?void 0:a.options)&&void 0!==e?e:{}),charts:n,selectedChartId:o})})))},12425:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n=(0,r(867076).withState)("confirmDelete","toggleDeleteConfirm",!1)},630881:(t,e,r)=>{"use strict";r.d(e,{Z:()=>I});var n=r(313311),o=r.n(n),i=r(441609),u=r.n(i),a=r(478718),c=r.n(a),l=r(867076),s=r(916651),f=r(86686),p=r(189291),y=r(102245),d=r.n(y),m=r(689737),b=r(670956);function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}var g=["traces"],O=["nextTraces"];function h(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function w(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function E(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?w(Object(r),!0).forEach((function(e){S(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function S(t,e,r){var n;return n=function(t,e){if("object"!=v(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(e),(e="symbol"==v(n)?n:n+"")in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A(t){return function(t){if(Array.isArray(t))return P(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return P(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var j=function(t,e){var r=(0,b.Z5)(t,e),n=o()(Object.keys(r||{}),(function(){return"cql_filter"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase()}));return r&&n&&r[n]},T=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).layerFilter},R=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.mapSync,r=t.geomProp,n=t.dependencies,o=void 0===n?{}:n,i=t.layer,u=t.quickFilters,a=t.options,c=t.filter,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e!==l.mapSync||o.viewport!==(l.dependencies&&l.dependencies.viewport)||o.quickFilters!==(l.dependencies&&l.dependencies.quickFilters)||o.options!==(l.dependencies&&l.dependencies.options)||r!==l.geomProp||c!==l.filter||a!==l.options||u!==l.quickFilters||j(i,o)!==j(l.layer,l.dependencies)||T(i)!==T(l.layer)},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.mapSync,r=t.geomProp,n=void 0===r?"the_geom":r,o=t.dependencies,i=void 0===o?{}:o,a=t.filter,c=t.layer,l=t.quickFilters,y=t.options,v=i.viewport,g=d()({gmlVersion:"3.1.1"}),O=(0,m.Z)(g),h=g.filter,w=g.property,P=g.and,T=(c||{}).layerFilter,R={},_={},D=(0,b.r$)(a,l,y);if(!e)return{filter:!u()(D)||T?h(P.apply(void 0,A(T&&!T.disabled?(0,f.toOGCFilterParts)(T,"1.1.0","ogc"):[]).concat(A(D?(0,f.toOGCFilterParts)(D,"1.1.0","ogc"):[])))):void 0};if(c&&i&&i.quickFilters&&i.layer&&c.name===i.layer.name&&(D=E(E({},D),(0,b.r$)(D,i.quickFilters,i.options))),c&&i&&i.filter&&i.layer&&c.name===i.layer.name&&(D=E(E({},D),(0,f.composeAttributeFilters)([D,i.filter]))),i.viewport){var I=Object.keys(v.bounds).reduce((function(t,e){return E(E({},t),{},S({},e,parseFloat(v.bounds[e])))}),{});R=(0,s.getViewportGeometry)(I,v.crs);var L=j(c,i);return _=L?[O((0,p.ij)(L))]:[],{filter:h(P.apply(void 0,A(_).concat(A(T&&!T.disabled?(0,f.toOGCFilterParts)(T,"1.1.0","ogc"):[]),A(D?(0,f.toOGCFilterParts)(D,"1.1.0","ogc"):[]),[w(n).intersects(R)])))}}return{filter:h(P.apply(void 0,A(T?(0,f.toOGCFilterParts)(T,"1.1.0","ogc"):[]).concat(A(D?(0,f.toOGCFilterParts)(D,"1.1.0","ogc"):[]))))}},D=["mapSync","dependencies","dependenciesMap","widgets"];const I=(0,l.compose)((0,l.withPropsOnChange)((function(t,e){var r=t.traces,n=h(t,g),o=e.nextTraces,i=void 0===o?[]:o,u=h(e,O);return r?r.some((function(t,e){return R(E(E({},c()(n,D)),t),E(E({},c()(u,D)),i[e]))})):R(n,u)}),(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.traces?{traces:t.traces.map((function(e){return E(E({},e),_(E(E({},c()(t,D)),e)))}))}:_(t)})))},908488:(t,e,r)=>{"use strict";r.d(e,{Z:()=>p});var n=r(867076),o=r(670956),i=r(313311),u=r.n(i),a=["traces"];function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){var n,o,i,u;n=t,o=e,i=r[e],u=function(t,e){if("object"!=c(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o),(o="symbol"==c(u)?u:u+"")in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var f=function(t){var e=t.dependencies,r=void 0===e?{}:e,n=t.options,i=t.layer,a=void 0===i?{}:i,c=(0,o.Z5)(a,r),l=u()(Object.keys(c||{}),(function(){return"viewparams"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase()})),f=c&&l&&c[l];return{options:f?s(s({},n),{},{viewParams:f}):n}};const p=(0,n.compose)((0,n.withPropsOnChange)(["dependencies","options","traces"],(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.traces,r=function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(t,a);return e?{traces:e.map((function(t){return s(s({},t),f(s(s({},t),{},{dependencies:r.dependencies})))}))}:f(r)})))},873339:(t,e,r)=>{"use strict";r.d(e,{Z:()=>f});var n=r(867076),o=r(478718),i=r.n(o);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){l(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function l(t,e,r){var n;return n=function(t,e){if("object"!=u(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(e),(e="symbol"==u(n)?n:n+"")in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s=function t(e,r,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return e?Object.keys(e).reduce((function(u,a){if("dependenciesMap"===a&&r[e[a]]&&r[e.mapSync]&&r[e[a]][a]&&-1===r[e[a]][a].indexOf(n)&&o.every((function(t){return r[e[a]][a]!==t}))){var s=o.concat(r[e[a]][a]);return c(c({},u),i()(t(r[e[a]],r,n,s),["options","layer","quickFilters","filter","dependenciesMap"]))}return c(c({},u),{},l({},a,r[e[a]]))}),{}):r};const f=(0,n.withProps)((function(t){var e=t.dependenciesMap,r=t.dependencies,n=t.id;return{dependencies:e?s(e,r,n):r,dependenciesMap:e}}))},639837:(t,e,r)=>{"use strict";r.d(e,{Z:()=>i});var n=r(982030),o=r(599707);const i=(0,n.Z)((function(t){var e,r=t.data,n=void 0===r?[]:r;return!n||0===n.length||0===(null==n||null===(e=n.flat())||void 0===e?void 0:e.length)}),(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.mapSync;return{iconFit:t.iconFit,messageId:e?"widgets.errors.nodatainviewport":"widgets.errors.nodata",glyph:"stats"}}),o.Z)},946173:(t,e,r)=>{"use strict";r.d(e,{Z:()=>l});var n=r(124852),o=r.n(n),i=r(982030),u=r(805346);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function c(t,e,r){var n;return n=function(t,e){if("object"!=a(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(e),(e="symbol"==a(n)?n:n+"")in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const l=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return(0,i.Z)((function(t){var e=t.layers;return 0===(void 0===e?[]:e).length}),c(c({},t?"tooltip":"title",o().createElement(u.Z,{msgId:"widgets.errors.noLegend"})),"description",!t&&o().createElement(u.Z,{msgId:"widgets.errors.noLegendDescription"})))}},342415:(t,e,r)=>{"use strict";r.d(e,{Z:()=>c});var n=r(124852),o=r.n(n),i=r(805346),u=r(982030),a=r(599707);const c=(0,u.Z)((function(t){return!!t.error}),(function(){var t,e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.error,u=r.layer,c=-1!==(null==n||null===(t=n.message)||void 0===t?void 0:t.indexOf("Could not locate"))?o().createElement(a.Z,{glyph:"stats",messageId:"widgets.errors.layerNotAvailable",msgParams:{layerName:null==u?void 0:u.name}}):function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"ECONNABORTED"===t.code?o().createElement(i.Z,{msgId:"widgets.errors.timeoutExpired"}):t.message?o().createElement(i.Z,{msgId:"widgets.errors.genericErrorWithMessage",msgParams:{message:t.message}}):o().createElement(i.Z,{msgId:"widgets.errors.genericError"})}(n);return{glyph:-1!==(null==n||null===(e=n.message)||void 0===e?void 0:e.indexOf("Could not locate"))?null:"warning-sign",iconFit:!1,content:c}}))},213314:(t,e,r)=>{"use strict";r.d(e,{Z:()=>m});var n=r(867076),o=r(227361),i=r.n(o),u=r(12425),a=r(839860),c=r(552259),l=r(557579);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function p(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach((function(e){y(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function y(t,e,r){var n;return n=function(t,e){if("object"!=s(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(e),(e="symbol"==s(n)?n:n+"")in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const m=(0,n.compose)((0,n.withProps)((function(t){var e=t.dependencies,r=void 0===e?{}:e,n=t.dependenciesMap,o=void 0===n?{}:n;return{layers:r[o.layers]||r.layers||[],dependencyMapPath:o.layers||"",scales:(0,c.yu)(r.projection||r.viewport&&r.viewport.crs||"EPSG:3857",i()(r,"mapOptions.view.DPI")),currentZoomLvl:r.zoom}})),(0,n.withProps)((function(t){var e=t.layers,r=void 0===e?[]:e;return{layers:r.filter((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"background"!==t.group&&"vector"!==t.type})),allLayers:r}})),(0,n.withHandlers)({updateProperty:function(t){var e=t.updateProperty,r=t.dependencyMapPath,n=t.allLayers,o=void 0===n?[]:n;return function(t,n,i){if(r){var u=(f=l.jB.exec(r)||[],m=3,function(t){if(Array.isArray(t))return t}(f)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,u,a=[],c=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return a}}(f,m)||function(t,e){if(t){if("string"==typeof t)return d(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(t,e):void 0}}(f,m)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=u[1],c=u[2];if(c){var s=o.map((function(e){return e.id===i?p(p({},e),{},y({},t,n)):e}));e(a,"maps",{mapId:c,layers:s},"merge")}}var f,m}}}),u.Z,(0,a.tR)(),(0,a.E6)(),(0,a.um)())},770513:(t,e,r)=>{"use strict";r.d(e,{ZP:()=>I});var n=r(124852),o=r.n(n),i=r(984596),u=r.n(i),a=r(513218),c=r.n(a),l=r(414293),s=r.n(l),f=r(189734),p=r.n(f),y=r(23279),d=r.n(y),m=r(465633),b=r(886850),v=r(624262),g=r(375875),O=r.n(g),h=["traces"];function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function E(){return E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},E.apply(this,arguments)}function S(t){return function(t){if(Array.isArray(t))return P(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||A(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(t,e){if(t){if("string"==typeof t)return P(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(t,e):void 0}}function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function j(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function T(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?j(Object(r),!0).forEach((function(e){R(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function R(t,e,r){var n;return n=function(t,e){if("object"!=w(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(e),(e="symbol"==w(n)?n:n+"")in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var _=O().CancelToken,D={wfs:function(t,e){var r=t.layer,n=t.options,o=t.filter,i=e.cancelToken;return(0,b.Mc)(r,o,{propertyName:n.classificationAttribute?[].concat(S(u()(n.aggregationAttribute)),S(u()(n.groupByAttributes)),S(u()(n.classificationAttribute))):[].concat(S(u()(n.aggregationAttribute)),S(u()(n.groupByAttributes))),requestOptions:{cancelToken:i}}).toPromise().then((function(t){return function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).features,e=(arguments.length>1?arguments[1]:void 0).groupByAttributes;return p()(t.map((function(t){return t.properties})),e)}(t,n)}))},wps:function(t,e){var r=t.layer,n=t.options,o=t.filter,i=e.cancelToken;return(0,m.Z)((0,v.ZA)(r),T(T({featureType:r.name},n),{},{filter:o}),{timeout:15e3,cancelToken:i}).toPromise().then((function(t){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.AggregationResults,r=void 0===e?[]:e,n=t.GroupByAttributes,o=void 0===n?[]:n,i=t.AggregationAttribute,u=t.AggregationFunctions;return r.map((function(t){return T(T({},o.reduce((function(e,r,n){var o=t[n];if(c()(o)){if(s()(o.time))throw new Error("Unknown response format from server");o=new Date(o.time).toISOString()}return T(T({},e),{},R({},r,o))}),{})),{},R({},"".concat(u[0],"(").concat(i,")"),t[t.length-1]))})).sort((function(t,e){var r=parseFloat(t[o]),n=parseFloat(e[o]);return isNaN(r)||isNaN(n)?t<e?-1:t>e?1:0:r-n}))}(t)}))}};const I=function(t){return(0,n.memo)((function(e){var r,i,u=e.traces,a=void 0===u?[]:u,c=function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(e,h),l=(r=(0,n.useState)({loading:!0}),i=2,function(t){if(Array.isArray(t))return t}(r)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,u,a=[],c=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return a}}(r,i)||A(r,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=l[0],f=l[1],p=(0,n.useRef)([]),y=(0,n.useRef)([]),m=(0,n.useRef)(!0),b=(0,n.useRef)();function g(){y.current.forEach((function(t){t()})),y.current=[],b.current.cancel()}return(0,n.useEffect)((function(){return m.current=!0,b.current=d()((function(t){O().all(t.map((function(t){return(0,t.dataServiceRequest)(t.trace,{cancelToken:new _((function(t){y.current.push(t)}))})}))).then((function(t){var e;m.current&&(f(e={data:t,loading:!1,isAnimationActive:!1,error:void 0}),c.onLoad&&c.onLoad(e))})).catch((function(t){var e;m.current&&!t.__CANCEL__&&(f(e={loading:!1,error:t,data:[]}),c.onLoadError&&c.onLoadError(e))})).finally((function(){y.current=[]}))}),c.debounceTime||300),function(){m.current=!1,g()}}),[]),(0,n.useEffect)((function(){if(a.length!==p.current.length||a.some((function(t,e){var r,n,o,i,u=p.current[e];return!(u&&(r=u,n=t,n.layer&&r.layer.name===n.layer.name&&r.layer.loadingError===n.layer.loadingError&&function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.aggregateFunction===e.aggregateFunction&&t.aggregationAttribute===e.aggregationAttribute&&t.groupByAttributes===e.groupByAttributes&&t.classificationAttribute===e.classificationAttribute&&t.viewParams===e.viewParams}(r.options,n.options)&&(o=r.filter,i=n.filter,o===i)))}))){var t=a.map((function(t){var e,r,n,o=(r=(e=t).layer,(n=e.options)?n.aggregateFunction&&"None"!==n.aggregateFunction?r.name&&(0,v.ZA)(r)&&n&&n.aggregateFunction&&n.aggregationAttribute&&n.groupByAttributes||n.classificationAttribute?"wps":"":r.name&&(0,v.Tt)(r)&&null!=n&&n.aggregationAttribute&&null!=n&&n.groupByAttributes?"wfs":"":"");return{trace:t,dataServiceRequest:D[o]||function(){return Promise.resolve([])}}}));g(),f({loading:!0,error:void 0}),b.current(t)}p.current=S(a)})),o().createElement(t,E({},c,s,{traces:a}))}))}},839860:(t,e,r)=>{"use strict";r.d(e,{E6:()=>I,tR:()=>_,AV:()=>D,G5:()=>R,um:()=>L});var n=r(867076);function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var u=(0,n.compose)((0,n.withProps)((function(t){var e,r=t.maximized,n=void 0===r?{}:r,o=t.widgetTools,u=void 0===o?[]:o,a=t.toggleMaximize,c=void 0===a?function(){}:a,l=t.dataGrid,s=void 0===l?{}:l,f=t.toolsOptions;return{widgetTools:(void 0===f?{}:f).showMaximize?[].concat((e=u,function(t){if(Array.isArray(t))return i(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{glyph:n.widget?"resize-small":"resize-full",target:"icons",tooltipId:"widgets.widget.menu.".concat(n.widget?"minimize":"maximize"),tooltipPosition:"right",visible:!s.static,onClick:function(){return c()}}]):u}})));function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var f=r(124852),p=r.n(f),y=r(80717),d=function(t){return"icons"===t.target},m=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(d).length>0},b=r(327244);function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var g=r(480681),O=r(805346),h=r(815135);function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var E=function(t){var e=t.target,r=t.visible;return(void 0===r||r)&&"menu"===e},S=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(E).length>0},A=(0,h.Z)(g.MenuItem);function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var j=function(t){return"tools"===t.target},T=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(j).length>0},R=function(){return(0,n.compose)((0,n.withProps)((function(t){var e,r=t.maximized,n=void 0===r?{}:r,o=t.widgetTools,i=void 0===o?[]:o,u=t.toolsOptions,a=void 0===u?{}:u,c=t.canEdit,s=t.updateProperty,f=void 0===s?function(){}:s,p=t.id,y=t.hide,d=void 0!==y&&y;return{widgetTools:a.showHide?[].concat((e=i,function(t){if(Array.isArray(t))return l(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return l(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{glyph:"lock",target:"menu",active:d,textId:d?"widgets.widget.menu.unhide":"widgets.widget.menu.hide",tooltipId:d?"widgets.widget.menu.unhideDescription":"widgets.widget.menu.hideDescription",visible:!n.widget&&c,onClick:function(){return f(p,"hide",!d)}}]):i}})))},_=function(){return(0,n.withProps)((function(t){var e,r=t.widgetTools,n=void 0===r?[]:r,o=t.dataGrid,i=void 0===o?{}:o,u=t.canEdit,c=t.onEdit,l=void 0===c?function(){}:c,s=t.toggleDeleteConfirm,f=void 0===s?function(){}:s;return{widgetTools:u?[].concat((e=n,function(t){if(Array.isArray(t))return a(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{glyph:"pencil",target:"menu",visible:u&&!i.static,textId:"widgets.widget.menu.edit",onClick:function(){return l()}},{glyph:"trash",target:"menu",visible:u&&!i.static,textId:"widgets.widget.menu.delete",onClick:function(){return f(!0)}}]):n}}))},D=function(){return(0,n.withProps)((function(t){var e,r=t.widgetTools,n=void 0===r?[]:r,o=t.data,i=t.title,u=t.exportCSV,a=void 0===u?function(){}:u;return{widgetTools:[].concat((e=n,function(t){if(Array.isArray(t))return c(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{glyph:"download",glyphClassName:"exportCSV",target:"menu",textId:"widgets.widget.menu.downloadData",disabled:!o||!o.length,onClick:function(){return a({data:o,title:i})}}])}}))},I=function(){return(0,n.compose)((0,n.compose)((0,n.withProps)((function(t){var e,r=t.maximized,n=void 0===r?{}:r,o=t.widgetTools,i=void 0===o?[]:o,u=t.toolsOptions,a=void 0===u?{}:u,c=t.updateProperty,l=void 0===c?function(){}:c,f=t.id,p=t.dataGrid,y=void 0===p?{}:p;return{widgetTools:a.showPin?[].concat((e=i,function(t){if(Array.isArray(t))return s(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{glyph:"pushpin",bsStyle:y.static&&"primary",glyphClassName:y.static?"active":void 0,tooltipId:y.static?"widgets.widget.menu.unpin":"widgets.widget.menu.pin",target:"icons",visible:!n.widget,onClick:function(){return l(f,"dataGrid.static",!y.static)}}]):i}}))),(0,n.compose)((0,n.withProps)((function(t){var e,r=t.maximized,n=void 0===r?{}:r,i=t.widgetTools,u=void 0===i?[]:i,a=t.dataGrid,c=void 0===a?{}:a,l=t.toggleCollapse,s=void 0===l?function(){}:l,f=t.toolsOptions;return{widgetTools:(void 0===f?{}:f).showCollapse?[].concat((e=u,function(t){if(Array.isArray(t))return o(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{glyph:"minus",target:"icons",tooltipId:"widgets.widget.menu.collapse",visible:!n.widget&&!c.static,onClick:function(){return s()}}]):u}}))),u,(0,n.compose)((0,n.withProps)((function(t){var e,r=t.widgetTools,n=void 0===r?[]:r,o=t.title,i=t.description,u=t.widgetType;return{widgetTools:i&&"text"!==u?[].concat((e=n,function(t){if(Array.isArray(t))return v(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return v(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{glyph:"question-sign",popover:{title:o,trigger:!0,text:i,id:(0,b.slug)(o)},target:"icons"}]):n}}))))},L=function(){return(0,n.compose)((0,n.compose)((0,n.withPropsOnChange)(["topLeftItems","widgetTools"],(function(t){var e,r=t.topLeftItems,n=void 0===r?[]:r,o=t.widgetTools;return{topLeftItems:T(o)?[].concat((e=n,function(t){if(Array.isArray(t))return P(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return P(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[p().createElement(y.Z,{btnGroupProps:{style:{position:"absolute",left:14}},btnDefaultProps:{className:"no-border",bsSize:"small",bsStyle:"link",style:{paddingLeft:4,paddingRight:4}},buttons:o.filter(j)})]):n}}))),(0,n.compose)((0,n.withPropsOnChange)(["icons","widgetTools"],(function(t){var e=t.icons,r=void 0===e?[]:e,n=t.widgetTools;return{icons:m(n)?p().createElement(y.Z,{btnDefaultProps:{className:"no-border",bsSize:"xs",bsStyle:"link"},buttons:n.filter(d)}):r}}))),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.className,r=void 0===e?"widget-menu":e,o=t.menuIcon,i=void 0===o?"option-vertical":o;return(0,n.withProps)((function(t){var e,n=t.widgetTools,o=t.topRightItems,u=void 0===o?[]:o;return{topRightItems:S(n)?[].concat((e=u,function(t){if(Array.isArray(t))return w(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return w(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[p().createElement(g.ButtonToolbar,null,p().createElement(g.DropdownButton,{pullRight:!0,bsStyle:"default",className:r,title:p().createElement(g.Glyphicon,{glyph:i}),noCaret:!0,id:"dropdown-no-caret"},n.filter(E).map((function(t,e){var r=t.onClick,n=void 0===r?function(){}:r,o=t.disabled,i=void 0!==o&&o,u=t.glyph,a=t.glyphClassName,c=t.text,l=t.textId,s=t.tooltipId,f=t.active;return p().createElement(A,{active:f,tooltipId:s,onSelect:n,disabled:i,eventKey:e},p().createElement(g.Glyphicon,{className:a,glyph:u}),l?p().createElement(O.Z,{msgId:l}):c)}))))]):u}}))}())}},670956:(t,e,r)=>{"use strict";r.d(e,{Z5:()=>v,r$:()=>g});var n=r(313311),o=r.n(n),i=r(227361),u=r.n(i),a=r(441609),c=r.n(a),l=r(354061),s=r.n(l),f=r(196958),p=r(86686);function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function m(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach((function(e){b(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function b(t,e,r){var n;return n=function(t,e){if("object"!=y(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(e),(e="symbol"==y(n)?n:n+"")in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var v=function(t,e){return t&&t.id&&u()(o()(e.layers||[],{id:t.id}),"params",{})},g=function(t,e,r){var n=e&&r&&Object.keys(e).filter((function(t){return o()((0,f._Q)(r.propertyName),(function(e){return e===t}))})).reduce((function(t,r){return m(m({},t),{},b({},r,e[r]))}),{}),i=s()(n,(function(t,e,r){return(0,f.dJ)(m({attribute:r},e),t)}),{});if(!c()(t)||!c()(i)){var u=(0,p.composeAttributeFilters)([t,i],void 0,null==t?void 0:t.spatialFieldOperator);return m(m({},t),u)}return{}}},39589:(t,e,r)=>{"use strict";r.d(e,{Z:()=>m});var n=r(867076),o=r(465633),i=r(273849),u=r(49977),a=r.n(u),c=r(624262);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function p(t,e,r){var n;return n=function(t,e){if("object"!=l(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(e),(e="symbol"==l(n)?n:n+"")in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.AggregationResults,r=void 0===e?[]:e,n=t.GroupByAttributes,o=void 0===n?[]:n,i=t.AggregationAttribute,u=t.AggregationFunctions;return r.map((function(t){return f(f({},o.reduce((function(e,r,n){return f(f({},e),{},p({},r,t[n]))}),{})),{},p({},"".concat(u[0],"(").concat(i,")"),t[t.length-1]))}))},d=function(t){return t.filter((function(t){var e=t.layer,r=void 0===e?{}:e,n=t.options;return r.name&&(0,c.ZA)(r)&&n&&n.aggregateFunction&&n.aggregationAttribute})).distinctUntilChanged((function(t,e){var r=t.layer,n=void 0===r?{}:r,o=t.options,i=void 0===o?{}:o,u=t.filter;return e.layer&&n.name===e.layer.name&&n.loadingError===e.layer.loadingError&&function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.aggregateFunction===e.aggregateFunction&&t.aggregationAttribute===e.aggregationAttribute&&t.viewParams===e.viewParams}(i,e.options)&&u===e.filter})).switchMap((function(t){var e=t.layer,r=void 0===e?{}:e,n=t.options,i=t.filter,u=t.onLoad,l=void 0===u?function(){}:u,s=t.onLoadError,p=void 0===s?function(){}:s;return(0,o.Z)((0,c.ZA)(r),f(f({featureType:r.name},n),{},{filter:i}),{timeout:15e3}).map((function(t){return{loading:!1,isAnimationActive:!1,error:void 0,data:y(t),series:[{dataKey:"".concat(t.AggregationFunctions[0],"(").concat(t.AggregationAttribute,")")}]}})).do(l).catch((function(t){return a().Observable.of({loading:!1,error:t,data:[]}).do(p)})).startWith({loading:!0})}))};const m=(0,n.compose)((0,n.withProps)((function(){return{dataStreamFactory:d}})),i.Z)},980844:(t,e,r)=>{"use strict";r.d(e,{Z:()=>T});var n=r(867076),o=r(227361),i=r.n(o),u=r(414293),a=r.n(u),c=r(23195),l=r(675263),s=r.n(l),f=r(727665),p=r(124852),y=r.n(p),d=r(173014),m=r(342415),b=r(639837),v=r(12226),g=r(246781);function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}var h=["value","uom","formula","counterOpts"];function w(){return w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},w.apply(this,arguments)}function E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function S(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?E(Object(r),!0).forEach((function(e){var n,o,i,u;n=t,o=e,i=r[e],u=function(t,e){if("object"!=O(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o),(o="symbol"==O(u)?u:u+"")in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var A=(0,d.Z)(),P=function(){var t,e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.value,o=void 0===n?"":n,i=r.uom,u=void 0===i?"":i,l=r.formula,s=void 0===l?"":l,p=r.counterOpts,d=void 0===p?{tickPrefix:"",tickSuffix:""}:p,m=function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(r,h),b=o;if(s&&(b=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=t;try{return(0,v.B)(e,{value:r})}catch(e){return t}}(o,s)),null!=d&&d.format)try{b=(0,f.WU)(d.format)(b)}catch(t){console.error(t)}var O={fontFamily:(null==d||null===(t=d.layout)||void 0===t?void 0:t.fontFamily)||g.nb.FAMILY,color:(null==d||null===(e=d.layout)||void 0===e?void 0:e.color)||g.nb.COLOR},E=S({fontSize:"75%"},O);return y().createElement(c.iF,w({mode:"single",forceSingleModeWidth:!1,max:500,throttle:20},m),y().createElement("span",{style:E},null!=d&&d.tickPrefix?d.tickPrefix:null),y().createElement("span",{className:"value",style:O},a()(b)?0:b),y().createElement("span",{style:E},(null==d?void 0:d.tickSuffix)||u))},j=(0,n.compose)(A,m.Z,b.Z)((function(t){var e=t.series,r=void 0===e?[]:e,n=t.data,o=void 0===n?[]:n,u=t.options,a=void 0===u?{}:u,c=t.style,l=void 0===c?{width:"100%",height:"100%",transform:"translate(-50%, -50%)",position:"absolute",display:"inline",padding:"1%",top:"50%",left:"50%"}:c,s=t.counterOpts,f=t.formula;return y().createElement("div",{className:"counter-widget-view"},r.map((function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).dataKey,e=arguments.length>1?arguments[1]:void 0;return y().createElement(P,{key:t,uom:i()(a,"seriesOptions[".concat(e,"].uom")),value:o[0][t]||0,counterOpts:s,formula:f,style:S({textAlign:"center"},l)})})))}));P.propTypes={uom:s().string,value:s().string,formula:s().string,counterOpts:s().object};const T=j},70919:(t,e,r)=>{"use strict";r.d(e,{Z:()=>y});var n=r(124852),o=r.n(n),i=r(262770),u=r(497844),a=r(359294),c=r(735913);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function s(){return s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s.apply(this,arguments)}function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function p(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach((function(e){var n,o,i,u;n=t,o=e,i=r[e],u=function(t,e){if("object"!=l(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o),(o="symbol"==l(u)?u:u+"")in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}const y=function(t){var e=t.layers,r=void 0===e?[]:e,n=t.updateProperty,l=void 0===n?function(){}:n,f=t.legendProps,y=void 0===f?{}:f,d=t.currentZoomLvl,m=t.disableOpacitySlider,b=void 0!==m&&m,v=t.disableVisibility,g=void 0!==v&&v,O=t.legendExpanded,h=void 0!==O&&O,w=t.scales,E=t.language,S=t.currentLocale;return o().createElement("div",{className:"legend-widget"},r.map((function(t,e){return o().createElement("div",{key:e,className:"widget-legend-toc".concat(t.expanded||h?" expanded":"")},o().createElement("div",{className:"toc-default-layer-head"},!g&&o().createElement(c.Z,{tooltip:"toc.toggleLayerVisibility",className:"visibility-check"+(t.visibility?" checked":""),"data-position":t.storeIndex,glyph:t.visibility?"eye-open":"eye-close",onClick:function(){return l("visibility",!t.visibility,t.id)}}),o().createElement(a.Z,{node:t,currentLocale:S,tooltip:!0}),!h&&"wms"===t.type&&o().createElement(c.Z,{node:t,tooltip:"toc.displayLegendAndTools",key:"toollegend",className:"toc-legend-icon ".concat(t.expanded?"expanded":""),glyph:"chevron-left",onClick:function(){return l("expanded",!t.expanded,t.id)}})),o().createElement("div",null,t.expanded||h?o().createElement("div",{key:"legend",className:"expanded-legend-view"},o().createElement(i.Z,s({node:p({},t),currentZoomLvl:d,scales:w,language:E},y))):null,function(t){return!b&&"3dtiles"!==(null==t?void 0:t.type)&&o().createElement("div",{className:"mapstore-slider",onClick:function(t){t.stopPropagation()}},o().createElement(u.Z,{opacity:t.opacity,disabled:!t.visibility,hideTooltip:!1,onChange:function(e){return l("opacity",e,t.id)}}))}(t)))})))}},892936:(t,e,r)=>{"use strict";r.d(e,{Z:()=>y});var n=r(867076),o=r(507848),i=r(91812),u=r(937981),a=r(57068),c=r(319180),l=r(469705),s=r(1979),f=r(461928),p=r(819983);const y=(0,n.compose)(l.Z,(0,i.Z)(0),o.Z,p.Z,c.Z,s.dY,s.yM,u.Z,a.e)(f.Z)},599707:(t,e,r)=>{"use strict";r.d(e,{Z:()=>l});var n=r(124852),o=r.n(n),i=r(480681),u=r(675263),a=r(805346);function c(t){var e=t.glyph,r=void 0===e?"info-sign":e,n=t.messageId,u=t.msgParams,c=void 0===u?{}:u;return o().createElement("div",{className:"ms-widget-empty-message"},o().createElement(i.Glyphicon,{glyph:r}),"  ",o().createElement(a.Z,{msgId:n,msgParams:c}))}c.propTypes={messageId:u.PropTypes.string,glyph:u.PropTypes.string};const l=c},886850:(t,e,r)=>{"use strict";r.d(e,{V6:()=>k,Mc:()=>Z,v$:()=>U,ED:()=>G});var n=r(472500),o=r.n(n),i=r(701469),u=r.n(i),a=r(984596),c=r.n(a),l=r(414293),s=r.n(l),f=r(513218),p=r.n(f),y=r(49977),d=r.n(y),m=r(505055),b=r(507526),v=r(375875),g=r.n(v),O=r(86686),h=r(624262),w=r(510284),E=r(439156),S=["totalFeatures","features"],A=["sortOptions","propertyName"];function P(t){return function(t){if(Array.isArray(t))return j(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return j(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function T(t){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T(t)}function R(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function _(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function D(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_(Object(r),!0).forEach((function(e){var n,o,i,u;n=t,o=e,i=r[e],u=function(t,e){if("object"!=T(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=T(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o),(o="symbol"==T(u)?u:u+"")in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var I=r.n(E)()({wfsVersion:"1.1.0"}),L=I.getFeature,C=I.query,F=I.sortBy,N=I.propertyName,M=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"json",i=(0,O.getWFSFilterData)(e,r),u=o().parse(t,!0),a=p()(u.query)?u.query:{};a.service="WFS",a.outputFormat=n;var c=o().format({protocol:u.protocol,host:u.host,pathname:u.pathname,query:a});return r.layer&&"vector"===r.layer.type?d().Observable.defer((function(){return new Promise((function(t){var n,o=function(t,e){if(e.filterFields&&0!==e.filterFields.length){var r=t.features.filter((0,O.createFeatureFilter)(e));t.features=r,t.numberMatched=r.length,t.numberReturned=r.length,t.totalFeatures=r.length}return e.sortOptions&&e.sortOptions.sortBy&&e.sortOptions.sortOrder&&"NONE"!==e.sortOptions.sortOrder&&t.features.sort((function(t,r){var n=t.properties[e.sortOptions.sortBy],o=r.properties[e.sortOptions.sortBy],i=n.toLowerCase().localeCompare(o.toLowerCase());return"ASC"===e.sortOptions.sortOrder?i:-1*i})),t}({crs:{type:"name",properties:{name:"urn:ogc:def:crs:EPSG::4326"}},numberMatched:(n=r.layer.features).length,numberReturned:n.length,timeStamp:"2020-07-20T11:36:20.118Z",totalFeatures:n.length,type:"FeatureCollection",features:n},e);t(o)}))})):{data:i,queryString:c}},k=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;if(r.layer&&"vector"===r.layer.type)return M(t,e,r,n);var o=M(t,e,r,n),i=o.data,u=o.queryString;return d().Observable.defer((function(){return g().post(u,i,{timeout:6e4,responseType:"arraybuffer",headers:{Accept:"application/xml","Content-Type":"application/xml"}})}))},x=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.layer&&"vector"===r.layer.type)return M(t,e,r);var n=M(t,e,r),o=n.data,i=n.queryString;return d().Observable.defer((function(){return g().post(i,o,D({timeout:6e4,headers:{Accept:"application/json","Content-Type":"application/xml"}},null==r?void 0:r.requestOptions))})).let(w.oB).map((function(t){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.totalFeatures,r=t.features,n=R(t,S),o=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).startIndex,i=arguments.length>2?arguments[2]:void 0;return i>e&&i===o+r.length&&e===r.length?D(D({},n),{},{features:r,totalFeatures:i}):D(D({},n),{},{features:r,totalFeatures:e})}(t.data,function(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).pagination||!s()(t.startIndex)&&!s()(t.maxFeatures)&&{startIndex:t.startIndex,maxFeatures:t.maxFeatures}}(e,r),r.totalFeatures)}))},Z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.search,r=void 0===e?{}:e,n=t.url,o=t.name,i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=a.sortOptions,s=a.propertyName,f=R(a,A);return x(r.url||n,i&&"object"===T(i)?D(D({},i),{},{typeName:o||i.typeName}):L(C(o,[].concat(P(l?[F(l.sortBy,l.sortOrder)]:[]),P(s?[N(s)]:[]),P(i?c()(i):[]))),f),f).catch((function(t){if("OGCError"===t.name&&"NoApplicableCode"===t.code&&!l&&s&&s[0])return x(r.url||n,i&&"object"===T(i)?D(D({},i),{},{typeName:o||i.typeName}):L(C(o,[F(u()(s)?s[0]:s)].concat(P(s?[N(s)]:[]),P(i?c()(i):[]))),f),f);throw t}))},U=function(t){var e=t.layer;return d().Observable.defer((function(){return g().get(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.name,r=t.search,n=void 0===r?{}:r,i=t.url,u=t.describeFeatureTypeURL,a=o().parse(u||n.url||i,!0);return o().format(D(D({},a),{},{search:void 0,query:D(D({},a.query),{},{service:"WFS",version:"1.1.0",typeName:e,outputFormat:"application/json",request:"DescribeFeatureType"})}))}(e))})).let(w.oB)},G=function(t){var e=t.layer;return d().Observable.defer((function(){return g().get(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.name,r=t.search,n=void 0===r?{}:r,i=t.url,u=(0,h.Fh)({name:e,url:n&&n.url||i}),a=o().parse(u,!0);return o().format(D(D({},a),{},{search:void 0,query:D(D({},a.query),{},{service:"WFS",version:"1.1.1",request:"GetCapabilities"})}))}(e))})).let(w.oB).switchMap((function(t){return d().Observable.bindNodeCallback((function(t,e){return(0,m.parseString)(t,{tagNameProcessors:[b.stripPrefix],explicitArray:!1,mergeAttrs:!0},e)}))(t.data)}))}},465633:(t,e,r)=>{"use strict";r.d(e,{Z:()=>l});var n=r(984596),o=r.n(n),i=r(199767),u=r(27835);function a(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const l=function(t,e){var r,n,c,l,s,f,p,y,d,m,b,v,g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,u.mG)(t,(n=(r=e).featureType,c=r.aggregationAttribute,s=void 0===(l=r.classificationAttribute)?[]:l,p=void 0===(f=r.groupByAttributes)?[]:f,y=r.aggregateFunction,d=r.viewParams,b=void 0===(m=r.filter)?"":m,v="<wfs:GetFeature ".concat(d?'viewParams="'.concat(d,'"'):"",' outputFormat="GML2" service="WFS" version="1.0.0">')+'<wfs:Query typeName="'.concat(n,'">').concat(b,"</wfs:Query></wfs:GetFeature>"),(0,u.Uh)("gs:Aggregate",[(0,i.qP)("features",(0,i.fA)("text/xml","http://geoserver/wfs","POST",v)),(0,i.qP)("aggregationAttribute",(0,i.XA)((0,i.gN)(c)))].concat(a(o()(y).map((function(t){return(0,i.qP)("function",(0,i.XA)((0,i.gN)(t)))}))),[(0,i.qP)("singlePass",(0,i.XA)((0,i.gN)("false")))],a(o()(p).map((function(t){return(0,i.qP)("groupByAttributes",(0,i.XA)((0,i.gN)(t)))}))),a(o()(s).map((function(t){return(0,i.qP)("groupByAttributes",(0,i.XA)((0,i.gN)(t)))})))),(0,i.DK)((0,i.En)("result","application/json")))),{},g)}},401757:(t,e,r)=>{"use strict";r.d(e,{E2:()=>w,YI:()=>A,JT:()=>P,GW:()=>j,TK:()=>T,zm:()=>R,lF:()=>_,Jb:()=>D,E5:()=>I,YR:()=>L,jx:()=>N,zA:()=>M,r0:()=>k,xI:()=>x,ie:()=>Z,p:()=>U,yZ:()=>G,hF:()=>B,Xu:()=>H,nA:()=>Y,Wo:()=>V,um:()=>W,h9:()=>q,md:()=>Q,Nx:()=>$,f0:()=>z}),r(313311);var n=r(227361),o=r.n(n),i=r(984596),u=r.n(i),a=r(385564),c=r.n(a),l=r(800827),s=r(675110),f=r(324684),p=r(557579),y=r(246781),d=r(367306),m=r(22222),b=r(784715);function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function g(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function O(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?g(Object(r),!0).forEach((function(e){h(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function h(t,e,r){var n;return n=function(t,e){if("object"!=v(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(e),(e="symbol"==v(n)?n:n+"")in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r(196958);var w=function(t){return o()(t,"widgets.builder.settings")},E=function(t){return o()(t,"widgets.dependencies")||{}},S=function(t){return Object.keys(E(t)).map((function(e){return E(t)[e]}))},A=function(t){return o()(t,"widgets.builder.editor")},P=function(t){var e,r=A(t)||{},n=r.layer,o=r.charts,i=r.selectedChartId,u=r.selectedTraceId;return o?null===(e=(0,y.Sk)({selectedChartId:i,selectedTraceId:u,charts:o}))||void 0===e?void 0:e.layer:n},j=(0,m.P1)(P,s.Iz,(function(t){return(0,d.Wy)(t)&&(0,d.i$)(t)}),(function(t,e,r){return t||!r&&e})),T=function(t){var e,r;return(null===(e=A(t))||void 0===e||null===(r=e.charts)||void 0===r?void 0:r.map((function(t){return t.layer})))||[]},R=function(t){return o()(t,"widgets.containers[".concat(p.VR,"].widgets"))},_=function(t){return o()(t,"widgets.containers[".concat(p.VR,"].collapsed"))},D=function(t){return o()(t,"widgets.containers[".concat(p.VR,"].maximized"))},I=(0,m.P1)(R,_,D,(function(t,e,r){if(t){if(null!=r&&r.widget)return t.filter((function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).id===r.widget.id}));if(e)return t.filter((function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).id;return!e[t]}))}return t})),L=(0,m.P1)(_,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(t)})),C=function(t){return(R(t)||[]).filter((function(){return"map"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).widgetType}))},F=function(t){return(R(t)||[]).filter((function(){return"table"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).widgetType}))},N=(0,m.P1)(C,F,l.Od,f.F,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3?arguments[3]:void 0;return{availableDependencies:c()(t.map((function(t){var e=t.id,r=t.maps;return(void 0===r?[]:r).map((function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mapId;return"widgets[".concat(e,"].maps[").concat(t,"].map")}))}))).concat(u()(r).map((function(){return"map"}))).concat(u()(e).filter((function(){return-1===n.indexOf("viewer")})).map((function(t){var e=t.id;return"widgets[".concat(e,"]")})))}})),M=(0,m.P1)(C,F,l.Od,f.F,A,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return{availableDependencies:c()(t.map((function(t){var e=t.id,r=t.maps;return(void 0===r?[]:r).map((function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mapId;return"widgets[".concat(e,"].maps[").concat(t,"].map")}))}))).concat(u()(r).map((function(){return r?"map":null}))).filter((function(t){return t})).concat(u()(e).filter((function(){return-1===n.indexOf("viewer")})).filter((function(t){return(0,y.t3)(o,t)})).filter((function(t){return o&&o.id!==t.id})).map((function(t){var e=t.id;return"widgets[".concat(e,"]")})))}})),k=function(t){return o()(w(t),"".concat(p.jv))},x=function(t){return o()(k(t),"active")},Z=(0,m.P1)(R,(function(t){return(0,y.Ug)(t)})),U=function(t){return o()(t,"widgets.containers[".concat(p.VR,"].layouts"))},G=function(t){return o()(t,"widgets.containers[".concat(p.VR,"].layout"))},B=function(t){return o()(t,"widgets.containers[".concat(p.VR,"].widgets"))},H=function(t){return o()(t,"widgets.tray")},Y=function(t){return o()(t,"widgets.containers[".concat(p.VR,"].layouts"))},V=function(t){return o()(t,"widgets.builder.editor.returnToFeatureGrid",!1)},W=function(t){var e=(0,y.Oe)(A(t));return o()(e,"filter")},q=(0,b.y1)(E,S,(function(t){return S(t).map((function(e){return 0===e.indexOf("map.")?o()((0,l.Od)(t),e.slice(4)):e.match(p.oU)?(0,y.D6)(e,R(t),C(t)):o()(t,e)}))}),(function(t,e,r){return e.reduce((function(e,n,o){return O(O({},e),{},h({},Object.keys(t)[o],r[o]))}),{})})),Q=(0,m.zB)({widgets:R,layouts:U,catalogs:d.CN}),$=function(t){var e=A(t)||{},r=e.selectedChartId,n=e.charts,o=void 0===n?[]:n,i=e.selectedTraceId;if(!r)return"filter";var u=(0,y.Sk)({selectedChartId:r,selectedTraceId:i,charts:o});return"charts[".concat(r,"].traces[").concat(null==u?void 0:u.id,"].filter")},z=function(t){var e=(R(t)||[]).filter((function(){return"table"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).widgetType}));return!(null==e||!e.find((function(t){var e;return null===(e=t.dependencies)||void 0===e?void 0:e.zoomLoader})))}},161253:(t,e,r)=>{"use strict";r.d(e,{Z:()=>i});var n=r(923645),o=r.n(n)()((function(t){return t[1]}));o.push([t.id,".msgapi .toc-title {\n    display: inline-block;\n    max-width: 150px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n}\n",""]);const i=o},212993:()=>{},178699:()=>{},601386:()=>{}}]);