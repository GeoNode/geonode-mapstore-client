(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[2215],{303841:t=>{t.exports=function(t,n,e,i){var r=t[0],o=t[1],h=!1;void 0===e&&(e=0),void 0===i&&(i=n.length);for(var s=(i-e)/2,a=0,l=s-1;a<s;l=a++){var c=n[e+2*a+0],u=n[e+2*a+1],m=n[e+2*l+0],f=n[e+2*l+1];u>o!=f>o&&r<(m-c)*(o-u)/(f-u)+c&&(h=!h)}return h}},651476:(t,n,e)=>{var i=e(303841),r=e(661137);t.exports=function(t,n,e,o){return n.length>0&&Array.isArray(n[0])?r(t,n,e,o):i(t,n,e,o)},t.exports.nested=r,t.exports.flat=i},661137:t=>{t.exports=function(t,n,e,i){var r=t[0],o=t[1],h=!1;void 0===e&&(e=0),void 0===i&&(i=n.length);for(var s=i-e,a=0,l=s-1;a<s;l=a++){var c=n[a+e][0],u=n[a+e][1],m=n[l+e][0],f=n[l+e][1];u>o!=f>o&&r<(m-c)*(o-u)/(f-u)+c&&(h=!h)}return h}},902215:(t,n,e)=>{"use strict";e.r(n),e.d(n,{default:()=>W});var i=e(893279),r=e(629987);function o(t,n,e=0,i=t.length-1,r=s){for(;i>e;){if(i-e>600){const h=i-e+1,s=n-e+1,a=Math.log(h),l=.5*Math.exp(2*a/3),c=.5*Math.sqrt(a*l*(h-l)/h)*(s-h/2<0?-1:1);o(t,n,Math.max(e,Math.floor(n-s*l/h+c)),Math.min(i,Math.floor(n+(h-s)*l/h+c)),r)}const s=t[n];let a=e,l=i;for(h(t,e,n),r(t[i],s)>0&&h(t,e,i);a<l;){for(h(t,a,l),a++,l--;r(t[a],s)<0;)a++;for(;r(t[l],s)>0;)l--}0===r(t[e],s)?h(t,e,l):(l++,h(t,l,i)),l<=n&&(e=l+1),n<=l&&(i=l-1)}}function h(t,n,e){const i=t[n];t[n]=t[e],t[e]=i}function s(t,n){return t<n?-1:t>n?1:0}class a{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}all(){return this._all(this.data,[])}search(t){let n=this.data;const e=[];if(!Y(t,n))return e;const i=this.toBBox,r=[];for(;n;){for(let o=0;o<n.children.length;o++){const h=n.children[o],s=n.leaf?i(h):h;Y(t,s)&&(n.leaf?e.push(h):X(t,s)?this._all(h,e):r.push(h))}n=r.pop()}return e}collides(t){let n=this.data;if(!Y(t,n))return!1;const e=[];for(;n;){for(let i=0;i<n.children.length;i++){const r=n.children[i],o=n.leaf?this.toBBox(r):r;if(Y(t,o)){if(n.leaf||X(t,o))return!0;e.push(r)}}n=e.pop()}return!1}load(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(let n=0;n<t.length;n++)this.insert(t[n]);return this}let n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const t=this.data;this.data=n,n=t}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=_([]),this}remove(t,n){if(!t)return this;let e=this.data;const i=this.toBBox(t),r=[],o=[];let h,s,a;for(;e||r.length;){if(e||(e=r.pop(),s=r[r.length-1],h=o.pop(),a=!0),e.leaf){const i=l(t,e.children,n);if(-1!==i)return e.children.splice(i,1),r.push(e),this._condense(r),this}a||e.leaf||!X(e,i)?s?(h++,e=s.children[h],a=!1):e=null:(r.push(e),o.push(h),h=0,s=e,e=e.children[0])}return this}toBBox(t){return t}compareMinX(t,n){return t.minX-n.minX}compareMinY(t,n){return t.minY-n.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,n){const e=[];for(;t;)t.leaf?n.push(...t.children):e.push(...t.children),t=e.pop();return n}_build(t,n,e,i){const r=e-n+1;let o,h=this._maxEntries;if(r<=h)return o=_(t.slice(n,e+1)),c(o,this.toBBox),o;i||(i=Math.ceil(Math.log(r)/Math.log(h)),h=Math.ceil(r/Math.pow(h,i-1))),o=_([]),o.leaf=!1,o.height=i;const s=Math.ceil(r/h),a=s*Math.ceil(Math.sqrt(h));B(t,n,e,a,this.compareMinX);for(let r=n;r<=e;r+=a){const n=Math.min(r+a-1,e);B(t,r,n,s,this.compareMinY);for(let e=r;e<=n;e+=s){const r=Math.min(e+s-1,n);o.children.push(this._build(t,e,r,i-1))}}return c(o,this.toBBox),o}_chooseSubtree(t,n,e,i){for(;i.push(n),!n.leaf&&i.length-1!==e;){let e,i=1/0,r=1/0;for(let o=0;o<n.children.length;o++){const h=n.children[o],s=x(h),a=g(t,h)-s;a<r?(r=a,i=s<i?s:i,e=h):a===r&&s<i&&(i=s,e=h)}n=e||n.children[0]}return n}_insert(t,n,e){const i=e?t:this.toBBox(t),r=[],o=this._chooseSubtree(i,this.data,n,r);for(o.children.push(t),m(o,i);n>=0&&r[n].children.length>this._maxEntries;)this._split(r,n),n--;this._adjustParentBBoxes(i,r,n)}_split(t,n){const e=t[n],i=e.children.length,r=this._minEntries;this._chooseSplitAxis(e,r,i);const o=this._chooseSplitIndex(e,r,i),h=_(e.children.splice(o,e.children.length-o));h.height=e.height,h.leaf=e.leaf,c(e,this.toBBox),c(h,this.toBBox),n?t[n-1].children.push(h):this._splitRoot(e,h)}_splitRoot(t,n){this.data=_([t,n]),this.data.height=t.height+1,this.data.leaf=!1,c(this.data,this.toBBox)}_chooseSplitIndex(t,n,e){let i,r=1/0,o=1/0;for(let h=n;h<=e-n;h++){const n=u(t,0,h,this.toBBox),s=u(t,h,e,this.toBBox),a=M(n,s),l=x(n)+x(s);a<r?(r=a,i=h,o=l<o?l:o):a===r&&l<o&&(o=l,i=h)}return i||e-n}_chooseSplitAxis(t,n,e){const i=t.leaf?this.compareMinX:f,r=t.leaf?this.compareMinY:p;this._allDistMargin(t,n,e,i)<this._allDistMargin(t,n,e,r)&&t.children.sort(i)}_allDistMargin(t,n,e,i){t.children.sort(i);const r=this.toBBox,o=u(t,0,n,r),h=u(t,e-n,e,r);let s=d(o)+d(h);for(let i=n;i<e-n;i++){const n=t.children[i];m(o,t.leaf?r(n):n),s+=d(o)}for(let i=e-n-1;i>=n;i--){const n=t.children[i];m(h,t.leaf?r(n):n),s+=d(h)}return s}_adjustParentBBoxes(t,n,e){for(let i=e;i>=0;i--)m(n[i],t)}_condense(t){for(let n,e=t.length-1;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children,n.splice(n.indexOf(t[e]),1)):this.clear():c(t[e],this.toBBox)}}function l(t,n,e){if(!e)return n.indexOf(t);for(let i=0;i<n.length;i++)if(e(t,n[i]))return i;return-1}function c(t,n){u(t,0,t.children.length,n,t)}function u(t,n,e,i,r){r||(r=_(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let o=n;o<e;o++){const n=t.children[o];m(r,t.leaf?i(n):n)}return r}function m(t,n){return t.minX=Math.min(t.minX,n.minX),t.minY=Math.min(t.minY,n.minY),t.maxX=Math.max(t.maxX,n.maxX),t.maxY=Math.max(t.maxY,n.maxY),t}function f(t,n){return t.minX-n.minX}function p(t,n){return t.minY-n.minY}function x(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function d(t){return t.maxX-t.minX+(t.maxY-t.minY)}function g(t,n){return(Math.max(n.maxX,t.maxX)-Math.min(n.minX,t.minX))*(Math.max(n.maxY,t.maxY)-Math.min(n.minY,t.minY))}function M(t,n){const e=Math.max(t.minX,n.minX),i=Math.max(t.minY,n.minY),r=Math.min(t.maxX,n.maxX),o=Math.min(t.maxY,n.maxY);return Math.max(0,r-e)*Math.max(0,o-i)}function X(t,n){return t.minX<=n.minX&&t.minY<=n.minY&&n.maxX<=t.maxX&&n.maxY<=t.maxY}function Y(t,n){return n.minX<=t.maxX&&n.minY<=t.maxY&&n.maxX>=t.minX&&n.maxY>=t.minY}function _(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function B(t,n,e,i,r){const h=[n,e];for(;h.length;){if((e=h.pop())-(n=h.pop())<=i)continue;const s=n+Math.ceil((e-n)/i/2)*i;o(t,s,n,e,r),h.push(n,s,s,e)}}class v{constructor(t=[],n=(t,n)=>t<n?-1:t>n?1:0){if(this.data=t,this.length=this.data.length,this.compare=n,this.length>0)for(let t=(this.length>>1)-1;t>=0;t--)this._down(t)}push(t){this.data.push(t),this._up(this.length++)}pop(){if(0===this.length)return;const t=this.data[0],n=this.data.pop();return--this.length>0&&(this.data[0]=n,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:n,compare:e}=this,i=n[t];for(;t>0;){const r=t-1>>1,o=n[r];if(e(i,o)>=0)break;n[t]=o,t=r}n[t]=i}_down(t){const{data:n,compare:e}=this,i=this.length>>1,r=n[t];for(;t<i;){let i=1+(t<<1);const o=i+1;if(o<this.length&&e(n[o],n[i])<0&&(i=o),e(n[i],r)>=0)break;n[t]=n[i],t=i}n[t]=r}}var b=e(651476);const w=11102230246251565e-32,k=134217729,S=(3+8*w)*w;function E(t,n,e,i,r){let o,h,s,a,l=n[0],c=i[0],u=0,m=0;c>l==c>-l?(o=l,l=n[++u]):(o=c,c=i[++m]);let f=0;if(u<t&&m<e)for(c>l==c>-l?(h=l+o,s=o-(h-l),l=n[++u]):(h=c+o,s=o-(h-c),c=i[++m]),o=h,0!==s&&(r[f++]=s);u<t&&m<e;)c>l==c>-l?(h=o+l,a=h-o,s=o-(h-a)+(l-a),l=n[++u]):(h=o+c,a=h-o,s=o-(h-a)+(c-a),c=i[++m]),o=h,0!==s&&(r[f++]=s);for(;u<t;)h=o+l,a=h-o,s=o-(h-a)+(l-a),l=n[++u],o=h,0!==s&&(r[f++]=s);for(;m<e;)h=o+c,a=h-o,s=o-(h-a)+(c-a),c=i[++m],o=h,0!==s&&(r[f++]=s);return 0===o&&0!==f||(r[f++]=o),f}function y(t){return new Float64Array(t)}const A=33306690738754716e-32,O=22204460492503146e-32,D=11093356479670487e-47,R=y(4),j=y(8),q=y(12),C=y(16),F=y(4);function I(t,n,e,i,r,o,h){const s=new v([],J);let a=t.data;for(;a;){for(let t=0;t<a.children.length;t++){const n=a.children[t],r=a.leaf?T(n,e,i):N(e,i,n);r>o||s.push({node:n,dist:r})}for(;s.length&&!s.peek().node.children;){const t=s.pop(),o=t.node,a=T(o,n,e),l=T(o,i,r);if(t.dist<a&&t.dist<l&&z(e,o,h)&&z(i,o,h))return o}a=s.pop(),a&&(a=a.node)}return null}function J(t,n){return t.dist-n.dist}function N(t,n,e){if(P(t,e)||P(n,e))return 0;const i=U(t[0],t[1],n[0],n[1],e.minX,e.minY,e.maxX,e.minY);if(0===i)return 0;const r=U(t[0],t[1],n[0],n[1],e.minX,e.minY,e.minX,e.maxY);if(0===r)return 0;const o=U(t[0],t[1],n[0],n[1],e.maxX,e.minY,e.maxX,e.maxY);if(0===o)return 0;const h=U(t[0],t[1],n[0],n[1],e.minX,e.maxY,e.maxX,e.maxY);return 0===h?0:Math.min(i,r,o,h)}function P(t,n){return t[0]>=n.minX&&t[0]<=n.maxX&&t[1]>=n.minY&&t[1]<=n.maxY}function z(t,n,e){const i=Math.min(t[0],n[0]),r=Math.min(t[1],n[1]),o=Math.max(t[0],n[0]),h=Math.max(t[1],n[1]),s=e.search({minX:i,minY:r,maxX:o,maxY:h});for(let e=0;e<s.length;e++)if(H(s[e].p,s[e].next.p,t,n))return!1;return!0}function G(t,n,e){return function(t,n,e,i,r,o){const h=(n-o)*(e-r),s=(t-r)*(i-o),a=h-s,l=Math.abs(h+s);return Math.abs(a)>=A*l?a:-function(t,n,e,i,r,o,h){let s,a,l,c,u,m,f,p,x,d,g,M,X,Y,_,B,v,b;const w=t-r,y=e-r,A=n-o,I=i-o;Y=w*I,m=k*w,f=m-(m-w),p=w-f,m=k*I,x=m-(m-I),d=I-x,_=p*d-(Y-f*x-p*x-f*d),B=A*y,m=k*A,f=m-(m-A),p=A-f,m=k*y,x=m-(m-y),d=y-x,v=p*d-(B-f*x-p*x-f*d),g=_-v,u=_-g,R[0]=_-(g+u)+(u-v),M=Y+g,u=M-Y,X=Y-(M-u)+(g-u),g=X-B,u=X-g,R[1]=X-(g+u)+(u-B),b=M+g,u=b-M,R[2]=M-(b-u)+(g-u),R[3]=b;let J=function(t,n){let e=n[0];for(let t=1;t<4;t++)e+=n[t];return e}(0,R),N=O*h;if(J>=N||-J>=N)return J;if(u=t-w,s=t-(w+u)+(u-r),u=e-y,l=e-(y+u)+(u-r),u=n-A,a=n-(A+u)+(u-o),u=i-I,c=i-(I+u)+(u-o),0===s&&0===a&&0===l&&0===c)return J;if(N=D*h+S*Math.abs(J),J+=w*c+I*s-(A*l+y*a),J>=N||-J>=N)return J;Y=s*I,m=k*s,f=m-(m-s),p=s-f,m=k*I,x=m-(m-I),d=I-x,_=p*d-(Y-f*x-p*x-f*d),B=a*y,m=k*a,f=m-(m-a),p=a-f,m=k*y,x=m-(m-y),d=y-x,v=p*d-(B-f*x-p*x-f*d),g=_-v,u=_-g,F[0]=_-(g+u)+(u-v),M=Y+g,u=M-Y,X=Y-(M-u)+(g-u),g=X-B,u=X-g,F[1]=X-(g+u)+(u-B),b=M+g,u=b-M,F[2]=M-(b-u)+(g-u),F[3]=b;const P=E(4,R,4,F,j);Y=w*c,m=k*w,f=m-(m-w),p=w-f,m=k*c,x=m-(m-c),d=c-x,_=p*d-(Y-f*x-p*x-f*d),B=A*l,m=k*A,f=m-(m-A),p=A-f,m=k*l,x=m-(m-l),d=l-x,v=p*d-(B-f*x-p*x-f*d),g=_-v,u=_-g,F[0]=_-(g+u)+(u-v),M=Y+g,u=M-Y,X=Y-(M-u)+(g-u),g=X-B,u=X-g,F[1]=X-(g+u)+(u-B),b=M+g,u=b-M,F[2]=M-(b-u)+(g-u),F[3]=b;const z=E(P,j,4,F,q);Y=s*c,m=k*s,f=m-(m-s),p=s-f,m=k*c,x=m-(m-c),d=c-x,_=p*d-(Y-f*x-p*x-f*d),B=a*l,m=k*a,f=m-(m-a),p=a-f,m=k*l,x=m-(m-l),d=l-x,v=p*d-(B-f*x-p*x-f*d),g=_-v,u=_-g,F[0]=_-(g+u)+(u-v),M=Y+g,u=M-Y,X=Y-(M-u)+(g-u),g=X-B,u=X-g,F[1]=X-(g+u)+(u-B),b=M+g,u=b-M,F[2]=M-(b-u)+(g-u),F[3]=b;const G=E(z,q,4,F,C);return C[G-1]}(t,n,e,i,r,o,l)}(t[0],t[1],n[0],n[1],e[0],e[1])}function H(t,n,e,i){return t!==i&&n!==e&&G(t,n,e)>0!=G(t,n,i)>0&&G(e,i,t)>0!=G(e,i,n)>0}function K(t){const n=t.p,e=t.next.p;return t.minX=Math.min(n[0],e[0]),t.minY=Math.min(n[1],e[1]),t.maxX=Math.max(n[0],e[0]),t.maxY=Math.max(n[1],e[1]),t}function L(t,n){const e={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return n?(e.next=n.next,e.prev=n,n.next.prev=e,n.next=e):(e.prev=e,e.next=e),e}function Q(t,n){const e=t[0]-n[0],i=t[1]-n[1];return e*e+i*i}function T(t,n,e){let i=n[0],r=n[1],o=e[0]-i,h=e[1]-r;if(0!==o||0!==h){const n=((t[0]-i)*o+(t[1]-r)*h)/(o*o+h*h);n>1?(i=e[0],r=e[1]):n>0&&(i+=o*n,r+=h*n)}return o=t[0]-i,h=t[1]-r,o*o+h*h}function U(t,n,e,i,r,o,h,s){const a=e-t,l=i-n,c=h-r,u=s-o,m=t-r,f=n-o,p=a*a+l*l,x=a*c+l*u,d=c*c+u*u,g=a*m+l*f,M=c*m+u*f,X=p*d-x*x;let Y,_,B=X,v=X;0===X?(Y=0,B=1,_=M,v=d):(Y=x*M-d*g,_=p*M-x*g,Y<0?(Y=0,_=M,v=d):Y>B&&(Y=B,_=M+x,v=d)),_<0?(_=0,-g<0?Y=0:-g>p?Y=B:(Y=-g,B=p)):_>v&&(_=v,-g+x<0?Y=0:-g+x>p?Y=B:(Y=-g+x,B=p));const b=0===Y?0:Y/B,w=0===_?0:_/v,k=(1-w)*r+w*h-((1-b)*t+b*e),S=(1-w)*o+w*s-((1-b)*n+b*i);return k*k+S*S}function V(t,n){return t[0]===n[0]?t[1]-n[1]:t[0]-n[0]}function W(t,n){void 0===n&&(n={}),n.concavity=n.concavity||1/0;var e=[];if((0,r.Fh)(t,function(t){e.push([t[0],t[1]])}),!e.length)return null;var o=function(t,n,e){n=Math.max(0,void 0===n?2:n),e=e||0;const i=function(t){let n=t[0],e=t[0],i=t[0],r=t[0];for(let o=0;o<t.length;o++){const h=t[o];h[0]<n[0]&&(n=h),h[0]>i[0]&&(i=h),h[1]<e[1]&&(e=h),h[1]>r[1]&&(r=h)}const o=[n,e,i,r],h=o.slice();for(let n=0;n<t.length;n++)b(t[n],o)||h.push(t[n]);return function(t){t.sort(V);const n=[];for(let e=0;e<t.length;e++){for(;n.length>=2&&G(n[n.length-2],n[n.length-1],t[e])<=0;)n.pop();n.push(t[e])}const e=[];for(let n=t.length-1;n>=0;n--){for(;e.length>=2&&G(e[e.length-2],e[e.length-1],t[n])<=0;)e.pop();e.push(t[n])}return e.pop(),n.pop(),n.concat(e)}(h)}(t),r=new a(16);r.toBBox=function(t){return{minX:t[0],minY:t[1],maxX:t[0],maxY:t[1]}},r.compareMinX=function(t,n){return t[0]-n[0]},r.compareMinY=function(t,n){return t[1]-n[1]},r.load(t);const o=[];let h;for(let t=0;t<i.length;t++){const n=i[t];r.remove(n),h=L(n,h),o.push(h)}const s=new a(16);for(let t=0;t<o.length;t++)s.insert(K(o[t]));const l=n*n,c=e*e;for(;o.length;){const t=o.shift(),n=t.p,e=t.next.p,i=Q(n,e);if(i<c)continue;const h=i/l,a=I(r,t.prev.p,n,e,t.next.next.p,h,s);a&&Math.min(Q(a,n),Q(a,e))<=h&&(o.push(t),o.push(L(a,t)),r.remove(a),s.remove(t),s.insert(K(t)),s.insert(K(t.next)))}let u=h;const m=[];do{m.push(u.p),u=u.next}while(u!==h);return m.push(u.p),m}(e,n.concavity);return o.length>3?(0,i.n1)([o]):null}y(4),y(4),y(4),y(4),y(4),y(4),y(4),y(4),y(4),y(8),y(8),y(8),y(4),y(8),y(8),y(8),y(12),y(192),y(192),y(4),y(4),y(4),y(4),y(4),y(4),y(4),y(4),y(8),y(8),y(8),y(8),y(8),y(8),y(8),y(8),y(8),y(4),y(4),y(4),y(8),y(16),y(16),y(16),y(32),y(32),y(48),y(64),y(1152),y(1152),y(4),y(4),y(4),y(4),y(4),y(4),y(4),y(4),y(4),y(4),y(24),y(24),y(24),y(24),y(24),y(24),y(24),y(24),y(24),y(24),y(1152),y(1152),y(1152),y(1152),y(1152),y(2304),y(2304),y(3456),y(5760),y(8),y(8),y(8),y(16),y(24),y(48),y(48),y(96),y(192),y(384),y(384),y(384),y(768),y(96),y(96),y(96),y(1152)}}]);