"use strict";(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[580],{400580:(e,t,r)=>{r.d(t,{A:()=>rt});var o=r(273517),n=r.n(o),i=r(605556),l=r.n(i),a=r(8117),p=r(256951),u=r(306840),s=r(868097),c=r(551783);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function f(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,v(o.key),o)}}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(b=function(){return!!e})()}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function g(e,t,r){return(t=v(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){var t=function(e){if("object"!=d(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==d(t)?t:t+""}var h=(0,c.A)("placeholder")((0,c.A)("fieldOptions","label","object")(s.A)),E=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return g(e=function(e,t,r){return t=y(t),function(e,t){if(t&&("object"==d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,b()?Reflect.construct(t,r||[],y(e).constructor):t.apply(e,r))}(this,t,[].concat(o)),"renderOperatorField",function(){return n().createElement(s.A,{dropUp:e.props.dropUp,fieldOptions:e.props.operatorOptions,fieldName:"operator",fieldRowId:e.props.filterField.rowId,fieldValue:e.props.filterField.operator,onUpdateField:e.updateFieldElement})}),g(e,"renderValueField",function(t){return n().cloneElement(n().Children.toArray(e.props.children).filter(function(e){return e.props.attType===t.type})[0],Object.assign({fieldName:"value",fieldRowId:e.props.filterField.rowId,fieldValue:e.props.filterField.value,fieldException:e.props.filterField.exception,onUpdateField:e.updateFieldElement,toggleMenu:e.props.toggleMenu,maxFeaturesWPS:e.props.maxFeaturesWPS,onUpdateExceptionField:e.updateExceptionFieldElement},t.fieldOptions||{}))}),g(e,"updateExceptionFieldElement",function(t,r){e.props.onUpdateExceptionField(t,r)}),g(e,"updateFieldElement",function(t,r,o,n,i){var l;if("attribute"===r){var a=(l=e.props.attributes.filter(function(e){return e.attribute===o})[0])&&l.type||n;e.props.onUpdateField(t,r,o,a,i),"array"===a&&e.props.onUpdateField(t,"operator","contains",a,i)}else e.props.onUpdateField(t,r,o,"boolean"===n?"string":n,i);if("value"===r){var p=e.props.attributes.filter(function(t){return t.dependson&&t.dependson.field===e.props.filterField.attribute});p.length>0&&e.props.onChangeCascadingValue(p)}}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(t,e),r=t,(o=[{key:"render",value:function(){var e=this,t=this.props.attributes.filter(function(t){return t.attribute===e.props.filterField.attribute})[0];return n().createElement("div",{className:"filter-field-row"},n().createElement("div",{className:"filter-field-attribute"},n().createElement(h,{dropUp:this.props.dropUp,valueField:"attribute",textField:"label",fieldOptions:this.props.attributes,placeholder:"queryform.attributefilter.combo_placeholder",fieldValue:this.props.filterField.attribute,attType:t&&t.type,fieldName:"attribute",fieldRowId:this.props.filterField.rowId,onUpdateField:this.updateFieldElement,comboFilter:"contains"})),n().createElement("div",{className:"filter-field-operator"},t?this.renderOperatorField():null),n().createElement("div",{className:"filter-field-value"},t&&this.props.filterField.operator?this.renderValueField(t):null),this.props.deleteButton?n().createElement("div",{className:"filter-field-tools"},this.props.deleteButton):null)}}])&&f(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o}(n().Component);g(E,"propTypes",{dropUp:l().bool,attributes:l().array,filterField:l().object,operatorOptions:l().array,onUpdateField:l().func,maxFeaturesWPS:l().number,toggleMenu:l().func,deleteButton:l().node,onUpdateExceptionField:l().func,onChangeCascadingValue:l().func}),g(E,"contextTypes",{messages:l().object}),g(E,"defaultProps",{attributes:[],filterField:null,operatorOptions:["=",">","<",">=","<=","<>","><"],onUpdateField:function(){},toggleMenu:function(){},onUpdateExceptionField:function(){},onChangeCascadingValue:function(){}});const w=E;var F=r(274156),O=r(916589),P=r(269843),T=r.n(P),j=r(962193),S=r.n(j),I=r(795093),k=r.n(I),x=r(534973),_=r.n(x),A=r(574548),C=r(628017),D=r(871543),q=r(8571),N=r(802417),U=r(907958),R=r(525859);function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function M(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,H(o.key),o)}}function V(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(V=function(){return!!e})()}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}function W(e,t){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},W(e,t)}function G(e,t,r){return(t=H(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H(e){var t=function(e){if("object"!=B(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==B(t)?t:t+""}_()(k());var Q=[{type:R.g4.DATE,value:"{today}+P0D",labelId:"queryform.attributefilter.datefield.quickSelectors.today"},{type:R.g4.DATE,value:"{today}-P1D",labelId:"queryform.attributefilter.datefield.quickSelectors.yesterday"},{type:R.g4.DATE,value:"{today}+P1D",labelId:"queryform.attributefilter.datefield.quickSelectors.tomorrow"},{type:R.g4.DATE_TIME,value:"{now}+P0D",labelId:"queryform.attributefilter.datefield.quickSelectors.now"},{type:R.g4.DATE_TIME,value:"{now}-P1D",labelId:"queryform.attributefilter.datefield.quickSelectors.yesterday"},{type:R.g4.DATE_TIME,value:"{now}+P1D",labelId:"queryform.attributefilter.datefield.quickSelectors.tomorrow"},{type:R.g4.DATE,value:"{today}/{today}",labelId:"queryform.attributefilter.datefield.quickSelectors.today"},{type:R.g4.DATE,value:"{thisWeekStart}/{thisWeekEnd}",labelId:"queryform.attributefilter.datefield.quickSelectors.thisWeek"},{type:R.g4.DATE,value:"{thisMonthStart}/{thisMonthEnd}",labelId:"queryform.attributefilter.datefield.quickSelectors.thisMonth"},{type:R.g4.DATE,value:"{today}/{today}+P7D",labelId:"queryform.attributefilter.datefield.quickSelectors.nDaysFrom"},{type:R.g4.DATE,value:"{today}/{today}+P30D",labelId:"queryform.attributefilter.datefield.quickSelectors.nDaysFrom"},{type:R.g4.DATE,value:"{today}/{today}+P90D",labelId:"queryform.attributefilter.datefield.quickSelectors.nDaysFrom"},{type:R.g4.DATE_TIME,value:"{now}/{now}",labelId:"queryform.attributefilter.datefield.quickSelectors.now"},{type:R.g4.DATE_TIME,value:"{thisWeekStart}/{thisWeekEnd}",labelId:"queryform.attributefilter.datefield.quickSelectors.thisWeek"},{type:R.g4.DATE_TIME,value:"{thisMonthStart}/{thisMonthEnd}",labelId:"queryform.attributefilter.datefield.quickSelectors.thisMonth"},{type:R.g4.DATE_TIME,value:"{now}/{now}+P7D",labelId:"queryform.attributefilter.datefield.quickSelectors.nDaysFrom"},{type:R.g4.DATE_TIME,value:"{now}/{now}+P30D",labelId:"queryform.attributefilter.datefield.quickSelectors.nDaysFrom"},{type:R.g4.DATE_TIME,value:"{now}/{now}+P90D",labelId:"queryform.attributefilter.datefield.quickSelectors.nDaysFrom"}],J=(0,D.A)({dateProp:"value",dateTypeProp:"type",setDateProp:"onChange"})(N.A),K=(0,D.A)({dateProp:"value",dateTypeProp:"type",setDateProp:"onChange"})(U.A),$=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return G(e=function(e,t,r){return t=L(t),function(e,t){if(t&&("object"==B(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,V()?Reflect.construct(t,r||[],L(e).constructor):t.apply(e,r))}(this,t,[].concat(o)),"handleChange",function(t){e.props.onUpdateExceptionField(e.props.fieldRowId,null),e.props.onUpdateField(e.props.fieldRowId,e.props.fieldName,{startDate:t},e.props.attType)}),G(e,"handleChangeRangeFilter",function(t,r){var o,n,i={};i="end"===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"start")?{startDate:null===(o=e.props.fieldValue)||void 0===o?void 0:o.startDate,endDate:t}:{startDate:t,endDate:null===(n=e.props.fieldValue)||void 0===n?void 0:n.endDate},e.props.onUpdateExceptionField(e.props.fieldRowId,null),e.props.onUpdateField(e.props.fieldRowId,e.props.fieldName,i,e.props.attType)}),G(e,"getQuickTimeSelectors",function(t){var r;return null===(r=e.props.quickDateTimeSelectors)||void 0===r?void 0:r.filter(function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=r.type,n=r.value;if(!S()(n)&&o===e.props.attType){var i,l=null===(i=n.split("/"))||void 0===i?void 0:i[1];return t?!T()(l):T()(l)}return!1})}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W(e,t)}(t,e),r=t,(o=[{key:"render",value:function(){var e,t=(0,A.PR)(this.context.locale,this.props.attType),r=(0,C.kA)(this.context.messages,this.props.placeholderMsgId)||"Insert date",o=this.props.intl&&this.props.intl.formatMessage({id:"".concat(this.props.tooltipMsgId)},{format:t})||"Insert date in ".concat(t," format");return"><"===this.props.operator?n().createElement("div",{className:"query-field"},n().createElement(K,{isWithinAttrTbl:!0,key:"query-range",className:this.props.className,format:t,placeholder:r,value:this.props.fieldValue,toolTip:o,operator:this.props.operator,popupPosition:"bottom",type:this.props.attType,time:this.props.attType===R.g4.TIME,calendar:this.props.attType===R.g4.DATE_TIME||this.props.attType===R.g4.DATE,onChange:this.handleChangeRangeFilter,quickDateTimeSelectors:this.getQuickTimeSelectors(!0)})):n().createElement("div",null,this.props.showLabels&&n().createElement(q.A,{msgId:"queryform.date"}),n().createElement(J,{isWithinAttrTbl:!0,key:"query-single",className:this.props.className,format:t,placeholder:r,value:null===(e=this.props.fieldValue)||void 0===e?void 0:e.startDate,toolTip:o,operator:this.props.operator,type:this.props.attType,popupPosition:"bottom",time:this.props.attType===R.g4.DATE_TIME||this.props.attType===R.g4.TIME,calendar:this.props.attType===R.g4.DATE_TIME||this.props.attType===R.g4.DATE,onChange:this.handleChange,quickDateTimeSelectors:this.getQuickTimeSelectors()}))}}])&&M(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o}(n().Component);G($,"propTypes",{attType:l().string,dateEnabled:l().bool,fieldName:l().string,fieldRowId:l().number,fieldValue:l().object,fieldException:l().string,operator:l().string,onUpdateField:l().func,onUpdateExceptionField:l().func,showLabels:l().bool,timeEnabled:l().bool,quickDateTimeSelectors:l().array,placeholderMsgId:l().string,tooltipMsgId:l().string,className:l().string}),G($,"contextTypes",{messages:l().object,locale:l().string}),G($,"defaultProps",{timeEnabled:!1,dateEnabled:!0,operator:null,fieldName:null,fieldRowId:null,attType:null,fieldValue:null,fieldException:null,onUpdateField:function(){},onUpdateExceptionField:function(){},showLabels:!1,className:"query-date",placeholderMsgId:"queryform.attributefilter.datefield.placeholder",tooltipMsgId:"queryform.attributefilter.datefield.tooltip",quickDateTimeSelectors:Q});const z=(0,O.getContext)({intl:F.intlShape})($);var X=r(645617);function Y(e){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(e)}function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach(function(t){le(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)({}).hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},te.apply(null,arguments)}function re(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,ae(o.key),o)}}function oe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(oe=function(){return!!e})()}function ne(e){return ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ne(e)}function ie(e,t){return ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ie(e,t)}function le(e,t,r){return(t=ae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ae(e){var t=function(e){if("object"!=Y(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Y(t)?t:t+""}var pe=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return le(e=function(e,t,r){return t=ne(t),function(e,t){if(t&&("object"==Y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,oe()?Reflect.construct(t,r||[],ne(e).constructor):t.apply(e,r))}(this,t,[].concat(o)),"renderPicker",function(t){var r=e.props.label?n().createElement("label",null,e.props.label):null,o=e.props.lowLabel?n().createElement("label",null,e.props.lowLabel):null,i=e.props.upLabel?n().createElement("label",null,e.props.upLabel):null;return"><"===e.props.operator?n().createElement("div",{className:"query-field"},n().createElement("div",{className:"query-field-value"},o,n().createElement(X.A,te({disabled:"isNull"===e.props.operator,style:t?{input:t}:{},value:e.props.fieldValue&&null!==e.props.fieldValue.lowBound&&void 0!==e.props.fieldValue.lowBound?e.props.fieldValue.lowBound:null,onChange:function(t){!isNaN(t)&&""!==t&&e.changeNumber({lowBound:t,upBound:e.props.fieldValue&&null!==e.props.fieldValue.upBound&&void 0!==e.props.fieldValue.upBound?e.props.fieldValue.upBound:null})},inputClassName:"rw-input"},e.props.options))),n().createElement("div",{className:"query-field-value"},i,n().createElement(X.A,te({disabled:"isNull"===e.props.operator,style:t?{input:t}:{},value:e.props.fieldValue&&null!==e.props.fieldValue.upBound&&void 0!==e.props.fieldValue.upBound?e.props.fieldValue.upBound:null,onChange:function(t){!isNaN(t)&&""!==t&&e.changeNumber({upBound:t,lowBound:e.props.fieldValue&&null!==e.props.fieldValue.lowBound&&void 0!==e.props.fieldValue.lowBound?e.props.fieldValue.lowBound:null})},inputClassName:"rw-input"},e.props.options)))):n().createElement("div",null,r,n().createElement(X.A,te({disabled:"isNull"===e.props.operator,style:t?{input:t}:{},value:e.props.fieldValue&&null!==e.props.fieldValue.lowBound&&void 0!==e.props.fieldValue.lowBound?e.props.fieldValue.lowBound:e.props.fieldValue,onChange:function(t){!isNaN(t)&&""!==t&&e.changeNumber(t)},inputClassName:"rw-input"},e.props.options)))}),le(e,"changeNumber",function(t){"><"===e.props.operator?null!==t.lowBound&&void 0!==t.lowBound&&null!==t.upBound&&void 0!==t.upBound&&t.lowBound>=t.upBound?e.props.onUpdateExceptionField(e.props.fieldRowId,(0,C.kA)(e.context.messages,"queryform.attributefilter.numberfield.wrong_range")):e.props.fieldException&&e.props.onUpdateExceptionField(e.props.fieldRowId,null):e.props.isRequired&&null==t?e.props.onUpdateExceptionField(e.props.fieldRowId,(0,C.kA)(e.context.messages,"queryform.attributefilter.numberfield.isRequired")):e.props.fieldException&&e.props.onUpdateExceptionField(e.props.fieldRowId,null),e.props.onUpdateField(e.props.fieldRowId,e.props.fieldName,t,e.props.attType)}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ie(e,t)}(t,e),r=t,(o=[{key:"render",value:function(){var e=this.props.style;return this.props.fieldException&&(e=ee(ee({},this.props.style),{},{borderColor:"#FF0000"})),n().createElement(u.A,{placement:"bottom",overlay:this.props.fieldException?n().createElement(a.m_,{id:this.props.fieldRowId+"_tooltip"},n().createElement("strong",null,this.props.fieldException)):n().createElement("noscript",null)},this.renderPicker(e))}}])&&re(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o}(n().Component);le(pe,"propTypes",{operator:l().string,fieldName:l().string,fieldRowId:l().number,attType:l().string,fieldValue:l().oneOfType([l().number,l().object]),fieldException:l().oneOfType([l().object,l().bool,l().string]),onUpdateField:l().func,onUpdateExceptionField:l().func,isRequired:l().bool,label:l().string,lowLabel:l().string,upLabel:l().string,options:l().shape({format:l().string,min:l().number,max:l().number,step:l().number,precision:l().number}),style:l().object}),le(pe,"contextTypes",{messages:l().object}),le(pe,"defaultProps",{style:{borderColor:"#dedede"},operator:"=",fieldName:null,fieldRowId:null,attType:"number",fieldValue:null,fieldException:null,isRequired:!1,label:null,lowLabel:null,upLabel:null,options:{},onUpdateField:function(){},onUpdateExceptionField:function(){}});const ue=pe;var se=r(595535),ce=r(102685);function de(e){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},de(e)}function fe(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,ve(o.key),o)}}function be(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(be=function(){return!!e})()}function ye(e){return ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ye(e)}function me(e,t){return me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},me(e,t)}function ge(e,t,r){return(t=ve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ve(e){var t=function(e){if("object"!=de(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=de(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==de(t)?t:t+""}var he=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return ge(e=function(e,t,r){return t=ye(t),function(e,t){if(t&&("object"==de(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,be()?Reflect.construct(t,r||[],ye(e).constructor):t.apply(e,r))}(this,t,[].concat(o)),"renderField",function(){var t,r=(0,C.kA)(e.context.messages,"queryform.attributefilter.text_placeholder"),o=n().createElement(a.m_,{id:"textField-tooltip"+e.props.fieldRowId},n().createElement(se.A,{msgId:null!==(t=e.props.tooltipMessage)&&void 0!==t?t:"queryform.attributefilter.tooltipTextField"})),i=n().createElement(a.MJ,{disabled:"isNull"===e.props.operator,placeholder:r,onChange:e.changeText,type:"text",value:e.props.fieldValue||""});return(0,ce.P1)(e.props.operator)?n().createElement(u.A,{key:"textField-overlay"+e.props.fieldRowId,placement:"top",overlay:o},i):i}),ge(e,"changeText",function(t){e.props.onUpdateField(e.props.fieldRowId,e.props.fieldName,t.target.value,e.props.attType)}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&me(e,t)}(t,e),r=t,(o=[{key:"componentDidMount",value:function(){"isNull"!==this.props.operator||this.props.fieldValue||this.props.onUpdateField(this.props.fieldRowId,this.props.fieldName," ",this.props.attType)}},{key:"componentDidUpdate",value:function(){"isNull"!==this.props.operator||this.props.fieldValue||this.props.onUpdateField(this.props.fieldRowId,this.props.fieldName," ",this.props.attType)}},{key:"render",value:function(){var e=this.props.label?n().createElement("label",null,this.props.label):n().createElement("span",null);return n().createElement("div",{className:"textField"},e,this.renderField())}}])&&fe(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o}(n().Component);ge(he,"propTypes",{operator:l().string,fieldName:l().string,fieldRowId:l().number,attType:l().string,fieldValue:l().string,label:l().string,tooltipMessage:l().string,fieldException:l().oneOfType([l().object,l().string]),onUpdateField:l().func,onUpdateExceptionField:l().func,style:l().object}),ge(he,"contextTypes",{messages:l().object}),ge(he,"defaultProps",{operator:"like",fieldName:null,fieldRowId:null,attType:"string",fieldValue:null,label:null,fieldException:null,onUpdateField:function(){},onUpdateExceptionField:function(){},style:{}});const Ee=he;var we=r(897286),Fe=r(561334);function Oe(e){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe(e)}function Pe(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,ke(o.key),o)}}function Te(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Te=function(){return!!e})()}function je(e){return je=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},je(e)}function Se(e,t){return Se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Se(e,t)}function Ie(e,t,r){return(t=ke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ke(e){var t=function(e){if("object"!=Oe(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Oe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Oe(t)?t:t+""}var xe=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Ie(e=function(e,t,r){return t=je(t),function(e,t){if(t&&("object"==Oe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Te()?Reflect.construct(t,r||[],je(e).constructor):t.apply(e,r))}(this,t,[].concat(o)),"getOptions",function(){return e.props.filterField&&e.props.filterField.options&&e.props.filterField.options[e.props.filterField.attribute]&&e.props.filterField.options[e.props.filterField.attribute].map(function(e){return{value:e,label:e}})}),Ie(e,"getPagination",function(t){if(!e.props.filterField.options)return{};var r=Math.ceil(e.props.filterField.fieldOptions.valuesCount/e.props.maxFeaturesWPS),o=1===e.props.filterField.fieldOptions.currentPage||!e.props.filterField.fieldOptions.currentPage,n=e.props.filterField.fieldOptions.currentPage===r||!e.props.filterField.fieldOptions.currentPage;return Object.assign({},e.props.pagination,{paginated:0!==t.length&&!(o&&1===t.length),firstPage:o,lastPage:n,loadPrevPage:function(){return e.props.onUpdateField(e.props.filterField.rowId,"value",e.props.filterField.value,"string",{currentPage:e.props.filterField.fieldOptions.currentPage-1,delayDebounce:0})},loadNextPage:function(){return e.props.onUpdateField(e.props.filterField.rowId,"value",e.props.filterField.value,"string",{currentPage:e.props.filterField.fieldOptions.currentPage+1,delayDebounce:0})}})}),Ie(e,"getTooltip",function(){return Object.assign({},e.props.tooltip,{enabled:(0,ce.P1)(e.props.filterField.operator),id:"autocompleteField-tooltip"+e.props.filterField&&e.props.filterField.rowId,message:n().createElement(se.A,{msgId:"queryform.attributefilter.tooltipTextField"}),overlayTriggerKey:"autocompleteField-overlay"+e.props.filterField&&e.props.filterField.rowId,placement:"top"})}),Ie(e,"renderField",function(){var t;e.props.filterField&&e.props.filterField.value&&"*"!==e.props.filterField.value&&(t={value:e.props.filterField.value,label:e.props.filterField.value});var r=e.getOptions()?e.getOptions().slice(0):[];return n().createElement(Fe.A,{dropUp:e.props.dropUp,busy:e.props.filterField.loading,data:e.props.filterField.loading?[]:r,disabled:"isNull"===e.props.filterField.operator,itemComponent:e.props.itemComponent,open:e.props.filterField.openAutocompleteMenu,onChange:function(t){return e.handleChange(t)},onFocus:function(){return e.handleFocus(r)},onSelect:function(){return e.handleSelect()},onToggle:function(){return e.handleToggle(r)},pagination:e.getPagination(r),selectedValue:t&&t.value,tooltip:e.getTooltip()})}),Ie(e,"handleSelect",function(){e.selected=!0}),Ie(e,"handleChange",function(t){e.selected?(e.selected=!1,t&&""!==t.value&&e.props.onUpdateField(e.props.filterField.rowId,"value",t.value,"string",{currentPage:1,selected:"selected",delayDebounce:0})):e.props.onUpdateField(e.props.filterField.rowId,"value","string"==typeof t?t:t.value,"string",{currentPage:1,delayDebounce:1e3})}),Ie(e,"handleFocus",function(t){e.loadWithoutfilter(t)}),Ie(e,"handleToggle",function(){e.props.toggleMenu(e.props.filterField.rowId,!e.props.filterField.openAutocompleteMenu)}),Ie(e,"loadWithoutfilter",function(t){0!==t.length||e.props.filterField.value||e.props.onUpdateField(e.props.filterField.rowId,"value","","string",{currentPage:1,delayDebounce:0})}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Se(e,t)}(t,e),r=t,(o=[{key:"render",value:function(){var e=this.props.label?n().createElement("label",null,this.props.label):n().createElement("span",null);return n().createElement("div",{className:"autocompleteField"},e,this.renderField())}}])&&Pe(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o}(n().Component);Ie(xe,"propTypes",{dropUp:l().bool,disabled:l().bool,filterField:l().object,label:l().string,itemComponent:l().oneOfType([l().object,l().func]),maxFeaturesWPS:l().number,onUpdateField:l().func,pagination:l().object,textField:l().string,tooltip:l().object,toggleMenu:l().func,valueField:l().string}),Ie(xe,"contextTypes",{messages:l().object}),Ie(xe,"defaultProps",{label:null,onUpdateField:function(){},pagination:{paginated:!0,nextPageIcon:"chevron-right",prevPageIcon:"chevron-left"},itemComponent:we.A,toggleMenu:function(){},filterField:{fieldOptions:{}}});const _e=xe;var Ae=r(209250),Ce=r(907309),De=r.n(Ce);function qe(e){return qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qe(e)}function Ne(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,Ve(o.key),o)}}function Ue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ue=function(){return!!e})()}function Re(e){return Re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Re(e)}function Be(e,t){return Be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Be(e,t)}function Me(e,t,r){return(t=Ve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ve(e){var t=function(e){if("object"!=qe(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=qe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==qe(t)?t:t+""}var Le=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return Me(e=function(e,t,r){return t=Re(t),function(e,t){if(t&&("object"==qe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ue()?Reflect.construct(t,r||[],Re(e).constructor):t.apply(e,r))}(this,t,[].concat(o)),"state",{open:!1}),Me(e,"getSelected",function(){return De()(e.props.options,e.getFindFunciton())}),Me(e,"getValue",function(t){return e.props.valueField&&t&&t[e.props.valueField]?t[e.props.valueField]:t}),Me(e,"getLabel",function(t){return e.props.labelField&&t&&t[e.props.labelField]?t[e.props.labelField]:e.getValue(t)}),Me(e,"getFindFunciton",function(){return e.props.valueField?Me({},e.props.valueField,e.props.value):e.props.value}),Me(e,"renderLabel",function(t){return e.props.labelRenderer?e.props.labelRenderer(t):e.getLabel(t)}),Me(e,"handleOutsideClick",function(t){e.node&&e.node.contains&&!e.node.contains(t.target)&&e.state.open?e.handleClick():document&&!e.node&&e.handleOutsideClick&&document.removeEventListener("click",e.handleOutsideClick,!1)}),Me(e,"handleClick",function(){document&&!e.state.open?document.addEventListener("click",e.handleOutsideClick,!1):document.removeEventListener("click",e.handleOutsideClick,!1);var t=!e.state.open;e.setState({open:t})}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Be(e,t)}(t,e),r=t,(o=[{key:"render",value:function(){var e=this;return n().createElement("span",{ref:function(t){e.node=t},className:"mapstore-string-select"},n().createElement("span",{onClick:this.handleClick},n().createElement("strong",null,this.renderLabel(this.getSelected())),n().createElement(a.e6,{glyph:"chevron-down"})),this.state.open&&n().createElement("div",{className:"m-options"},n().createElement("ul",null,this.props.options.map(function(t,r){return n().createElement("li",{key:r,onClick:function(){e.setState({open:!1}),e.props.onSelect(e.getValue(t),t)}},e.renderLabel(t))}))))}}])&&Ne(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o}(n().Component);Me(Le,"propTypes",{options:l().array,value:l().any,onSelect:l().func,valueField:l().string,labelField:l().string,labelRenderer:l().any}),Me(Le,"defaultProps",{onSelect:function(){},options:[]});const We=Le;var Ge=r(712901),He=r(711030);function Qe(e){return Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qe(e)}function Je(e){return function(e){if(Array.isArray(e))return Ke(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ke(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ke(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}function $e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,et(o.key),o)}}function ze(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ze=function(){return!!e})()}function Xe(e){return Xe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xe(e)}function Ye(e,t){return Ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ye(e,t)}function Ze(e,t,r){return(t=et(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function et(e){var t=function(e){if("object"!=Qe(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Qe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Qe(t)?t:t+""}var tt=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Ze(e=function(e,t,r){return t=Xe(t),function(e,t){if(t&&("object"==Qe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ze()?Reflect.construct(t,r||[],Xe(e).constructor):t.apply(e,r))}(this,t,[].concat(o)),"getComboValues",function(t,r){if(t&&t.dependson){var o=e.props.filterFields.filter(function(e){return e.attribute===t.dependson.field})[0];if(o&&o.value){var n=r.filter(function(e){return e.attribute===o.attribute})[0],i=n.values.filter(function(e){return e[n.valueId]===o.value})[0][t.dependson.from],l=t.values.filter(function(e){return e[t.dependson.to]===i});return t&&"list"===t.type?l.map(function(e){return{id:t.fidPrefix?t.fidPrefix+"."+e[t.valueId]:e[t.valueId],name:e[t.valueLabel]}}):null}}return t&&"list"===t.type?t.values.map(function(e){return{id:t.fidPrefix?t.fidPrefix+"."+e[t.valueId]:e[t.valueId],name:e[t.valueLabel]}}):null}),Ze(e,"getOperator",function(t){switch(t&&t.type?t.type:""){case"list":return e.props.listOperators;case"string":return e.props.stringOperators;case"boolean":return e.props.booleanOperators;case"array":return e.props.arrayOperators;default:return e.props.defaultOperators}}),Ze(e,"renderFilterField",function(t){var r=e.props.attributes.filter(function(e){return e.attribute===t.attribute})[0],o=e.getComboValues(r,e.props.attributes),i=t.exception?n().createElement(u.A,{placement:"bottom",overlay:n().createElement(a.m_,{id:t.rowId+"tooltip"},n().createElement("strong",null,n().createElement(Ge.Ay.Message,{msgId:t.exception||""})))},n().createElement(He.A,{id:"remove-filter-field",className:"filter-buttons no-border",bsStyle:e.props.buttonStyle,style:{backgroundColor:"red"},onClick:function(){return e.props.actions.onRemoveFilterField(t.rowId)}},n().createElement(a.e6,{style:{color:"white"},glyph:"glyphicon glyphicon-warning-sign"}))):n().createElement(u.A,{placement:"top",overlay:n().createElement(a.m_,{id:t.rowId+"tooltip"},n().createElement("strong",null,n().createElement(Ge.Ay.Message,{msgId:"queryform.attributefilter.delete"})))},n().createElement(He.A,{id:"remove-filter-field",bsStyle:e.props.buttonStyle,className:"filter-buttons no-border",onClick:function(){return e.props.actions.onRemoveFilterField(t.rowId)}},n().createElement(a.e6,{glyph:e.props.removeButtonIcon})));return n().createElement(w,{dropUp:e.props.dropUp,key:t.rowId,deleteButton:i,attributes:e.props.attributes,filterField:t,operatorOptions:e.getOperator(r),onUpdateField:e.props.actions.onUpdateFilterField,toggleMenu:e.props.actions.toggleMenu,maxFeaturesWPS:e.props.maxFeaturesWPS,onUpdateExceptionField:e.props.actions.onUpdateExceptionField,onChangeCascadingValue:e.props.actions.onChangeCascadingValue},n().createElement(s.A,{dropUp:e.props.dropUp,attType:"list",valueField:"id",textField:"name",fieldOptions:o||[],comboFilter:"contains"}),n().createElement(z,{attType:"date",dateEnabled:!0,operator:t.operator,quickDateTimeSelectors:e.props.quickDateTimeSelectors}),n().createElement(z,{attType:"date-time",timeEnabled:!0,dateEnabled:!0,operator:t.operator,quickDateTimeSelectors:e.props.quickDateTimeSelectors}),n().createElement(Ee,{attType:"array",operator:t.operator}),n().createElement(z,{attType:"time",timeEnabled:!0,dateEnabled:!1,operator:t.operator}),n().createElement(ue,{operator:t.operator,attType:"number"}),e.props.autocompleteEnabled?n().createElement(_e,{dropUp:e.props.dropUp,filterField:t,attType:"string"}):n().createElement(Ee,{tooltipMessage:e.props.textFieldTooltipMessageId,operator:t.operator,attType:"string"}),n().createElement(s.A,{dropUp:e.props.dropUp,fieldOptions:["true","false"],attType:"boolean",comboFilter:"contains"}))}),Ze(e,"renderGroupButtons",function(t){var r=[];return t.index<=e.props.groupLevels&&r.push({key:"add-condition-group",id:"add-condition-group",className:"filter-buttons no-border",glyph:"list-alt",bsStyle:e.props.buttonStyle,tooltipId:"queryform.attributefilter.add_group",onClick:function(){return e.props.actions.onAddGroupField(t.id,t.index)}}),r.push({key:"add-filter-field",id:"add-filter-field",className:"filter-buttons no-border",glyph:e.props.addButtonIcon,bsStyle:e.props.buttonStyle,tooltipId:"queryform.attributefilter.add_condition",onClick:function(){return e.props.actions.onAddFilterField(t.id)}}),t.groupId&&r.push({key:"remove-group",className:"filter-buttons no-border",bsStyle:e.props.buttonStyle,tooltipId:"queryform.attributefilter.deleteGroup",glyph:e.props.removeGroupButtonIcon,onClick:function(){return e.props.actions.onRemoveGroupField(t.id)}}),n().createElement(p.A,{buttons:r,btnDefaultProps:{}})}),Ze(e,"renderGroupHeader",function(t){return n().createElement("div",{className:"logicHeader filter-logic-header"},n().createElement("div",{key:"filter-logic-header",className:"filter-logic-header-text m-label"},n().createElement("span",{className:"group_label_a"},n().createElement(Ge.Ay.Message,{msgId:"queryform.attributefilter.group_label_a"}))," ",n().createElement(We,{options:e.props.logicComboOptions,valueField:"logic",value:t.logic,onSelect:function(r){return e.props.actions.onUpdateLogicCombo(t.id,r)},labelRenderer:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).name;return n().createElement(Ge.Ay.Message,{msgId:e})}})," ",n().createElement("span",{className:"group_label_b"},n().createElement(Ge.Ay.Message,{msgId:"queryform.attributefilter.group_label_b"}))),e.renderGroupButtons(t))}),Ze(e,"renderGroupField",function(t){var r=e.props.filterFields.filter(function(e){return e.groupId===t.id}),o=e.props.groupFields.filter(function(e){return e.groupId===t.id}),i=[].concat(Je(r),Je(o)).map(function(t){return void 0!==t.rowId?e.renderFilterField(t):e.renderGroupField(t)});return n().createElement("div",{className:"mapstore-conditions-group",key:t.id},e.renderGroupHeader(t),n().createElement("div",{className:"query-content"},i))}),Ze(e,"renderHeader",function(){return(0,C.kA)(e.context.messages,"queryform.attributefilter.attribute_filter_header")}),Ze(e,"updateLogicCombo",function(t,r,o){var n=e.props.logicComboOptions.filter(function(t){return o===(0,C.kA)(e.context.messages,t.name)})[0].logic;e.props.actions.onUpdateLogicCombo(t,n)}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ye(e,t)}(t,e),r=t,(o=[{key:"render",value:function(){var e=this;return this.props.withContainer?n().createElement(Ae.A,{id:"attributeFilterPanel",className:"query-filter-container",header:this.renderHeader(),collapsible:!0,expanded:this.props.attributePanelExpanded,onSwitch:function(t){return e.props.actions.onExpandAttributeFilterPanel(t)}},this.props.groupFields.filter(function(e){return!e.groupId}).map(this.renderGroupField)):n().createElement("div",{className:"query-filter-container"},this.props.groupFields.filter(function(e){return!e.groupId}).map(this.renderGroupField))}}])&&$e(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o}(n().Component);Ze(tt,"propTypes",{dropUp:l().bool,groupLevels:l().number,withContainer:l().bool,autocompleteEnabled:l().bool,maxFeaturesWPS:l().number,groupFields:l().array,filterFields:l().array,attributes:l().array,fieldWidth:l().string,removeButtonIcon:l().string,addButtonIcon:l().string,removeGroupButtonIcon:l().string,buttonStyle:l().string,logicComboOptions:l().array,attributePanelExpanded:l().bool,actions:l().object,arrayOperators:l().array,listOperators:l().array,stringOperators:l().array,booleanOperators:l().array,defaultOperators:l().array,comboOptions:l().object,textFieldTooltipMessageId:l().string}),Ze(tt,"contextTypes",{messages:l().object}),Ze(tt,"defaultProps",{autocompleteEnabled:!0,withContainer:!0,groupLevels:1,groupFields:[],filterFields:[],attributes:[],removeButtonIcon:"trash",removeGroupButtonIcon:"trash",bsStyle:"default",addButtonIcon:"glyphicon glyphicon-plus",attributePanelExpanded:!0,logicComboOptions:[{logic:"OR",name:"queryform.attributefilter.groupField.any"},{logic:"AND",name:"queryform.attributefilter.groupField.all"},{logic:"NOR",name:"queryform.attributefilter.groupField.none"}],actions:{onAddGroupField:function(){},onAddFilterField:function(){},onRemoveFilterField:function(){},onUpdateFilterField:function(){},onUpdateExceptionField:function(){},onUpdateLogicCombo:function(){},onRemoveGroupField:function(){},onChangeCascadingValue:function(){},onExpandAttributeFilterPanel:function(){},toggleMenu:function(){}},listOperators:["="],stringOperators:["=","<>","like","ilike","isNull"],arrayOperators:["contains"],booleanOperators:["="],defaultOperators:["=",">","<",">=","<=","<>","><","isNull"],textFieldTooltipMessageId:"queryform.attributefilter.tooltipTextField"});const rt=tt}}]);