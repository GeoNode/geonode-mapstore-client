/*! For license information please see 1144.c07d8c6ce371872c.chunk.js.LICENSE.txt */
(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[1144],{24827:(e,t)=>{var i,n,r,o,s,a,l,c,A,u,h,d,g;n={defaultNoDataValue:-34027999387901484e22,decode:function(e,t){var i=(t=t||{}).encodedMaskData||null===t.encodedMaskData,l=a(e,t.inputOffset||0,i),c=null!==t.noDataValue?t.noDataValue:n.defaultNoDataValue,A=r(l,t.pixelType||Float32Array,t.encodedMaskData,c,t.returnMask),u={width:l.width,height:l.height,pixelData:A.resultPixels,minValue:A.minValue,maxValue:l.pixels.maxValue,noDataValue:c};return A.resultMask&&(u.maskData=A.resultMask),t.returnEncodedMask&&l.mask&&(u.encodedMaskData=l.mask.bitset?l.mask.bitset:null),t.returnFileInfo&&(u.fileInfo=o(l),t.computeUsedBitDepths&&(u.fileInfo.bitDepths=s(l))),u}},r=function(e,t,i,n,r){var o,s,a,c=0,A=e.pixels.numBlocksX,u=e.pixels.numBlocksY,h=Math.floor(e.width/A),d=Math.floor(e.height/u),g=2*e.maxZError,p=Number.MAX_VALUE;i=i||(e.mask?e.mask.bitset:null),s=new t(e.width*e.height),r&&i&&(a=new Uint8Array(e.width*e.height));for(var f,m,_=new Float32Array(h*d),y=0;y<=u;y++){var w=y!==u?d:e.height%u;if(0!==w)for(var C=0;C<=A;C++){var B=C!==A?h:e.width%A;if(0!==B){var v,E,b,I,x=y*e.width*d+C*h,S=e.width-B,T=e.pixels.blocks[c];if(T.encoding<2?(0===T.encoding?v=T.rawData:(l(T.stuffedData,T.bitsPerPixel,T.numValidPixels,T.offset,g,_,e.pixels.maxValue),v=_),E=0):b=2===T.encoding?0:T.offset,i)for(m=0;m<w;m++){for(7&x&&(I=i[x>>3],I<<=7&x),f=0;f<B;f++)7&x||(I=i[x>>3]),128&I?(a&&(a[x]=1),p=p>(o=T.encoding<2?v[E++]:b)?o:p,s[x++]=o):(a&&(a[x]=0),s[x++]=n),I<<=1;x+=S}else if(T.encoding<2)for(m=0;m<w;m++){for(f=0;f<B;f++)p=p>(o=v[E++])?o:p,s[x++]=o;x+=S}else for(p=p>b?b:p,m=0;m<w;m++){for(f=0;f<B;f++)s[x++]=b;x+=S}if(1===T.encoding&&E!==T.numValidPixels)throw"Block and Mask do not match";c++}}}return{resultPixels:s,resultMask:a,minValue:p}},o=function(e){return{fileIdentifierString:e.fileIdentifierString,fileVersion:e.fileVersion,imageType:e.imageType,height:e.height,width:e.width,maxZError:e.maxZError,eofOffset:e.eofOffset,mask:e.mask?{numBlocksX:e.mask.numBlocksX,numBlocksY:e.mask.numBlocksY,numBytes:e.mask.numBytes,maxValue:e.mask.maxValue}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,numBytes:e.pixels.numBytes,maxValue:e.pixels.maxValue,noDataValue:e.noDataValue}}},s=function(e){for(var t=e.pixels.numBlocksX*e.pixels.numBlocksY,i={},n=0;n<t;n++){var r=e.pixels.blocks[n];0===r.encoding?i.float32=!0:1===r.encoding?i[r.bitsPerPixel]=!0:i[0]=!0}return Object.keys(i)},a=function(e,t,i){var n={},r=new Uint8Array(e,t,10);if(n.fileIdentifierString=String.fromCharCode.apply(null,r),"CntZImage"!==n.fileIdentifierString.trim())throw"Unexpected file identifier string: "+n.fileIdentifierString;t+=10;var o=new DataView(e,t,24);if(n.fileVersion=o.getInt32(0,!0),n.imageType=o.getInt32(4,!0),n.height=o.getUint32(8,!0),n.width=o.getUint32(12,!0),n.maxZError=o.getFloat64(16,!0),t+=24,!i)if(o=new DataView(e,t,16),n.mask={},n.mask.numBlocksY=o.getUint32(0,!0),n.mask.numBlocksX=o.getUint32(4,!0),n.mask.numBytes=o.getUint32(8,!0),n.mask.maxValue=o.getFloat32(12,!0),t+=16,n.mask.numBytes>0){var s=new Uint8Array(Math.ceil(n.width*n.height/8)),a=(o=new DataView(e,t,n.mask.numBytes)).getInt16(0,!0),l=2,c=0;do{if(a>0)for(;a--;)s[c++]=o.getUint8(l++);else{var A=o.getUint8(l++);for(a=-a;a--;)s[c++]=A}a=o.getInt16(l,!0),l+=2}while(l<n.mask.numBytes);if(-32768!==a||c<s.length)throw"Unexpected end of mask RLE encoding";n.mask.bitset=s,t+=n.mask.numBytes}else 0===(n.mask.numBytes|n.mask.numBlocksY|n.mask.maxValue)&&(n.mask.bitset=new Uint8Array(Math.ceil(n.width*n.height/8)));o=new DataView(e,t,16),n.pixels={},n.pixels.numBlocksY=o.getUint32(0,!0),n.pixels.numBlocksX=o.getUint32(4,!0),n.pixels.numBytes=o.getUint32(8,!0),n.pixels.maxValue=o.getFloat32(12,!0),t+=16;var u=n.pixels.numBlocksX,h=n.pixels.numBlocksY,d=u+(n.width%u>0?1:0),g=h+(n.height%h>0?1:0);n.pixels.blocks=new Array(d*g);for(var p=0,f=0;f<g;f++)for(var m=0;m<d;m++){var _=0,y=e.byteLength-t;o=new DataView(e,t,Math.min(10,y));var w={};n.pixels.blocks[p++]=w;var C=o.getUint8(0);if(_++,w.encoding=63&C,w.encoding>3)throw"Invalid block encoding ("+w.encoding+")";if(2!==w.encoding){if(0!==C&&2!==C){if(C>>=6,w.offsetType=C,2===C)w.offset=o.getInt8(1),_++;else if(1===C)w.offset=o.getInt16(1,!0),_+=2;else{if(0!==C)throw"Invalid block offset type";w.offset=o.getFloat32(1,!0),_+=4}if(1===w.encoding)if(C=o.getUint8(_),_++,w.bitsPerPixel=63&C,C>>=6,w.numValidPixelsType=C,2===C)w.numValidPixels=o.getUint8(_),_++;else if(1===C)w.numValidPixels=o.getUint16(_,!0),_+=2;else{if(0!==C)throw"Invalid valid pixel count type";w.numValidPixels=o.getUint32(_,!0),_+=4}}var B;if(t+=_,3!==w.encoding)if(0===w.encoding){var v=(n.pixels.numBytes-1)/4;if(v!==Math.floor(v))throw"uncompressed block has invalid length";B=new ArrayBuffer(4*v),new Uint8Array(B).set(new Uint8Array(e,t,4*v));var E=new Float32Array(B);w.rawData=E,t+=4*v}else if(1===w.encoding){var b=Math.ceil(w.numValidPixels*w.bitsPerPixel/8),I=Math.ceil(b/4);B=new ArrayBuffer(4*I),new Uint8Array(B).set(new Uint8Array(e,t,b)),w.stuffedData=new Uint32Array(B),t+=b}}else t++}return n.eofOffset=t,n},l=function(e,t,i,n,r,o,s){var a,l,c,A=(1<<t)-1,u=0,h=0,d=Math.ceil((s-n)/r),g=4*e.length-Math.ceil(t*i/8);for(e[e.length-1]<<=8*g,a=0;a<i;a++){if(0===h&&(c=e[u++],h=32),h>=t)l=c>>>h-t&A,h-=t;else{var p=t-h;l=(c&A)<<p&A,l+=(c=e[u++])>>>(h=32-p)}o[a]=l<d?n+l*r:s}return o},u=n,h=function(){"use strict";var e=function(e,t,i,n,r,o,s,a){var l,c,A,u,h,d=(1<<i)-1,g=0,p=0,f=4*e.length-Math.ceil(i*n/8);if(e[e.length-1]<<=8*f,r)for(l=0;l<n;l++)0===p&&(A=e[g++],p=32),p>=i?(c=A>>>p-i&d,p-=i):(c=(A&d)<<(u=i-p)&d,c+=(A=e[g++])>>>(p=32-u)),t[l]=r[c];else for(h=Math.ceil((a-o)/s),l=0;l<n;l++)0===p&&(A=e[g++],p=32),p>=i?(c=A>>>p-i&d,p-=i):(c=(A&d)<<(u=i-p)&d,c+=(A=e[g++])>>>(p=32-u)),t[l]=c<h?o+c*s:a},t=function(e,t,i,n,r,o,s,a){var l,c,A,u,h=(1<<i)-1,d=0,g=0,p=0;if(r)for(l=0;l<n;l++)0===g&&(A=e[d++],g=32,p=0),g>=i?(c=A>>>p&h,g-=i,p+=i):(c=A>>>p&h,g=32-(u=i-g),c|=((A=e[d++])&(1<<u)-1)<<i-u,p=u),t[l]=r[c];else{var f=Math.ceil((a-o)/s);for(l=0;l<n;l++)0===g&&(A=e[d++],g=32,p=0),g>=i?(c=A>>>p&h,g-=i,p+=i):(c=A>>>p&h,g=32-(u=i-g),c|=((A=e[d++])&(1<<u)-1)<<i-u,p=u),t[l]=c<f?o+c*s:a}return t},i={HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(e){for(var t=65535,i=65535,n=e.length,r=Math.floor(n/2),o=0;r;){var s=r>=359?359:r;r-=s;do{t+=e[o++]<<8,i+=t+=e[o++]}while(--s);t=(65535&t)+(t>>>16),i=(65535&i)+(i>>>16)}return 1&n&&(i+=t+=e[o]<<8),((i=(65535&i)+(i>>>16))<<16|(t=(65535&t)+(t>>>16)))>>>0},readHeaderInfo:function(e,t){var i=t.ptr,n=new Uint8Array(e,i,6),r={};if(r.fileIdentifierString=String.fromCharCode.apply(null,n),0!==r.fileIdentifierString.lastIndexOf("Lerc2",0))throw"Unexpected file identifier string (expect Lerc2 ): "+r.fileIdentifierString;i+=6;var o,s=new DataView(e,i,8),a=s.getInt32(0,!0);if(r.fileVersion=a,i+=4,a>=3&&(r.checksum=s.getUint32(4,!0),i+=4),s=new DataView(e,i,12),r.height=s.getUint32(0,!0),r.width=s.getUint32(4,!0),i+=8,a>=4?(r.numDims=s.getUint32(8,!0),i+=4):r.numDims=1,s=new DataView(e,i,40),r.numValidPixel=s.getUint32(0,!0),r.microBlockSize=s.getInt32(4,!0),r.blobSize=s.getInt32(8,!0),r.imageType=s.getInt32(12,!0),r.maxZError=s.getFloat64(16,!0),r.zMin=s.getFloat64(24,!0),r.zMax=s.getFloat64(32,!0),i+=40,t.headerInfo=r,t.ptr=i,a>=3&&(o=a>=4?52:48,this.computeChecksumFletcher32(new Uint8Array(e,i-o,r.blobSize-14))!==r.checksum))throw"Checksum failed.";return!0},checkMinMaxRanges:function(e,t){var i=t.headerInfo,n=this.getDataTypeArray(i.imageType),r=i.numDims*this.getDataTypeSize(i.imageType),o=this.readSubArray(e,t.ptr,n,r),s=this.readSubArray(e,t.ptr+r,n,r);t.ptr+=2*r;var a,l=!0;for(a=0;a<i.numDims;a++)if(o[a]!==s[a]){l=!1;break}return i.minValues=o,i.maxValues=s,l},readSubArray:function(e,t,i,n){var r;if(i===Uint8Array)r=new Uint8Array(e,t,n);else{var o=new ArrayBuffer(n);new Uint8Array(o).set(new Uint8Array(e,t,n)),r=new i(o)}return r},readMask:function(e,t){var i,n,r=t.ptr,o=t.headerInfo,s=o.width*o.height,a=o.numValidPixel,l=new DataView(e,r,4),c={};if(c.numBytes=l.getUint32(0,!0),r+=4,(0===a||s===a)&&0!==c.numBytes)throw"invalid mask";if(0===a)i=new Uint8Array(Math.ceil(s/8)),c.bitset=i,n=new Uint8Array(s),t.pixels.resultMask=n,r+=c.numBytes;else if(c.numBytes>0){i=new Uint8Array(Math.ceil(s/8));var A=(l=new DataView(e,r,c.numBytes)).getInt16(0,!0),u=2,h=0,d=0;do{if(A>0)for(;A--;)i[h++]=l.getUint8(u++);else for(d=l.getUint8(u++),A=-A;A--;)i[h++]=d;A=l.getInt16(u,!0),u+=2}while(u<c.numBytes);if(-32768!==A||h<i.length)throw"Unexpected end of mask RLE encoding";n=new Uint8Array(s);var g=0,p=0;for(p=0;p<s;p++)7&p?(g=i[p>>3],g<<=7&p):g=i[p>>3],128&g&&(n[p]=1);t.pixels.resultMask=n,c.bitset=i,r+=c.numBytes}return t.ptr=r,t.mask=c,!0},readDataOneSweep:function(e,t,n){var r,o=t.ptr,s=t.headerInfo,a=s.numDims,l=s.width*s.height,c=s.imageType,A=s.numValidPixel*i.getDataTypeSize(c)*a,u=t.pixels.resultMask;if(n===Uint8Array)r=new Uint8Array(e,o,A);else{var h=new ArrayBuffer(A);new Uint8Array(h).set(new Uint8Array(e,o,A)),r=new n(h)}if(r.length===l*a)t.pixels.resultPixels=r;else{t.pixels.resultPixels=new n(l*a);var d=0,g=0,p=0,f=0;if(a>1)for(p=0;p<a;p++)for(f=p*l,g=0;g<l;g++)u[g]&&(t.pixels.resultPixels[f+g]=r[d++]);else for(g=0;g<l;g++)u[g]&&(t.pixels.resultPixels[g]=r[d++])}return o+=A,t.ptr=o,!0},readHuffmanTree:function(e,t){var r=this.HUFFMAN_LUT_BITS_MAX,o=new DataView(e,t.ptr,16);if(t.ptr+=16,o.getInt32(0,!0)<2)throw"unsupported Huffman version";var s=o.getInt32(4,!0),a=o.getInt32(8,!0),l=o.getInt32(12,!0);if(a>=l)return!1;var c=new Uint32Array(l-a);i.decodeBits(e,t,c);var A,u,h,d,g=[];for(A=a;A<l;A++)g[u=A-(A<s?0:s)]={first:c[A-a],second:null};var p=e.byteLength-t.ptr,f=Math.ceil(p/4),m=new ArrayBuffer(4*f);new Uint8Array(m).set(new Uint8Array(e,t.ptr,p));var _,y=new Uint32Array(m),w=0,C=0;for(_=y[0],A=a;A<l;A++)(d=g[u=A-(A<s?0:s)].first)>0&&(g[u].second=_<<w>>>32-d,32-w>=d?32===(w+=d)&&(w=0,_=y[++C]):(w+=d-32,_=y[++C],g[u].second|=_>>>32-w));var B,v=0,E=new n;for(A=0;A<g.length;A++)void 0!==g[A]&&(v=Math.max(v,g[A].first));B=v>=r?r:v,v>=30&&console.log("WARning, large NUM LUT BITS IS "+v);var b,I,x,S,T,M=[];for(A=a;A<l;A++)if((d=g[u=A-(A<s?0:s)].first)>0)if(b=[d,u],d<=B)for(I=g[u].second<<B-d,x=1<<B-d,h=0;h<x;h++)M[I|h]=b;else for(I=g[u].second,T=E,S=d-1;S>=0;S--)I>>>S&1?(T.right||(T.right=new n),T=T.right):(T.left||(T.left=new n),T=T.left),0!==S||T.val||(T.val=b[1]);return{decodeLut:M,numBitsLUTQick:B,numBitsLUT:v,tree:E,stuffedData:y,srcPtr:C,bitPos:w}},readHuffman:function(e,t,i){var n,r,o,s,a,l,c,A,u,h=t.headerInfo,d=h.numDims,g=t.headerInfo.height,p=t.headerInfo.width,f=p*g,m=this.readHuffmanTree(e,t),_=m.decodeLut,y=m.tree,w=m.stuffedData,C=m.srcPtr,B=m.bitPos,v=m.numBitsLUTQick,E=m.numBitsLUT,b=0===t.headerInfo.imageType?128:0,I=t.pixels.resultMask,x=0;B>0&&(C++,B=0);var S,T=w[C],M=1===t.encodeMode,D=new i(f*d),P=D;for(S=0;S<h.numDims;S++){if(d>1&&(P=new i(D.buffer,f*S,f),x=0),t.headerInfo.numValidPixel===p*g)for(A=0,l=0;l<g;l++)for(c=0;c<p;c++,A++){if(r=0,a=s=T<<B>>>32-v,32-B<v&&(a=s|=w[C+1]>>>64-B-v),_[a])r=_[a][1],B+=_[a][0];else for(a=s=T<<B>>>32-E,32-B<E&&(a=s|=w[C+1]>>>64-B-E),n=y,u=0;u<E;u++)if(!(n=s>>>E-u-1&1?n.right:n.left).left&&!n.right){r=n.val,B=B+u+1;break}B>=32&&(B-=32,T=w[++C]),o=r-b,M?(o+=c>0?x:l>0?P[A-p]:x,o&=255,P[A]=o,x=o):P[A]=o}else for(A=0,l=0;l<g;l++)for(c=0;c<p;c++,A++)if(I[A]){if(r=0,a=s=T<<B>>>32-v,32-B<v&&(a=s|=w[C+1]>>>64-B-v),_[a])r=_[a][1],B+=_[a][0];else for(a=s=T<<B>>>32-E,32-B<E&&(a=s|=w[C+1]>>>64-B-E),n=y,u=0;u<E;u++)if(!(n=s>>>E-u-1&1?n.right:n.left).left&&!n.right){r=n.val,B=B+u+1;break}B>=32&&(B-=32,T=w[++C]),o=r-b,M?(c>0&&I[A-1]?o+=x:l>0&&I[A-p]?o+=P[A-p]:o+=x,o&=255,P[A]=o,x=o):P[A]=o}t.ptr=t.ptr+4*(C+1)+(B>0?4:0)}t.pixels.resultPixels=D},decodeBits:function(i,n,r,o,s){var a=n.headerInfo,l=a.fileVersion,c=0,A=new DataView(i,n.ptr,5),u=A.getUint8(0);c++;var h=u>>6,d=0===h?4:3-h,g=(32&u)>0,p=31&u,f=0;if(1===d)f=A.getUint8(c),c++;else if(2===d)f=A.getUint16(c,!0),c+=2;else{if(4!==d)throw"Invalid valid pixel count type";f=A.getUint32(c,!0),c+=4}var m,_,y,w,C,B,v,E,b,I=2*a.maxZError,x=a.numDims>1?a.maxValues[s]:a.zMax;if(g){for(n.counter.lut++,E=A.getUint8(c),c++,w=Math.ceil((E-1)*p/8),C=Math.ceil(w/4),_=new ArrayBuffer(4*C),y=new Uint8Array(_),n.ptr+=c,y.set(new Uint8Array(i,n.ptr,w)),v=new Uint32Array(_),n.ptr+=w,b=0;E-1>>>b;)b++;w=Math.ceil(f*b/8),C=Math.ceil(w/4),_=new ArrayBuffer(4*C),(y=new Uint8Array(_)).set(new Uint8Array(i,n.ptr,w)),m=new Uint32Array(_),n.ptr+=w,B=l>=3?function(e,t,i,n,r,o){var s,a=(1<<t)-1,l=0,c=0,A=0,u=0,h=0,d=0,g=[],p=Math.ceil((o-n)/r);for(c=0;c<i;c++)0===u&&(s=e[l++],u=32,d=0),u>=t?(h=s>>>d&a,u-=t,d+=t):(h=s>>>d&a,u=32-(A=t-u),h|=((s=e[l++])&(1<<A)-1)<<t-A,d=A),g[c]=h<p?n+h*r:o;return g.unshift(n),g}(v,p,E-1,o,I,x):function(e,t,i,n,r,o){var s,a=(1<<t)-1,l=0,c=0,A=0,u=0,h=0,d=[],g=4*e.length-Math.ceil(t*i/8);e[e.length-1]<<=8*g;var p=Math.ceil((o-n)/r);for(c=0;c<i;c++)0===u&&(s=e[l++],u=32),u>=t?(h=s>>>u-t&a,u-=t):(h=(s&a)<<(A=t-u)&a,h+=(s=e[l++])>>>(u=32-A)),d[c]=h<p?n+h*r:o;return d.unshift(n),d}(v,p,E-1,o,I,x),l>=3?t(m,r,b,f,B):e(m,r,b,f,B)}else n.counter.bitstuffer++,b=p,n.ptr+=c,b>0&&(w=Math.ceil(f*b/8),C=Math.ceil(w/4),_=new ArrayBuffer(4*C),(y=new Uint8Array(_)).set(new Uint8Array(i,n.ptr,w)),m=new Uint32Array(_),n.ptr+=w,l>=3?null==o?function(e,t,i,n){var r,o,s,a,l=(1<<i)-1,c=0,A=0,u=0;for(r=0;r<n;r++)0===A&&(s=e[c++],A=32,u=0),A>=i?(o=s>>>u&l,A-=i,u+=i):(o=s>>>u&l,A=32-(a=i-A),o|=((s=e[c++])&(1<<a)-1)<<i-a,u=a),t[r]=o}(m,r,b,f):t(m,r,b,f,!1,o,I,x):null==o?function(e,t,i,n){var r,o,s,a,l=(1<<i)-1,c=0,A=0,u=4*e.length-Math.ceil(i*n/8);for(e[e.length-1]<<=8*u,r=0;r<n;r++)0===A&&(s=e[c++],A=32),A>=i?(o=s>>>A-i&l,A-=i):(o=(s&l)<<(a=i-A)&l,o+=(s=e[c++])>>>(A=32-a)),t[r]=o}(m,r,b,f):e(m,r,b,f,!1,o,I,x))},readTiles:function(e,t,n){var r=t.headerInfo,o=r.width,s=r.height,a=r.microBlockSize,l=r.imageType,c=i.getDataTypeSize(l),A=Math.ceil(o/a),u=Math.ceil(s/a);t.pixels.numBlocksY=u,t.pixels.numBlocksX=A,t.pixels.ptr=0;var h,d,g,p,f,m,_,y,w=0,C=0,B=0,v=0,E=0,b=0,I=0,x=0,S=0,T=0,M=0,D=0,P=0,O=0,R=0,k=new n(a*a),F=s%a||a,L=o%a||a,Q=r.numDims,N=t.pixels.resultMask,G=t.pixels.resultPixels;for(B=0;B<u;B++)for(E=B!==u-1?a:F,v=0;v<A;v++)for(T=B*o*a+v*a,M=o-(b=v!==A-1?a:L),y=0;y<Q;y++){if(Q>1&&(G=new n(t.pixels.resultPixels.buffer,o*s*y*c,o*s)),I=e.byteLength-t.ptr,d={},R=0,R++,S=(x=(h=new DataView(e,t.ptr,Math.min(10,I))).getUint8(0))>>6&255,(x>>2&15)!=(v*a>>3&15))throw"integrity issue";if((f=3&x)>3)throw t.ptr+=R,"Invalid block encoding ("+f+")";if(2!==f)if(0===f){if(t.counter.uncompressed++,t.ptr+=R,D=(D=E*b*c)<(P=e.byteLength-t.ptr)?D:P,g=new ArrayBuffer(D%c===0?D:D+c-D%c),new Uint8Array(g).set(new Uint8Array(e,t.ptr,D)),p=new n(g),O=0,N)for(w=0;w<E;w++){for(C=0;C<b;C++)N[T]&&(G[T]=p[O++]),T++;T+=M}else for(w=0;w<E;w++){for(C=0;C<b;C++)G[T++]=p[O++];T+=M}t.ptr+=O*c}else if(m=i.getDataTypeUsed(l,S),_=i.getOnePixel(d,R,m,h),R+=i.getDataTypeSize(m),3===f)if(t.ptr+=R,t.counter.constantoffset++,N)for(w=0;w<E;w++){for(C=0;C<b;C++)N[T]&&(G[T]=_),T++;T+=M}else for(w=0;w<E;w++){for(C=0;C<b;C++)G[T++]=_;T+=M}else if(t.ptr+=R,i.decodeBits(e,t,k,_,y),R=0,N)for(w=0;w<E;w++){for(C=0;C<b;C++)N[T]&&(G[T]=k[R++]),T++;T+=M}else for(w=0;w<E;w++){for(C=0;C<b;C++)G[T++]=k[R++];T+=M}else t.counter.constant++,t.ptr+=R}},formatFileInfo:function(e){return{fileIdentifierString:e.headerInfo.fileIdentifierString,fileVersion:e.headerInfo.fileVersion,imageType:e.headerInfo.imageType,height:e.headerInfo.height,width:e.headerInfo.width,numValidPixel:e.headerInfo.numValidPixel,microBlockSize:e.headerInfo.microBlockSize,blobSize:e.headerInfo.blobSize,maxZError:e.headerInfo.maxZError,pixelType:i.getPixelType(e.headerInfo.imageType),eofOffset:e.eofOffset,mask:e.mask?{numBytes:e.mask.numBytes}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,maxValue:e.headerInfo.zMax,minValue:e.headerInfo.zMin,noDataValue:e.noDataValue}}},constructConstantSurface:function(e){var t=e.headerInfo.zMax,i=e.headerInfo.numDims,n=e.headerInfo.height*e.headerInfo.width,r=n*i,o=0,s=0,a=0,l=e.pixels.resultMask;if(l)if(i>1)for(o=0;o<i;o++)for(a=o*n,s=0;s<n;s++)l[s]&&(e.pixels.resultPixels[a+s]=t);else for(s=0;s<n;s++)l[s]&&(e.pixels.resultPixels[s]=t);else if(e.pixels.resultPixels.fill)e.pixels.resultPixels.fill(t);else for(s=0;s<r;s++)e.pixels.resultPixels[s]=t},getDataTypeArray:function(e){var t;switch(e){case 0:t=Int8Array;break;case 1:t=Uint8Array;break;case 2:t=Int16Array;break;case 3:t=Uint16Array;break;case 4:t=Int32Array;break;case 5:t=Uint32Array;break;case 6:default:t=Float32Array;break;case 7:t=Float64Array}return t},getPixelType:function(e){var t;switch(e){case 0:t="S8";break;case 1:t="U8";break;case 2:t="S16";break;case 3:t="U16";break;case 4:t="S32";break;case 5:t="U32";break;case 6:default:t="F32";break;case 7:t="F64"}return t},isValidPixelValue:function(e,t){if(null==t)return!1;var i;switch(e){case 0:i=t>=-128&&t<=127;break;case 1:i=t>=0&&t<=255;break;case 2:i=t>=-32768&&t<=32767;break;case 3:i=t>=0&&t<=65536;break;case 4:i=t>=-2147483648&&t<=2147483647;break;case 5:i=t>=0&&t<=4294967296;break;case 6:i=t>=-34027999387901484e22&&t<=34027999387901484e22;break;case 7:i=t>=5e-324&&t<=17976931348623157e292;break;default:i=!1}return i},getDataTypeSize:function(e){var t=0;switch(e){case 0:case 1:t=1;break;case 2:case 3:t=2;break;case 4:case 5:case 6:t=4;break;case 7:t=8;break;default:t=e}return t},getDataTypeUsed:function(e,t){var i=e;switch(e){case 2:case 4:i=e-t;break;case 3:case 5:i=e-2*t;break;case 6:i=0===t?e:1===t?2:1;break;case 7:i=0===t?e:e-2*t+1;break;default:i=e}return i},getOnePixel:function(e,t,i,n){var r=0;switch(i){case 0:r=n.getInt8(t);break;case 1:r=n.getUint8(t);break;case 2:r=n.getInt16(t,!0);break;case 3:r=n.getUint16(t,!0);break;case 4:r=n.getInt32(t,!0);break;case 5:r=n.getUInt32(t,!0);break;case 6:r=n.getFloat32(t,!0);break;case 7:r=n.getFloat64(t,!0);break;default:throw"the decoder does not understand this pixel type"}return r}},n=function(e,t,i){this.val=e,this.left=t,this.right=i};return{decode:function(e,t){var n=(t=t||{}).noDataValue,r=0,o={};if(o.ptr=t.inputOffset||0,o.pixels={},i.readHeaderInfo(e,o)){var s=o.headerInfo,a=s.fileVersion,l=i.getDataTypeArray(s.imageType);i.readMask(e,o),s.numValidPixel===s.width*s.height||o.pixels.resultMask||(o.pixels.resultMask=t.maskData);var c,A=s.width*s.height;if(o.pixels.resultPixels=new l(A*s.numDims),o.counter={onesweep:0,uncompressed:0,lut:0,bitstuffer:0,constant:0,constantoffset:0},0!==s.numValidPixel)if(s.zMax===s.zMin)i.constructConstantSurface(o);else if(a>=4&&i.checkMinMaxRanges(e,o))i.constructConstantSurface(o);else{var u=new DataView(e,o.ptr,2),h=u.getUint8(0);if(o.ptr++,h)i.readDataOneSweep(e,o,l);else if(a>1&&s.imageType<=1&&Math.abs(s.maxZError-.5)<1e-5){var d=u.getUint8(1);if(o.ptr++,o.encodeMode=d,d>2||a<4&&d>1)throw"Invalid Huffman flag "+d;d?i.readHuffman(e,o,l):i.readTiles(e,o,l)}else i.readTiles(e,o,l)}o.eofOffset=o.ptr,t.inputOffset?(c=o.headerInfo.blobSize+t.inputOffset-o.ptr,Math.abs(c)>=1&&(o.eofOffset=t.inputOffset+o.headerInfo.blobSize)):(c=o.headerInfo.blobSize-o.ptr,Math.abs(c)>=1&&(o.eofOffset=o.headerInfo.blobSize));var g={width:s.width,height:s.height,pixelData:o.pixels.resultPixels,minValue:s.zMin,maxValue:s.zMax,validPixelCount:s.numValidPixel,dimCount:s.numDims,dimStats:{minValues:s.minValues,maxValues:s.maxValues},maskData:o.pixels.resultMask};if(o.pixels.resultMask&&i.isValidPixelValue(s.imageType,n)){var p=o.pixels.resultMask;for(r=0;r<A;r++)p[r]||(g.pixelData[r]=n);g.noDataValue=n}return o.noDataValue=n,t.returnFileInfo&&(g.fileInfo=i.formatFileInfo(o)),g}},getBandCount:function(e){for(var t=0,n=0,r={ptr:0,pixels:{}};n<e.byteLength-58;)i.readHeaderInfo(e,r),n+=r.headerInfo.blobSize,t++,r.ptr=n;return t}}}(),c=new ArrayBuffer(4),A=new Uint8Array(c),new Uint32Array(c)[0]=1,d=1===A[0],g={decode:function(e,t){if(!d)throw"Big endian system is not supported.";var i,n,r=(t=t||{}).inputOffset||0,o=new Uint8Array(e,r,10),s=String.fromCharCode.apply(null,o);if("CntZImage"===s.trim())i=u,n=1;else{if("Lerc2"!==s.substring(0,5))throw"Unexpected file identifier string: "+s;i=h,n=2}for(var a,l,c,A,g,p,f=0,m=e.byteLength-10,_=[],y={width:0,height:0,pixels:[],pixelType:t.pixelType,mask:null,statistics:[]};r<m;){var w=i.decode(e,{inputOffset:r,encodedMaskData:a,maskData:c,returnMask:0===f,returnEncodedMask:0===f,returnFileInfo:!0,pixelType:t.pixelType||null,noDataValue:t.noDataValue||null});r=w.fileInfo.eofOffset,0===f&&(a=w.encodedMaskData,c=w.maskData,y.width=w.width,y.height=w.height,y.dimCount=w.dimCount||1,y.pixelType=w.pixelType||w.fileInfo.pixelType,y.mask=w.maskData),n>1&&w.fileInfo.mask&&w.fileInfo.mask.numBytes>0&&_.push(w.maskData),f++,y.pixels.push(w.pixelData),y.statistics.push({minValue:w.minValue,maxValue:w.maxValue,noDataValue:w.noDataValue,dimStats:w.dimStats})}if(n>1&&_.length>1){for(p=y.width*y.height,y.bandMasks=_,(c=new Uint8Array(p)).set(_[0]),A=1;A<_.length;A++)for(l=_[A],g=0;g<p;g++)c[g]=c[g]&l[g];y.maskData=c}return y}},void 0===(i=function(){return g}.apply(t,[]))||(e.exports=i)},957171:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;module=__webpack_require__.nmd(module),function(undefined){"use strict";var modules,cache,entries,protobuf;modules={1:[function(e,t,i){t.exports=function(e,t){for(var i=new Array(arguments.length-1),n=0,r=2,o=!0;r<arguments.length;)i[n++]=arguments[r++];return new Promise(function(r,s){i[n]=function(e){if(o)if(o=!1,e)s(e);else{for(var t=new Array(arguments.length-1),i=0;i<t.length;)t[i++]=arguments[i];r.apply(null,t)}};try{e.apply(t||null,i)}catch(e){o&&(o=!1,s(e))}})}},{}],2:[function(e,t,i){var n=i;n.length=function(e){var t=e.length;if(!t)return 0;for(var i=0;--t%4>1&&"="===e.charAt(t);)++i;return Math.ceil(3*e.length)/4-i};for(var r=new Array(64),o=new Array(123),s=0;s<64;)o[r[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;n.encode=function(e,t,i){for(var n,o=null,s=[],a=0,l=0;t<i;){var c=e[t++];switch(l){case 0:s[a++]=r[c>>2],n=(3&c)<<4,l=1;break;case 1:s[a++]=r[n|c>>4],n=(15&c)<<2,l=2;break;case 2:s[a++]=r[n|c>>6],s[a++]=r[63&c],l=0}a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),a=0)}return l&&(s[a++]=r[n],s[a++]=61,1===l&&(s[a++]=61)),o?(a&&o.push(String.fromCharCode.apply(String,s.slice(0,a))),o.join("")):String.fromCharCode.apply(String,s.slice(0,a))};var a="invalid encoding";n.decode=function(e,t,i){for(var n,r=i,s=0,l=0;l<e.length;){var c=e.charCodeAt(l++);if(61===c&&s>1)break;if((c=o[c])===undefined)throw Error(a);switch(s){case 0:n=c,s=1;break;case 1:t[i++]=n<<2|(48&c)>>4,n=c,s=2;break;case 2:t[i++]=(15&n)<<4|(60&c)>>2,n=c,s=3;break;case 3:t[i++]=(3&n)<<6|c,s=0}}if(1===s)throw Error(a);return i-r},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},{}],3:[function(e,t,i){function n(){this._listeners={}}t.exports=n,n.prototype.on=function(e,t,i){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:i||this}),this},n.prototype.off=function(e,t){if(e===undefined)this._listeners={};else if(t===undefined)this._listeners[e]=[];else for(var i=this._listeners[e],n=0;n<i.length;)i[n].fn===t?i.splice(n,1):++n;return this},n.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var i=[],n=1;n<arguments.length;)i.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,i)}return this}},{}],4:[function(e,t,i){function n(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),i=new Uint8Array(t.buffer),n=128===i[3];function r(e,n,r){t[0]=e,n[r]=i[0],n[r+1]=i[1],n[r+2]=i[2],n[r+3]=i[3]}function o(e,n,r){t[0]=e,n[r]=i[3],n[r+1]=i[2],n[r+2]=i[1],n[r+3]=i[0]}function s(e,n){return i[0]=e[n],i[1]=e[n+1],i[2]=e[n+2],i[3]=e[n+3],t[0]}function a(e,n){return i[3]=e[n],i[2]=e[n+1],i[1]=e[n+2],i[0]=e[n+3],t[0]}e.writeFloatLE=n?r:o,e.writeFloatBE=n?o:r,e.readFloatLE=n?s:a,e.readFloatBE=n?a:s}():function(){function t(e,t,i,n){var r=t<0?1:0;if(r&&(t=-t),0===t)e(1/t>0?0:2147483648,i,n);else if(isNaN(t))e(2143289344,i,n);else if(t>34028234663852886e22)e((r<<31|2139095040)>>>0,i,n);else if(t<11754943508222875e-54)e((r<<31|Math.round(t/1401298464324817e-60))>>>0,i,n);else{var o=Math.floor(Math.log(t)/Math.LN2);e((r<<31|o+127<<23|8388607&Math.round(t*Math.pow(2,-o)*8388608))>>>0,i,n)}}function i(e,t,i){var n=e(t,i),r=2*(n>>31)+1,o=n>>>23&255,s=8388607&n;return 255===o?s?NaN:r*(1/0):0===o?1401298464324817e-60*r*s:r*Math.pow(2,o-150)*(s+8388608)}e.writeFloatLE=t.bind(null,r),e.writeFloatBE=t.bind(null,o),e.readFloatLE=i.bind(null,s),e.readFloatBE=i.bind(null,a)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),i=new Uint8Array(t.buffer),n=128===i[7];function r(e,n,r){t[0]=e,n[r]=i[0],n[r+1]=i[1],n[r+2]=i[2],n[r+3]=i[3],n[r+4]=i[4],n[r+5]=i[5],n[r+6]=i[6],n[r+7]=i[7]}function o(e,n,r){t[0]=e,n[r]=i[7],n[r+1]=i[6],n[r+2]=i[5],n[r+3]=i[4],n[r+4]=i[3],n[r+5]=i[2],n[r+6]=i[1],n[r+7]=i[0]}function s(e,n){return i[0]=e[n],i[1]=e[n+1],i[2]=e[n+2],i[3]=e[n+3],i[4]=e[n+4],i[5]=e[n+5],i[6]=e[n+6],i[7]=e[n+7],t[0]}function a(e,n){return i[7]=e[n],i[6]=e[n+1],i[5]=e[n+2],i[4]=e[n+3],i[3]=e[n+4],i[2]=e[n+5],i[1]=e[n+6],i[0]=e[n+7],t[0]}e.writeDoubleLE=n?r:o,e.writeDoubleBE=n?o:r,e.readDoubleLE=n?s:a,e.readDoubleBE=n?a:s}():function(){function t(e,t,i,n,r,o){var s=n<0?1:0;if(s&&(n=-n),0===n)e(0,r,o+t),e(1/n>0?0:2147483648,r,o+i);else if(isNaN(n))e(0,r,o+t),e(2146959360,r,o+i);else if(n>17976931348623157e292)e(0,r,o+t),e((s<<31|2146435072)>>>0,r,o+i);else{var a;if(n<22250738585072014e-324)e((a=n/5e-324)>>>0,r,o+t),e((s<<31|a/4294967296)>>>0,r,o+i);else{var l=Math.floor(Math.log(n)/Math.LN2);1024===l&&(l=1023),e(4503599627370496*(a=n*Math.pow(2,-l))>>>0,r,o+t),e((s<<31|l+1023<<20|1048576*a&1048575)>>>0,r,o+i)}}}function i(e,t,i,n,r){var o=e(n,r+t),s=e(n,r+i),a=2*(s>>31)+1,l=s>>>20&2047,c=4294967296*(1048575&s)+o;return 2047===l?c?NaN:a*(1/0):0===l?5e-324*a*c:a*Math.pow(2,l-1075)*(c+4503599627370496)}e.writeDoubleLE=t.bind(null,r,0,4),e.writeDoubleBE=t.bind(null,o,4,0),e.readDoubleLE=i.bind(null,s,0,4),e.readDoubleBE=i.bind(null,a,4,0)}(),e}function r(e,t,i){t[i]=255&e,t[i+1]=e>>>8&255,t[i+2]=e>>>16&255,t[i+3]=e>>>24}function o(e,t,i){t[i]=e>>>24,t[i+1]=e>>>16&255,t[i+2]=e>>>8&255,t[i+3]=255&e}function s(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function a(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}t.exports=n(n)},{}],5:[function(require,module,exports){function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},{}],6:[function(e,t,i){t.exports=function(e,t,i){var n=i||8192,r=n>>>1,o=null,s=n;return function(i){if(i<1||i>r)return e(i);s+i>n&&(o=e(n),s=0);var a=t.call(o,s,s+=i);return 7&s&&(s=1+(7|s)),a}}},{}],7:[function(e,t,i){var n=i;n.length=function(e){for(var t=0,i=0,n=0;n<e.length;++n)(i=e.charCodeAt(n))<128?t+=1:i<2048?t+=2:55296==(64512&i)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},n.read=function(e,t,i){if(i-t<1)return"";for(var n,r=null,o=[],s=0;t<i;)(n=e[t++])<128?o[s++]=n:n>191&&n<224?o[s++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[s++]=55296+(n>>10),o[s++]=56320+(1023&n)):o[s++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],s>8191&&((r||(r=[])).push(String.fromCharCode.apply(String,o)),s=0);return r?(s&&r.push(String.fromCharCode.apply(String,o.slice(0,s))),r.join("")):String.fromCharCode.apply(String,o.slice(0,s))},n.write=function(e,t,i){for(var n,r,o=i,s=0;s<e.length;++s)(n=e.charCodeAt(s))<128?t[i++]=n:n<2048?(t[i++]=n>>6|192,t[i++]=63&n|128):55296==(64512&n)&&56320==(64512&(r=e.charCodeAt(s+1)))?(n=65536+((1023&n)<<10)+(1023&r),++s,t[i++]=n>>18|240,t[i++]=n>>12&63|128,t[i++]=n>>6&63|128,t[i++]=63&n|128):(t[i++]=n>>12|224,t[i++]=n>>6&63|128,t[i++]=63&n|128);return i-o}},{}],8:[function(e,t,i){var n=i;function r(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=e(16),n.BufferWriter=e(17),n.Reader=e(9),n.BufferReader=e(10),n.util=e(15),n.rpc=e(12),n.roots=e(11),n.configure=r,r()},{10:10,11:11,12:12,15:15,16:16,17:17,9:9}],9:[function(e,t,i){t.exports=l;var n,r=e(15),o=r.LongBits,s=r.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function l(e){this.buf=e,this.pos=0,this.len=e.length}var c,A="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new l(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new l(e);throw Error("illegal buffer")},u=function(){return r.Buffer?function(e){return(l.create=function(e){return r.Buffer.isBuffer(e)?new n(e):A(e)})(e)}:A};function h(){var e=new o(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function d(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function g(){if(this.pos+8>this.len)throw a(this,8);return new o(d(this.buf,this.pos+=4),d(this.buf,this.pos+=4))}l.create=u(),l.prototype._slice=r.Array.prototype.subarray||r.Array.prototype.slice,l.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return c;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return c}),l.prototype.int32=function(){return 0|this.uint32()},l.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)},l.prototype.bool=function(){return 0!==this.uint32()},l.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return d(this.buf,this.pos+=4)},l.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|d(this.buf,this.pos+=4)},l.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=r.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},l.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=r.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},l.prototype.bytes=function(){var e=this.uint32(),t=this.pos,i=this.pos+e;if(i>this.len)throw a(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(t,i);if(t===i){var n=r.Buffer;return n?n.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,i)},l.prototype.string=function(){var e=this.bytes();return s.read(e,0,e.length)},l.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},l.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},l._configure=function(e){n=e,l.create=u(),n._configure();var t=r.Long?"toLong":"toNumber";r.merge(l.prototype,{int64:function(){return h.call(this)[t](!1)},uint64:function(){return h.call(this)[t](!0)},sint64:function(){return h.call(this).zzDecode()[t](!1)},fixed64:function(){return g.call(this)[t](!0)},sfixed64:function(){return g.call(this)[t](!1)}})}},{15:15}],10:[function(e,t,i){t.exports=o;var n=e(9);(o.prototype=Object.create(n.prototype)).constructor=o;var r=e(15);function o(e){n.call(this,e)}o._configure=function(){r.Buffer&&(o.prototype._slice=r.Buffer.prototype.slice)},o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},o._configure()},{15:15,9:9}],11:[function(e,t,i){t.exports={}},{}],12:[function(e,t,i){i.Service=e(13)},{13:13}],13:[function(e,t,i){t.exports=r;var n=e(15);function r(e,t,i){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(i)}(r.prototype=Object.create(n.EventEmitter.prototype)).constructor=r,r.prototype.rpcCall=function e(t,i,r,o,s){if(!o)throw TypeError("request must be specified");var a=this;if(!s)return n.asPromise(e,a,t,i,r,o);if(!a.rpcImpl)return setTimeout(function(){s(Error("already ended"))},0),undefined;try{return a.rpcImpl(t,i[a.requestDelimited?"encodeDelimited":"encode"](o).finish(),function(e,i){if(e)return a.emit("error",e,t),s(e);if(null===i)return a.end(!0),undefined;if(!(i instanceof r))try{i=r[a.responseDelimited?"decodeDelimited":"decode"](i)}catch(e){return a.emit("error",e,t),s(e)}return a.emit("data",i,t),s(null,i)})}catch(e){return a.emit("error",e,t),setTimeout(function(){s(e)},0),undefined}},r.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},{15:15}],14:[function(e,t,i){t.exports=r;var n=e(15);function r(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=r.zero=new r(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var s=r.zeroHash="\0\0\0\0\0\0\0\0";r.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var i=e>>>0,n=(e-i)/4294967296>>>0;return t&&(n=~n>>>0,i=~i>>>0,++i>4294967295&&(i=0,++n>4294967295&&(n=0))),new r(i,n)},r.from=function(e){if("number"==typeof e)return r.fromNumber(e);if(n.isString(e)){if(!n.Long)return r.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new r(e.low>>>0,e.high>>>0):o},r.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,i=~this.hi>>>0;return t||(i=i+1>>>0),-(t+4294967296*i)}return this.lo+4294967296*this.hi},r.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var a=String.prototype.charCodeAt;r.fromHash=function(e){return e===s?o:new r((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},r.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},r.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},r.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},r.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return 0===i?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:i<128?9:10}},{15:15}],15:[function(e,t,i){var n=i;function r(e,t,i){for(var n=Object.keys(t),r=0;r<n.length;++r)e[n[r]]!==undefined&&i||(e[n[r]]=t[n[r]]);return e}function o(e){function t(e,i){if(!(this instanceof t))return new t(e,i);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),i&&r(this,i)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:undefined,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}n.asPromise=e(1),n.base64=e(2),n.EventEmitter=e(3),n.float=e(4),n.inquire=e(5),n.utf8=e(7),n.pool=e(6),n.LongBits=e(14),n.isNode=Boolean(void 0!==__webpack_require__.g&&__webpack_require__.g&&__webpack_require__.g.process&&__webpack_require__.g.process.versions&&__webpack_require__.g.process.versions.node),n.global=n.isNode&&__webpack_require__.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var i=e[t];return!(null==i||!e.hasOwnProperty(t))&&("object"!=typeof i||(Array.isArray(i)?i.length:Object.keys(i).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var i=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(i.lo,i.hi,t):i.toNumber(Boolean(t))},n.merge=r,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=o,n.ProtocolError=o("ProtocolError"),n.oneOfGetter=function(e){for(var t={},i=0;i<e.length;++i)t[e[i]]=1;return function(){for(var e=Object.keys(this),i=e.length-1;i>-1;--i)if(1===t[e[i]]&&this[e[i]]!==undefined&&null!==this[e[i]])return e[i]}},n.oneOfSetter=function(e){return function(t){for(var i=0;i<e.length;++i)e[i]!==t&&delete this[e[i]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;e?(n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,i){return new e(t,i)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):n._Buffer_from=n._Buffer_allocUnsafe=null}},{1:1,14:14,2:2,3:3,4:4,5:5,6:6,7:7}],16:[function(e,t,i){t.exports=u;var n,r=e(15),o=r.LongBits,s=r.base64,a=r.utf8;function l(e,t,i){this.fn=e,this.len=t,this.next=undefined,this.val=i}function c(){}function A(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function u(){this.len=0,this.head=new l(c,0,0),this.tail=this.head,this.states=null}var h=function(){return r.Buffer?function(){return(u.create=function(){return new n})()}:function(){return new u}};function d(e,t,i){t[i]=255&e}function g(e,t){this.len=e,this.next=undefined,this.val=t}function p(e,t,i){for(;e.hi;)t[i++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[i++]=127&e.lo|128,e.lo=e.lo>>>7;t[i++]=e.lo}function f(e,t,i){t[i]=255&e,t[i+1]=e>>>8&255,t[i+2]=e>>>16&255,t[i+3]=e>>>24}u.create=h(),u.alloc=function(e){return new r.Array(e)},r.Array!==Array&&(u.alloc=r.pool(u.alloc,r.Array.prototype.subarray)),u.prototype._push=function(e,t,i){return this.tail=this.tail.next=new l(e,t,i),this.len+=t,this},g.prototype=Object.create(l.prototype),g.prototype.fn=function(e,t,i){for(;e>127;)t[i++]=127&e|128,e>>>=7;t[i]=e},u.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new g((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},u.prototype.int32=function(e){return e<0?this._push(p,10,o.fromNumber(e)):this.uint32(e)},u.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},u.prototype.uint64=function(e){var t=o.from(e);return this._push(p,t.length(),t)},u.prototype.int64=u.prototype.uint64,u.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(p,t.length(),t)},u.prototype.bool=function(e){return this._push(d,1,e?1:0)},u.prototype.fixed32=function(e){return this._push(f,4,e>>>0)},u.prototype.sfixed32=u.prototype.fixed32,u.prototype.fixed64=function(e){var t=o.from(e);return this._push(f,4,t.lo)._push(f,4,t.hi)},u.prototype.sfixed64=u.prototype.fixed64,u.prototype.float=function(e){return this._push(r.float.writeFloatLE,4,e)},u.prototype.double=function(e){return this._push(r.float.writeDoubleLE,8,e)};var m=r.Array.prototype.set?function(e,t,i){t.set(e,i)}:function(e,t,i){for(var n=0;n<e.length;++n)t[i+n]=e[n]};u.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(d,1,0);if(r.isString(e)){var i=u.alloc(t=s.length(e));s.decode(e,i,0),e=i}return this.uint32(t)._push(m,t,e)},u.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(d,1,0)},u.prototype.fork=function(){return this.states=new A(this),this.head=this.tail=new l(c,0,0),this.len=0,this},u.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new l(c,0,0),this.len=0),this},u.prototype.ldelim=function(){var e=this.head,t=this.tail,i=this.len;return this.reset().uint32(i),i&&(this.tail.next=e.next,this.tail=t,this.len+=i),this},u.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),i=0;e;)e.fn(e.val,t,i),i+=e.len,e=e.next;return t},u._configure=function(e){n=e,u.create=h(),n._configure()}},{15:15}],17:[function(e,t,i){t.exports=o;var n=e(16);(o.prototype=Object.create(n.prototype)).constructor=o;var r=e(15);function o(){n.call(this)}function s(e,t,i){e.length<40?r.utf8.write(e,t,i):t.utf8Write?t.utf8Write(e,i):t.write(e,i)}o._configure=function(){o.alloc=r._Buffer_allocUnsafe,o.writeBytesBuffer=r.Buffer&&r.Buffer.prototype instanceof Uint8Array&&"set"===r.Buffer.prototype.set.name?function(e,t,i){t.set(e,i)}:function(e,t,i){if(e.copy)e.copy(t,i,0,e.length);else for(var n=0;n<e.length;)t[i++]=e[n++]}},o.prototype.bytes=function(e){r.isString(e)&&(e=r._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(o.writeBytesBuffer,t,e),this},o.prototype.string=function(e){var t=r.Buffer.byteLength(e);return this.uint32(t),t&&this._push(s,t,e),this},o._configure()},{15:15,16:16}]},cache={},entries=[8],protobuf=function e(t){var i=cache[t];return i||modules[t][0].call(i=cache[t]={exports:{}},e,i,i.exports),i.exports}(entries[0]),protobuf.util.global.protobuf=protobuf,__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(935017)],(__WEBPACK_AMD_DEFINE_RESULT__=function(e){return e&&e.isLong&&(protobuf.util.Long=e,protobuf.configure()),protobuf}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))===undefined||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__),module&&module.exports&&(module.exports=protobuf)}()},935017:function(e,t){var i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,i=function(){var e={};return function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function i(e,t,i){this.low=0|e,this.high=0|t,this.unsigned=!!i}function n(e){return!0===(e&&e.__isLong__)}function r(e){var t=Math.clz32(e&-e);return e?31-t:t}i.prototype.__isLong__,Object.defineProperty(i.prototype,"__isLong__",{value:!0}),i.isLong=n;var o={},s={};function a(e,t){var i,n,r;return t?(r=0<=(e>>>=0)&&e<256)&&(n=s[e])?n:(i=c(e,0,!0),r&&(s[e]=i),i):(r=-128<=(e|=0)&&e<128)&&(n=o[e])?n:(i=c(e,e<0?-1:0,!1),r&&(o[e]=i),i)}function l(e,t){if(isNaN(e))return t?_:m;if(t){if(e<0)return _;if(e>=g)return v}else{if(e<=-p)return E;if(e+1>=p)return B}return e<0?l(-e,t).neg():c(e%d|0,e/d|0,t)}function c(e,t,n){return new i(e,t,n)}i.fromInt=a,i.fromNumber=l,i.fromBits=c;var A=Math.pow;function u(e,t,i){if(0===e.length)throw Error("empty string");if("number"==typeof t?(i=t,t=!1):t=!!t,"NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return t?_:m;if((i=i||10)<2||36<i)throw RangeError("radix");var n;if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return u(e.substring(1),t,i).neg();for(var r=l(A(i,8)),o=m,s=0;s<e.length;s+=8){var a=Math.min(8,e.length-s),c=parseInt(e.substring(s,s+a),i);if(a<8){var h=l(A(i,a));o=o.mul(h).add(l(c))}else o=(o=o.mul(r)).add(l(c))}return o.unsigned=t,o}function h(e,t){return"number"==typeof e?l(e,t):"string"==typeof e?u(e,t):c(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}i.fromString=u,i.fromValue=h;var d=4294967296,g=d*d,p=g/2,f=a(1<<24),m=a(0);i.ZERO=m;var _=a(0,!0);i.UZERO=_;var y=a(1);i.ONE=y;var w=a(1,!0);i.UONE=w;var C=a(-1);i.NEG_ONE=C;var B=c(-1,2147483647,!1);i.MAX_VALUE=B;var v=c(-1,-1,!0);i.MAX_UNSIGNED_VALUE=v;var E=c(0,-2147483648,!1);i.MIN_VALUE=E;var b=i.prototype;b.toInt=function(){return this.unsigned?this.low>>>0:this.low},b.toNumber=function(){return this.unsigned?(this.high>>>0)*d+(this.low>>>0):this.high*d+(this.low>>>0)},b.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(E)){var t=l(e),i=this.div(t),n=i.mul(t).sub(this);return i.toString(e)+n.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var r=l(A(e,6),this.unsigned),o=this,s="";;){var a=o.div(r),c=(o.sub(a.mul(r)).toInt()>>>0).toString(e);if((o=a).isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}},b.getHighBits=function(){return this.high},b.getHighBitsUnsigned=function(){return this.high>>>0},b.getLowBits=function(){return this.low},b.getLowBitsUnsigned=function(){return this.low>>>0},b.getNumBitsAbs=function(){if(this.isNegative())return this.eq(E)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&!(e&1<<t);t--);return 0!=this.high?t+33:t+1},b.isSafeInteger=function(){var e=this.high>>21;return!e||!this.unsigned&&-1===e&&!(0===this.low&&-2097152===this.high)},b.isZero=function(){return 0===this.high&&0===this.low},b.eqz=b.isZero,b.isNegative=function(){return!this.unsigned&&this.high<0},b.isPositive=function(){return this.unsigned||this.high>=0},b.isOdd=function(){return!(1&~this.low)},b.isEven=function(){return!(1&this.low)},b.equals=function(e){return n(e)||(e=h(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},b.eq=b.equals,b.notEquals=function(e){return!this.eq(e)},b.neq=b.notEquals,b.ne=b.notEquals,b.lessThan=function(e){return this.comp(e)<0},b.lt=b.lessThan,b.lessThanOrEqual=function(e){return this.comp(e)<=0},b.lte=b.lessThanOrEqual,b.le=b.lessThanOrEqual,b.greaterThan=function(e){return this.comp(e)>0},b.gt=b.greaterThan,b.greaterThanOrEqual=function(e){return this.comp(e)>=0},b.gte=b.greaterThanOrEqual,b.ge=b.greaterThanOrEqual,b.compare=function(e){if(n(e)||(e=h(e)),this.eq(e))return 0;var t=this.isNegative(),i=e.isNegative();return t&&!i?-1:!t&&i?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},b.comp=b.compare,b.negate=function(){return!this.unsigned&&this.eq(E)?E:this.not().add(y)},b.neg=b.negate,b.add=function(e){n(e)||(e=h(e));var t=this.high>>>16,i=65535&this.high,r=this.low>>>16,o=65535&this.low,s=e.high>>>16,a=65535&e.high,l=e.low>>>16,A=0,u=0,d=0,g=0;return d+=(g+=o+(65535&e.low))>>>16,u+=(d+=r+l)>>>16,A+=(u+=i+a)>>>16,A+=t+s,c((d&=65535)<<16|(g&=65535),(A&=65535)<<16|(u&=65535),this.unsigned)},b.subtract=function(e){return n(e)||(e=h(e)),this.add(e.neg())},b.sub=b.subtract,b.multiply=function(e){if(this.isZero())return this;if(n(e)||(e=h(e)),t)return c(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return this.unsigned?_:m;if(this.eq(E))return e.isOdd()?E:m;if(e.eq(E))return this.isOdd()?E:m;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(f)&&e.lt(f))return l(this.toNumber()*e.toNumber(),this.unsigned);var i=this.high>>>16,r=65535&this.high,o=this.low>>>16,s=65535&this.low,a=e.high>>>16,A=65535&e.high,u=e.low>>>16,d=65535&e.low,g=0,p=0,y=0,w=0;return y+=(w+=s*d)>>>16,p+=(y+=o*d)>>>16,y&=65535,p+=(y+=s*u)>>>16,g+=(p+=r*d)>>>16,p&=65535,g+=(p+=o*u)>>>16,p&=65535,g+=(p+=s*A)>>>16,g+=i*d+r*u+o*A+s*a,c((y&=65535)<<16|(w&=65535),(g&=65535)<<16|(p&=65535),this.unsigned)},b.mul=b.multiply,b.divide=function(e){if(n(e)||(e=h(e)),e.isZero())throw Error("division by zero");var i,r,o;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?c((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?_:m;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return _;if(e.gt(this.shru(1)))return w;o=_}else{if(this.eq(E))return e.eq(y)||e.eq(C)?E:e.eq(E)?y:(i=this.shr(1).div(e).shl(1)).eq(m)?e.isNegative()?y:C:(r=this.sub(e.mul(i)),o=i.add(r.div(e)));if(e.eq(E))return this.unsigned?_:m;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=m}for(r=this;r.gte(e);){i=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(i)/Math.LN2),a=s<=48?1:A(2,s-48),u=l(i),d=u.mul(e);d.isNegative()||d.gt(r);)d=(u=l(i-=a,this.unsigned)).mul(e);u.isZero()&&(u=y),o=o.add(u),r=r.sub(d)}return o},b.div=b.divide,b.modulo=function(e){return n(e)||(e=h(e)),t?c((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},b.mod=b.modulo,b.rem=b.modulo,b.not=function(){return c(~this.low,~this.high,this.unsigned)},b.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},b.clz=b.countLeadingZeros,b.countTrailingZeros=function(){return this.low?r(this.low):r(this.high)+32},b.ctz=b.countTrailingZeros,b.and=function(e){return n(e)||(e=h(e)),c(this.low&e.low,this.high&e.high,this.unsigned)},b.or=function(e){return n(e)||(e=h(e)),c(this.low|e.low,this.high|e.high,this.unsigned)},b.xor=function(e){return n(e)||(e=h(e)),c(this.low^e.low,this.high^e.high,this.unsigned)},b.shiftLeft=function(e){return n(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):c(0,this.low<<e-32,this.unsigned)},b.shl=b.shiftLeft,b.shiftRight=function(e){return n(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):c(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},b.shr=b.shiftRight,b.shiftRightUnsigned=function(e){return n(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):c(32===e?this.high:this.high>>>e-32,0,this.unsigned)},b.shru=b.shiftRightUnsigned,b.shr_u=b.shiftRightUnsigned,b.rotateLeft=function(e){var t;return n(e)&&(e=e.toInt()),0==(e&=63)?this:32===e?c(this.high,this.low,this.unsigned):e<32?(t=32-e,c(this.low<<e|this.high>>>t,this.high<<e|this.low>>>t,this.unsigned)):(t=32-(e-=32),c(this.high<<e|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned))},b.rotl=b.rotateLeft,b.rotateRight=function(e){var t;return n(e)&&(e=e.toInt()),0==(e&=63)?this:32===e?c(this.high,this.low,this.unsigned):e<32?(t=32-e,c(this.high<<t|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned)):(t=32-(e-=32),c(this.low<<t|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned))},b.rotr=b.rotateRight,b.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},b.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},b.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},b.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},b.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},i.fromBytes=function(e,t,n){return n?i.fromBytesLE(e,t):i.fromBytesBE(e,t)},i.fromBytesLE=function(e,t){return new i(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},i.fromBytesBE=function(e,t){return new i(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)},"function"==typeof BigInt&&(i.fromBigInt=function(e,t){return c(Number(BigInt.asIntN(32,e)),Number(BigInt.asIntN(32,e>>BigInt(32))),t)},i.fromValue=function(e,t){return"bigint"==typeof e?i.fromBigInt(e,t):h(e,t)},b.toBigInt=function(){var e=BigInt(this.low>>>0);return BigInt(this.unsigned?this.high>>>0:this.high)<<BigInt(32)|e}),e.default=i}(e),function(e){return e.default||e}(e)}.apply(t,[]),void 0===i||(e.exports=i)},707568:(e,t,i)=>{"use strict";function n(e){this.proxy=e}i.d(t,{A:()=>r}),n.prototype.getURL=function(e){const t=-1===this.proxy.indexOf("?")?"?":"";return this.proxy+t+encodeURIComponent(e)};const r=n},335385:(e,t,i)=>{"use strict";i.d(t,{A:()=>g});var n=i(303578),r=i(41476),o=i(491446),s=i(605971),a=i(744603),l=i(517638);function c(){this._cache={}}c.prototype.fromColor=function(e,t){if(!(0,o.A)(e))throw new s.A("color is required");if(!(0,o.A)(t))throw new s.A("size is required");return d(void 0,void 0,e,t,this._cache)},c.prototype.fromUrl=function(e,t,i){if(!(0,o.A)(e))throw new s.A("url is required");if(!(0,o.A)(t))throw new s.A("color is required");if(!(0,o.A)(i))throw new s.A("size is required");return d(e,void 0,t,i,this._cache)},c.prototype.fromMakiIconId=function(e,t,i){if(!(0,o.A)(e))throw new s.A("id is required");if(!(0,o.A)(t))throw new s.A("color is required");if(!(0,o.A)(i))throw new s.A("size is required");return d((0,n.A)(`Assets/Textures/maki/${encodeURIComponent(e)}.png`),void 0,t,i,this._cache)},c.prototype.fromText=function(e,t,i){if(!(0,o.A)(e))throw new s.A("text is required");if(!(0,o.A)(t))throw new s.A("color is required");if(!(0,o.A)(i))throw new s.A("size is required");return d(void 0,e,t,i,this._cache)};const A=new r.A;function u(e,t,i){const n=i/2.5;let o=n,s=n;t.width>t.height?s=n*(t.height/t.width):t.width<t.height&&(o=n*(t.width/t.height));const a=Math.round((i-o)/2),l=Math.round(7/24*i-s/2);e.globalCompositeOperation="destination-out",e.drawImage(t,a-1,l,o,s),e.drawImage(t,a,l-1,o,s),e.drawImage(t,a+1,l,o,s),e.drawImage(t,a,l+1,o,s),e.globalCompositeOperation="destination-over",e.fillStyle=r.A.BLACK.toCssColorString(),e.fillRect(a-1,l-1,o+2,s+2),e.globalCompositeOperation="destination-out",e.drawImage(t,a,l,o,s),e.globalCompositeOperation="destination-over",e.fillStyle=r.A.WHITE.toCssColorString(),e.fillRect(a-1,l-2,o+2,s+2)}const h=new Array(4);function d(e,t,i,n,r){h[0]=e,h[1]=t,h[2]=i,h[3]=n;const s=JSON.stringify(h),c=r[s];if((0,o.A)(c))return c;const d=document.createElement("canvas");d.width=n,d.height=n;const g=d.getContext("2d");if(function(e,t,i){e.save(),e.scale(i/24,i/24),e.fillStyle=t.toCssColorString(),e.strokeStyle=t.brighten(.6,A).toCssColorString(),e.lineWidth=.846,e.beginPath(),e.moveTo(6.72,.422),e.lineTo(17.28,.422),e.bezierCurveTo(18.553,.422,19.577,1.758,19.577,3.415),e.lineTo(19.577,10.973),e.bezierCurveTo(19.577,12.63,18.553,13.966,17.282,13.966),e.lineTo(14.386,14.008),e.lineTo(11.826,23.578),e.lineTo(9.614,14.008),e.lineTo(6.719,13.965),e.bezierCurveTo(5.446,13.983,4.422,12.629,4.422,10.972),e.lineTo(4.422,3.416),e.bezierCurveTo(4.423,1.76,5.447,.423,6.718,.423),e.closePath(),e.fill(),e.stroke(),e.restore()}(g,i,n),(0,o.A)(e)){const t=a.A.createIfNeeded(e).fetchImage().then(function(e){return u(g,e,n),r[s]=d,d});return r[s]=t,t}if((0,o.A)(t)){const e=(0,l.A)(t,{font:`bold ${n}px sans-serif`});u(g,e,n)}return r[s]=d,d}const g=c},3858:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(484193),r=i(491446),o=i(605971);const s=function(e){if(!(0,r.A)(e))throw new o.A("uri is required.");const t=new n(e);t.normalize();let i=t.path();const s=i.lastIndexOf("/");return-1!==s&&(i=i.substr(s+1)),i}},668696:(e,t,i)=>{"use strict";i.d(t,{A:()=>ue});var n=i(215327),r=i(267980),o=i(41476),s=i(673874),a=i(672743),l=i(915325),c=i(491446),A=i(605971),u=i(955943),h=i(3858),d=i(335385),g=i(105330),p=i(744603),f=i(123245),m=i(63316),_=i(742558);function y(e){return e}function w(e,t){return"string"==typeof t&&(t=e.objects[t]),"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return C(e,t)})}:C(e,t)}function C(e,t){var i=t.id,n=t.bbox,r=null==t.properties?{}:t.properties,o=function(e,t){var i=function(e){if(null==e)return y;var t,i,n=e.scale[0],r=e.scale[1],o=e.translate[0],s=e.translate[1];return function(e,a){a||(t=i=0);var l=2,c=e.length,A=new Array(c);for(A[0]=(t+=e[0])*n+o,A[1]=(i+=e[1])*r+s;l<c;)A[l]=e[l],++l;return A}}(e.transform),n=e.arcs;function r(e,t){t.length&&t.pop();for(var r=n[e<0?~e:e],o=0,s=r.length;o<s;++o)t.push(i(r[o],o));e<0&&function(e,t){for(var i,n=e.length,r=n-t;r<--n;)i=e[r],e[r++]=e[n],e[n]=i}(t,s)}function o(e){return i(e)}function s(e){for(var t=[],i=0,n=e.length;i<n;++i)r(e[i],t);return t.length<2&&t.push(t[0]),t}function a(e){for(var t=s(e);t.length<4;)t.push(t[0]);return t}function l(e){return e.map(a)}return function e(t){var i,n=t.type;switch(n){case"GeometryCollection":return{type:n,geometries:t.geometries.map(e)};case"Point":i=o(t.coordinates);break;case"MultiPoint":i=t.coordinates.map(o);break;case"LineString":i=s(t.arcs);break;case"MultiLineString":i=t.arcs.map(s);break;case"Polygon":i=l(t.arcs);break;case"MultiPolygon":i=t.arcs.map(l);break;default:return null}return{type:n,coordinates:i}}(t)}(e,t);return null==i&&null==n?{type:"Feature",properties:r,geometry:o}:null==n?{type:"Feature",id:i,properties:r,geometry:o}:{type:"Feature",id:i,bbox:n,properties:r,geometry:o}}var B=i(470540),v=i(10082),E=i(312421),b=i(808938),I=i(969077),x=i(367725),S=i(899629),T=i(151075),M=i(193189),D=i(998261);function P(e){return r.A.fromDegrees(e[0],e[1],e[2])}const O={"urn:ogc:def:crs:OGC:1.3:CRS84":P,"EPSG:4326":P,"urn:ogc:def:crs:EPSG::4326":P},R={},k={};let F,L=48,Q=o.A.ROYALBLUE,N=o.A.YELLOW,G=2,V=o.A.fromBytes(255,255,0,100),U=!1;const Y={small:24,medium:48,large:64},K=["title","description","marker-size","marker-symbol","marker-color","stroke","stroke-opacity","stroke-width","fill","fill-opacity"];function H(e,t){let i="";for(const n in e)if(e.hasOwnProperty(n)){if(n===t||-1!==K.indexOf(n))continue;const r=e[n];(0,c.A)(r)&&(i+="object"==typeof r?`<tr><th>${n}</th><td>${H(r)}</td></tr>`:`<tr><th>${n}</th><td>${r}</td></tr>`)}return i.length>0&&(i=`<table class="cesium-infoBox-defaultTable"><tbody>${i}</tbody></table>`),i}function z(e,t){return new v.A(function(e,t,i){let n;return function(r,o){return(0,c.A)(n)||(n=e(t,i)),n}}(H,e,t),!0)}function q(e,t,i){let n=e.id;if((0,c.A)(n)&&"Feature"===e.type){let e=2,i=n;for(;(0,c.A)(t.getById(i));)i=`${n}_${e}`,e++;n=i}else n=(0,s.A)();const r=t.getOrCreateEntity(n),o=e.properties;if((0,c.A)(o)){let e;r.properties=o;const t=o.title;if((0,c.A)(t))r.name=t,e="title";else{let t=Number.MAX_VALUE;for(const i in o)if(o.hasOwnProperty(i)&&o[i]){const n=i.toLowerCase();if(t>1&&"title"===n){t=1,e=i;break}t>2&&"name"===n?(t=2,e=i):t>3&&/title/i.test(i)?(t=3,e=i):t>4&&/name/i.test(i)&&(t=4,e=i)}(0,c.A)(e)&&(r.name=o[e])}const n=o.description;null!==n&&(r.description=(0,c.A)(n)?new I.A(n):i(o,e))}return r}function W(e,t){const i=new Array(e.length);for(let n=0;n<e.length;n++)i[n]=t(e[n]);return i}const j={Feature:X,FeatureCollection:function(e,t,i,n,r){const o=t.features;for(let t=0,i=o.length;t<i;t++)X(e,o[t],0,n,r)},GeometryCollection:Z,LineString:ne,MultiLineString:re,MultiPoint:te,MultiPolygon:ae,Point:ee,Polygon:se,Topology:le},J={GeometryCollection:Z,LineString:ne,MultiLineString:re,MultiPoint:te,MultiPolygon:ae,Point:ee,Polygon:se,Topology:le};function X(e,t,i,n,r){if(null===t.geometry)return void q(t,e._entityCollection,r.describe);if(!(0,c.A)(t.geometry))throw new f.A("feature.geometry is required.");const o=t.geometry.type,s=J[o];if(!(0,c.A)(s))throw new f.A(`Unknown geometry type: ${o}`);s(e,t,t.geometry,n,r)}function Z(e,t,i,n,r){const o=i.geometries;for(let i=0,s=o.length;i<s;i++){const s=o[i],a=s.type,l=J[a];if(!(0,c.A)(l))throw new f.A(`Unknown geometry type: ${a}`);l(e,t,s,n,r)}}function $(e,t,i,n,r){let s=r.markerSymbol,a=r.markerColor,l=r.markerSize;const A=t.properties;if((0,c.A)(A)){const e=A["marker-color"];(0,c.A)(e)&&(a=o.A.fromCssColorString(e)),l=Y[A["marker-size"]]??l;const t=A["marker-symbol"];(0,c.A)(t)&&(s=t)}let u;u=(0,c.A)(s)?1===s.length?e._pinBuilder.fromText(s.toUpperCase(),a,l):e._pinBuilder.fromMakiIconId(s,a,l):e._pinBuilder.fromColor(a,l);const h=new B.A;h.verticalOrigin=new I.A(_.A.BOTTOM),2===n.length&&r.clampToGround&&(h.heightReference=m.Ay.CLAMP_TO_GROUND);const d=q(t,e._entityCollection,r.describe);d.billboard=h,d.position=new b.A(i(n));const g=Promise.resolve(u).then(function(e){h.image=new I.A(e)}).catch(function(){h.image=new I.A(e._pinBuilder.fromColor(a,l))});e._promises.push(g)}function ee(e,t,i,n,r){$(e,t,n,i.coordinates,r)}function te(e,t,i,n,r){const o=i.coordinates;for(let i=0;i<o.length;i++)$(e,t,n,o[i],r)}function ie(e,t,i,r,s){let a=s.strokeMaterialProperty,l=s.strokeWidthProperty;const A=t.properties;if((0,c.A)(A)){const e=A["stroke-width"];let t;(0,c.A)(e)&&(l=new I.A(e));const i=A.stroke;(0,c.A)(i)&&(t=o.A.fromCssColorString(i));const n=A["stroke-opacity"];(0,c.A)(n)&&1!==n&&((0,c.A)(t)||(t=a.color.getValue().clone()),t.alpha=n),(0,c.A)(t)&&(a=new E.A(t))}const u=q(t,e._entityCollection,s.describe),h=new D.A;u.polyline=h,h.clampToGround=s.clampToGround,h.material=a,h.width=l,h.positions=new I.A(W(r,i)),h.arcType=n.A.RHUMB}function ne(e,t,i,n,r){ie(e,t,n,i.coordinates,r)}function re(e,t,i,n,r){const o=i.coordinates;for(let i=0;i<o.length;i++)ie(e,t,n,o[i],r)}function oe(e,t,i,r,s){if(0===r.length||0===r[0].length)return;let a=s.strokeMaterialProperty.color,l=s.fillMaterialProperty,A=s.strokeWidthProperty;const u=t.properties;if((0,c.A)(u)){const e=u["stroke-width"];let t;(0,c.A)(e)&&(A=new I.A(e));const i=u.stroke;(0,c.A)(i)&&(t=o.A.fromCssColorString(i));let n,r=u["stroke-opacity"];(0,c.A)(r)&&1!==r&&((0,c.A)(t)||(t=a.getValue().clone()),t.alpha=r),(0,c.A)(t)&&(a=new I.A(t));const s=u.fill,h=l.color.getValue();(0,c.A)(s)&&(n=o.A.fromCssColorString(s),n.alpha=h.alpha),r=u["fill-opacity"],(0,c.A)(r)&&r!==h.alpha&&((0,c.A)(n)||(n=h.clone()),n.alpha=r),(0,c.A)(n)&&(l=new E.A(n))}const h=new M.A;h.outline=new I.A(!0),h.outlineColor=a,h.outlineWidth=A,h.material=l,h.arcType=n.A.RHUMB;const d=[];for(let e=1,t=r.length;e<t;e++)d.push(new g.A(W(r[e],i)));const p=r[0];h.hierarchy=new I.A(new g.A(W(p,i),d)),p[0].length>2?h.perPositionHeight=new I.A(!0):s.clampToGround||(h.height=0),q(t,e._entityCollection,s.describe).polygon=h}function se(e,t,i,n,r){oe(e,t,n,i.coordinates,r)}function ae(e,t,i,n,r){const o=i.coordinates;for(let i=0;i<o.length;i++)oe(e,t,n,o[i],r)}function le(e,t,i,n,r){for(const t in i.objects)if(i.objects.hasOwnProperty(t)){const o=w(i,i.objects[t]);(0,j[o.type])(e,o,o,n,r)}}function ce(e){this._name=e,this._changed=new u.A,this._error=new u.A,this._isLoading=!1,this._loading=new u.A,this._entityCollection=new T.A(this),this._promises=[],this._pinBuilder=new d.A,this._entityCluster=new S.A,this._credit=void 0,this._resourceCredits=[]}function Ae(e,t,i,n){if(!(0,c.A)(t))throw new A.A("data is required.");x.A.setLoading(e,!0);let r=(i=i??l.A.EMPTY_OBJECT).credit;"string"==typeof r&&(r=new a.A(r)),e._credit=r;let o=t,s=i.sourceUri;if("string"==typeof t||t instanceof p.A){o=(t=p.A.createIfNeeded(t)).fetchJson(),s=s??t.getUrlComponent();const i=e._resourceCredits,n=t.credits;if((0,c.A)(n)){const e=n.length;for(let t=0;t<e;t++)i.push(n[t])}}return i={describe:i.describe??z,markerSize:i.markerSize??L,markerSymbol:i.markerSymbol??F,markerColor:i.markerColor??Q,strokeWidthProperty:new I.A(i.strokeWidth??G),strokeMaterialProperty:new E.A(i.stroke??N),fillMaterialProperty:new E.A(i.fill??V),clampToGround:i.clampToGround??U},Promise.resolve(o).then(function(t){return function(e,t,i,n,r){let o;(0,c.A)(n)&&(o=(0,h.A)(n)),(0,c.A)(o)&&e._name!==o&&(e._name=o,e._changed.raiseEvent(e));const s=j[t.type];if(!(0,c.A)(s))throw new f.A(`Unsupported GeoJSON object type: ${t.type}`);const a=t.crs;let l=null!==a?P:null;if((0,c.A)(a)){if(!(0,c.A)(a.properties))throw new f.A("crs.properties is undefined.");const e=a.properties;if("name"===a.type){if(l=O[e.name],!(0,c.A)(l))throw new f.A(`Unknown crs name: ${e.name}`)}else if("link"===a.type){let t=R[e.href];if((0,c.A)(t)||(t=k[e.type]),!(0,c.A)(t))throw new f.A(`Unable to resolve crs link: ${JSON.stringify(e)}`);l=t(e)}else{if("EPSG"!==a.type)throw new f.A(`Unknown crs type: ${a.type}`);if(l=O[`EPSG:${e.code}`],!(0,c.A)(l))throw new f.A(`Unknown crs EPSG code: ${e.code}`)}}return Promise.resolve(l).then(function(n){return r&&e._entityCollection.removeAll(),null!==n&&s(e,t,t,n,i),Promise.all(e._promises).then(function(){return e._promises.length=0,x.A.setLoading(e,!1),e})})}(e,t,i,s,n)}).catch(function(t){throw x.A.setLoading(e,!1),e._error.raiseEvent(e,t),t})}ce.load=function(e,t){return(new ce).load(e,t)},Object.defineProperties(ce,{markerSize:{get:function(){return L},set:function(e){L=e}},markerSymbol:{get:function(){return F},set:function(e){F=e}},markerColor:{get:function(){return Q},set:function(e){Q=e}},stroke:{get:function(){return N},set:function(e){N=e}},strokeWidth:{get:function(){return G},set:function(e){G=e}},fill:{get:function(){return V},set:function(e){V=e}},clampToGround:{get:function(){return U},set:function(e){U=e}},crsNames:{get:function(){return O}},crsLinkHrefs:{get:function(){return R}},crsLinkTypes:{get:function(){return k}}}),Object.defineProperties(ce.prototype,{name:{get:function(){return this._name},set:function(e){this._name!==e&&(this._name=e,this._changed.raiseEvent(this))}},clock:{value:void 0,writable:!1},entities:{get:function(){return this._entityCollection}},isLoading:{get:function(){return this._isLoading}},changedEvent:{get:function(){return this._changed}},errorEvent:{get:function(){return this._error}},loadingEvent:{get:function(){return this._loading}},show:{get:function(){return this._entityCollection.show},set:function(e){this._entityCollection.show=e}},clustering:{get:function(){return this._entityCluster},set:function(e){if(!(0,c.A)(e))throw new A.A("value must be defined.");this._entityCluster=e}},credit:{get:function(){return this._credit}}}),ce.prototype.load=function(e,t){return Ae(this,e,t,!0)},ce.prototype.process=function(e,t){return Ae(this,e,t,!1)},ce.prototype.update=function(e){return!0};const ue=ce},424620:(e,t,i)=>{"use strict";i.d(t,{A:()=>g});var n=i(41476),r=i(915325),o=i(491446),s=i(955943),a=i(591978),l=i(819488),c=i(46257);const A=n.A.WHITE,u=n.A.TRANSPARENT;function h(e){e=e??r.A.EMPTY_OBJECT,this._definitionChanged=new s.A,this._color=void 0,this._colorSubscription=void 0,this._gapColor=void 0,this._gapColorSubscription=void 0,this._dashLength=void 0,this._dashLengthSubscription=void 0,this._dashPattern=void 0,this._dashPatternSubscription=void 0,this.color=e.color,this.gapColor=e.gapColor,this.dashLength=e.dashLength,this.dashPattern=e.dashPattern}Object.defineProperties(h.prototype,{isConstant:{get:function(){return c.A.isConstant(this._color)&&c.A.isConstant(this._gapColor)&&c.A.isConstant(this._dashLength)&&c.A.isConstant(this._dashPattern)}},definitionChanged:{get:function(){return this._definitionChanged}},color:(0,l.A)("color"),gapColor:(0,l.A)("gapColor"),dashLength:(0,l.A)("dashLength"),dashPattern:(0,l.A)("dashPattern")}),h.prototype.getType=function(e){return"PolylineDash"};const d=new a.A;h.prototype.getValue=function(e,t){return(0,o.A)(e)||(e=a.A.now(d)),(0,o.A)(t)||(t={}),t.color=c.A.getValueOrClonedDefault(this._color,e,A,t.color),t.gapColor=c.A.getValueOrClonedDefault(this._gapColor,e,u,t.gapColor),t.dashLength=c.A.getValueOrDefault(this._dashLength,e,16,t.dashLength),t.dashPattern=c.A.getValueOrDefault(this._dashPattern,e,255,t.dashPattern),t},h.prototype.equals=function(e){return this===e||e instanceof h&&c.A.equals(this._color,e._color)&&c.A.equals(this._gapColor,e._gapColor)&&c.A.equals(this._dashLength,e._dashLength)&&c.A.equals(this._dashPattern,e._dashPattern)};const g=h},629606:(e,t,i)=>{"use strict";i.d(t,{A:()=>g});var n=i(702247),r=i(376758),o=i(915325),s=i(491446),a=i(605971),l=i(744603),c=i(33138),A=i(470622);function u(e){this._style={},this._ready=!1,this._show=void 0,this._color=void 0,this._pointSize=void 0,this._pointOutlineColor=void 0,this._pointOutlineWidth=void 0,this._labelColor=void 0,this._labelOutlineColor=void 0,this._labelOutlineWidth=void 0,this._font=void 0,this._labelStyle=void 0,this._labelText=void 0,this._backgroundColor=void 0,this._backgroundPadding=void 0,this._backgroundEnabled=void 0,this._scaleByDistance=void 0,this._translucencyByDistance=void 0,this._distanceDisplayCondition=void 0,this._heightOffset=void 0,this._anchorLineEnabled=void 0,this._anchorLineColor=void 0,this._image=void 0,this._disableDepthTestDistance=void 0,this._horizontalOrigin=void 0,this._verticalOrigin=void 0,this._labelHorizontalOrigin=void 0,this._labelVerticalOrigin=void 0,this._meta=void 0,this._colorShaderFunction=void 0,this._showShaderFunction=void 0,this._pointSizeShaderFunction=void 0,this._colorShaderFunctionReady=!1,this._showShaderFunctionReady=!1,this._pointSizeShaderFunctionReady=!1,this._colorShaderTranslucent=!1,function(e,t){t=(0,r.A)(t,!0)??e._style,e._style=t,e.show=t.show,e.color=t.color,e.pointSize=t.pointSize,e.pointOutlineColor=t.pointOutlineColor,e.pointOutlineWidth=t.pointOutlineWidth,e.labelColor=t.labelColor,e.labelOutlineColor=t.labelOutlineColor,e.labelOutlineWidth=t.labelOutlineWidth,e.labelStyle=t.labelStyle,e.font=t.font,e.labelText=t.labelText,e.backgroundColor=t.backgroundColor,e.backgroundPadding=t.backgroundPadding,e.backgroundEnabled=t.backgroundEnabled,e.scaleByDistance=t.scaleByDistance,e.translucencyByDistance=t.translucencyByDistance,e.distanceDisplayCondition=t.distanceDisplayCondition,e.heightOffset=t.heightOffset,e.anchorLineEnabled=t.anchorLineEnabled,e.anchorLineColor=t.anchorLineColor,e.image=t.image,e.disableDepthTestDistance=t.disableDepthTestDistance,e.horizontalOrigin=t.horizontalOrigin,e.verticalOrigin=t.verticalOrigin,e.labelHorizontalOrigin=t.labelHorizontalOrigin,e.labelVerticalOrigin=t.labelVerticalOrigin;const i={};if((0,s.A)(t.meta)){const e=t.defines,n=t.meta??o.A.EMPTY_OBJECT;for(const t in n)n.hasOwnProperty(t)&&(i[t]=new A.A(n[t],e))}e._meta=i,e._ready=!0}(this,e)}function h(e,t){const i=(e._style??o.A.EMPTY_OBJECT).defines;if((0,s.A)(t))return"boolean"==typeof t||"number"==typeof t?new A.A(String(t)):"string"==typeof t?new A.A(t,i):(0,s.A)(t.conditions)?new c.A(t,i):t}function d(e){if((0,s.A)(e))return(0,s.A)(e.expression)?e.expression:(0,s.A)(e.conditionsExpression)?(0,r.A)(e.conditionsExpression,!0):e}Object.defineProperties(u.prototype,{style:{get:function(){return this._style}},show:{get:function(){return this._show},set:function(e){this._show=h(this,e),this._style.show=d(this._show),this._showShaderFunctionReady=!1}},color:{get:function(){return this._color},set:function(e){this._color=h(this,e),this._style.color=d(this._color),this._colorShaderFunctionReady=!1}},pointSize:{get:function(){return this._pointSize},set:function(e){this._pointSize=h(this,e),this._style.pointSize=d(this._pointSize),this._pointSizeShaderFunctionReady=!1}},pointOutlineColor:{get:function(){return this._pointOutlineColor},set:function(e){this._pointOutlineColor=h(this,e),this._style.pointOutlineColor=d(this._pointOutlineColor)}},pointOutlineWidth:{get:function(){return this._pointOutlineWidth},set:function(e){this._pointOutlineWidth=h(this,e),this._style.pointOutlineWidth=d(this._pointOutlineWidth)}},labelColor:{get:function(){return this._labelColor},set:function(e){this._labelColor=h(this,e),this._style.labelColor=d(this._labelColor)}},labelOutlineColor:{get:function(){return this._labelOutlineColor},set:function(e){this._labelOutlineColor=h(this,e),this._style.labelOutlineColor=d(this._labelOutlineColor)}},labelOutlineWidth:{get:function(){return this._labelOutlineWidth},set:function(e){this._labelOutlineWidth=h(this,e),this._style.labelOutlineWidth=d(this._labelOutlineWidth)}},font:{get:function(){return this._font},set:function(e){this._font=h(this,e),this._style.font=d(this._font)}},labelStyle:{get:function(){return this._labelStyle},set:function(e){this._labelStyle=h(this,e),this._style.labelStyle=d(this._labelStyle)}},labelText:{get:function(){return this._labelText},set:function(e){this._labelText=h(this,e),this._style.labelText=d(this._labelText)}},backgroundColor:{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=h(this,e),this._style.backgroundColor=d(this._backgroundColor)}},backgroundPadding:{get:function(){return this._backgroundPadding},set:function(e){this._backgroundPadding=h(this,e),this._style.backgroundPadding=d(this._backgroundPadding)}},backgroundEnabled:{get:function(){return this._backgroundEnabled},set:function(e){this._backgroundEnabled=h(this,e),this._style.backgroundEnabled=d(this._backgroundEnabled)}},scaleByDistance:{get:function(){return this._scaleByDistance},set:function(e){this._scaleByDistance=h(this,e),this._style.scaleByDistance=d(this._scaleByDistance)}},translucencyByDistance:{get:function(){return this._translucencyByDistance},set:function(e){this._translucencyByDistance=h(this,e),this._style.translucencyByDistance=d(this._translucencyByDistance)}},distanceDisplayCondition:{get:function(){return this._distanceDisplayCondition},set:function(e){this._distanceDisplayCondition=h(this,e),this._style.distanceDisplayCondition=d(this._distanceDisplayCondition)}},heightOffset:{get:function(){return this._heightOffset},set:function(e){this._heightOffset=h(this,e),this._style.heightOffset=d(this._heightOffset)}},anchorLineEnabled:{get:function(){return this._anchorLineEnabled},set:function(e){this._anchorLineEnabled=h(this,e),this._style.anchorLineEnabled=d(this._anchorLineEnabled)}},anchorLineColor:{get:function(){return this._anchorLineColor},set:function(e){this._anchorLineColor=h(this,e),this._style.anchorLineColor=d(this._anchorLineColor)}},image:{get:function(){return this._image},set:function(e){this._image=h(this,e),this._style.image=d(this._image)}},disableDepthTestDistance:{get:function(){return this._disableDepthTestDistance},set:function(e){this._disableDepthTestDistance=h(this,e),this._style.disableDepthTestDistance=d(this._disableDepthTestDistance)}},horizontalOrigin:{get:function(){return this._horizontalOrigin},set:function(e){this._horizontalOrigin=h(this,e),this._style.horizontalOrigin=d(this._horizontalOrigin)}},verticalOrigin:{get:function(){return this._verticalOrigin},set:function(e){this._verticalOrigin=h(this,e),this._style.verticalOrigin=d(this._verticalOrigin)}},labelHorizontalOrigin:{get:function(){return this._labelHorizontalOrigin},set:function(e){this._labelHorizontalOrigin=h(this,e),this._style.labelHorizontalOrigin=d(this._labelHorizontalOrigin)}},labelVerticalOrigin:{get:function(){return this._labelVerticalOrigin},set:function(e){this._labelVerticalOrigin=h(this,e),this._style.labelVerticalOrigin=d(this._labelVerticalOrigin)}},meta:{get:function(){return this._meta},set:function(e){this._meta=e}}}),u.fromUrl=function(e){if(!(0,s.A)(e))throw new a.A("url is required");return l.A.createIfNeeded(e).fetchJson(e).then(function(e){return new u(e)})},u.prototype.getColorShaderFunction=function(e,t,i){return this._colorShaderFunctionReady?(i.translucent=this._colorShaderTranslucent,this._colorShaderFunction):(this._colorShaderFunctionReady=!0,(0,s.A)(this.color)&&(0,s.A)(this.color.getShaderFunction)?this._colorShaderFunction=this.color.getShaderFunction(e,t,i,"vec4"):this._colorShaderFunction=void 0,this._colorShaderTranslucent=i.translucent,this._colorShaderFunction)},u.prototype.getShowShaderFunction=function(e,t,i){return this._showShaderFunctionReady||(this._showShaderFunctionReady=!0,(0,s.A)(this.show)&&(0,s.A)(this.show.getShaderFunction)?this._showShaderFunction=this.show.getShaderFunction(e,t,i,"bool"):this._showShaderFunction=void 0),this._showShaderFunction},u.prototype.getPointSizeShaderFunction=function(e,t,i){return this._pointSizeShaderFunctionReady||(this._pointSizeShaderFunctionReady=!0,(0,s.A)(this.pointSize)&&(0,s.A)(this.pointSize.getShaderFunction)?this._pointSizeShaderFunction=this.pointSize.getShaderFunction(e,t,i,"float"):this._pointSizeShaderFunction=void 0),this._pointSizeShaderFunction},u.prototype.getVariables=function(){let e=[];return(0,s.A)(this.color)&&(0,s.A)(this.color.getVariables)&&(0,n.A)(e,this.color.getVariables()),(0,s.A)(this.show)&&(0,s.A)(this.show.getVariables)&&(0,n.A)(e,this.show.getVariables()),(0,s.A)(this.pointSize)&&(0,s.A)(this.pointSize.getVariables)&&(0,n.A)(e,this.pointSize.getVariables()),e=e.filter(function(e,t,i){return i.indexOf(e)===t}),e};const g=u},33138:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var n=i(702247),r=i(376758),o=i(491446),s=i(470622);function a(e,t){this._conditionsExpression=(0,r.A)(e,!0),this._conditions=e.conditions,this._runtimeConditions=void 0,function(e,t){const i=[],n=e._conditions;if(!(0,o.A)(n))return;const r=n.length;for(let e=0;e<r;++e){const r=n[e],o=String(r[0]),a=String(r[1]);i.push(new l(new s.A(o,t),new s.A(a,t)))}e._runtimeConditions=i}(this,t)}function l(e,t){this.condition=e,this.expression=t}Object.defineProperties(a.prototype,{conditionsExpression:{get:function(){return this._conditionsExpression}}}),a.prototype.evaluate=function(e,t){const i=this._runtimeConditions;if(!(0,o.A)(i))return;const n=i.length;for(let r=0;r<n;++r){const n=i[r];if(n.condition.evaluate(e))return n.expression.evaluate(e,t)}},a.prototype.evaluateColor=function(e,t){const i=this._runtimeConditions;if(!(0,o.A)(i))return;const n=i.length;for(let r=0;r<n;++r){const n=i[r];if(n.condition.evaluate(e))return n.expression.evaluateColor(e,t)}},a.prototype.getShaderFunction=function(e,t,i,n){const r=this._runtimeConditions;if(!(0,o.A)(r)||0===r.length)return;let s="";const a=r.length;for(let e=0;e<a;++e){const n=r[e];s+=`    ${0===e?"if":"else if"} (${n.condition.getShaderExpression(t,i)})\n    {\n        return ${n.expression.getShaderExpression(t,i)};\n    }\n`}return s=`${n} ${e}\n{\n${s}    return ${n}(1.0);\n}\n`,s},a.prototype.getVariables=function(){let e=[];const t=this._runtimeConditions;if(!(0,o.A)(t)||0===t.length)return e;const i=t.length;for(let r=0;r<i;++r){const i=t[r];(0,n.A)(e,i.condition.getVariables()),(0,n.A)(e,i.expression.getVariables())}return e=e.filter(function(e,t,i){return i.indexOf(e)===t}),e};const c=a},952392:(e,t,i)=>{"use strict";function n(e){}i.d(t,{A:()=>r}),n.prototype.isReady=function(){return!0},n.prototype.shouldDiscardImage=function(e){return!1};const r=n},501144:(e,t,i)=>{"use strict";i.r(t),i.d(t,{AlphaMode:()=>jw.A,AlphaPipelineStage:()=>_P.A,AnchorPointDirect:()=>vF.A,AnchorPointIndirect:()=>EF.A,Animation:()=>YF.A,AnimationViewModel:()=>KF.A,Appearance:()=>Jw.A,ApproximateTerrainHeights:()=>ug.A,ArcGISTiledElevationTerrainProvider:()=>xg,ArcGisBaseMapType:()=>Xw.A,ArcGisMapServerImageryProvider:()=>Zw.A,ArcGisMapService:()=>$w.A,ArcType:()=>ee.A,ArticulationStageType:()=>Sg.A,AssociativeArray:()=>_s.A,Atmosphere:()=>eC.A,AtmospherePipelineStage:()=>yP.A,AttributeCompression:()=>Tg.A,AttributeType:()=>tC.A,AutoExposure:()=>iC.A,AutomaticUniforms:()=>pd.A,Axis:()=>nC.A,AxisAlignedBoundingBox:()=>Mg.A,Azure2DImageryProvider:()=>rC.A,B3dmLoader:()=>wP.A,B3dmParser:()=>oC.A,BaseLayerPicker:()=>HF.A,BaseLayerPickerViewModel:()=>zF.A,BatchTable:()=>sC.A,BatchTableHierarchy:()=>aC.A,BatchTexture:()=>lC.A,BatchTexturePipelineStage:()=>CP.A,Billboard:()=>cC.A,BillboardCollection:()=>AC.A,BillboardGraphics:()=>n.A,BillboardLoadState:()=>uC.A,BillboardTexture:()=>hC.A,BillboardVisualizer:()=>r.A,BingMapsGeocoderService:()=>Og,BingMapsImageryProvider:()=>dC.A,BingMapsStyle:()=>gC.A,BlendEquation:()=>pC.A,BlendFunction:()=>fC.A,BlendOption:()=>mC.A,BlendingState:()=>_C.A,BoundingRectangle:()=>te.A,BoundingSphere:()=>zA.A,BoundingSphereState:()=>o.A,BoundingVolumeSemantics:()=>yC.A,BoxEmitter:()=>vC,BoxGeometry:()=>Rg.A,BoxGeometryUpdater:()=>s.A,BoxGraphics:()=>a.A,BoxOutlineGeometry:()=>kg.A,BrdfLutGenerator:()=>EC.A,Buffer:()=>fd.A,BufferLoader:()=>bC.A,BufferUsage:()=>md.A,CPUStylingPipelineStage:()=>BP.A,CallbackPositionProperty:()=>l.A,CallbackProperty:()=>c.A,Camera:()=>IC.A,CameraEventAggregator:()=>xC.A,CameraEventType:()=>SC.A,CameraFlightPath:()=>TC.A,Cartesian2:()=>h.A,Cartesian3:()=>ie.A,Cartesian4:()=>Fg.A,CartesianRectangle:()=>vP.A,Cartographic:()=>ne.A,CartographicGeocoderService:()=>Qg,CatmullRomSpline:()=>Wg,Cesium3DContentGroup:()=>MC.A,Cesium3DTile:()=>DC.A,Cesium3DTileBatchTable:()=>PC.A,Cesium3DTileColorBlendMode:()=>OC.A,Cesium3DTileContent:()=>kC,Cesium3DTileContentFactory:()=>FC.A,Cesium3DTileContentState:()=>LC.A,Cesium3DTileContentType:()=>QC.A,Cesium3DTileFeature:()=>NC.A,Cesium3DTileFeatureTable:()=>GC.A,Cesium3DTileOptimizationHint:()=>VC.A,Cesium3DTileOptimizations:()=>UC.A,Cesium3DTilePass:()=>YC.A,Cesium3DTilePassState:()=>KC.A,Cesium3DTilePointFeature:()=>HC.A,Cesium3DTileRefine:()=>zC.A,Cesium3DTileStyle:()=>qC.A,Cesium3DTileStyleEngine:()=>WC.A,Cesium3DTilesInspector:()=>AL,Cesium3DTilesInspectorViewModel:()=>lL,Cesium3DTilesVoxelProvider:()=>gB,Cesium3DTileset:()=>pB.A,Cesium3DTilesetBaseTraversal:()=>fB.A,Cesium3DTilesetCache:()=>mB.A,Cesium3DTilesetGraphics:()=>A.A,Cesium3DTilesetHeatmap:()=>_B.A,Cesium3DTilesetMetadata:()=>jC.A,Cesium3DTilesetMostDetailedTraversal:()=>yB.A,Cesium3DTilesetSkipTraversal:()=>wB.A,Cesium3DTilesetStatistics:()=>CB.A,Cesium3DTilesetTraversal:()=>BB.A,Cesium3DTilesetVisualizer:()=>u.A,CesiumInspector:()=>mL,CesiumInspectorViewModel:()=>pL,CesiumTerrainProvider:()=>jg.A,CesiumWidget:()=>Ww.A,Check:()=>xe.A,CheckerboardMaterialProperty:()=>b,CircleEmitter:()=>EB,CircleGeometry:()=>tp,CircleOutlineGeometry:()=>sp,ClassificationModelDrawCommand:()=>EP.A,ClassificationPipelineStage:()=>bP.A,ClassificationPrimitive:()=>bB.A,ClassificationType:()=>Pe.A,ClearCommand:()=>_d.A,ClippingPlane:()=>IB.A,ClippingPlaneCollection:()=>xB.A,ClippingPolygon:()=>SB.A,ClippingPolygonCollection:()=>TB.A,Clock:()=>Ve.A,ClockRange:()=>re.A,ClockStep:()=>oe.A,ClockViewModel:()=>FF.A,CloudCollection:()=>mv,CloudType:()=>DB,Color:()=>d.A,ColorBlendMode:()=>Oe.A,ColorGeometryInstanceAttribute:()=>ap.A,ColorMaterialProperty:()=>I.A,Command:()=>LF,ComponentDatatype:()=>lp.A,Composite3DTileContent:()=>_v.A,CompositeEntityCollection:()=>V,CompositeMaterialProperty:()=>H,CompositePositionProperty:()=>z.A,CompositeProperty:()=>U.A,CompressedTextureBuffer:()=>cp.A,ComputeCommand:()=>yd.A,ComputeEngine:()=>wd.A,ConditionsExpression:()=>yv.A,ConeEmitter:()=>Bv,ConstantPositionProperty:()=>q.A,ConstantProperty:()=>W.A,ConstantSpline:()=>Ap.A,ContentMetadata:()=>vv.A,Context:()=>Cd.A,ContextLimits:()=>Bd.A,CoplanarPolygonGeometry:()=>up.A,CoplanarPolygonGeometryLibrary:()=>hp.A,CoplanarPolygonOutlineGeometry:()=>dp.A,CornerType:()=>se.A,CorrelationGroup:()=>bF.A,CorridorGeometry:()=>gp.A,CorridorGeometryLibrary:()=>pp.A,CorridorGeometryUpdater:()=>j.A,CorridorGraphics:()=>J.A,CorridorOutlineGeometry:()=>fp.A,Credit:()=>ae.A,CreditDisplay:()=>Ev.A,CubeMap:()=>vd.A,CubeMapFace:()=>Ed.A,CubicRealPolynomial:()=>mp.A,CullFace:()=>bv.A,CullingVolume:()=>_p.A,CumulusCloud:()=>VB,CustomDataSource:()=>X.A,CustomHeightmapTerrainProvider:()=>wp,CustomShader:()=>IP.A,CustomShaderMode:()=>xP.A,CustomShaderPipelineStage:()=>SP.A,CustomShaderTranslucencyMode:()=>TP.A,CylinderGeometry:()=>Cp.A,CylinderGeometryLibrary:()=>Bp.A,CylinderGeometryUpdater:()=>Z.A,CylinderGraphics:()=>$.A,CylinderOutlineGeometry:()=>vp.A,CzmlDataSource:()=>Zi,DataSource:()=>Ge.A,DataSourceClock:()=>Ke,DataSourceCollection:()=>$i.A,DataSourceDisplay:()=>en.A,DebugAppearance:()=>xv,DebugCameraPrimitive:()=>Sv.A,DebugInspector:()=>Tv.A,DebugModelMatrixPrimitive:()=>Ov,DefaultProxy:()=>Ep.A,DepthFunction:()=>Rv.A,DepthPlane:()=>kv.A,DequantizationPipelineStage:()=>MP.A,DerivedCommand:()=>Fv.A,DeveloperError:()=>S.A,DeviceOrientationCameraController:()=>Lv.A,DirectionalLight:()=>Qv.A,DiscardEmptyTileImagePolicy:()=>Nv.A,DiscardMissingTileImagePolicy:()=>Gv.A,DistanceDisplayCondition:()=>le.A,DistanceDisplayConditionGeometryInstanceAttribute:()=>bp.A,DoubleEndedPriorityQueue:()=>Ip.A,DoublyLinkedList:()=>xp.A,DracoLoader:()=>Vv.A,DrawCommand:()=>bd.A,DynamicAtmosphereLightingType:()=>Uv.A,DynamicEnvironmentMapManager:()=>Yv.A,DynamicGeometryBatch:()=>tn.A,DynamicGeometryUpdater:()=>nn.A,EarthOrientationParameters:()=>Sp.A,EarthOrientationParametersSample:()=>Tp.A,EasingFunction:()=>WA.A,EllipseGeometry:()=>Jg.A,EllipseGeometryLibrary:()=>Mp.A,EllipseGeometryUpdater:()=>rn.A,EllipseGraphics:()=>He.A,EllipseOutlineGeometry:()=>ip.A,Ellipsoid:()=>ce.A,EllipsoidGeodesic:()=>Dp.A,EllipsoidGeometry:()=>Pp.A,EllipsoidGeometryUpdater:()=>on.A,EllipsoidGraphics:()=>ze.A,EllipsoidOutlineGeometry:()=>Op.A,EllipsoidPrimitive:()=>Kv.A,EllipsoidRhumbLine:()=>Rp.A,EllipsoidSurfaceAppearance:()=>jv,EllipsoidTangentPlane:()=>kp.A,EllipsoidTerrainProvider:()=>Fp.A,EllipsoidalOccluder:()=>Lp.A,Empty3DTileContent:()=>Jv.A,EncodedCartesian3:()=>Qp.A,Entity:()=>M.A,EntityCluster:()=>qe.A,EntityCollection:()=>D.A,EntityView:()=>sn.A,Event:()=>f.A,EventHelper:()=>vt.A,Expression:()=>Xv.A,ExpressionNodeType:()=>Zv.A,ExtrapolationType:()=>Ae.A,FeatureDetection:()=>Np.A,FeatureIdPipelineStage:()=>DP.A,Fog:()=>$v.A,ForEach:()=>WD.A,FrameRateMonitor:()=>tE,FrameState:()=>iE.A,Framebuffer:()=>Id.A,FramebufferManager:()=>xd.A,Frozen:()=>g.A,FrustumCommands:()=>nE.A,FrustumGeometry:()=>Gp.A,FrustumOutlineGeometry:()=>Vp.A,Fullscreen:()=>Up.A,FullscreenButton:()=>_L.A,FullscreenButtonViewModel:()=>yL.A,GaussianSplat3DTileContent:()=>rE.A,GaussianSplatPrimitive:()=>oE.A,GaussianSplatRenderResources:()=>sE.A,GaussianSplatSorter:()=>aE.A,GaussianSplatTextureGenerator:()=>lE.A,GeoJsonDataSource:()=>an.A,GeoJsonLoader:()=>PP.A,GeocodeType:()=>Yp.A,Geocoder:()=>wL.A,GeocoderService:()=>Kp.A,GeocoderViewModel:()=>CL.A,GeographicProjection:()=>Hp.A,GeographicTilingScheme:()=>hg.A,Geometry:()=>zp.A,Geometry3DTileContent:()=>cE.A,GeometryAttribute:()=>qp.A,GeometryAttributes:()=>Wp.A,GeometryFactory:()=>Jp,GeometryInstance:()=>Xp.A,GeometryInstanceAttribute:()=>Zp.A,GeometryOffsetAttribute:()=>$p.A,GeometryPipeline:()=>ef.A,GeometryPipelineStage:()=>OP.A,GeometryType:()=>tf.A,GeometryUpdater:()=>ln.A,GeometryUpdaterSet:()=>cn.A,GeometryVisualizer:()=>An.A,GetFeatureInfoFormat:()=>AE.A,Globe:()=>uE.A,GlobeDepth:()=>hE.A,GlobeSurfaceShaderSet:()=>dE.A,GlobeSurfaceTile:()=>gE.A,GlobeSurfaceTileProvider:()=>pE.A,GlobeTranslucency:()=>fE.A,GlobeTranslucencyFramebuffer:()=>mE.A,GlobeTranslucencyState:()=>_E.A,GltfBufferViewLoader:()=>yE.A,GltfDracoLoader:()=>wE.A,GltfGpmLoader:()=>IF.A,GltfGpmLocal:()=>xF.A,GltfImageLoader:()=>CE.A,GltfIndexBufferLoader:()=>BE.A,GltfJsonLoader:()=>vE.A,GltfLoader:()=>EE.A,GltfLoaderUtil:()=>bE.A,GltfMeshPrimitiveGpmLoader:()=>SF.A,GltfSpzLoader:()=>IE.A,GltfStructuralMetadataLoader:()=>xE.A,GltfTextureLoader:()=>SE.A,GltfVertexBufferLoader:()=>TE.A,Google2DImageryProvider:()=>ME.A,GoogleEarthEnterpriseImageryProvider:()=>OE,GoogleEarthEnterpriseMapsProvider:()=>RE.A,GoogleEarthEnterpriseMetadata:()=>_f,GoogleEarthEnterpriseTerrainData:()=>Uf,GoogleEarthEnterpriseTerrainProvider:()=>Wf,GoogleEarthEnterpriseTileInformation:()=>lf,GoogleGeocoderService:()=>Xf,GoogleMaps:()=>Zf.A,GpxDataSource:()=>ps,GregorianDate:()=>$f.A,GridImageryProvider:()=>NE,GridMaterialProperty:()=>et,GroundGeometryUpdater:()=>fs.A,GroundPolylineGeometry:()=>em.A,GroundPolylinePrimitive:()=>GE.A,GroundPrimitive:()=>VE.A,GroupMetadata:()=>UE.A,HeadingPitchRange:()=>Es.A,HeadingPitchRoll:()=>bs.A,Heap:()=>tm.A,HeightReference:()=>Re.Ay,HeightmapEncoding:()=>dg.A,HeightmapTerrainData:()=>gg.A,HeightmapTessellator:()=>im.A,HermitePolynomialApproximation:()=>fe,HermiteSpline:()=>Ng.A,HilbertOrder:()=>nm.A,HomeButton:()=>BL.A,HomeButtonViewModel:()=>vL.A,HorizontalOrigin:()=>ke.A,I3SBuildingSceneLayerExplorer:()=>DL,I3SBuildingSceneLayerExplorerViewModel:()=>ML,I3SDataProvider:()=>Qb,I3SDecoder:()=>KE,I3SFeature:()=>zE,I3SField:()=>JE,I3SGeometry:()=>pb,I3SLayer:()=>Tb,I3SNode:()=>Bb,I3SStatistics:()=>Db,I3SSublayer:()=>Ob,I3SSymbology:()=>xb,I3dmLoader:()=>RP.A,I3dmParser:()=>Nb.A,ITwinData:()=>Gb,ITwinPlatform:()=>om,Iau2000Orientation:()=>sm.A,Iau2006XysData:()=>am.A,Iau2006XysSample:()=>lm.A,IauOrientationAxes:()=>cm.A,IauOrientationParameters:()=>Am.A,ImageBasedLighting:()=>Vb.A,ImageBasedLightingPipelineStage:()=>kP.A,ImageMaterialProperty:()=>tt.A,Imagery:()=>Ub.A,ImageryConfiguration:()=>FP.A,ImageryCoverage:()=>LP.A,ImageryFlags:()=>QP.A,ImageryInput:()=>NP.A,ImageryLayer:()=>Yb.A,ImageryLayerCollection:()=>Kb.A,ImageryLayerFeatureInfo:()=>Hb.A,ImageryPipelineStage:()=>GP.A,ImageryProvider:()=>zb.A,ImageryState:()=>qb.A,Implicit3DTileContent:()=>Wb.A,ImplicitAvailabilityBitstream:()=>jb.A,ImplicitMetadataView:()=>Jb.A,ImplicitSubdivisionScheme:()=>Xb.A,ImplicitSubtree:()=>XC.A,ImplicitSubtreeCache:()=>eB,ImplicitSubtreeMetadata:()=>Zb.A,ImplicitTileCoordinates:()=>tB.A,ImplicitTileset:()=>iB.A,IndexDatatype:()=>yf.A,InfoBox:()=>PL.A,InfoBoxViewModel:()=>OL.A,InspectorShared:()=>QF,InstanceAttributeSemantic:()=>$b.A,InstancingPipelineStage:()=>VP.A,InterpolationAlgorithm:()=>hm,InterpolationType:()=>dm.A,Intersect:()=>gm.A,IntersectionTests:()=>pm.A,Intersections2D:()=>wf.A,Interval:()=>fm.A,InvertClassification:()=>eI.A,Ion:()=>mm.A,IonGeocodeProviderType:()=>_m.A,IonGeocoderService:()=>ym.A,IonImageryProvider:()=>tI.A,IonResource:()=>wm.A,IonWorldImageryStyle:()=>iI.A,Iso8601:()=>me.A,JobScheduler:()=>nI.A,JobType:()=>rI.A,JsonMetadataTable:()=>oI.A,JulianDate:()=>m.A,KTX2Transcoder:()=>Cm.A,KeyboardEventModifier:()=>Bm.A,KeyframeNode:()=>sI.A,KmlCamera:()=>ms,KmlDataSource:()=>ph,KmlLookAt:()=>GA,KmlTour:()=>HA,KmlTourFlyTo:()=>JA,KmlTourWait:()=>ZA,Label:()=>aI.A,LabelCollection:()=>lI.A,LabelGraphics:()=>it.A,LabelStyle:()=>Fe.A,LabelVisualizer:()=>fh.A,LagrangePolynomialApproximation:()=>_e,LeapSecond:()=>vm.A,Light:()=>AI,LightingModel:()=>UP.A,LightingPipelineStage:()=>YP.A,LinearApproximation:()=>ye.A,LinearSpline:()=>Em.A,ManagedArray:()=>bm.A,MapMode2D:()=>uI.A,MapProjection:()=>xm,MapboxImageryProvider:()=>hI.A,MapboxStyleImageryProvider:()=>mI,MappedPositions:()=>KP.A,Material:()=>qv.A,MaterialAppearance:()=>_I.A,MaterialPipelineStage:()=>HP.A,MaterialProperty:()=>mh.A,Math:()=>T.A,Matrix2:()=>Sm.A,Matrix3:()=>qt.A,Matrix4:()=>Gg.A,Megatexture:()=>yI.A,MeshPrimitiveGpmLocal:()=>TF.A,MetadataClass:()=>wI.A,MetadataClassProperty:()=>CI.A,MetadataComponentType:()=>BI.A,MetadataEntity:()=>vI.A,MetadataEnum:()=>EI.A,MetadataEnumValue:()=>bI.A,MetadataPicking:()=>II.A,MetadataPickingPipelineStage:()=>zP.A,MetadataPipelineStage:()=>qP.A,MetadataSchema:()=>xI.A,MetadataSchemaLoader:()=>SI.A,MetadataSemantic:()=>nB.A,MetadataTable:()=>TI.A,MetadataTableProperty:()=>MI.A,MetadataType:()=>rB.A,MipmapHint:()=>Sd.A,Model:()=>WP.A,Model3DTileContent:()=>jP.A,ModelAlphaOptions:()=>JP.A,ModelAnimation:()=>XP.A,ModelAnimationChannel:()=>ZP.A,ModelAnimationCollection:()=>$P.A,ModelAnimationLoop:()=>DI.A,ModelAnimationState:()=>PI.A,ModelArticulation:()=>eO.A,ModelArticulationStage:()=>tO.A,ModelClippingPlanesPipelineStage:()=>iO.A,ModelClippingPolygonsPipelineStage:()=>nO.A,ModelColorPipelineStage:()=>rO.A,ModelComponents:()=>OI.A,ModelDrawCommand:()=>oO.A,ModelDrawCommands:()=>sO.A,ModelFeature:()=>aO.A,ModelFeatureTable:()=>lO.A,ModelGraphics:()=>nt.A,ModelImagery:()=>cO.A,ModelImageryMapping:()=>AO.A,ModelLightingOptions:()=>uO.A,ModelMatrixUpdateStage:()=>hO.A,ModelNode:()=>dO.A,ModelPrimitiveImagery:()=>gO.A,ModelReader:()=>pO.A,ModelRenderResources:()=>fO.A,ModelRuntimeNode:()=>mO.A,ModelRuntimePrimitive:()=>_O.A,ModelSceneGraph:()=>yO.A,ModelSilhouettePipelineStage:()=>wO.A,ModelSkin:()=>CO.A,ModelSplitterPipelineStage:()=>BO.A,ModelStatistics:()=>vO.A,ModelType:()=>EO.A,ModelUtility:()=>bO.A,ModelVisualizer:()=>_h.A,Moon:()=>RI.A,MorphTargetsPipelineStage:()=>IO.A,MorphWeightSpline:()=>Mm,MortonOrder:()=>Dm.A,Multiple3DTileContent:()=>kI.A,MultisampleFramebuffer:()=>Td.A,NavigationHelpButton:()=>RL.A,NavigationHelpButtonViewModel:()=>kL.A,NearFarScalar:()=>we.A,NeverTileDiscardPolicy:()=>FI.A,NodeRenderResources:()=>xO.A,NodeStatisticsPipelineStage:()=>SO.A,NodeTransformationProperty:()=>rt.A,OIT:()=>LI.A,Occluder:()=>Pm.A,OffsetGeometryInstanceAttribute:()=>Om.A,OpenCageGeocoderService:()=>km,OpenStreetMapImageryProvider:()=>QI.A,OrderedGroundPrimitiveCollection:()=>NI.A,OrientedBoundingBox:()=>Cf.A,OrthographicFrustum:()=>Fm.A,OrthographicOffCenterFrustum:()=>Lm.A,Packable:()=>Qm,PackableForInterpolation:()=>Nm,Particle:()=>YI,ParticleBurst:()=>HI,ParticleEmitter:()=>qI,ParticleSystem:()=>ix,Pass:()=>Md.A,PassState:()=>Dd.A,PathGraphics:()=>ot.A,PathVisualizer:()=>yh.A,PeliasGeocoderService:()=>Gm.A,PerInstanceColorAppearance:()=>nx.A,PerformanceDisplay:()=>rx.A,PerformanceWatchdog:()=>NL,PerformanceWatchdogViewModel:()=>LL,PerspectiveFrustum:()=>Vm.A,PerspectiveOffCenterFrustum:()=>Um.A,PickDepth:()=>ox.A,PickDepthFramebuffer:()=>sx.A,PickFramebuffer:()=>ax.A,PickedMetadataInfo:()=>lx.A,Picking:()=>cx.A,PickingPipelineStage:()=>TO.A,PinBuilder:()=>un.A,PixelDatatype:()=>Pd.A,PixelFormat:()=>qd.A,Plane:()=>Ym.A,PlaneGeometry:()=>Km.A,PlaneGeometryUpdater:()=>wh.A,PlaneGraphics:()=>Ch.A,PlaneOutlineGeometry:()=>Hm.A,PntsLoader:()=>MO.A,PntsParser:()=>Ax.A,PointCloud:()=>ux.A,PointCloudEyeDomeLighting:()=>hx.A,PointCloudShading:()=>dx.A,PointCloudStylingPipelineStage:()=>DO.A,PointGraphics:()=>st.A,PointPrimitive:()=>gx.A,PointPrimitiveCollection:()=>px.A,PointVisualizer:()=>Bh.A,PolygonGeometry:()=>zm.A,PolygonGeometryLibrary:()=>qm.A,PolygonGeometryUpdater:()=>vh.A,PolygonGraphics:()=>at.A,PolygonHierarchy:()=>Ce.A,PolygonOutlineGeometry:()=>Wm.A,PolygonPipeline:()=>jm.A,Polyline:()=>fx.A,PolylineArrowMaterialProperty:()=>At,PolylineCollection:()=>mx.A,PolylineColorAppearance:()=>Mv.A,PolylineDashMaterialProperty:()=>ut.A,PolylineGeometry:()=>Jm.A,PolylineGeometryUpdater:()=>Eh.A,PolylineGlowMaterialProperty:()=>pt,PolylineGraphics:()=>ft.A,PolylineMaterialAppearance:()=>_x.A,PolylineOutlineMaterialProperty:()=>Ct,PolylinePipeline:()=>Xm.A,PolylineVisualizer:()=>bh.A,PolylineVolumeGeometry:()=>Zm.A,PolylineVolumeGeometryLibrary:()=>$m.A,PolylineVolumeGeometryUpdater:()=>Ih.A,PolylineVolumeGraphics:()=>Bt.A,PolylineVolumeOutlineGeometry:()=>e_.A,PositionProperty:()=>xh.A,PositionPropertyArray:()=>It,PostProcessStage:()=>yx.A,PostProcessStageCollection:()=>wx.A,PostProcessStageComposite:()=>Cx.A,PostProcessStageLibrary:()=>Bx.A,PostProcessStageSampleMode:()=>vx.A,PostProcessStageTextureCache:()=>Ex.A,PpeMetadata:()=>MF.A,PpeSource:()=>DF,PpeTexture:()=>PF.A,Primitive:()=>Dv.A,PrimitiveCollection:()=>bx.A,PrimitiveLoadPlan:()=>Ix.A,PrimitiveOutlineGenerator:()=>PO.A,PrimitiveOutlinePipelineStage:()=>OO.A,PrimitivePipeline:()=>xx.A,PrimitiveRenderResources:()=>RO.A,PrimitiveState:()=>Sx.A,PrimitiveStatisticsPipelineStage:()=>kO.A,PrimitiveType:()=>t_.A,ProjectionPicker:()=>GL.A,ProjectionPickerViewModel:()=>VL.A,Property:()=>y.A,PropertyArray:()=>Tt,PropertyAttribute:()=>Tx.A,PropertyAttributeProperty:()=>Mx.A,PropertyBag:()=>Mt.A,PropertyTable:()=>Dx.A,PropertyTexture:()=>Px.A,PropertyTextureProperty:()=>Ox.A,ProviderViewModel:()=>qF.A,Proxy:()=>n_,QuadraticRealPolynomial:()=>r_.A,QuadtreeOccluders:()=>Rx.A,QuadtreePrimitive:()=>kx.A,QuadtreeTile:()=>Fx.A,QuadtreeTileLoadState:()=>Lx.A,QuadtreeTileProvider:()=>Nx,QuantizedMeshTerrainData:()=>Bf.A,QuarticRealPolynomial:()=>o_.A,Quaternion:()=>Be.A,QuaternionSpline:()=>s_.A,Queue:()=>a_.A,Ray:()=>l_.A,Rectangle:()=>ve.A,RectangleCollisionChecker:()=>c_.A,RectangleGeometry:()=>A_.A,RectangleGeometryLibrary:()=>u_.A,RectangleGeometryUpdater:()=>Sh.A,RectangleGraphics:()=>Dt.A,RectangleOutlineGeometry:()=>h_.A,ReferenceFrame:()=>Ee.A,ReferenceProperty:()=>Pt.A,RenderState:()=>Od.A,Renderbuffer:()=>Rd.A,RenderbufferFormat:()=>kd.A,Request:()=>pg.A,RequestErrorEvent:()=>d_.A,RequestScheduler:()=>g_.A,RequestState:()=>fg.A,RequestType:()=>mg.A,Resource:()=>be.A,ResourceCache:()=>sB.A,ResourceCacheKey:()=>Gx.A,ResourceCacheStatistics:()=>Vx.A,ResourceLoader:()=>Ux.A,ResourceLoaderState:()=>Yx.A,Rotation:()=>Ot,RuntimeError:()=>Ie.A,S2Cell:()=>p_.A,SDFSettings:()=>Kx.A,SampledPositionProperty:()=>Rt.A,SampledProperty:()=>kt.A,Sampler:()=>Fd.A,ScaledPositionProperty:()=>$A.A,Scene:()=>Hx.A,SceneFramebuffer:()=>zx.A,SceneMode:()=>Ts.A,SceneMode2DPipelineStage:()=>FO.A,SceneModePicker:()=>UL.A,SceneModePickerViewModel:()=>YL.A,SceneTransforms:()=>qx.A,SceneTransitioner:()=>Wx.A,ScreenSpaceCameraController:()=>jx.A,ScreenSpaceEventHandler:()=>f_.A,ScreenSpaceEventType:()=>m_.A,SelectedFeatureIdPipelineStage:()=>LO.A,SelectionIndicator:()=>KL.A,SelectionIndicatorViewModel:()=>HL.A,SensorVolumePortionToDisplay:()=>ri,ShaderBuilder:()=>Ld.A,ShaderCache:()=>Qd.A,ShaderDestination:()=>Nd.A,ShaderFunction:()=>Gd.A,ShaderProgram:()=>Vd.A,ShaderSource:()=>Ud.A,ShaderStruct:()=>Yd.A,ShadowMap:()=>Jx.A,ShadowMapShader:()=>Xx.A,ShadowMode:()=>Le.A,ShadowVolumeAppearance:()=>Zx.A,SharedContext:()=>Kd.A,ShowGeometryInstanceAttribute:()=>__.A,Simon1994PlanetaryPositions:()=>y_.A,SimplePolylineGeometry:()=>b_,SingleTileImageryProvider:()=>$x.A,SkinningPipelineStage:()=>QO.A,SkyAtmosphere:()=>eS.A,SkyBox:()=>tS.A,SpatialNode:()=>iS.A,Spdcf:()=>OF.A,SpecularEnvironmentCubeMap:()=>nS.A,SphereEmitter:()=>oS,SphereGeometry:()=>T_,SphereOutlineGeometry:()=>M_.A,Spherical:()=>Te,Spline:()=>Vg.A,SplitDirection:()=>sS.A,Splitter:()=>aS.A,StaticGeometryColorBatch:()=>Th.A,StaticGeometryPerMaterialBatch:()=>Mh.A,StaticGroundGeometryColorBatch:()=>Dh.A,StaticGroundGeometryPerMaterialBatch:()=>Ph.A,StaticGroundPolylinePerMaterialBatch:()=>Oh.A,StaticOutlineGeometryBatch:()=>Rh.A,StencilConstants:()=>lS.A,StencilFunction:()=>cS.A,StencilOperation:()=>AS.A,SteppedSpline:()=>D_.A,Stereographic:()=>P_.A,StorageType:()=>RF.A,StripeMaterialProperty:()=>Ut,StripeOrientation:()=>Ft,StructuralMetadata:()=>uS.A,StyleCommandsNeeded:()=>NO.A,StyleExpression:()=>dS,Sun:()=>gS.A,SunLight:()=>pS.A,SunPostProcess:()=>fS.A,SupportedImageFormats:()=>mS.A,SvgPathBindingHandler:()=>NF.A,TaskProcessor:()=>Af.A,Terrain:()=>_S.A,TerrainData:()=>vf.A,TerrainEncoding:()=>Ef.A,TerrainFillMesh:()=>yS.A,TerrainMesh:()=>bf.A,TerrainOffsetProperty:()=>kh.A,TerrainProvider:()=>_g.A,TerrainQuantization:()=>O_.A,TerrainState:()=>wS.A,Texture:()=>Hd.A,Texture3D:()=>$d,TextureAtlas:()=>eg.A,TextureCache:()=>tg.A,TextureMagnificationFilter:()=>Wd.A,TextureManager:()=>GO.A,TextureMinificationFilter:()=>jd.A,TexturePacker:()=>R_.A,TextureUniform:()=>VO,TextureWrap:()=>ig.A,TileAvailability:()=>yg.A,TileBoundingRegion:()=>CS.A,TileBoundingS2Cell:()=>BS.A,TileBoundingSphere:()=>vS.A,TileBoundingVolume:()=>bS,TileCoordinatesImageryProvider:()=>xS,TileDiscardPolicy:()=>TS,TileEdge:()=>k_.A,TileImagery:()=>MS.A,TileMapServiceImageryProvider:()=>DS.A,TileMetadata:()=>PS.A,TileOrientedBoundingBox:()=>OS.A,TileProviderError:()=>wg.A,TileReplacementQueue:()=>RS.A,TileSelectionResult:()=>kS.A,TileState:()=>FS,Tileset3DTileContent:()=>LS.A,TilesetMetadata:()=>QS.A,TilesetPipelineStage:()=>UO.A,TilingScheme:()=>L_,TimeConstants:()=>Q_.A,TimeDynamicImagery:()=>NS.A,TimeDynamicPointCloud:()=>GS.A,TimeInterval:()=>Me.A,TimeIntervalCollection:()=>De.A,TimeIntervalCollectionPositionProperty:()=>Yt.A,TimeIntervalCollectionProperty:()=>zt,TimeStandard:()=>N_.A,Timeline:()=>WL.A,TimelineHighlightRange:()=>jL.A,TimelineTrack:()=>JL.A,Tipsify:()=>G_.A,ToggleButtonViewModel:()=>GF.A,Tonemapper:()=>VS.A,TrackingReferenceFrame:()=>V_.A,Transforms:()=>Wt.A,TranslationRotationScale:()=>U_.A,TranslucentTileClassification:()=>US.A,TridiagonalSystemSolver:()=>Y_.A,TrustedServers:()=>K_.A,TweenCollection:()=>YS.A,UniformState:()=>ng.A,UniformType:()=>YO.A,UrlTemplateImageryProvider:()=>dI.A,VERSION:()=>CQ,VRButton:()=>XL.A,VRButtonViewModel:()=>ZL.A,VRTheWorldTerrainProvider:()=>Z_,VaryingType:()=>KO,Vector3DTileBatch:()=>KS.A,Vector3DTileClampedPolylines:()=>HS.A,Vector3DTileContent:()=>zS.A,Vector3DTileGeometry:()=>qS.A,Vector3DTilePoints:()=>WS.A,Vector3DTilePolygons:()=>jS.A,Vector3DTilePolylines:()=>JS.A,Vector3DTilePrimitive:()=>XS.A,VelocityOrientationProperty:()=>ti,VelocityVectorProperty:()=>jt.A,VertexArray:()=>rg.A,VertexArrayFacade:()=>og.A,VertexAttributeSemantic:()=>ZS.A,VertexFormat:()=>Xg.A,VerticalExaggeration:()=>$_.A,VerticalExaggerationPipelineStage:()=>HO.A,VerticalOrigin:()=>Qe.A,VideoSynchronizer:()=>ty,View:()=>$S.A,Viewer:()=>$L.A,ViewportQuad:()=>tT,Visibility:()=>iy.A,Visualizer:()=>Lh,VoxelBoundsCollection:()=>iT.A,VoxelBoxShape:()=>nT.A,VoxelCell:()=>rT.A,VoxelContent:()=>aB.A,VoxelCylinderShape:()=>oT.A,VoxelEllipsoidShape:()=>sT.A,VoxelInspector:()=>yQ,VoxelInspectorViewModel:()=>fQ,VoxelMetadataOrder:()=>lB.A,VoxelPrimitive:()=>aT.A,VoxelProvider:()=>cT,VoxelRenderResources:()=>AT.A,VoxelShape:()=>hT,VoxelShapeType:()=>cB.A,VoxelTraversal:()=>dT.A,VulkanConstants:()=>ny,WallGeometry:()=>ry.A,WallGeometryLibrary:()=>oy.A,WallGeometryUpdater:()=>Qh.A,WallGraphics:()=>ii.A,WallOutlineGeometry:()=>sy.A,WebGLConstants:()=>ay.A,WebMapServiceImageryProvider:()=>gT.A,WebMapTileServiceImageryProvider:()=>pT.A,WebMercatorProjection:()=>ly.A,WebMercatorTilingScheme:()=>Cg.A,WindingOrder:()=>cy.A,WireframeIndexGenerator:()=>Ay.A,WireframePipelineStage:()=>zO.A,_shadersAcesTonemappingStage:()=>sD.A,_shadersAdditiveBlend:()=>aD.A,_shadersAdjustTranslucentFS:()=>Wy.A,_shadersAllMaterialAppearanceFS:()=>WT.A,_shadersAllMaterialAppearanceVS:()=>jT.A,_shadersAmbientOcclusionGenerate:()=>lD.A,_shadersAmbientOcclusionModulate:()=>cD.A,_shadersAspectRampMaterial:()=>aM.A,_shadersAtmosphereCommon:()=>jy.A,_shadersAtmosphereStageFS:()=>IM.A,_shadersAtmosphereStageVS:()=>xM.A,_shadersBasicMaterialAppearanceFS:()=>JT.A,_shadersBasicMaterialAppearanceVS:()=>XT.A,_shadersBillboardCollectionFS:()=>Jy.A,_shadersBillboardCollectionVS:()=>Xy.A,_shadersBlackAndWhite:()=>AD.A,_shadersBloomComposite:()=>uD.A,_shadersBrdfLutGeneratorFS:()=>Zy.A,_shadersBrightPass:()=>hD.A,_shadersBrightness:()=>dD.A,_shadersBumpMapMaterial:()=>lM.A,_shadersCPUStylingStageFS:()=>SM.A,_shadersCPUStylingStageVS:()=>TM.A,_shadersCheckerboardMaterial:()=>cM.A,_shadersCloudCollectionFS:()=>$y,_shadersCloudCollectionVS:()=>ew,_shadersCloudNoiseFS:()=>tw,_shadersCloudNoiseVS:()=>iw,_shadersCompareAndPackTranslucentDepth:()=>nw.A,_shadersCompositeOITFS:()=>rw.A,_shadersCompositeTranslucentClassification:()=>gD.A,_shadersComputeIrradianceFS:()=>ow.A,_shadersComputeRadianceMapFS:()=>sw.A,_shadersContrastBias:()=>pD.A,_shadersConvolveSpecularMapFS:()=>aw.A,_shadersConvolveSpecularMapVS:()=>lw.A,_shadersCustomShaderStageFS:()=>MM.A,_shadersCustomShaderStageVS:()=>DM.A,_shadersCzmBuiltins:()=>sM.A,_shadersDepthOfField:()=>fD.A,_shadersDepthPlaneFS:()=>cw.A,_shadersDepthPlaneVS:()=>Aw.A,_shadersDepthView:()=>mD.A,_shadersDepthViewPacked:()=>_D,_shadersDotMaterial:()=>AM.A,_shadersEdgeDetection:()=>yD.A,_shadersElevationBandMaterial:()=>uM.A,_shadersElevationContourMaterial:()=>hM.A,_shadersElevationRampMaterial:()=>dM.A,_shadersEllipsoidFS:()=>uw.A,_shadersEllipsoidSurfaceAppearanceFS:()=>Hv,_shadersEllipsoidSurfaceAppearanceVS:()=>zv,_shadersEllipsoidVS:()=>hw.A,_shadersFXAA:()=>wD.A,_shadersFXAA3_11:()=>dw.A,_shadersFadeMaterial:()=>gM.A,_shadersFeatureIdStageFS:()=>PM.A,_shadersFeatureIdStageVS:()=>OM.A,_shadersFilmicTonemapping:()=>CD.A,_shadersGaussianBlur1D:()=>BD.A,_shadersGeometryStageFS:()=>RM.A,_shadersGeometryStageVS:()=>kM.A,_shadersGlobeFS:()=>gw.A,_shadersGlobeVS:()=>pw.A,_shadersGridMaterial:()=>pM.A,_shadersGroundAtmosphere:()=>fw.A,_shadersHSBToRGB:()=>VR.A,_shadersHSLToRGB:()=>UR.A,_shadersImageBasedLightingStageFS:()=>FM.A,_shadersInstancingStageCommon:()=>LM.A,_shadersInstancingStageVS:()=>QM.A,_shadersIntersectBox:()=>PD.A,_shadersIntersectCylinder:()=>OD.A,_shadersIntersectDepth:()=>RD.A,_shadersIntersectEllipsoid:()=>kD.A,_shadersIntersectLongitude:()=>FD.A,_shadersIntersectPlane:()=>LD.A,_shadersIntersection:()=>QD.A,_shadersIntersectionUtils:()=>ND.A,_shadersLegacyInstancingStageVS:()=>NM.A,_shadersLensFlare:()=>vD.A,_shadersLightingStageFS:()=>GM.A,_shadersMaterialStageFS:()=>VM.A,_shadersMegatexture:()=>GD.A,_shadersMetadataStageFS:()=>UM.A,_shadersMetadataStageVS:()=>YM.A,_shadersModelClippingPlanesStageFS:()=>KM.A,_shadersModelClippingPolygonsStageFS:()=>HM.A,_shadersModelClippingPolygonsStageVS:()=>zM.A,_shadersModelColorStageFS:()=>qM.A,_shadersModelFS:()=>WM.A,_shadersModelSilhouetteStageFS:()=>jM.A,_shadersModelSilhouetteStageVS:()=>JM.A,_shadersModelSplitterStageFS:()=>XM.A,_shadersModelVS:()=>ZM.A,_shadersModifiedReinhardTonemapping:()=>ED.A,_shadersMorphTargetsStageVS:()=>$M.A,_shadersNightVision:()=>bD.A,_shadersNormalMapMaterial:()=>fM.A,_shadersOctree:()=>VD.A,_shadersPassThrough:()=>ID.A,_shadersPassThroughDepth:()=>xD.A,_shadersPbrNeutralTonemapping:()=>SD.A,_shadersPerInstanceColorAppearanceFS:()=>ZT.A,_shadersPerInstanceColorAppearanceVS:()=>$T.A,_shadersPerInstanceFlatColorAppearanceFS:()=>eM.A,_shadersPerInstanceFlatColorAppearanceVS:()=>tM.A,_shadersPointCloudEyeDomeLighting:()=>TD.A,_shadersPointCloudStylingStageVS:()=>eD.A,_shadersPointPrimitiveCollectionFS:()=>mw.A,_shadersPointPrimitiveCollectionVS:()=>_w.A,_shadersPolygonSignedDistanceFS:()=>yw.A,_shadersPolylineArrowMaterial:()=>mM.A,_shadersPolylineColorAppearanceVS:()=>iM.A,_shadersPolylineCommon:()=>ww.A,_shadersPolylineDashMaterial:()=>_M.A,_shadersPolylineFS:()=>Cw.A,_shadersPolylineGlowMaterial:()=>yM.A,_shadersPolylineMaterialAppearanceVS:()=>nM.A,_shadersPolylineOutlineMaterial:()=>wM.A,_shadersPolylineShadowVolumeFS:()=>Bw.A,_shadersPolylineShadowVolumeMorphFS:()=>vw.A,_shadersPolylineShadowVolumeMorphVS:()=>Ew.A,_shadersPolylineShadowVolumeVS:()=>bw.A,_shadersPolylineVS:()=>Iw.A,_shadersPrimitiveGaussianSplatFS:()=>xw.A,_shadersPrimitiveGaussianSplatVS:()=>Sw.A,_shadersPrimitiveOutlineStageFS:()=>tD.A,_shadersPrimitiveOutlineStageVS:()=>iD.A,_shadersRGBToHSB:()=>YR.A,_shadersRGBToHSL:()=>KR.A,_shadersRGBToXYZ:()=>HR.A,_shadersReinhardTonemapping:()=>MD.A,_shadersReprojectWebMercatorFS:()=>Tw.A,_shadersReprojectWebMercatorVS:()=>Mw.A,_shadersRimLightingMaterial:()=>CM.A,_shadersSelectedFeatureIdStageCommon:()=>nD.A,_shadersShadowVolumeAppearanceFS:()=>Dw.A,_shadersShadowVolumeAppearanceVS:()=>Pw.A,_shadersShadowVolumeFS:()=>Ow.A,_shadersSilhouette:()=>DD.A,_shadersSkinningStageVS:()=>rD.A,_shadersSkyAtmosphereCommon:()=>Rw.A,_shadersSkyAtmosphereFS:()=>kw.A,_shadersSkyAtmosphereVS:()=>Fw.A,_shadersSkyBoxFS:()=>Lw.A,_shadersSkyBoxVS:()=>Qw.A,_shadersSlopeRampMaterial:()=>BM.A,_shadersStripeMaterial:()=>vM.A,_shadersSunFS:()=>Nw.A,_shadersSunTextureFS:()=>Gw.A,_shadersSunVS:()=>Vw.A,_shadersTexturedMaterialAppearanceFS:()=>rM.A,_shadersTexturedMaterialAppearanceVS:()=>oM.A,_shadersVector3DTileClampedPolylinesFS:()=>Uw.A,_shadersVector3DTileClampedPolylinesVS:()=>Yw.A,_shadersVector3DTilePolylinesVS:()=>Kw.A,_shadersVectorTileVS:()=>Hw.A,_shadersVerticalExaggerationStageVS:()=>oD.A,_shadersViewportQuadFS:()=>zw,_shadersViewportQuadVS:()=>qw.A,_shadersVoxelFS:()=>UD.A,_shadersVoxelUtils:()=>YD.A,_shadersVoxelVS:()=>KD.A,_shadersWater:()=>EM.A,_shadersWaterMaskMaterial:()=>bM.A,_shadersXYZToRGB:()=>zR.A,_shadersacesTonemapping:()=>qR.A,_shadersalphaWeight:()=>WR.A,_shadersantialias:()=>jR.A,_shadersapplyHSBShift:()=>JR.A,_shadersapproximateSphericalCoordinates:()=>XR.A,_shadersapproximateTanh:()=>ZR.A,_shadersbackFacing:()=>$R.A,_shadersbranchFreeTernary:()=>ek.A,_shaderscascadeColor:()=>tk.A,_shaderscascadeDistance:()=>ik.A,_shaderscascadeMatrix:()=>nk.A,_shaderscascadeWeights:()=>rk.A,_shadersclipPolygons:()=>ok.A,_shaderscolumbusViewMorph:()=>sk.A,_shaderscomputeAtmosphereColor:()=>ak.A,_shaderscomputeGroundAtmosphereScattering:()=>lk.A,_shaderscomputePosition:()=>ck.A,_shaderscomputeScattering:()=>Ak.A,_shadersconvertLocalToBoxUv:()=>HD.A,_shadersconvertLocalToCylinderUv:()=>zD.A,_shadersconvertLocalToEllipsoidUv:()=>qD.A,_shaderscosineAndSine:()=>uk.A,_shadersdecompressTextureCoordinates:()=>hk.A,_shadersdegreesPerRadian:()=>WO.A,_shadersdepthClamp:()=>dk.A,_shadersdepthRange:()=>jO.A,_shadersdepthRangeStruct:()=>OR.A,_shaderseastNorthUpToEyeCoordinates:()=>gk.A,_shadersellipsoidContainsPoint:()=>pk.A,_shadersellipsoidTextureCoordinates:()=>fk.A,_shadersepsilon1:()=>JO.A,_shadersepsilon2:()=>XO.A,_shadersepsilon3:()=>ZO.A,_shadersepsilon4:()=>$O.A,_shadersepsilon5:()=>eR.A,_shadersepsilon6:()=>tR.A,_shadersepsilon7:()=>iR.A,_shadersequalsEpsilon:()=>mk.A,_shaderseyeOffset:()=>_k.A,_shaderseyeToWindowCoordinates:()=>yk.A,_shadersfastApproximateAtan:()=>wk.A,_shadersfog:()=>Ck.A,_shadersgammaCorrect:()=>Bk.A,_shadersgeodeticSurfaceNormal:()=>vk.A,_shadersgetDefaultMaterial:()=>Ek.A,_shadersgetDynamicAtmosphereLightDirection:()=>bk.A,_shadersgetLambertDiffuse:()=>Ik.A,_shadersgetSpecular:()=>xk.A,_shadersgetWaterNoise:()=>Sk.A,_shadershue:()=>Tk.A,_shadersinfinity:()=>nR.A,_shadersinverseGamma:()=>Mk.A,_shadersisEmpty:()=>Dk.A,_shadersisFull:()=>Pk.A,_shaderslatitudeToWebMercatorFraction:()=>Ok.A,_shaderslineDistance:()=>Rk.A,_shaderslinearToSrgb:()=>kk.A,_shadersluminance:()=>Fk.A,_shadersmaterial:()=>RR.A,_shadersmaterialInput:()=>kR.A,_shadersmaximumComponent:()=>Lk.A,_shadersmetersPerPixel:()=>Qk.A,_shadersmodelMaterial:()=>FR.A,_shadersmodelToWindowCoordinates:()=>Nk.A,_shadersmodelVertexOutput:()=>LR.A,_shadersmultiplyWithColorBalance:()=>Gk.A,_shadersnearFarScalar:()=>Vk.A,_shadersoctDecode:()=>Uk.A,_shadersoneOverPi:()=>rR.A,_shadersoneOverTwoPi:()=>oR.A,_shaderspackDepth:()=>Yk.A,_shaderspassCesium3DTile:()=>sR.A,_shaderspassCesium3DTileClassification:()=>aR.A,_shaderspassCesium3DTileClassificationIgnoreShow:()=>lR.A,_shaderspassClassification:()=>cR.A,_shaderspassCompute:()=>AR.A,_shaderspassEnvironment:()=>uR.A,_shaderspassGaussianSplats:()=>hR.A,_shaderspassGlobe:()=>dR.A,_shaderspassOpaque:()=>gR.A,_shaderspassOverlay:()=>pR.A,_shaderspassTerrainClassification:()=>fR.A,_shaderspassTranslucent:()=>mR.A,_shaderspassVoxels:()=>_R.A,_shaderspbrLighting:()=>Kk.A,_shaderspbrNeutralTonemapping:()=>Hk.A,_shadersphong:()=>zk.A,_shaderspi:()=>yR.A,_shaderspiOverFour:()=>wR.A,_shaderspiOverSix:()=>CR.A,_shaderspiOverThree:()=>BR.A,_shaderspiOverTwo:()=>vR.A,_shadersplaneDistance:()=>qk.A,_shaderspointAlongRay:()=>Wk.A,_shadersradiansPerDegree:()=>ER.A,_shadersray:()=>QR.A,_shadersrayEllipsoidIntersectionInterval:()=>jk.A,_shadersraySegment:()=>NR.A,_shadersraySphereIntersectionInterval:()=>Jk.A,_shadersreadDepth:()=>Xk.A,_shadersreadNonPerspective:()=>Zk.A,_shadersreverseLogDepth:()=>$k.A,_shadersround:()=>eF.A,_shaderssaturation:()=>tF.A,_shaderssceneMode2D:()=>bR.A,_shaderssceneMode3D:()=>IR.A,_shaderssceneModeColumbusView:()=>xR.A,_shaderssceneModeMorphing:()=>SR.A,_shadersshadowDepthCompare:()=>iF.A,_shadersshadowParameters:()=>GR.A,_shadersshadowVisibility:()=>nF.A,_shaderssignNotZero:()=>rF.A,_shaderssolarRadius:()=>TR.A,_shaderssphericalHarmonics:()=>oF.A,_shaderssrgbToLinear:()=>sF.A,_shaderstangentToEyeSpaceMatrix:()=>aF.A,_shaderstextureCube:()=>lF.A,_shadersthreePiOver2:()=>MR.A,_shaderstransformPlane:()=>cF.A,_shaderstranslateRelativeToEye:()=>AF.A,_shaderstranslucentPhong:()=>uF.A,_shaderstranspose:()=>hF.A,_shaderstwoPi:()=>DR.A,_shadersunpackClippingExtents:()=>dF.A,_shadersunpackDepth:()=>gF.A,_shadersunpackFloat:()=>pF.A,_shadersunpackUint:()=>fF.A,_shadersvalueTransform:()=>mF.A,_shadersvertexLogDepth:()=>_F.A,_shaderswebMercatorMaxLatitude:()=>PR.A,_shaderswindowToEyeCoordinates:()=>yF.A,_shaderswriteDepthClamp:()=>wF.A,_shaderswriteLogDepth:()=>CF.A,_shaderswriteNonPerspective:()=>BF.A,addAllToArray:()=>uy.A,addBuffer:()=>jD.A,addDefaults:()=>JD.A,addExtensionsRequired:()=>XD.A,addExtensionsUsed:()=>ZD.A,addPipelineExtras:()=>$D.A,addToArray:()=>eP.A,appendForwardSlash:()=>hy.A,arrayRemoveDuplicates:()=>dy.A,barycentricCoordinates:()=>gy.A,binarySearch:()=>py.A,buildModuleUrl:()=>ys.A,buildVoxelDrawCommands:()=>fT.A,clone:()=>ws.A,combine:()=>qA.A,computeFlyToLocationForRectangle:()=>mT.A,createBillboardPointCallback:()=>_T.A,createCommand:()=>VF.A,createDefaultImageryProviderViewModels:()=>WF.A,createDefaultTerrainProviderViewModels:()=>jF.A,createElevationBandMaterial:()=>TT,createGooglePhotorealistic3DTileset:()=>DT,createGuid:()=>x.A,createMaterialPropertyDescriptor:()=>Nh.A,createOsmBuildingsAsync:()=>PT,createPropertyDescriptor:()=>_.A,createRawPropertyDescriptor:()=>Ue.A,createTangentSpaceDebugPrimitive:()=>OT,createTaskProcessorWorker:()=>kF,createUniform:()=>sg.A,createUniformArray:()=>ag.A,createWorldBathymetryAsync:()=>fy.A,createWorldImageryAsync:()=>RT.A,createWorldTerrainAsync:()=>my.A,decodeGoogleEarthEnterpriseData:()=>yy,decodeVectorPolylinePositions:()=>wy.A,defer:()=>Cs.A,defined:()=>p.A,demodernizeShader:()=>lg.A,deprecationWarning:()=>Cy.A,destroyObject:()=>zd.A,exportKml:()=>dd,findAccessorMinMax:()=>tP.A,findContentMetadata:()=>kT.A,findGroupMetadata:()=>FT.A,findTileMetadata:()=>LT.A,forEachTextureInMaterial:()=>iP.A,formatError:()=>By.A,freezeRenderState:()=>cg.A,getAbsoluteUri:()=>vy.A,getAccessorByteStride:()=>nP.A,getBaseUri:()=>Ey.A,getBinaryAccessor:()=>QT.A,getClipAndStyleCode:()=>NT.A,getClippingFunction:()=>GT.A,getComponentReader:()=>rP.A,getElement:()=>NA.A,getExtensionFromUri:()=>Bs.A,getFilenameFromUri:()=>ue.A,getImageFromTypedArray:()=>by.A,getImagePixels:()=>H_.A,getJsonFromTypedArray:()=>Iy.A,getMagic:()=>xy.A,getMeshPrimitives:()=>VT.A,getMetadataClassProperty:()=>UT.A,getMetadataProperty:()=>YT.A,getStringFromTypedArray:()=>Sy.A,getTimestamp:()=>vs.A,hasExtension:()=>JC.A,heightReferenceOnEntityPropertyChanged:()=>gd.A,isBitSet:()=>of,isBlobUri:()=>Ty.A,isCrossOriginUrl:()=>My.A,isDataUri:()=>Dy.A,isLeapYear:()=>Py.A,knockout:()=>JF.A,knockout_3_5_1:()=>zL.A,knockout_es5:()=>qL.A,loadAndExecuteScript:()=>cf.A,loadCubeMap:()=>Ag.A,loadImageFromTypedArray:()=>Oy.A,loadKTX2:()=>Ry.A,mergeSort:()=>ky.A,moveTechniqueRenderStates:()=>oP.A,moveTechniquesToExtension:()=>sP.A,numberOfComponentsForType:()=>aP.A,objectToQuery:()=>Is.A,oneTimeWarning:()=>xs.A,parseBatchTable:()=>KT.A,parseFeatureMetadataLegacy:()=>HT.A,parseGlb:()=>lP.A,parseResponseHeaders:()=>Fy.A,parseStructuralMetadata:()=>zT.A,pickModel:()=>qO.A,pointInsideTriangle:()=>Qy,preprocess3DTileContent:()=>oB.A,processVoxelProperties:()=>qT.A,queryToObject:()=>Ss.A,readAccessorPacked:()=>cP.A,removeExtension:()=>AP.A,removeExtensionsRequired:()=>uP.A,removeExtensionsUsed:()=>hP.A,removePipelineExtras:()=>dP.A,removeUnusedElements:()=>gP.A,resizeImageToNextPowerOfTwo:()=>Ny.A,sampleTerrain:()=>Gy.A,sampleTerrainMostDetailed:()=>Vy.A,scaleToGeodeticSurface:()=>Uy.A,srgbToLinear:()=>Yy,subdivideArray:()=>Ky.A,subscribeAndEvaluate:()=>UF.A,updateAccessorComponentTypes:()=>pP.A,updateVersion:()=>fP.A,usesExtension:()=>mP.A,viewerCesium3DTilesInspectorMixin:()=>eQ,viewerCesiumInspectorMixin:()=>tQ,viewerDragDropMixin:()=>aQ,viewerPerformanceWatchdogMixin:()=>lQ,viewerVoxelInspectorMixin:()=>wQ,webGLConstantToGlslType:()=>Hy,wrapFunction:()=>zy,writeTextToCanvas:()=>qy.A});var n=i(470540),r=i(798777),o=i(810600),s=i(467466),a=i(326230),l=i(602941),c=i(10082),A=i(692632),u=i(592493),h=i(434067),d=i(41476),g=i(915325),p=i(491446),f=i(955943),m=i(591978),_=i(819488),y=i(46257);const w=d.A.WHITE,C=d.A.BLACK,B=new h.A(2,2);function v(e){e=e??g.A.EMPTY_OBJECT,this._definitionChanged=new f.A,this._evenColor=void 0,this._evenColorSubscription=void 0,this._oddColor=void 0,this._oddColorSubscription=void 0,this._repeat=void 0,this._repeatSubscription=void 0,this.evenColor=e.evenColor,this.oddColor=e.oddColor,this.repeat=e.repeat}Object.defineProperties(v.prototype,{isConstant:{get:function(){return y.A.isConstant(this._evenColor)&&y.A.isConstant(this._oddColor)&&y.A.isConstant(this._repeat)}},definitionChanged:{get:function(){return this._definitionChanged}},evenColor:(0,_.A)("evenColor"),oddColor:(0,_.A)("oddColor"),repeat:(0,_.A)("repeat")}),v.prototype.getType=function(e){return"Checkerboard"};const E=new m.A;v.prototype.getValue=function(e,t){return(0,p.A)(e)||(e=m.A.now(E)),(0,p.A)(t)||(t={}),t.lightColor=y.A.getValueOrClonedDefault(this._evenColor,e,w,t.lightColor),t.darkColor=y.A.getValueOrClonedDefault(this._oddColor,e,C,t.darkColor),t.repeat=y.A.getValueOrDefault(this._repeat,e,B),t},v.prototype.equals=function(e){return this===e||e instanceof v&&y.A.equals(this._evenColor,e._evenColor)&&y.A.equals(this._oddColor,e._oddColor)&&y.A.equals(this._repeat,e._repeat)};const b=v;var I=i(312421),x=i(673874),S=i(605971),T=i(367817),M=i(426807),D=i(151075);const P={id:void 0},O=new Array(2);function R(e){const t=e.propertyNames,i=t.length;for(let n=0;n<i;n++)e[t[n]]=void 0;e._name=void 0,e._availability=void 0}function k(e,t,i,n){O[0]=i,O[1]=n.id,t[JSON.stringify(O)]=n.definitionChanged.addEventListener(Q.prototype._onDefinitionChanged,e)}function F(e,t,i,n){O[0]=i,O[1]=n.id;const r=JSON.stringify(O);t[r](),t[r]=void 0}function L(e){if(e._shouldRecomposite=!0,0!==e._suspendCount)return;const t=e._collections,i=t.length,n=e._collectionsCopy,r=n.length;let o,s,a,l,c;const A=e._composite,u=new D.A(e),h=e._eventHash;let d;for(o=0;o<r;o++)for(c=n[o],c.collectionChanged.removeEventListener(Q.prototype._onCollectionChanged,e),a=c.values,d=c.id,l=a.length-1;l>-1;l--)s=a[l],F(0,h,d,s);for(o=i-1;o>=0;o--)for(c=t[o],c.collectionChanged.addEventListener(Q.prototype._onCollectionChanged,e),a=c.values,d=c.id,l=a.length-1;l>-1;l--){s=a[l],k(e,h,d,s);let t=u.getById(s.id);(0,p.A)(t)||(t=A.getById(s.id),(0,p.A)(t)?R(t):(P.id=s.id,t=new M.A(P)),u.add(t)),t.merge(s)}e._collectionsCopy=t.slice(0),A.suspendEvents(),A.removeAll();const g=u.values;for(o=0;o<g.length;o++)A.add(g[o]);A.resumeEvents()}function Q(e,t){this._owner=t,this._composite=new D.A(this),this._suspendCount=0,this._collections=(0,p.A)(e)?e.slice():[],this._collectionsCopy=[],this._id=(0,x.A)(),this._eventHash={},L(this),this._shouldRecomposite=!1}function N(e,t){if(!(0,p.A)(t))throw new S.A("collection is required.");const i=e.indexOf(t);if(-1===i)throw new S.A("collection is not in this composite.");return i}function G(e,t,i){const n=e._collections;if((t=T.A.clamp(t,0,n.length-1))===(i=T.A.clamp(i,0,n.length-1)))return;const r=n[t];n[t]=n[i],n[i]=r,L(e)}Object.defineProperties(Q.prototype,{collectionChanged:{get:function(){return this._composite._collectionChanged}},id:{get:function(){return this._id}},values:{get:function(){return this._composite.values}},owner:{get:function(){return this._owner}}}),Q.prototype.addCollection=function(e,t){const i=(0,p.A)(t);if(!(0,p.A)(e))throw new S.A("collection is required.");if(i){if(t<0)throw new S.A("index must be greater than or equal to zero.");if(t>this._collections.length)throw new S.A("index must be less than or equal to the number of collections.")}i?this._collections.splice(t,0,e):(t=this._collections.length,this._collections.push(e)),L(this)},Q.prototype.removeCollection=function(e){const t=this._collections.indexOf(e);return-1!==t&&(this._collections.splice(t,1),L(this),!0)},Q.prototype.removeAllCollections=function(){this._collections.length=0,L(this)},Q.prototype.containsCollection=function(e){return-1!==this._collections.indexOf(e)},Q.prototype.contains=function(e){return this._composite.contains(e)},Q.prototype.indexOfCollection=function(e){return this._collections.indexOf(e)},Q.prototype.getCollection=function(e){if(!(0,p.A)(e))throw new S.A("index is required.","index");return this._collections[e]},Q.prototype.getCollectionsLength=function(){return this._collections.length},Q.prototype.raiseCollection=function(e){const t=N(this._collections,e);G(this,t,t+1)},Q.prototype.lowerCollection=function(e){const t=N(this._collections,e);G(this,t,t-1)},Q.prototype.raiseCollectionToTop=function(e){const t=N(this._collections,e);t!==this._collections.length-1&&(this._collections.splice(t,1),this._collections.push(e),L(this))},Q.prototype.lowerCollectionToBottom=function(e){const t=N(this._collections,e);0!==t&&(this._collections.splice(t,1),this._collections.splice(0,0,e),L(this))},Q.prototype.suspendEvents=function(){this._suspendCount++,this._composite.suspendEvents()},Q.prototype.resumeEvents=function(){if(0===this._suspendCount)throw new S.A("resumeEvents can not be called before suspendEvents.");this._suspendCount--,this._shouldRecomposite&&0===this._suspendCount&&(L(this),this._shouldRecomposite=!1),this._composite.resumeEvents()},Q.prototype.computeAvailability=function(){return this._composite.computeAvailability()},Q.prototype.getById=function(e){return this._composite.getById(e)},Q.prototype._onCollectionChanged=function(e,t,i){const n=this._collectionsCopy,r=n.length,o=this._composite;let s,a,l,c;o.suspendEvents();const A=i.length,u=this._eventHash,h=e.id;for(s=0;s<A;s++){const e=i[s];F(0,u,h,e);const t=e.id;for(a=r-1;a>=0;a--)l=n[a].getById(t),(0,p.A)(l)&&((0,p.A)(c)||(c=o.getById(t),R(c)),c.merge(l));(0,p.A)(c)||o.removeById(t),c=void 0}const d=t.length;for(s=0;s<d;s++){const e=t[s];k(this,u,h,e);const i=e.id;for(a=r-1;a>=0;a--)l=n[a].getById(i),(0,p.A)(l)&&((0,p.A)(c)||(c=o.getById(i),(0,p.A)(c)?R(c):(P.id=i,c=new M.A(P),o.add(c))),c.merge(l));c=void 0}o.resumeEvents()},Q.prototype._onDefinitionChanged=function(e,t,i,n){const r=this._collections,o=this._composite,s=r.length,a=e.id,l=o.getById(a);let c=l[t];const A=!(0,p.A)(c);let u=!0;for(let i=s-1;i>=0;i--){const n=r[i].getById(e.id);if((0,p.A)(n)){const e=n[t];if((0,p.A)(e)){if(u){if(u=!1,!(0,p.A)(e.merge)||!(0,p.A)(e.clone)){c=e;break}c=e.clone(c)}c.merge(e)}}}A&&-1===l.propertyNames.indexOf(t)&&l.addProperty(t),l[t]=c};const V=Q;var U=i(98348);function Y(){this._definitionChanged=new f.A,this._composite=new U.A,this._composite.definitionChanged.addEventListener(Y.prototype._raiseDefinitionChanged,this)}Object.defineProperties(Y.prototype,{isConstant:{get:function(){return this._composite.isConstant}},definitionChanged:{get:function(){return this._definitionChanged}},intervals:{get:function(){return this._composite._intervals}}}),Y.prototype.getType=function(e){if(!(0,p.A)(e))throw new S.A("time is required");const t=this._composite._intervals.findDataForIntervalContainingDate(e);if((0,p.A)(t))return t.getType(e)};const K=new m.A;Y.prototype.getValue=function(e,t){(0,p.A)(e)||(e=m.A.now(K));const i=this._composite._intervals.findDataForIntervalContainingDate(e);if((0,p.A)(i))return i.getValue(e,t)},Y.prototype.equals=function(e){return this===e||e instanceof Y&&this._composite.equals(e._composite,y.A.equals)},Y.prototype._raiseDefinitionChanged=function(){this._definitionChanged.raiseEvent(this)};const H=Y;var z=i(403911),q=i(808938),W=i(969077),j=i(490869),J=i(779675),X=i(755394),Z=i(581225),$=i(881679),ee=i(215327),te=i(647934),ie=i(267980),ne=i(336946),re=i(687536),oe=i(945395),se=i(297038),ae=i(672743),le=i(853331),ce=i(610750),Ae=i(908077),ue=i(3858);const he=T.A.factorial;function de(e,t,i,n,r,o){let s,a,l,c=0;if(n>0){for(a=0;a<r;a++){for(s=!1,l=0;l<o.length&&!s;l++)a===o[l]&&(s=!0);s||(o.push(a),c+=de(e,t,i,n-1,r,o),o.splice(o.length-1,1))}return c}for(c=1,a=0;a<r;a++){for(s=!1,l=0;l<o.length&&!s;l++)a===o[l]&&(s=!0);s||(c*=e-i[t[a]])}return c}const ge={type:"Hermite",getRequiredDataPoints:function(e,t){if(t=t??0,!(0,p.A)(e))throw new S.A("degree is required.");if(e<0)throw new S.A("degree must be 0 or greater.");if(t<0)throw new S.A("inputOrder must be 0 or greater.");return Math.max(Math.floor((e+1)/(t+1)),2)},interpolateOrderZero:function(e,t,i,n,r){let o,s,a,l,c,A;(0,p.A)(r)||(r=new Array(n));const u=t.length,h=new Array(n);for(o=0;o<n;o++){r[o]=0;const e=new Array(u);for(h[o]=e,s=0;s<u;s++)e[s]=[]}const d=u,g=new Array(d);for(o=0;o<d;o++)g[o]=o;let f=u-1;for(l=0;l<n;l++){for(s=0;s<d;s++)A=g[s]*n+l,h[l][0].push(i[A]);for(o=1;o<d;o++){let e=!1;for(s=0;s<d-o;s++){const r=t[g[s]],a=t[g[s+o]];let c;a-r<=0?(A=g[s]*n+n*o+l,c=i[A],h[l][o].push(c/he(o))):(c=h[l][o-1][s+1]-h[l][o-1][s],h[l][o].push(c/(a-r))),e=e||0!==c}e||(f=o-1)}}for(a=0,c=0;a<=0;a++)for(o=a;o<=f;o++){const i=de(e,g,t,a,o,[]);for(l=0;l<n;l++){const e=h[l][o][0];r[l+a*n]+=e*i}}return r}},pe=[];ge.interpolate=function(e,t,i,n,r,o,s){const a=n*(o+1);(0,p.A)(s)||(s=new Array(a));for(let e=0;e<a;e++)s[e]=0;const l=t.length,c=new Array(l*(r+1));let A;for(A=0;A<l;A++)for(let e=0;e<r+1;e++)c[A*(r+1)+e]=A;const u=c.length,h=pe,d=function(e,t,i,n,r,o){let s,a,l=-1;const c=t.length,A=c*(c+1)/2;for(let u=0;u<r;u++){const h=Math.floor(u*A);for(s=0;s<c;s++)a=t[s]*r*(o+1)+u,e[h+s]=n[a];for(let A=1;A<c;A++){let d=0;const g=Math.floor(A*(1-A)/2)+c*A;let p=!1;for(s=0;s<c-A;s++){const l=i[t[s]],f=i[t[s+A]];let m,_;if(f-l<=0)a=t[s]*r*(o+1)+r*A+u,m=n[a],_=m/T.A.factorial(A),e[h+g+d]=_,d++;else{const t=Math.floor((A-1)*(2-A)/2)+c*(A-1);m=e[h+t+s+1]-e[h+t+s],_=m/(f-l),e[h+g+d]=_,d++}p=p||0!==m}p&&(l=Math.max(l,A))}}return l}(h,c,t,i,n,r),g=[],f=u*(u+1)/2,m=Math.min(d,o);for(let i=0;i<=m;i++)for(A=i;A<=d;A++){g.length=0;const r=de(e,c,t,i,A,g),o=Math.floor(A*(1-A)/2)+u*A;for(let e=0;e<n;e++){const t=h[Math.floor(e*f)+o];s[e+i*n]+=t*r}}return s};const fe=ge;var me=i(32655);const _e={type:"Lagrange",getRequiredDataPoints:function(e){return Math.max(e+1,2)},interpolateOrderZero:function(e,t,i,n,r){let o,s;(0,p.A)(r)||(r=new Array(n));const a=t.length;for(o=0;o<n;o++)r[o]=0;for(o=0;o<a;o++){let l=1;for(s=0;s<a;s++)if(s!==o){const i=t[o]-t[s];l*=(e-t[s])/i}for(s=0;s<n;s++)r[s]+=l*i[o*n+s]}return r}};var ye=i(862675),we=i(290176),Ce=i(105330),Be=i(99479),ve=i(697422),Ee=i(886033),be=i(744603),Ie=i(123245),xe=i(369031);function Se(e,t,i){this.clock=e??0,this.cone=t??0,this.magnitude=i??1}Se.fromCartesian3=function(e,t){xe.A.typeOf.object("cartesian3",e);const i=e.x,n=e.y,r=e.z,o=i*i+n*n;return(0,p.A)(t)||(t=new Se),t.clock=Math.atan2(n,i),t.cone=Math.atan2(Math.sqrt(o),r),t.magnitude=Math.sqrt(o+r*r),t},Se.clone=function(e,t){if((0,p.A)(e))return(0,p.A)(t)?(t.clock=e.clock,t.cone=e.cone,t.magnitude=e.magnitude,t):new Se(e.clock,e.cone,e.magnitude)},Se.normalize=function(e,t){return xe.A.typeOf.object("spherical",e),(0,p.A)(t)?(t.clock=e.clock,t.cone=e.cone,t.magnitude=1,t):new Se(e.clock,e.cone,1)},Se.equals=function(e,t){return e===t||(0,p.A)(e)&&(0,p.A)(t)&&e.clock===t.clock&&e.cone===t.cone&&e.magnitude===t.magnitude},Se.equalsEpsilon=function(e,t,i){return i=i??0,e===t||(0,p.A)(e)&&(0,p.A)(t)&&Math.abs(e.clock-t.clock)<=i&&Math.abs(e.cone-t.cone)<=i&&Math.abs(e.magnitude-t.magnitude)<=i},Se.prototype.equals=function(e){return Se.equals(this,e)},Se.prototype.clone=function(e){return Se.clone(this,e)},Se.prototype.equalsEpsilon=function(e,t){return Se.equalsEpsilon(this,e,t)},Se.prototype.toString=function(){return`(${this.clock}, ${this.cone}, ${this.magnitude})`};const Te=Se;var Me=i(93467),De=i(224847),Pe=i(71578),Oe=i(428027),Re=i(63316),ke=i(337632),Fe=i(15817),Le=i(988609),Qe=i(742558),Ne=i(484193),Ge=i(367725),Ve=i(565801),Ue=i(91440);function Ye(){this._definitionChanged=new f.A,this._startTime=void 0,this._stopTime=void 0,this._currentTime=void 0,this._clockRange=void 0,this._clockStep=void 0,this._multiplier=void 0}Object.defineProperties(Ye.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},startTime:(0,Ue.A)("startTime"),stopTime:(0,Ue.A)("stopTime"),currentTime:(0,Ue.A)("currentTime"),clockRange:(0,Ue.A)("clockRange"),clockStep:(0,Ue.A)("clockStep"),multiplier:(0,Ue.A)("multiplier")}),Ye.prototype.clone=function(e){return(0,p.A)(e)||(e=new Ye),e.startTime=this.startTime,e.stopTime=this.stopTime,e.currentTime=this.currentTime,e.clockRange=this.clockRange,e.clockStep=this.clockStep,e.multiplier=this.multiplier,e},Ye.prototype.equals=function(e){return this===e||(0,p.A)(e)&&m.A.equals(this.startTime,e.startTime)&&m.A.equals(this.stopTime,e.stopTime)&&m.A.equals(this.currentTime,e.currentTime)&&this.clockRange===e.clockRange&&this.clockStep===e.clockStep&&this.multiplier===e.multiplier},Ye.prototype.merge=function(e){if(!(0,p.A)(e))throw new S.A("source is required.");this.startTime=this.startTime??e.startTime,this.stopTime=this.stopTime??e.stopTime,this.currentTime=this.currentTime??e.currentTime,this.clockRange=this.clockRange??e.clockRange,this.clockStep=this.clockStep??e.clockStep,this.multiplier=this.multiplier??e.multiplier},Ye.prototype.getValue=function(e){return(0,p.A)(e)||(e=new Ve.A),e.startTime=this.startTime??e.startTime,e.stopTime=this.stopTime??e.stopTime,e.currentTime=this.currentTime??e.currentTime,e.clockRange=this.clockRange??e.clockRange,e.multiplier=this.multiplier??e.multiplier,e.clockStep=this.clockStep??e.clockStep,e};const Ke=Ye;var He=i(132753),ze=i(654986),qe=i(899629);const We=d.A.WHITE,je=new h.A(8,8),Je=new h.A(0,0),Xe=new h.A(1,1);function Ze(e){e=e??g.A.EMPTY_OBJECT,this._definitionChanged=new f.A,this._color=void 0,this._colorSubscription=void 0,this._cellAlpha=void 0,this._cellAlphaSubscription=void 0,this._lineCount=void 0,this._lineCountSubscription=void 0,this._lineThickness=void 0,this._lineThicknessSubscription=void 0,this._lineOffset=void 0,this._lineOffsetSubscription=void 0,this.color=e.color,this.cellAlpha=e.cellAlpha,this.lineCount=e.lineCount,this.lineThickness=e.lineThickness,this.lineOffset=e.lineOffset}Object.defineProperties(Ze.prototype,{isConstant:{get:function(){return y.A.isConstant(this._color)&&y.A.isConstant(this._cellAlpha)&&y.A.isConstant(this._lineCount)&&y.A.isConstant(this._lineThickness)&&y.A.isConstant(this._lineOffset)}},definitionChanged:{get:function(){return this._definitionChanged}},color:(0,_.A)("color"),cellAlpha:(0,_.A)("cellAlpha"),lineCount:(0,_.A)("lineCount"),lineThickness:(0,_.A)("lineThickness"),lineOffset:(0,_.A)("lineOffset")}),Ze.prototype.getType=function(e){return"Grid"};const $e=new m.A;Ze.prototype.getValue=function(e,t){return(0,p.A)(e)||(e=m.A.now($e)),(0,p.A)(t)||(t={}),t.color=y.A.getValueOrClonedDefault(this._color,e,We,t.color),t.cellAlpha=y.A.getValueOrDefault(this._cellAlpha,e,.1),t.lineCount=y.A.getValueOrClonedDefault(this._lineCount,e,je,t.lineCount),t.lineThickness=y.A.getValueOrClonedDefault(this._lineThickness,e,Xe,t.lineThickness),t.lineOffset=y.A.getValueOrClonedDefault(this._lineOffset,e,Je,t.lineOffset),t},Ze.prototype.equals=function(e){return this===e||e instanceof Ze&&y.A.equals(this._color,e._color)&&y.A.equals(this._cellAlpha,e._cellAlpha)&&y.A.equals(this._lineCount,e._lineCount)&&y.A.equals(this._lineThickness,e._lineThickness)&&y.A.equals(this._lineOffset,e._lineOffset)};const et=Ze;var tt=i(612967),it=i(280749),nt=i(327458),rt=i(874804),ot=i(423798),st=i(71005),at=i(193189);function lt(e){this._definitionChanged=new f.A,this._color=void 0,this._colorSubscription=void 0,this.color=e}Object.defineProperties(lt.prototype,{isConstant:{get:function(){return y.A.isConstant(this._color)}},definitionChanged:{get:function(){return this._definitionChanged}},color:(0,_.A)("color")}),lt.prototype.getType=function(e){return"PolylineArrow"};const ct=new m.A;lt.prototype.getValue=function(e,t){return(0,p.A)(e)||(e=m.A.now(ct)),(0,p.A)(t)||(t={}),t.color=y.A.getValueOrClonedDefault(this._color,e,d.A.WHITE,t.color),t},lt.prototype.equals=function(e){return this===e||e instanceof lt&&y.A.equals(this._color,e._color)};const At=lt;var ut=i(424620);const ht=d.A.WHITE;function dt(e){e=e??g.A.EMPTY_OBJECT,this._definitionChanged=new f.A,this._color=void 0,this._colorSubscription=void 0,this._glowPower=void 0,this._glowPowerSubscription=void 0,this._taperPower=void 0,this._taperPowerSubscription=void 0,this.color=e.color,this.glowPower=e.glowPower,this.taperPower=e.taperPower}Object.defineProperties(dt.prototype,{isConstant:{get:function(){return y.A.isConstant(this._color)&&y.A.isConstant(this._glow)}},definitionChanged:{get:function(){return this._definitionChanged}},color:(0,_.A)("color"),glowPower:(0,_.A)("glowPower"),taperPower:(0,_.A)("taperPower")}),dt.prototype.getType=function(e){return"PolylineGlow"};const gt=new m.A;dt.prototype.getValue=function(e,t){return(0,p.A)(e)||(e=m.A.now(gt)),(0,p.A)(t)||(t={}),t.color=y.A.getValueOrClonedDefault(this._color,e,ht,t.color),t.glowPower=y.A.getValueOrDefault(this._glowPower,e,.25,t.glowPower),t.taperPower=y.A.getValueOrDefault(this._taperPower,e,1,t.taperPower),t},dt.prototype.equals=function(e){return this===e||e instanceof dt&&y.A.equals(this._color,e._color)&&y.A.equals(this._glowPower,e._glowPower)&&y.A.equals(this._taperPower,e._taperPower)};const pt=dt;var ft=i(998261);const mt=d.A.WHITE,_t=d.A.BLACK;function yt(e){e=e??g.A.EMPTY_OBJECT,this._definitionChanged=new f.A,this._color=void 0,this._colorSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this.color=e.color,this.outlineColor=e.outlineColor,this.outlineWidth=e.outlineWidth}Object.defineProperties(yt.prototype,{isConstant:{get:function(){return y.A.isConstant(this._color)&&y.A.isConstant(this._outlineColor)&&y.A.isConstant(this._outlineWidth)}},definitionChanged:{get:function(){return this._definitionChanged}},color:(0,_.A)("color"),outlineColor:(0,_.A)("outlineColor"),outlineWidth:(0,_.A)("outlineWidth")}),yt.prototype.getType=function(e){return"PolylineOutline"};const wt=new m.A;yt.prototype.getValue=function(e,t){return(0,p.A)(e)||(e=m.A.now(wt)),(0,p.A)(t)||(t={}),t.color=y.A.getValueOrClonedDefault(this._color,e,mt,t.color),t.outlineColor=y.A.getValueOrClonedDefault(this._outlineColor,e,_t,t.outlineColor),t.outlineWidth=y.A.getValueOrDefault(this._outlineWidth,e,1),t},yt.prototype.equals=function(e){return this===e||e instanceof yt&&y.A.equals(this._color,e._color)&&y.A.equals(this._outlineColor,e._outlineColor)&&y.A.equals(this._outlineWidth,e._outlineWidth)};const Ct=yt;var Bt=i(278659),vt=i(354975);function Et(e,t){this._value=void 0,this._definitionChanged=new f.A,this._eventHelper=new vt.A,this._referenceFrame=t??Ee.A.FIXED,this.setValue(e)}Object.defineProperties(Et.prototype,{isConstant:{get:function(){const e=this._value;if(!(0,p.A)(e))return!0;const t=e.length;for(let i=0;i<t;i++)if(!y.A.isConstant(e[i]))return!1;return!0}},definitionChanged:{get:function(){return this._definitionChanged}},referenceFrame:{get:function(){return this._referenceFrame}}});const bt=new m.A;Et.prototype.getValue=function(e,t){return(0,p.A)(e)||(e=m.A.now(bt)),this.getValueInReferenceFrame(e,Ee.A.FIXED,t)},Et.prototype.getValueInReferenceFrame=function(e,t,i){if(!(0,p.A)(e))throw new S.A("time is required.");if(!(0,p.A)(t))throw new S.A("referenceFrame is required.");const n=this._value;if(!(0,p.A)(n))return;const r=n.length;(0,p.A)(i)||(i=new Array(r));let o=0,s=0;for(;o<r;){const r=n[o].getValueInReferenceFrame(e,t,i[o]);(0,p.A)(r)&&(i[s]=r,s++),o++}return i.length=s,i},Et.prototype.setValue=function(e){const t=this._eventHelper;if(t.removeAll(),(0,p.A)(e)){this._value=e.slice();const i=e.length;for(let n=0;n<i;n++){const i=e[n];(0,p.A)(i)&&t.add(i.definitionChanged,Et.prototype._raiseDefinitionChanged,this)}}else this._value=void 0;this._definitionChanged.raiseEvent(this)},Et.prototype.equals=function(e){return this===e||e instanceof Et&&this._referenceFrame===e._referenceFrame&&y.A.arrayEquals(this._value,e._value)},Et.prototype._raiseDefinitionChanged=function(){this._definitionChanged.raiseEvent(this)};const It=Et;function xt(e){this._value=void 0,this._definitionChanged=new f.A,this._eventHelper=new vt.A,this.setValue(e)}Object.defineProperties(xt.prototype,{isConstant:{get:function(){const e=this._value;if(!(0,p.A)(e))return!0;const t=e.length;for(let i=0;i<t;i++)if(!y.A.isConstant(e[i]))return!1;return!0}},definitionChanged:{get:function(){return this._definitionChanged}}});const St=new m.A;xt.prototype.getValue=function(e,t){(0,p.A)(e)||(e=m.A.now(St));const i=this._value;if(!(0,p.A)(i))return;const n=i.length;(0,p.A)(t)||(t=new Array(n));let r=0,o=0;for(;r<n;){const i=this._value[r].getValue(e,t[r]);(0,p.A)(i)&&(t[o]=i,o++),r++}return t.length=o,t},xt.prototype.setValue=function(e){const t=this._eventHelper;if(t.removeAll(),(0,p.A)(e)){this._value=e.slice();const i=e.length;for(let n=0;n<i;n++){const i=e[n];(0,p.A)(i)&&t.add(i.definitionChanged,xt.prototype._raiseDefinitionChanged,this)}}else this._value=void 0;this._definitionChanged.raiseEvent(this)},xt.prototype.equals=function(e){return this===e||e instanceof xt&&y.A.arrayEquals(this._value,e._value)},xt.prototype._raiseDefinitionChanged=function(){this._definitionChanged.raiseEvent(this)};const Tt=xt;var Mt=i(470959),Dt=i(777370),Pt=i(857870);const Ot={packedLength:1,pack:function(e,t,i){if(!(0,p.A)(e))throw new S.A("value is required");if(!(0,p.A)(t))throw new S.A("array is required");return t[i=i??0]=e,t},unpack:function(e,t,i){if(!(0,p.A)(e))throw new S.A("array is required");return e[t=t??0]},convertPackedArrayForInterpolation:function(e,t,i,n){if(!(0,p.A)(e))throw new S.A("packedArray is required");let r;(0,p.A)(n)||(n=[]),t=t??0;for(let o=0,s=(i=i??e.length)-t+1;o<s;o++){const i=e[t+o];0===o||Math.abs(r-i)<Math.PI?n[o]=i:n[o]=i-T.A.TWO_PI,r=i}},unpackInterpolationResult:function(e,t,i,n,r){if(!(0,p.A)(e))throw new S.A("array is required");if(!(0,p.A)(t))throw new S.A("sourceArray is required");return(r=e[0])<0?r+T.A.TWO_PI:r}};var Rt=i(841802),kt=i(94805);const Ft=Object.freeze({HORIZONTAL:0,VERTICAL:1}),Lt=Ft.HORIZONTAL,Qt=d.A.WHITE,Nt=d.A.BLACK;function Gt(e){e=e??g.A.EMPTY_OBJECT,this._definitionChanged=new f.A,this._orientation=void 0,this._orientationSubscription=void 0,this._evenColor=void 0,this._evenColorSubscription=void 0,this._oddColor=void 0,this._oddColorSubscription=void 0,this._offset=void 0,this._offsetSubscription=void 0,this._repeat=void 0,this._repeatSubscription=void 0,this.orientation=e.orientation,this.evenColor=e.evenColor,this.oddColor=e.oddColor,this.offset=e.offset,this.repeat=e.repeat}Object.defineProperties(Gt.prototype,{isConstant:{get:function(){return y.A.isConstant(this._orientation)&&y.A.isConstant(this._evenColor)&&y.A.isConstant(this._oddColor)&&y.A.isConstant(this._offset)&&y.A.isConstant(this._repeat)}},definitionChanged:{get:function(){return this._definitionChanged}},orientation:(0,_.A)("orientation"),evenColor:(0,_.A)("evenColor"),oddColor:(0,_.A)("oddColor"),offset:(0,_.A)("offset"),repeat:(0,_.A)("repeat")}),Gt.prototype.getType=function(e){return"Stripe"};const Vt=new m.A;Gt.prototype.getValue=function(e,t){return(0,p.A)(e)||(e=m.A.now(Vt)),(0,p.A)(t)||(t={}),t.horizontal=y.A.getValueOrDefault(this._orientation,e,Lt)===Ft.HORIZONTAL,t.evenColor=y.A.getValueOrClonedDefault(this._evenColor,e,Qt,t.evenColor),t.oddColor=y.A.getValueOrClonedDefault(this._oddColor,e,Nt,t.oddColor),t.offset=y.A.getValueOrDefault(this._offset,e,0),t.repeat=y.A.getValueOrDefault(this._repeat,e,1),t},Gt.prototype.equals=function(e){return this===e||e instanceof Gt&&y.A.equals(this._orientation,e._orientation)&&y.A.equals(this._evenColor,e._evenColor)&&y.A.equals(this._oddColor,e._oddColor)&&y.A.equals(this._offset,e._offset)&&y.A.equals(this._repeat,e._repeat)};const Ut=Gt;var Yt=i(13346);function Kt(){this._definitionChanged=new f.A,this._intervals=new De.A,this._intervals.changedEvent.addEventListener(Kt.prototype._intervalsChanged,this)}Object.defineProperties(Kt.prototype,{isConstant:{get:function(){return this._intervals.isEmpty}},definitionChanged:{get:function(){return this._definitionChanged}},intervals:{get:function(){return this._intervals}}});const Ht=new m.A;Kt.prototype.getValue=function(e,t){(0,p.A)(e)||(e=m.A.now(Ht));const i=this._intervals.findDataForIntervalContainingDate(e);return(0,p.A)(i)&&"function"==typeof i.clone?i.clone(t):i},Kt.prototype.equals=function(e){return this===e||e instanceof Kt&&this._intervals.equals(e._intervals,y.A.equals)},Kt.prototype._intervalsChanged=function(){this._definitionChanged.raiseEvent(this)};const zt=Kt;var qt=i(331185),Wt=i(543622),jt=i(781745);function Jt(e,t){this._velocityVectorProperty=new jt.A(e,!0),this._subscription=void 0,this._ellipsoid=void 0,this._definitionChanged=new f.A,this.ellipsoid=t??ce.A.default;const i=this;this._velocityVectorProperty.definitionChanged.addEventListener(function(){i._definitionChanged.raiseEvent(i)})}Object.defineProperties(Jt.prototype,{isConstant:{get:function(){return y.A.isConstant(this._velocityVectorProperty)}},definitionChanged:{get:function(){return this._definitionChanged}},position:{get:function(){return this._velocityVectorProperty.position},set:function(e){this._velocityVectorProperty.position=e}},ellipsoid:{get:function(){return this._ellipsoid},set:function(e){this._ellipsoid!==e&&(this._ellipsoid=e,this._definitionChanged.raiseEvent(this))}}});const Xt=new ie.A,Zt=new ie.A,$t=new qt.A,ei=new m.A;Jt.prototype.getValue=function(e,t){(0,p.A)(e)||(e=m.A.now(ei));const i=this._velocityVectorProperty._getValue(e,Zt,Xt);if((0,p.A)(i))return Wt.A.rotationMatrixFromPositionVelocity(Xt,i,this._ellipsoid,$t),Be.A.fromRotationMatrix($t,t)},Jt.prototype.equals=function(e){return this===e||e instanceof Jt&&y.A.equals(this._velocityVectorProperty,e._velocityVectorProperty)&&(this._ellipsoid===e._ellipsoid||this._ellipsoid.equals(e._ellipsoid))};const ti=Jt;var ii=i(685625);const ni={COMPLETE:0,BELOW_ELLIPSOID_HORIZON:1,ABOVE_ELLIPSOID_HORIZON:2,validate:function(e){return e===ni.COMPLETE||e===ni.BELOW_ELLIPSOID_HORIZON||e===ni.ABOVE_ELLIPSOID_HORIZON},toString:function(e){switch(e){case ni.COMPLETE:return"COMPLETE";case ni.BELOW_ELLIPSOID_HORIZON:return"BELOW_ELLIPSOID_HORIZON";case ni.ABOVE_ELLIPSOID_HORIZON:return"ABOVE_ELLIPSOID_HORIZON";default:throw new S.A("SensorVolumePortionToDisplay value is not valid and cannot be converted to a String.")}}},ri=ni;function oi(){}let si;function ai(e,t){return"#"===t[0]&&(t=si+t),Pt.A.fromString(e,t)}function li(e,t,i){if((0,p.A)(i.reference))return ai(t,i.reference);if((0,p.A)(i.velocityReference)){const n=ai(t,i.velocityReference);switch(e){case ie.A:case oi:return new jt.A(n,e===oi);case Be.A:return new ti(n)}}throw new Ie.A(`${JSON.stringify(i)} is not valid CZML.`)}oi.packedLength=ie.A.packedLength,oi.unpack=ie.A.unpack,oi.pack=ie.A.pack;const ci=new ie.A,Ai=new Te,ui=new ne.A,hi=new Me.A,di=new Be.A;function gi(e,t){const i=e.uri??e;return(0,p.A)(t)?t.getDerivedResource({url:i}):be.A.createIfNeeded(i)}function pi(e){const t=e.cartesian;if((0,p.A)(t))return t;const i=e.cartesianVelocity;if((0,p.A)(i))return i;const n=e.unitCartesian;if((0,p.A)(n))return n;const r=e.unitSpherical;if((0,p.A)(r))return function(e){const t=e.length;if(Ai.magnitude=1,2===t)return Ai.clock=e[0],Ai.cone=e[1],ie.A.fromSpherical(Ai,ci),[ci.x,ci.y,ci.z];const i=new Array(t/3*4);for(let n=0,r=0;n<t;n+=3,r+=4)i[r]=e[n],Ai.clock=e[n+1],Ai.cone=e[n+2],ie.A.fromSpherical(Ai,ci),i[r+1]=ci.x,i[r+2]=ci.y,i[r+3]=ci.z;return i}(r);const o=e.spherical;if((0,p.A)(o))return function(e){const t=e.length;if(3===t)return Ai.clock=e[0],Ai.cone=e[1],Ai.magnitude=e[2],ie.A.fromSpherical(Ai,ci),[ci.x,ci.y,ci.z];const i=new Array(t);for(let n=0;n<t;n+=4)i[n]=e[n],Ai.clock=e[n+1],Ai.cone=e[n+2],Ai.magnitude=e[n+3],ie.A.fromSpherical(Ai,ci),i[n+1]=ci.x,i[n+2]=ci.y,i[n+3]=ci.z;return i}(o);const s=e.cartographicRadians;if((0,p.A)(s))return function(e){const t=e.length;if(3===t)return ui.longitude=e[0],ui.latitude=e[1],ui.height=e[2],ce.A.default.cartographicToCartesian(ui,ci),[ci.x,ci.y,ci.z];const i=new Array(t);for(let n=0;n<t;n+=4)i[n]=e[n],ui.longitude=e[n+1],ui.latitude=e[n+2],ui.height=e[n+3],ce.A.default.cartographicToCartesian(ui,ci),i[n+1]=ci.x,i[n+2]=ci.y,i[n+3]=ci.z;return i}(s);const a=e.cartographicDegrees;if((0,p.A)(a))return function(e){const t=e.length;if(3===t)return ui.longitude=T.A.toRadians(e[0]),ui.latitude=T.A.toRadians(e[1]),ui.height=e[2],ce.A.default.cartographicToCartesian(ui,ci),[ci.x,ci.y,ci.z];const i=new Array(t);for(let n=0;n<t;n+=4)i[n]=e[n],ui.longitude=T.A.toRadians(e[n+1]),ui.latitude=T.A.toRadians(e[n+2]),ui.height=e[n+3],ce.A.default.cartographicToCartesian(ui,ci),i[n+1]=ci.x,i[n+2]=ci.y,i[n+3]=ci.z;return i}(a);throw new Ie.A(`${JSON.stringify(e)} is not a valid CZML interval.`)}function fi(e,t){ie.A.unpack(e,t,ci),ie.A.normalize(ci,ci),ie.A.pack(ci,e,t)}function mi(e,t){Be.A.unpack(e,t,di),Be.A.normalize(di,di),Be.A.pack(di,e,t)}function _i(e){return"boolean"==typeof e?Boolean:"number"==typeof e?Number:"string"==typeof e?String:e.hasOwnProperty("array")?Array:e.hasOwnProperty("boolean")?Boolean:e.hasOwnProperty("boundingRectangle")?te.A:e.hasOwnProperty("cartesian2")?h.A:e.hasOwnProperty("cartesian")||e.hasOwnProperty("spherical")||e.hasOwnProperty("cartographicRadians")||e.hasOwnProperty("cartographicDegrees")?ie.A:e.hasOwnProperty("unitCartesian")||e.hasOwnProperty("unitSpherical")?oi:e.hasOwnProperty("rgba")||e.hasOwnProperty("rgbaf")?d.A:e.hasOwnProperty("arcType")?ee.A:e.hasOwnProperty("classificationType")?Pe.A:e.hasOwnProperty("colorBlendMode")?Oe.A:e.hasOwnProperty("cornerType")?se.A:e.hasOwnProperty("heightReference")?Re.Ay:e.hasOwnProperty("horizontalOrigin")?ke.A:e.hasOwnProperty("date")?m.A:e.hasOwnProperty("labelStyle")?Fe.A:e.hasOwnProperty("number")?Number:e.hasOwnProperty("nearFarScalar")?we.A:e.hasOwnProperty("distanceDisplayCondition")?le.A:e.hasOwnProperty("object")||e.hasOwnProperty("value")?Object:e.hasOwnProperty("unitQuaternion")?Be.A:e.hasOwnProperty("shadowMode")?Le.A:e.hasOwnProperty("string")?String:e.hasOwnProperty("stripeOrientation")?Ft:e.hasOwnProperty("wsen")||e.hasOwnProperty("wsenDegrees")?ve.A:e.hasOwnProperty("uri")?Ne:e.hasOwnProperty("verticalOrigin")?Qe.A:Object}const yi={HERMITE:fe,LAGRANGE:_e,LINEAR:ye.A};function wi(e,t){const i=e.interpolationAlgorithm,n=e.interpolationDegree;((0,p.A)(i)||(0,p.A)(n))&&t.setInterpolationOptions({interpolationAlgorithm:yi[i],interpolationDegree:n});const r=e.forwardExtrapolationType;(0,p.A)(r)&&(t.forwardExtrapolationType=Ae.A[r]);const o=e.forwardExtrapolationDuration;(0,p.A)(o)&&(t.forwardExtrapolationDuration=o);const s=e.backwardExtrapolationType;(0,p.A)(s)&&(t.backwardExtrapolationType=Ae.A[s]);const a=e.backwardExtrapolationDuration;(0,p.A)(a)&&(t.backwardExtrapolationDuration=a)}const Ci={iso8601:void 0};function Bi(e){if((0,p.A)(e))return Ci.iso8601=e,Me.A.fromIso8601(Ci)}function vi(e){const t=me.A.MAXIMUM_INTERVAL.clone();return t.data=e,t}function Ei(e){const t=new U.A;return t.intervals.addInterval(vi(e)),t}function bi(e){const t=new z.A(e.referenceFrame);return t.intervals.addInterval(vi(e)),t}function Ii(e,t,i,n,r,o,s){let a,l,c,A=Bi(n.interval);(0,p.A)(r)&&(A=(0,p.A)(A)?Me.A.intersect(A,r,hi):r);const u=!(0,p.A)(n.reference)&&!(0,p.A)(n.velocityReference),g=(0,p.A)(A)&&!A.equals(me.A.MAXIMUM_INTERVAL);if(!0===n.delete)return g?xi(t[i],A):void(t[i]=void 0);let f=!1;if(u){if(l=function(e,t,i){switch(e){case ee.A:return ee.A[t.arcType??t];case Array:return t.array;case Boolean:return t.boolean??t;case te.A:return t.boundingRectangle;case h.A:return t.cartesian2;case ie.A:return pi(t);case oi:return function(e){const t=pi(e);if(3===t.length)return fi(t,0),t;for(let e=1;e<t.length;e+=4)fi(t,e);return t}(t);case d.A:return function(e){let t=e.rgbaf;if((0,p.A)(t))return t;const i=e.rgba;if(!(0,p.A)(i))return;const n=i.length;if(n===d.A.packedLength)return[d.A.byteToFloat(i[0]),d.A.byteToFloat(i[1]),d.A.byteToFloat(i[2]),d.A.byteToFloat(i[3])];t=new Array(n);for(let e=0;e<n;e+=5)t[e]=i[e],t[e+1]=d.A.byteToFloat(i[e+1]),t[e+2]=d.A.byteToFloat(i[e+2]),t[e+3]=d.A.byteToFloat(i[e+3]),t[e+4]=d.A.byteToFloat(i[e+4]);return t}(t);case Pe.A:return Pe.A[t.classificationType??t];case Oe.A:return Oe.A[t.colorBlendMode??t];case se.A:return se.A[t.cornerType??t];case Re.Ay:return Re.Ay[t.heightReference??t];case ke.A:return ke.A[t.horizontalOrigin??t];case Image:return gi(t,i);case m.A:return m.A.fromIso8601(t.date??t);case Fe.A:return Fe.A[t.labelStyle??t];case Number:return t.number??t;case we.A:return t.nearFarScalar;case le.A:return t.distanceDisplayCondition;case Object:return t.object??t.value??t;case Be.A:return function(e){const t=e.unitQuaternion;if((0,p.A)(t)){if(4===t.length)return mi(t,0),t;for(let e=1;e<t.length;e+=5)mi(t,e)}return t}(t);case Ot:return t.number??t;case ri:return ri[t.portionToDisplay??t];case Le.A:return Le.A[t.shadowMode??t.shadows??t];case String:return t.string??t;case Ft:return Ft[t.stripeOrientation??t];case ve.A:return function(e){let t=e.wsen;if((0,p.A)(t))return t;const i=e.wsenDegrees;if(!(0,p.A)(i))return;const n=i.length;if(n===ve.A.packedLength)return[T.A.toRadians(i[0]),T.A.toRadians(i[1]),T.A.toRadians(i[2]),T.A.toRadians(i[3])];t=new Array(n);for(let e=0;e<n;e+=5)t[e]=i[e],t[e+1]=T.A.toRadians(i[e+1]),t[e+2]=T.A.toRadians(i[e+2]),t[e+3]=T.A.toRadians(i[e+3]),t[e+4]=T.A.toRadians(i[e+4]);return t}(t);case Ne:return gi(t,i);case Qe.A:return Qe.A[t.verticalOrigin??t];default:throw new Ie.A(`Unknown CzmlDataSource interval type: ${e}`)}}(e,n,o),!(0,p.A)(l))return;a=e.packedLength??1,c=l.length??1,f=!(0,p.A)(n.array)&&"string"!=typeof l&&c>a&&e!==Object}const _="function"==typeof e.unpack&&e!==Ot;if(!f&&!g)return void(t[i]=u?new W.A(_?e.unpack(l,0):l):li(e,s,n));let y,w=t[i];const C=n.epoch;if((0,p.A)(C)&&(y=m.A.fromIso8601(C)),f&&!g)return w instanceof kt.A||(t[i]=w=new kt.A(e)),w.addSamplesPackedArray(l,y),void wi(n,w);let B;if(!f&&g)return A=A.clone(),A.data=u?_?e.unpack(l,0):l:li(e,s,n),(0,p.A)(w)||(t[i]=w=u?new zt:new U.A),void(u&&w instanceof zt?w.intervals.addInterval(A):w instanceof U.A?(u&&(A.data=new W.A(A.data)),w.intervals.addInterval(A)):(t[i]=w=Ei(w),u&&(A.data=new W.A(A.data)),w.intervals.addInterval(A)));(0,p.A)(w)||(t[i]=w=new U.A),w instanceof U.A||(t[i]=w=Ei(w));const v=w.intervals;B=v.findInterval(A),(0,p.A)(B)&&B.data instanceof kt.A||(B=A.clone(),B.data=new kt.A(e),v.addInterval(B)),B.data.addSamplesPackedArray(l,y),wi(n,B.data)}function xi(e,t){if(e instanceof kt.A)e.removeSamples(t);else if(e instanceof zt)e.intervals.removeInterval(t);else if(e instanceof U.A){const i=e.intervals;for(let e=0;e<i.length;++e){const n=Me.A.intersect(i.get(e),t,hi);n.isEmpty||xi(n.data,t)}return void i.removeInterval(t)}}function Si(e,t,i,n,r,o,s){if((0,p.A)(n))if(Array.isArray(n))for(let a=0,l=n.length;a<l;++a)Ii(e,t,i,n[a],r,o,s);else Ii(e,t,i,n,r,o,s)}function Ti(e,t,i,n,r,o){let s=Bi(i.interval);(0,p.A)(n)&&(s=(0,p.A)(s)?Me.A.intersect(s,n,hi):n);const a=(0,p.A)(i.cartesianVelocity)?1:0,l=ie.A.packedLength*(a+1);let c,A;const u=!(0,p.A)(i.reference),h=(0,p.A)(s)&&!s.equals(me.A.MAXIMUM_INTERVAL);if(!0===i.delete)return h?Mi(e[t],s):void(e[t]=void 0);let d,g=!1;if(u&&((0,p.A)(i.referenceFrame)&&(d=Ee.A[i.referenceFrame]),d=d??Ee.A.FIXED,c=pi(i),A=c.length??1,g=A>l),!g&&!h)return void(e[t]=u?new q.A(ie.A.unpack(c),d):ai(o,i.reference));let f,_=e[t];const y=i.epoch;if((0,p.A)(y)&&(f=m.A.fromIso8601(y)),g&&!h)return _ instanceof Rt.A&&(!(0,p.A)(d)||_.referenceFrame===d)||(e[t]=_=new Rt.A(d,a)),_.addSamplesPackedArray(c,f),void wi(i,_);let w;if(!g&&h)return s=s.clone(),s.data=u?ie.A.unpack(c):ai(o,i.reference),(0,p.A)(_)||(_=u?new Yt.A(d):new z.A(d),e[t]=_),void(u&&_ instanceof Yt.A&&(0,p.A)(d)&&_.referenceFrame===d?_.intervals.addInterval(s):_ instanceof z.A?(u&&(s.data=new q.A(s.data,d)),_.intervals.addInterval(s)):(e[t]=_=bi(_),u&&(s.data=new q.A(s.data,d)),_.intervals.addInterval(s)));(0,p.A)(_)?_ instanceof z.A||(e[t]=_=bi(_)):e[t]=_=new z.A(d);const C=_.intervals;w=C.findInterval(s),(0,p.A)(w)&&w.data instanceof Rt.A&&(!(0,p.A)(d)||w.data.referenceFrame===d)||(w=s.clone(),w.data=new Rt.A(d,a),C.addInterval(w)),w.data.addSamplesPackedArray(c,f),wi(i,w.data)}function Mi(e,t){if(e instanceof Rt.A)e.removeSamples(t);else if(e instanceof Yt.A)e.intervals.removeInterval(t);else if(e instanceof z.A){const i=e.intervals;for(let e=0;e<i.length;++e){const n=Me.A.intersect(i.get(e),t,hi);n.isEmpty||Mi(n.data,t)}return void i.removeInterval(t)}}function Di(e,t,i,n,r,o){if((0,p.A)(i))if(Array.isArray(i))for(let r=0,s=i.length;r<s;++r)Ti(e,t,i[r],n,0,o);else Ti(e,t,i,n,0,o)}function Pi(e,t,i,n){(0,p.A)(i.references)?ki(e,t,i.references,i.interval,n,Tt,U.A):((0,p.A)(i.cartesian2)?i.array=h.A.unpackArray(i.cartesian2):(0,p.A)(i.cartesian)&&(i.array=h.A.unpackArray(i.cartesian)),(0,p.A)(i.array)&&Si(Array,e,t,i,void 0,void 0,n))}function Oi(e,t,i,n,r,o){let s=Bi(i.interval);(0,p.A)(n)&&(s=(0,p.A)(s)?Me.A.intersect(s,n,hi):n);let a,l,c,A=e[t];if((0,p.A)(s)){A instanceof H||(A=new H,e[t]=A);const i=A.intervals;l=i.findInterval({start:s.start,stop:s.stop}),(0,p.A)(l)?a=l.data:(l=s.clone(),i.addInterval(l))}else a=A;(0,p.A)(i.solidColor)?(a instanceof I.A||(a=new I.A),c=i.solidColor,Si(d.A,a,"color",c.color,void 0,void 0,o)):(0,p.A)(i.grid)?(a instanceof et||(a=new et),c=i.grid,Si(d.A,a,"color",c.color,void 0,r,o),Si(Number,a,"cellAlpha",c.cellAlpha,void 0,r,o),Si(h.A,a,"lineCount",c.lineCount,void 0,r,o),Si(h.A,a,"lineThickness",c.lineThickness,void 0,r,o),Si(h.A,a,"lineOffset",c.lineOffset,void 0,r,o)):(0,p.A)(i.image)?(a instanceof tt.A||(a=new tt.A),c=i.image,Si(Image,a,"image",c.image,void 0,r,o),Si(h.A,a,"repeat",c.repeat,void 0,r,o),Si(d.A,a,"color",c.color,void 0,r,o),Si(Boolean,a,"transparent",c.transparent,void 0,r,o)):(0,p.A)(i.stripe)?(a instanceof Ut||(a=new Ut),c=i.stripe,Si(Ft,a,"orientation",c.orientation,void 0,r,o),Si(d.A,a,"evenColor",c.evenColor,void 0,r,o),Si(d.A,a,"oddColor",c.oddColor,void 0,r,o),Si(Number,a,"offset",c.offset,void 0,r,o),Si(Number,a,"repeat",c.repeat,void 0,r,o)):(0,p.A)(i.polylineOutline)?(a instanceof Ct||(a=new Ct),c=i.polylineOutline,Si(d.A,a,"color",c.color,void 0,r,o),Si(d.A,a,"outlineColor",c.outlineColor,void 0,r,o),Si(Number,a,"outlineWidth",c.outlineWidth,void 0,r,o)):(0,p.A)(i.polylineGlow)?(a instanceof pt||(a=new pt),c=i.polylineGlow,Si(d.A,a,"color",c.color,void 0,r,o),Si(Number,a,"glowPower",c.glowPower,void 0,r,o),Si(Number,a,"taperPower",c.taperPower,void 0,r,o)):(0,p.A)(i.polylineArrow)?(a instanceof At||(a=new At),c=i.polylineArrow,Si(d.A,a,"color",c.color,void 0,void 0,o)):(0,p.A)(i.polylineDash)?(a instanceof ut.A||(a=new ut.A),c=i.polylineDash,Si(d.A,a,"color",c.color,void 0,void 0,o),Si(d.A,a,"gapColor",c.gapColor,void 0,void 0,o),Si(Number,a,"dashLength",c.dashLength,void 0,r,o),Si(Number,a,"dashPattern",c.dashPattern,void 0,r,o)):(0,p.A)(i.checkerboard)&&(a instanceof b||(a=new b),c=i.checkerboard,Si(d.A,a,"evenColor",c.evenColor,void 0,r,o),Si(d.A,a,"oddColor",c.oddColor,void 0,r,o),Si(h.A,a,"repeat",c.repeat,void 0,r,o)),(0,p.A)(l)?l.data=a:e[t]=a}function Ri(e,t,i,n,r,o){if((0,p.A)(i))if(Array.isArray(i))for(let s=0,a=i.length;s<a;++s)Oi(e,t,i[s],n,r,o);else Oi(e,t,i,n,r,o)}function ki(e,t,i,n,r,o,s){const a=i.map(function(e){return ai(r,e)});if((0,p.A)(n)){n=Bi(n);let i=e[t];if(!(i instanceof s)){const n=new s;n.intervals.addInterval(vi(i)),e[t]=i=n}n.data=new o(a),i.intervals.addInterval(n)}else e[t]=new o(a)}function Fi(e,t,i,n){const r=i.references;(0,p.A)(r)?ki(e,t,r,i.interval,n,Tt,U.A):Si(Array,e,t,i,void 0,void 0,n)}function Li(e,t,i,n){if((0,p.A)(i))if(Array.isArray(i))for(let r=0,o=i.length;r<o;++r)Fi(e,t,i[r],n);else Fi(e,t,i,n)}function Qi(e,t,i,n){const r=i.references;(0,p.A)(r)?ki(e,t,r,i.interval,n,It,z.A):((0,p.A)(i.cartesian)?i.array=ie.A.unpackArray(i.cartesian):(0,p.A)(i.cartographicRadians)?i.array=ie.A.fromRadiansArrayHeights(i.cartographicRadians,ce.A.default):(0,p.A)(i.cartographicDegrees)&&(i.array=ie.A.fromDegreesArrayHeights(i.cartographicDegrees,ce.A.default)),(0,p.A)(i.array)&&Si(Array,e,t,i,void 0,void 0,n))}function Ni(e,t,i,n){if((0,p.A)(i))if(Array.isArray(i))for(let r=0,o=i.length;r<o;++r)Qi(e,t,i[r],n);else Qi(e,t,i,n)}function Gi(e){return ie.A.unpackArray(e)}function Vi(e){return ie.A.fromRadiansArrayHeights(e,ce.A.default)}function Ui(e){return ie.A.fromDegreesArrayHeights(e,ce.A.default)}function Yi(e,t,i,n){const r=i.references;if((0,p.A)(r)){const o=r.map(function(e){const t={};return ki(t,"positions",e,i.interval,n,It,z.A),t.positions});e[t]=new It(o)}else(0,p.A)(i.cartesian)?i.array=i.cartesian.map(Gi):(0,p.A)(i.cartographicRadians)?i.array=i.cartographicRadians.map(Vi):(0,p.A)(i.cartographicDegrees)&&(i.array=i.cartographicDegrees.map(Ui)),(0,p.A)(i.array)&&Si(Array,e,t,i,void 0,void 0,n)}function Ki(e,t,i,n,r){let o=Bi(t.interval);(0,p.A)(i)&&(o=(0,p.A)(o)?Me.A.intersect(o,i,hi):i);let s=e.nodeTransformations;const a=Object.keys(t);for(let i=0,l=a.length;i<l;++i){const l=a[i];if("interval"===l)continue;const c=t[l];if(!(0,p.A)(c))continue;(0,p.A)(s)||(e.nodeTransformations=s=new Mt.A),s.hasProperty(l)||s.addProperty(l);let A=s[l];(0,p.A)(A)||(s[l]=A=new rt.A),Si(ie.A,A,"translation",c.translation,o,n,r),Si(Be.A,A,"rotation",c.rotation,o,n,r),Si(ie.A,A,"scale",c.scale,o,n,r)}}function Hi(e,t,i,n,r){let o=Bi(t.interval);(0,p.A)(i)&&(o=(0,p.A)(o)?Me.A.intersect(o,i,hi):i);let s=e.articulations;const a=Object.keys(t);for(let i=0,l=a.length;i<l;++i){const l=a[i];if("interval"===l)continue;const c=t[l];(0,p.A)(c)&&((0,p.A)(s)||(e.articulations=s=new Mt.A),s.hasProperty(l)||s.addProperty(l),Si(Number,s,l,c,o,n,r))}}function zi(e){this.polygon=e,this._definitionChanged=new f.A}function qi(e){return e?ee.A.GEODESIC:ee.A.NONE}function Wi(e,t,i,n,r){let o=e.id;if((0,p.A)(o)||(o=(0,x.A)()),si=o,!(0,p.A)(r._version)&&"document"!==o)throw new Ie.A("The first CZML packet is required to be the document object.");if(!0===e.delete)t.removeById(o);else if("document"===o)!function(e,t){const i=e.version;if((0,p.A)(i)&&"string"==typeof i){const e=i.split(".");if(2===e.length){if("1"!==e[0])throw new Ie.A("Cesium only supports CZML version 1.");t._version=i}}if(!(0,p.A)(t._version))throw new Ie.A("CZML version information invalid.  It is expected to be a property on the document object in the <Major>.<Minor> version format.");const n=t._documentPacket;(0,p.A)(e.name)&&(n.name=e.name);const r=e.clock;if((0,p.A)(r)){const e=n.clock;(0,p.A)(e)?(e.interval=r.interval??e.interval,e.currentTime=r.currentTime??e.currentTime,e.range=r.range??e.range,e.step=r.step??e.step,e.multiplier=r.multiplier??e.multiplier):n.clock={interval:r.interval,currentTime:r.currentTime,range:r.range,step:r.step,multiplier:r.multiplier}}}(e,r);else{const r=t.getOrCreateEntity(o),s=e.parent;(0,p.A)(s)&&(r.parent=t.getOrCreateEntity(s));for(let o=i.length-1;o>-1;o--)i[o](r,e,t,n)}si=void 0}function ji(e,t,i,n){if(!(0,p.A)(t))throw new S.A("czml is required.");let r=t,o=(i=i??g.A.EMPTY_OBJECT).sourceUri,s=i.credit;if("string"==typeof s&&(s=new ae.A(s)),e._credit=s,"string"==typeof t||t instanceof be.A){r=(t=be.A.createIfNeeded(t)).fetchJson(),o=o??t.clone();const i=e._resourceCredits,n=t.credits;if((0,p.A)(n)){const e=n.length;for(let t=0;t<e;t++)i.push(n[t])}}return o=be.A.createIfNeeded(o),Ge.A.setLoading(e,!0),Promise.resolve(r).then(function(t){return function(e,t,i,n){Ge.A.setLoading(e,!0);const r=e._entityCollection;n&&(e._version=void 0,e._documentPacket=new Ji,r.removeAll()),Xi._processCzml(t,r,i,void 0,e);let o=function(e){let t;const i=e._documentPacket.clock;if(!(0,p.A)(i)){if(!(0,p.A)(e._clock)){const i=e._entityCollection.computeAvailability();if(!i.start.equals(me.A.MINIMUM_VALUE)){const n=i.start,r=i.stop,o=m.A.secondsDifference(r,n),s=Math.round(o/120);return t=new Ke,t.startTime=m.A.clone(n),t.stopTime=m.A.clone(r),t.clockRange=re.A.LOOP_STOP,t.multiplier=s,t.currentTime=m.A.clone(n),t.clockStep=oe.A.SYSTEM_CLOCK_MULTIPLIER,e._clock=t,!0}}return!1}(0,p.A)(e._clock)?t=e._clock.clone():(t=new Ke,t.startTime=me.A.MINIMUM_VALUE.clone(),t.stopTime=me.A.MAXIMUM_VALUE.clone(),t.currentTime=me.A.MINIMUM_VALUE.clone(),t.clockRange=re.A.LOOP_STOP,t.clockStep=oe.A.SYSTEM_CLOCK_MULTIPLIER,t.multiplier=1);const n=Bi(i.interval);return(0,p.A)(n)&&(t.startTime=n.start,t.stopTime=n.stop),(0,p.A)(i.currentTime)&&(t.currentTime=m.A.fromIso8601(i.currentTime)),(0,p.A)(i.range)&&(t.clockRange=re.A[i.range]??re.A.LOOP_STOP),(0,p.A)(i.step)&&(t.clockStep=oe.A[i.step]??oe.A.SYSTEM_CLOCK_MULTIPLIER),(0,p.A)(i.multiplier)&&(t.multiplier=i.multiplier),!t.equals(e._clock)&&(e._clock=t.clone(e._clock),!0)}(e);const s=e._documentPacket;return(0,p.A)(s.name)&&e._name!==s.name?(e._name=s.name,o=!0):!(0,p.A)(e._name)&&(0,p.A)(i)&&(e._name=(0,ue.A)(i.getUrlComponent()),o=!0),Ge.A.setLoading(e,!1),o&&e._changed.raiseEvent(e),e}(e,t,o,n)}).catch(function(t){return Ge.A.setLoading(e,!1),e._error.raiseEvent(e,t),console.log(t),Promise.reject(t)})}function Ji(){this.name=void 0,this.clock=void 0}function Xi(e){this._name=e,this._changed=new f.A,this._error=new f.A,this._isLoading=!1,this._loading=new f.A,this._clock=void 0,this._documentPacket=new Ji,this._version=void 0,this._entityCollection=new D.A(this),this._entityCluster=new qe.A,this._credit=void 0,this._resourceCredits=[]}Object.defineProperties(zi.prototype,{isConstant:{get:function(){const e=this.polygon._positions,t=this.polygon._holes;return(!(0,p.A)(e)||e.isConstant)&&(!(0,p.A)(t)||t.isConstant)}},definitionChanged:{get:function(){return this._definitionChanged}}}),zi.prototype.getValue=function(e,t){let i,n;return(0,p.A)(this.polygon._positions)&&(i=this.polygon._positions.getValue(e)),(0,p.A)(this.polygon._holes)&&(n=this.polygon._holes.getValue(e),(0,p.A)(n)&&(n=n.map(function(e){return new Ce.A(e)}))),(0,p.A)(t)?(t.positions=i,t.holes=n,t):new Ce.A(i,n)},zi.prototype.equals=function(e){return this===e||e instanceof zi&&y.A.equals(this.polygon._positions,e.polygon._positions)&&y.A.equals(this.polygon._holes,e.polygon._holes)},Xi.load=function(e,t){return(new Xi).load(e,t)},Object.defineProperties(Xi.prototype,{name:{get:function(){return this._name}},clock:{get:function(){return this._clock}},entities:{get:function(){return this._entityCollection}},isLoading:{get:function(){return this._isLoading}},changedEvent:{get:function(){return this._changed}},errorEvent:{get:function(){return this._error}},loadingEvent:{get:function(){return this._loading}},show:{get:function(){return this._entityCollection.show},set:function(e){this._entityCollection.show=e}},clustering:{get:function(){return this._entityCluster},set:function(e){if(!(0,p.A)(e))throw new S.A("value must be defined.");this._entityCluster=e}},credit:{get:function(){return this._credit}}}),Xi.updaters=[function(e,t,i,r){const o=t.billboard;if(!(0,p.A)(o))return;const s=Bi(o.interval);let a=e.billboard;(0,p.A)(a)||(e.billboard=a=new n.A),Si(Boolean,a,"show",o.show,s,r,i),Si(Image,a,"image",o.image,s,r,i),Si(Number,a,"scale",o.scale,s,r,i),Si(h.A,a,"pixelOffset",o.pixelOffset,s,r,i),Si(ie.A,a,"eyeOffset",o.eyeOffset,s,r,i),Si(ke.A,a,"horizontalOrigin",o.horizontalOrigin,s,r,i),Si(Qe.A,a,"verticalOrigin",o.verticalOrigin,s,r,i),Si(Re.Ay,a,"heightReference",o.heightReference,s,r,i),Si(d.A,a,"color",o.color,s,r,i),Si(Ot,a,"rotation",o.rotation,s,r,i),function(e,t,i,n,r){(0,p.A)(t)&&Si(oi,e,"alignedAxis",t,i,n,r)}(a,o.alignedAxis,s,r,i),Si(Boolean,a,"sizeInMeters",o.sizeInMeters,s,r,i),Si(Number,a,"width",o.width,s,r,i),Si(Number,a,"height",o.height,s,r,i),Si(we.A,a,"scaleByDistance",o.scaleByDistance,s,r,i),Si(we.A,a,"translucencyByDistance",o.translucencyByDistance,s,r,i),Si(we.A,a,"pixelOffsetScaleByDistance",o.pixelOffsetScaleByDistance,s,r,i),Si(te.A,a,"imageSubRegion",o.imageSubRegion,s,r,i),Si(le.A,a,"distanceDisplayCondition",o.distanceDisplayCondition,s,r,i),Si(Number,a,"disableDepthTestDistance",o.disableDepthTestDistance,s,r,i)},function(e,t,i,n){const r=t.box;if(!(0,p.A)(r))return;const o=Bi(r.interval);let s=e.box;(0,p.A)(s)||(e.box=s=new a.A),Si(Boolean,s,"show",r.show,o,n,i),Si(ie.A,s,"dimensions",r.dimensions,o,n,i),Si(Re.Ay,s,"heightReference",r.heightReference,o,n,i),Si(Boolean,s,"fill",r.fill,o,n,i),Ri(s,"material",r.material,o,n,i),Si(Boolean,s,"outline",r.outline,o,n,i),Si(d.A,s,"outlineColor",r.outlineColor,o,n,i),Si(Number,s,"outlineWidth",r.outlineWidth,o,n,i),Si(Le.A,s,"shadows",r.shadows,o,n,i),Si(le.A,s,"distanceDisplayCondition",r.distanceDisplayCondition,o,n,i)},function(e,t,i,n){const r=t.corridor;if(!(0,p.A)(r))return;const o=Bi(r.interval);let s=e.corridor;(0,p.A)(s)||(e.corridor=s=new J.A),Si(Boolean,s,"show",r.show,o,n,i),Ni(s,"positions",r.positions,i),Si(Number,s,"width",r.width,o,n,i),Si(Number,s,"height",r.height,o,n,i),Si(Re.Ay,s,"heightReference",r.heightReference,o,n,i),Si(Number,s,"extrudedHeight",r.extrudedHeight,o,n,i),Si(Re.Ay,s,"extrudedHeightReference",r.extrudedHeightReference,o,n,i),Si(se.A,s,"cornerType",r.cornerType,o,n,i),Si(Number,s,"granularity",r.granularity,o,n,i),Si(Boolean,s,"fill",r.fill,o,n,i),Ri(s,"material",r.material,o,n,i),Si(Boolean,s,"outline",r.outline,o,n,i),Si(d.A,s,"outlineColor",r.outlineColor,o,n,i),Si(Number,s,"outlineWidth",r.outlineWidth,o,n,i),Si(Le.A,s,"shadows",r.shadows,o,n,i),Si(le.A,s,"distanceDisplayCondition",r.distanceDisplayCondition,o,n,i),Si(Pe.A,s,"classificationType",r.classificationType,o,n,i),Si(Number,s,"zIndex",r.zIndex,o,n,i)},function(e,t,i,n){const r=t.cylinder;if(!(0,p.A)(r))return;const o=Bi(r.interval);let s=e.cylinder;(0,p.A)(s)||(e.cylinder=s=new $.A),Si(Boolean,s,"show",r.show,o,n,i),Si(Number,s,"length",r.length,o,n,i),Si(Number,s,"topRadius",r.topRadius,o,n,i),Si(Number,s,"bottomRadius",r.bottomRadius,o,n,i),Si(Re.Ay,s,"heightReference",r.heightReference,o,n,i),Si(Boolean,s,"fill",r.fill,o,n,i),Ri(s,"material",r.material,o,n,i),Si(Boolean,s,"outline",r.outline,o,n,i),Si(d.A,s,"outlineColor",r.outlineColor,o,n,i),Si(Number,s,"outlineWidth",r.outlineWidth,o,n,i),Si(Number,s,"numberOfVerticalLines",r.numberOfVerticalLines,o,n,i),Si(Number,s,"slices",r.slices,o,n,i),Si(Le.A,s,"shadows",r.shadows,o,n,i),Si(le.A,s,"distanceDisplayCondition",r.distanceDisplayCondition,o,n,i)},function(e,t,i,n){const r=t.ellipse;if(!(0,p.A)(r))return;const o=Bi(r.interval);let s=e.ellipse;(0,p.A)(s)||(e.ellipse=s=new He.A),Si(Boolean,s,"show",r.show,o,n,i),Si(Number,s,"semiMajorAxis",r.semiMajorAxis,o,n,i),Si(Number,s,"semiMinorAxis",r.semiMinorAxis,o,n,i),Si(Number,s,"height",r.height,o,n,i),Si(Re.Ay,s,"heightReference",r.heightReference,o,n,i),Si(Number,s,"extrudedHeight",r.extrudedHeight,o,n,i),Si(Re.Ay,s,"extrudedHeightReference",r.extrudedHeightReference,o,n,i),Si(Ot,s,"rotation",r.rotation,o,n,i),Si(Ot,s,"stRotation",r.stRotation,o,n,i),Si(Number,s,"granularity",r.granularity,o,n,i),Si(Boolean,s,"fill",r.fill,o,n,i),Ri(s,"material",r.material,o,n,i),Si(Boolean,s,"outline",r.outline,o,n,i),Si(d.A,s,"outlineColor",r.outlineColor,o,n,i),Si(Number,s,"outlineWidth",r.outlineWidth,o,n,i),Si(Number,s,"numberOfVerticalLines",r.numberOfVerticalLines,o,n,i),Si(Le.A,s,"shadows",r.shadows,o,n,i),Si(le.A,s,"distanceDisplayCondition",r.distanceDisplayCondition,o,n,i),Si(Pe.A,s,"classificationType",r.classificationType,o,n,i),Si(Number,s,"zIndex",r.zIndex,o,n,i)},function(e,t,i,n){const r=t.ellipsoid;if(!(0,p.A)(r))return;const o=Bi(r.interval);let s=e.ellipsoid;(0,p.A)(s)||(e.ellipsoid=s=new ze.A),Si(Boolean,s,"show",r.show,o,n,i),Si(ie.A,s,"radii",r.radii,o,n,i),Si(ie.A,s,"innerRadii",r.innerRadii,o,n,i),Si(Number,s,"minimumClock",r.minimumClock,o,n,i),Si(Number,s,"maximumClock",r.maximumClock,o,n,i),Si(Number,s,"minimumCone",r.minimumCone,o,n,i),Si(Number,s,"maximumCone",r.maximumCone,o,n,i),Si(Re.Ay,s,"heightReference",r.heightReference,o,n,i),Si(Boolean,s,"fill",r.fill,o,n,i),Ri(s,"material",r.material,o,n,i),Si(Boolean,s,"outline",r.outline,o,n,i),Si(d.A,s,"outlineColor",r.outlineColor,o,n,i),Si(Number,s,"outlineWidth",r.outlineWidth,o,n,i),Si(Number,s,"stackPartitions",r.stackPartitions,o,n,i),Si(Number,s,"slicePartitions",r.slicePartitions,o,n,i),Si(Number,s,"subdivisions",r.subdivisions,o,n,i),Si(Le.A,s,"shadows",r.shadows,o,n,i),Si(le.A,s,"distanceDisplayCondition",r.distanceDisplayCondition,o,n,i)},function(e,t,i,n){const r=t.label;if(!(0,p.A)(r))return;const o=Bi(r.interval);let s=e.label;(0,p.A)(s)||(e.label=s=new it.A),Si(Boolean,s,"show",r.show,o,n,i),Si(String,s,"text",r.text,o,n,i),Si(String,s,"font",r.font,o,n,i),Si(Fe.A,s,"style",r.style,o,n,i),Si(Number,s,"scale",r.scale,o,n,i),Si(Boolean,s,"showBackground",r.showBackground,o,n,i),Si(d.A,s,"backgroundColor",r.backgroundColor,o,n,i),Si(h.A,s,"backgroundPadding",r.backgroundPadding,o,n,i),Si(h.A,s,"pixelOffset",r.pixelOffset,o,n,i),Si(ie.A,s,"eyeOffset",r.eyeOffset,o,n,i),Si(ke.A,s,"horizontalOrigin",r.horizontalOrigin,o,n,i),Si(Qe.A,s,"verticalOrigin",r.verticalOrigin,o,n,i),Si(Re.Ay,s,"heightReference",r.heightReference,o,n,i),Si(d.A,s,"fillColor",r.fillColor,o,n,i),Si(d.A,s,"outlineColor",r.outlineColor,o,n,i),Si(Number,s,"outlineWidth",r.outlineWidth,o,n,i),Si(we.A,s,"translucencyByDistance",r.translucencyByDistance,o,n,i),Si(we.A,s,"pixelOffsetScaleByDistance",r.pixelOffsetScaleByDistance,o,n,i),Si(we.A,s,"scaleByDistance",r.scaleByDistance,o,n,i),Si(le.A,s,"distanceDisplayCondition",r.distanceDisplayCondition,o,n,i),Si(Number,s,"disableDepthTestDistance",r.disableDepthTestDistance,o,n,i)},function(e,t,i,n){const r=t.model;if(!(0,p.A)(r))return;const o=Bi(r.interval);let s,a,l=e.model;(0,p.A)(l)||(e.model=l=new nt.A),Si(Boolean,l,"show",r.show,o,n,i),Si(Ne,l,"uri",r.gltf,o,n,i),Si(Number,l,"scale",r.scale,o,n,i),Si(Number,l,"minimumPixelSize",r.minimumPixelSize,o,n,i),Si(Number,l,"maximumScale",r.maximumScale,o,n,i),Si(Boolean,l,"incrementallyLoadTextures",r.incrementallyLoadTextures,o,n,i),Si(Boolean,l,"runAnimations",r.runAnimations,o,n,i),Si(Boolean,l,"clampAnimations",r.clampAnimations,o,n,i),Si(Le.A,l,"shadows",r.shadows,o,n,i),Si(Re.Ay,l,"heightReference",r.heightReference,o,n,i),Si(d.A,l,"silhouetteColor",r.silhouetteColor,o,n,i),Si(Number,l,"silhouetteSize",r.silhouetteSize,o,n,i),Si(d.A,l,"color",r.color,o,n,i),Si(Oe.A,l,"colorBlendMode",r.colorBlendMode,o,n,i),Si(Number,l,"colorBlendAmount",r.colorBlendAmount,o,n,i),Si(le.A,l,"distanceDisplayCondition",r.distanceDisplayCondition,o,n,i);const c=r.nodeTransformations;if((0,p.A)(c))if(Array.isArray(c))for(s=0,a=c.length;s<a;++s)Ki(l,c[s],o,n,i);else Ki(l,c,o,n,i);const A=r.articulations;if((0,p.A)(A))if(Array.isArray(A))for(s=0,a=A.length;s<a;++s)Hi(l,A[s],o,n,i);else Hi(l,A,o,n,i)},function(e,t,i,n){const r=t.name;(0,p.A)(r)&&(e.name=t.name)},function(e,t,i,n){const r=t.description;(0,p.A)(r)&&Si(String,e,"description",r,void 0,n,i)},function(e,t,i,n){const r=t.path;if(!(0,p.A)(r))return;const o=Bi(r.interval);let s=e.path;(0,p.A)(s)||(e.path=s=new ot.A),Si(Boolean,s,"show",r.show,o,n,i),Si(Number,s,"leadTime",r.leadTime,o,n,i),Si(Number,s,"trailTime",r.trailTime,o,n,i),Si(Number,s,"width",r.width,o,n,i),Si(Number,s,"resolution",r.resolution,o,n,i),Ri(s,"material",r.material,o,n,i),Si(le.A,s,"distanceDisplayCondition",r.distanceDisplayCondition,o,n,i)},function(e,t,i,n){const r=t.point;if(!(0,p.A)(r))return;const o=Bi(r.interval);let s=e.point;(0,p.A)(s)||(e.point=s=new st.A),Si(Boolean,s,"show",r.show,o,n,i),Si(Number,s,"pixelSize",r.pixelSize,o,n,i),Si(Re.Ay,s,"heightReference",r.heightReference,o,n,i),Si(d.A,s,"color",r.color,o,n,i),Si(d.A,s,"outlineColor",r.outlineColor,o,n,i),Si(Number,s,"outlineWidth",r.outlineWidth,o,n,i),Si(we.A,s,"scaleByDistance",r.scaleByDistance,o,n,i),Si(we.A,s,"translucencyByDistance",r.translucencyByDistance,o,n,i),Si(le.A,s,"distanceDisplayCondition",r.distanceDisplayCondition,o,n,i),Si(Number,s,"disableDepthTestDistance",r.disableDepthTestDistance,o,n,i)},function(e,t,i,n){const r=t.polygon;if(!(0,p.A)(r))return;const o=Bi(r.interval);let s=e.polygon;(0,p.A)(s)||(e.polygon=s=new at.A),Si(Boolean,s,"show",r.show,o,n,i),Ni(s,"_positions",r.positions,i),function(e,t,i,n){if((0,p.A)(i))if(Array.isArray(i))for(let r=0,o=i.length;r<o;++r)Yi(e,t,i[r],n);else Yi(e,t,i,n)}(s,"_holes",r.holes,i),((0,p.A)(s._positions)||(0,p.A)(s._holes))&&(s.hierarchy=new zi(s)),Si(Number,s,"height",r.height,o,n,i),Si(Re.Ay,s,"heightReference",r.heightReference,o,n,i),Si(Number,s,"extrudedHeight",r.extrudedHeight,o,n,i),Si(Re.Ay,s,"extrudedHeightReference",r.extrudedHeightReference,o,n,i),Si(Ot,s,"stRotation",r.stRotation,o,n,i),Si(Number,s,"granularity",r.granularity,o,n,i),Si(Boolean,s,"fill",r.fill,o,n,i),Ri(s,"material",r.material,o,n,i),Si(Boolean,s,"outline",r.outline,o,n,i),Si(d.A,s,"outlineColor",r.outlineColor,o,n,i),Si(Number,s,"outlineWidth",r.outlineWidth,o,n,i),Si(Boolean,s,"perPositionHeight",r.perPositionHeight,o,n,i),Si(Boolean,s,"closeTop",r.closeTop,o,n,i),Si(Boolean,s,"closeBottom",r.closeBottom,o,n,i),Si(ee.A,s,"arcType",r.arcType,o,n,i),Si(Le.A,s,"shadows",r.shadows,o,n,i),Si(le.A,s,"distanceDisplayCondition",r.distanceDisplayCondition,o,n,i),Si(Pe.A,s,"classificationType",r.classificationType,o,n,i),Si(Number,s,"zIndex",r.zIndex,o,n,i)},function(e,t,i,n){const r=t.polyline;if(!(0,p.A)(r))return;const o=Bi(r.interval);let s=e.polyline;if((0,p.A)(s)||(e.polyline=s=new ft.A),Si(Boolean,s,"show",r.show,o,n,i),Ni(s,"positions",r.positions,i),Si(Number,s,"width",r.width,o,n,i),Si(Number,s,"granularity",r.granularity,o,n,i),Ri(s,"material",r.material,o,n,i),Ri(s,"depthFailMaterial",r.depthFailMaterial,o,n,i),Si(ee.A,s,"arcType",r.arcType,o,n,i),Si(Boolean,s,"clampToGround",r.clampToGround,o,n,i),Si(Le.A,s,"shadows",r.shadows,o,n,i),Si(le.A,s,"distanceDisplayCondition",r.distanceDisplayCondition,o,n,i),Si(Pe.A,s,"classificationType",r.classificationType,o,n,i),Si(Number,s,"zIndex",r.zIndex,o,n,i),(0,p.A)(r.followSurface)&&!(0,p.A)(r.arcType)){const e={};Si(Boolean,e,"followSurface",r.followSurface,o,n,i),s.arcType=(a=e.followSurface,l=qi,new c.A(function(e,t){return l(a.getValue(e,t))},a.isConstant))}var a,l},function(e,t,i,n){const r=t.polylineVolume;if(!(0,p.A)(r))return;const o=Bi(r.interval);let s=e.polylineVolume;(0,p.A)(s)||(e.polylineVolume=s=new Bt.A),Ni(s,"positions",r.positions,i),function(e,t,i,n){if((0,p.A)(i))if(Array.isArray(i))for(let r=0,o=i.length;r<o;r++)Pi(e,t,i[r],n);else Pi(e,t,i,n)}(s,"shape",r.shape,i),Si(Boolean,s,"show",r.show,o,n,i),Si(se.A,s,"cornerType",r.cornerType,o,n,i),Si(Boolean,s,"fill",r.fill,o,n,i),Ri(s,"material",r.material,o,n,i),Si(Boolean,s,"outline",r.outline,o,n,i),Si(d.A,s,"outlineColor",r.outlineColor,o,n,i),Si(Number,s,"outlineWidth",r.outlineWidth,o,n,i),Si(Number,s,"granularity",r.granularity,o,n,i),Si(Le.A,s,"shadows",r.shadows,o,n,i),Si(le.A,s,"distanceDisplayCondition",r.distanceDisplayCondition,o,n,i)},function(e,t,i,n){const r=t.properties;if((0,p.A)(r)){(0,p.A)(e.properties)||(e.properties=new Mt.A);for(const t in r)if(r.hasOwnProperty(t)){e.properties.hasProperty(t)||e.properties.addProperty(t);const o=r[t];if(Array.isArray(o))for(let r=0,s=o.length;r<s;++r)Ii(_i(o[r]),e.properties,t,o[r],void 0,n,i);else Ii(_i(o),e.properties,t,o,void 0,n,i)}}},function(e,t,i,n){const r=t.rectangle;if(!(0,p.A)(r))return;const o=Bi(r.interval);let s=e.rectangle;(0,p.A)(s)||(e.rectangle=s=new Dt.A),Si(Boolean,s,"show",r.show,o,n,i),Si(ve.A,s,"coordinates",r.coordinates,o,n,i),Si(Number,s,"height",r.height,o,n,i),Si(Re.Ay,s,"heightReference",r.heightReference,o,n,i),Si(Number,s,"extrudedHeight",r.extrudedHeight,o,n,i),Si(Re.Ay,s,"extrudedHeightReference",r.extrudedHeightReference,o,n,i),Si(Ot,s,"rotation",r.rotation,o,n,i),Si(Ot,s,"stRotation",r.stRotation,o,n,i),Si(Number,s,"granularity",r.granularity,o,n,i),Si(Boolean,s,"fill",r.fill,o,n,i),Ri(s,"material",r.material,o,n,i),Si(Boolean,s,"outline",r.outline,o,n,i),Si(d.A,s,"outlineColor",r.outlineColor,o,n,i),Si(Number,s,"outlineWidth",r.outlineWidth,o,n,i),Si(Le.A,s,"shadows",r.shadows,o,n,i),Si(le.A,s,"distanceDisplayCondition",r.distanceDisplayCondition,o,n,i),Si(Pe.A,s,"classificationType",r.classificationType,o,n,i),Si(Number,s,"zIndex",r.zIndex,o,n,i)},function(e,t,i,n){const r=t.position;(0,p.A)(r)&&Di(e,"position",r,void 0,0,i)},function(e,t,i,n){const r=t.tileset;if(!(0,p.A)(r))return;const o=Bi(r.interval);let s=e.tileset;(0,p.A)(s)||(e.tileset=s=new A.A),Si(Boolean,s,"show",r.show,o,n,i),Si(Ne,s,"uri",r.uri,o,n,i),Si(Number,s,"maximumScreenSpaceError",r.maximumScreenSpaceError,o,n,i)},function(e,t,i,n){const r=t.viewFrom;(0,p.A)(r)&&Si(ie.A,e,"viewFrom",r,void 0,n,i)},function(e,t,i,n){const r=t.wall;if(!(0,p.A)(r))return;const o=Bi(r.interval);let s=e.wall;(0,p.A)(s)||(e.wall=s=new ii.A),Si(Boolean,s,"show",r.show,o,n,i),Ni(s,"positions",r.positions,i),Li(s,"minimumHeights",r.minimumHeights,i),Li(s,"maximumHeights",r.maximumHeights,i),Si(Number,s,"granularity",r.granularity,o,n,i),Si(Boolean,s,"fill",r.fill,o,n,i),Ri(s,"material",r.material,o,n,i),Si(Boolean,s,"outline",r.outline,o,n,i),Si(d.A,s,"outlineColor",r.outlineColor,o,n,i),Si(Number,s,"outlineWidth",r.outlineWidth,o,n,i),Si(Le.A,s,"shadows",r.shadows,o,n,i),Si(le.A,s,"distanceDisplayCondition",r.distanceDisplayCondition,o,n,i)},function(e,t,i,n){const r=t.orientation;(0,p.A)(r)&&Si(Be.A,e,"orientation",r,void 0,n,i)},function(e,t,i,n){const r=t.availability;if(!(0,p.A)(r))return;let o;if(Array.isArray(r))for(let e=0,t=r.length;e<t;++e)(0,p.A)(o)||(o=new De.A),o.addInterval(Bi(r[e]));else o=new De.A,o.addInterval(Bi(r));e.availability=o}],Xi.registerUpdater=function(e){Xi.updaters.includes(e)||Xi.updaters.push(e)},Xi.unregisterUpdater=function(e){if(Xi.updaters.includes(e)){const t=Xi.updaters.indexOf(e);Xi.updaters.splice(t,1)}},Xi.prototype.process=function(e,t){return ji(this,e,t,!1)},Xi.prototype.load=function(e,t){return ji(this,e,t,!0)},Xi.prototype.update=function(e){return!0},Xi.processPacketData=Si,Xi.processPositionPacketData=Di,Xi.processMaterialPacketData=Ri,Xi._processCzml=function(e,t,i,n,r){if(n=n??Xi.updaters,Array.isArray(e))for(let o=0,s=e.length;o<s;++o)Wi(e[o],t,n,i,r);else Wi(e,t,n,i,r)};const Zi=Xi;var $i=i(335557),en=i(720567),tn=i(345747),nn=i(799086),rn=i(584295),on=i(754462),sn=i(226698),an=i(668696),ln=i(286299),cn=i(867211),An=i(253560),un=i(335385),hn=function(e,t){return hn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},hn(e,t)};function dn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}hn(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var gn=function(){return gn=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},gn.apply(this,arguments)};Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var pn=Object.prototype.hasOwnProperty;function fn(e){return"boolean"==typeof e}function mn(e,t){for(var i=e.length-1;i>=0;i--)!0===t(e[i])&&e.splice(i,1)}function _n(e){throw new Error("Unhandled case for value: '".concat(e,"'"))}var yn=/\s+/,wn=function(){function e(e){void 0===e&&(e={}),this.tagName="",this.attrs={},this.innerHTML="",this.tagName=e.tagName||"",this.attrs=e.attrs||{},this.innerHTML=e.innerHtml||e.innerHTML||""}return e.prototype.setTagName=function(e){return this.tagName=e,this},e.prototype.getTagName=function(){return this.tagName},e.prototype.setAttr=function(e,t){return this.getAttrs()[e]=t,this},e.prototype.getAttr=function(e){return this.getAttrs()[e]},e.prototype.setAttrs=function(e){return Object.assign(this.getAttrs(),e),this},e.prototype.getAttrs=function(){return this.attrs},e.prototype.setClass=function(e){return this.setAttr("class",e)},e.prototype.addClass=function(e){for(var t,i=this.getClass(),n=i?i.split(yn):[],r=e.split(yn);t=r.shift();)-1===n.indexOf(t)&&n.push(t);return this.getAttrs().class=n.join(" "),this},e.prototype.removeClass=function(e){for(var t,i=this.getClass(),n=i?i.split(yn):[],r=e.split(yn);n.length&&(t=r.shift());){var o=n.indexOf(t);-1!==o&&n.splice(o,1)}return this.getAttrs().class=n.join(" "),this},e.prototype.getClass=function(){return this.getAttrs().class||""},e.prototype.hasClass=function(e){return-1!==(" "+this.getClass()+" ").indexOf(" "+e+" ")},e.prototype.setInnerHTML=function(e){return this.innerHTML=e,this},e.prototype.setInnerHtml=function(e){return this.setInnerHTML(e)},e.prototype.getInnerHTML=function(){return this.innerHTML||""},e.prototype.getInnerHtml=function(){return this.getInnerHTML()},e.prototype.toAnchorString=function(){var e=this.getTagName(),t=this.buildAttrsStr();return["<",e,t=t?" "+t:"",">",this.getInnerHtml(),"</",e,">"].join("")},e.prototype.buildAttrsStr=function(){var e=this.getAttrs(),t=[];for(var i in e)pn.call(e,i)&&t.push(i+'="'+e[i]+'"');return t.join(" ")},e}();function Cn(e){var t="";return e.scheme&&e.host&&(t+=e.scheme+"://"),e.host&&(t+=e.host),e.path&&(t+="/"+e.path),e.query&&(t+="?"+e.query),e.fragment&&(t+="#"+e.fragment),t}function Bn(e,t,i){var n=t/2,r=Math.ceil(n),o=-1*Math.floor(n),s="";return o<0&&(s=e.substr(o)),e.substr(0,r)+i+s}var vn=function(){function e(e){void 0===e&&(e={}),this.newWindow=!1,this.truncate={},this.className="",this.newWindow=e.newWindow||!1,this.truncate=e.truncate||{},this.className=e.className||""}return e.prototype.build=function(e){return new wn({tagName:"a",attrs:this.createAttrs(e),innerHtml:this.processAnchorText(e.getAnchorText())})},e.prototype.createAttrs=function(e){var t={href:e.getAnchorHref()},i=this.createCssClass(e);return i&&(t.class=i),this.newWindow&&(t.target="_blank",t.rel="noopener noreferrer"),this.truncate.length&&this.truncate.length<e.getAnchorText().length&&(t.title=e.getAnchorHref()),t},e.prototype.createCssClass=function(e){var t=this.className;if(t){for(var i=[t],n=e.getCssClassSuffixes(),r=0,o=n.length;r<o;r++)i.push(t+"-"+n[r]);return i.join(" ")}return""},e.prototype.processAnchorText=function(e){return this.doTruncate(e)},e.prototype.doTruncate=function(e){var t=this.truncate;if(!t.length)return e;var i=t.length,n=t.location;return"smart"===n?function(e,t,i){var n,r;if(null==i?(i="&hellip;",r=3,n=8):(r=i.length,n=i.length),e.length<=t)return e;var o=t-r,s=function(e){var t={},i=e,n=i.match(/^([a-z]+):\/\//i);return n&&(t.scheme=n[1],i=i.slice(n[0].length)),(n=i.match(/^(.*?)(?=(\?|#|\/|$))/i))&&(t.host=n[1],i=i.slice(n[0].length)),(n=i.match(/^\/(.*?)(?=(\?|#|$))/i))&&(t.path=n[1],i=i.slice(n[0].length)),(n=i.match(/^\?(.*?)(?=(#|$))/i))&&(t.query=n[1],i=i.slice(n[0].length)),(n=i.match(/^#(.*?)$/i))&&(t.fragment=n[1]),t}(e);if(s.query){var a=s.query.match(/^(.*?)(?=(\?|#))(.*?)$/i);a&&(s.query=s.query.substr(0,a[1].length),e=Cn(s))}if(e.length<=t)return e;if(s.host&&(s.host=s.host.replace(/^www\./,""),e=Cn(s)),e.length<=t)return e;var l="";if(s.host&&(l+=s.host),l.length>=o)return s.host.length===t?(s.host.substr(0,t-r)+i).substr(0,o+n):Bn(l,o,i).substr(0,o+n);var c="";if(s.path&&(c+="/"+s.path),s.query&&(c+="?"+s.query),c){if((l+c).length>=o)return(l+c).length==t?(l+c).substr(0,t):(l+Bn(c,o-l.length,i)).substr(0,o+n);l+=c}if(s.fragment){var A="#"+s.fragment;if((l+A).length>=o)return(l+A).length==t?(l+A).substr(0,t):(l+Bn(A,o-l.length,i)).substr(0,o+n);l+=A}if(s.scheme&&s.host){var u=s.scheme+"://";if((l+u).length<o)return(u+l).substr(0,t)}if(l.length<=t)return l;var h="";return o>0&&(h=l.substr(-1*Math.floor(o/2))),(l.substr(0,Math.ceil(o/2))+i+h).substr(0,o+n)}(e,i):"middle"===n?function(e,t,i){if(e.length<=t)return e;var n,r;null==i?(i="&hellip;",n=8,r=3):(n=i.length,r=i.length);var o=t-r,s="";return o>0&&(s=e.substr(-1*Math.floor(o/2))),(e.substr(0,Math.ceil(o/2))+i+s).substr(0,o+n)}(e,i):function(e,t){return function(e,t,i){var n;return e.length>t&&(null==i?(i="&hellip;",n=3):n=i.length,e=e.substring(0,t-n)+i),e}(e,t,void 0)}(e,i)},e}(),En=function(){function e(e){this._=null,this.matchedText="",this.offset=0,this.tagBuilder=e.tagBuilder,this.matchedText=e.matchedText,this.offset=e.offset}return e.prototype.getMatchedText=function(){return this.matchedText},e.prototype.setOffset=function(e){this.offset=e},e.prototype.getOffset=function(){return this.offset},e.prototype.getCssClassSuffixes=function(){return[this.type]},e.prototype.buildTag=function(){return this.tagBuilder.build(this)},e}();function bn(e){return e>=65&&e<=90||e>=97&&e<=122}function In(e){return e>=48&&e<=57}function xn(e){return 34==e||39==e}function Sn(e){return e<8232?e<160?e>=9&&e<=13||32==e:e<5760?160==e:5760==e||e>=8192&&e<=8202:e<8287?e>=8232&&e<=8233||8239==e:e<12288?8287==e:12288==e||65279==e}function Tn(e){return e<4800?e<2949?e<2451?e<1425?e<768?e<192?e<169?e<65?e>=48&&e<=57:e>=65&&e<=90||e>=97&&e<=122:e<181?e>=169&&e<=170||174==e:181==e||186==e:e<710?e<216?e>=192&&e<=214:e>=216&&e<=246||e>=248&&e<=705:e<748?e>=710&&e<=721||e>=736&&e<=740:748==e||750==e:e<910?e<895?e<886?e>=768&&e<=884:e>=886&&e<=887||e>=890&&e<=893:e<904?895==e||902==e:e>=904&&e<=906||908==e:e<1155?e<931?e>=910&&e<=929:e>=931&&e<=1013||e>=1015&&e<=1153:e<1369?e>=1155&&e<=1327||e>=1329&&e<=1366:1369==e||e>=1377&&e<=1415:e<1808?e<1552?e<1476?e<1471?e>=1425&&e<=1469:1471==e||e>=1473&&e<=1474:e<1488?e>=1476&&e<=1477||1479==e:e>=1488&&e<=1514||e>=1520&&e<=1522:e<1749?e<1568?e>=1552&&e<=1562:e>=1568&&e<=1641||e>=1646&&e<=1747:e<1770?e>=1749&&e<=1756||e>=1759&&e<=1768:e>=1770&&e<=1788||1791==e:e<2230?e<2042?e<1869?e>=1808&&e<=1866:e>=1869&&e<=1969||e>=1984&&e<=2037:e<2112?2042==e||e>=2048&&e<=2093:e>=2112&&e<=2139||e>=2208&&e<=2228:e<2406?e<2260?e>=2230&&e<=2237:e>=2260&&e<=2273||e>=2275&&e<=2403:e<2437?e>=2406&&e<=2415||e>=2417&&e<=2435:e>=2437&&e<=2444||e>=2447&&e<=2448:e<2693?e<2579?e<2519?e<2486?e<2474?e>=2451&&e<=2472:e>=2474&&e<=2480||2482==e:e<2503?e>=2486&&e<=2489||e>=2492&&e<=2500:e>=2503&&e<=2504||e>=2507&&e<=2510:e<2534?e<2524?2519==e:e>=2524&&e<=2525||e>=2527&&e<=2531:e<2565?e>=2534&&e<=2545||e>=2561&&e<=2563:e>=2565&&e<=2570||e>=2575&&e<=2576:e<2631?e<2613?e<2602?e>=2579&&e<=2600:e>=2602&&e<=2608||e>=2610&&e<=2611:e<2620?e>=2613&&e<=2614||e>=2616&&e<=2617:2620==e||e>=2622&&e<=2626:e<2649?e<2635?e>=2631&&e<=2632:e>=2635&&e<=2637||2641==e:e<2662?e>=2649&&e<=2652||2654==e:e>=2662&&e<=2677||e>=2689&&e<=2691:e<2821?e<2759?e<2730?e<2703?e>=2693&&e<=2701:e>=2703&&e<=2705||e>=2707&&e<=2728:e<2741?e>=2730&&e<=2736||e>=2738&&e<=2739:e>=2741&&e<=2745||e>=2748&&e<=2757:e<2784?e<2763?e>=2759&&e<=2761:e>=2763&&e<=2765||2768==e:e<2809?e>=2784&&e<=2787||e>=2790&&e<=2799:2809==e||e>=2817&&e<=2819:e<2887?e<2858?e<2831?e>=2821&&e<=2828:e>=2831&&e<=2832||e>=2835&&e<=2856:e<2869?e>=2858&&e<=2864||e>=2866&&e<=2867:e>=2869&&e<=2873||e>=2876&&e<=2884:e<2911?e<2902?e>=2887&&e<=2888||e>=2891&&e<=2893:e>=2902&&e<=2903||e>=2908&&e<=2909:e<2929?e>=2911&&e<=2915||e>=2918&&e<=2927:2929==e||e>=2946&&e<=2947:e<3517?e<3205?e<3046?e<2984?e<2969?e<2958?e>=2949&&e<=2954:e>=2958&&e<=2960||e>=2962&&e<=2965:e<2974?e>=2969&&e<=2970||2972==e:e>=2974&&e<=2975||e>=2979&&e<=2980:e<3014?e<2990?e>=2984&&e<=2986:e>=2990&&e<=3001||e>=3006&&e<=3010:e<3024?e>=3014&&e<=3016||e>=3018&&e<=3021:3024==e||3031==e:e<3142?e<3086?e<3072?e>=3046&&e<=3055:e>=3072&&e<=3075||e>=3077&&e<=3084:e<3114?e>=3086&&e<=3088||e>=3090&&e<=3112:e>=3114&&e<=3129||e>=3133&&e<=3140:e<3160?e<3146?e>=3142&&e<=3144:e>=3146&&e<=3149||e>=3157&&e<=3158:e<3174?e>=3160&&e<=3162||e>=3168&&e<=3171:e>=3174&&e<=3183||e>=3200&&e<=3203:e<3333?e<3274?e<3242?e<3214?e>=3205&&e<=3212:e>=3214&&e<=3216||e>=3218&&e<=3240:e<3260?e>=3242&&e<=3251||e>=3253&&e<=3257:e>=3260&&e<=3268||e>=3270&&e<=3272:e<3296?e<3285?e>=3274&&e<=3277:e>=3285&&e<=3286||3294==e:e<3313?e>=3296&&e<=3299||e>=3302&&e<=3311:e>=3313&&e<=3314||e>=3329&&e<=3331:e<3423?e<3389?e<3342?e>=3333&&e<=3340:e>=3342&&e<=3344||e>=3346&&e<=3386:e<3402?e>=3389&&e<=3396||e>=3398&&e<=3400:e>=3402&&e<=3406||e>=3412&&e<=3415:e<3458?e<3430?e>=3423&&e<=3427:e>=3430&&e<=3439||e>=3450&&e<=3455:e<3482?e>=3458&&e<=3459||e>=3461&&e<=3478:e>=3482&&e<=3505||e>=3507&&e<=3515:e<3804?e<3722?e<3570?e<3535?e<3520?3517==e:e>=3520&&e<=3526||3530==e:e<3544?e>=3535&&e<=3540||3542==e:e>=3544&&e<=3551||e>=3558&&e<=3567:e<3664?e<3585?e>=3570&&e<=3571:e>=3585&&e<=3642||e>=3648&&e<=3662:e<3716?e>=3664&&e<=3673||e>=3713&&e<=3714:3716==e||e>=3719&&e<=3720:e<3754?e<3737?e<3725?3722==e:3725==e||e>=3732&&e<=3735:e<3749?e>=3737&&e<=3743||e>=3745&&e<=3747:3749==e||3751==e:e<3776?e<3757?e>=3754&&e<=3755:e>=3757&&e<=3769||e>=3771&&e<=3773:e<3784?e>=3776&&e<=3780||3782==e:e>=3784&&e<=3789||e>=3792&&e<=3801:e<4176?e<3902?e<3872?e<3840?e>=3804&&e<=3807:3840==e||e>=3864&&e<=3865:e<3895?e>=3872&&e<=3881||3893==e:3895==e||3897==e:e<3974?e<3913?e>=3902&&e<=3911:e>=3913&&e<=3948||e>=3953&&e<=3972:e<4038?e>=3974&&e<=3991||e>=3993&&e<=4028:4038==e||e>=4096&&e<=4169:e<4688?e<4301?e<4256?e>=4176&&e<=4253:e>=4256&&e<=4293||4295==e:e<4348?4301==e||e>=4304&&e<=4346:e>=4348&&e<=4680||e>=4682&&e<=4685:e<4746?e<4698?e>=4688&&e<=4694||4696==e:e>=4698&&e<=4701||e>=4704&&e<=4744:e<4786?e>=4746&&e<=4749||e>=4752&&e<=4784:e>=4786&&e<=4789||e>=4792&&e<=4798:e<11035?e<7416?e<6176?e<5873?e<4992?e<4824?e<4802?4800==e:e>=4802&&e<=4805||e>=4808&&e<=4822:e<4888?e>=4824&&e<=4880||e>=4882&&e<=4885:e>=4888&&e<=4954||e>=4957&&e<=4959:e<5121?e<5024?e>=4992&&e<=5007:e>=5024&&e<=5109||e>=5112&&e<=5117:e<5761?e>=5121&&e<=5740||e>=5743&&e<=5759:e>=5761&&e<=5786||e>=5792&&e<=5866:e<6002?e<5920?e<5888?e>=5873&&e<=5880:e>=5888&&e<=5900||e>=5902&&e<=5908:e<5984?e>=5920&&e<=5940||e>=5952&&e<=5971:e>=5984&&e<=5996||e>=5998&&e<=6e3:e<6108?e<6016?e>=6002&&e<=6003:e>=6016&&e<=6099||6103==e:e<6155?e>=6108&&e<=6109||e>=6112&&e<=6121:e>=6155&&e<=6157||e>=6160&&e<=6169:e<6783?e<6512?e<6400?e<6272?e>=6176&&e<=6263:e>=6272&&e<=6314||e>=6320&&e<=6389:e<6448?e>=6400&&e<=6430||e>=6432&&e<=6443:e>=6448&&e<=6459||e>=6470&&e<=6509:e<6608?e<6528?e>=6512&&e<=6516:e>=6528&&e<=6571||e>=6576&&e<=6601:e<6688?e>=6608&&e<=6617||e>=6656&&e<=6683:e>=6688&&e<=6750||e>=6752&&e<=6780:e<7040?e<6832?e<6800?e>=6783&&e<=6793:e>=6800&&e<=6809||6823==e:e<6992?e>=6832&&e<=6846||e>=6912&&e<=6987:e>=6992&&e<=7001||e>=7019&&e<=7027:e<7245?e<7168?e>=7040&&e<=7155:e>=7168&&e<=7223||e>=7232&&e<=7241:e<7376?e>=7245&&e<=7293||e>=7296&&e<=7304:e>=7376&&e<=7378||e>=7380&&e<=7414:e<8450?e<8130?e<8025?e<7960?e<7424?e>=7416&&e<=7417:e>=7424&&e<=7669||e>=7675&&e<=7957:e<8008?e>=7960&&e<=7965||e>=7968&&e<=8005:e>=8008&&e<=8013||e>=8016&&e<=8023:e<8031?e<8027?8025==e:8027==e||8029==e:e<8118?e>=8031&&e<=8061||e>=8064&&e<=8116:e>=8118&&e<=8124||8126==e:e<8205?e<8150?e<8134?e>=8130&&e<=8132:e>=8134&&e<=8140||e>=8144&&e<=8147:e<8178?e>=8150&&e<=8155||e>=8160&&e<=8172:e>=8178&&e<=8180||e>=8182&&e<=8188:e<8305?e<8252?8205==e:8252==e||8265==e:e<8336?8305==e||8319==e:e>=8336&&e<=8348||e>=8400&&e<=8432:e<8579?e<8486?e<8469?e<8455?8450==e:8455==e||e>=8458&&e<=8467:e<8482?8469==e||e>=8473&&e<=8477:8482==e||8484==e:e<8495?e<8488?8486==e:8488==e||e>=8490&&e<=8493:e<8517?e>=8495&&e<=8505||e>=8508&&e<=8511:e>=8517&&e<=8521||8526==e:e<9410?e<9e3?e<8592?e>=8579&&e<=8580:e>=8592&&e<=8703||e>=8986&&e<=8987:e<9193?9e3==e||9167==e:e>=9193&&e<=9203||e>=9208&&e<=9210:e<9723?e<9654?9410==e||e>=9642&&e<=9643:9654==e||9664==e:e<10548?e>=9723&&e<=9726||e>=9728&&e<=10175:e>=10548&&e<=10549||e>=11013&&e<=11015:e<43259?e<12445?e<11688?e<11520?e<11264?e<11088?e>=11035&&e<=11036:11088==e||11093==e:e<11360?e>=11264&&e<=11310||e>=11312&&e<=11358:e>=11360&&e<=11492||e>=11499&&e<=11507:e<11568?e<11559?e>=11520&&e<=11557:11559==e||11565==e:e<11647?e>=11568&&e<=11623||11631==e:e>=11647&&e<=11670||e>=11680&&e<=11686:e<11744?e<11712?e<11696?e>=11688&&e<=11694:e>=11696&&e<=11702||e>=11704&&e<=11710:e<11728?e>=11712&&e<=11718||e>=11720&&e<=11726:e>=11728&&e<=11734||e>=11736&&e<=11742:e<12330?e<11823?e>=11744&&e<=11775:11823==e||e>=12293&&e<=12294:e<12353?e>=12330&&e<=12341||e>=12347&&e<=12349:e>=12353&&e<=12438||e>=12441&&e<=12442:e<42512?e<12951?e<12549?e<12449?e>=12445&&e<=12447:e>=12449&&e<=12538||e>=12540&&e<=12543:e<12704?e>=12549&&e<=12589||e>=12593&&e<=12686:e>=12704&&e<=12730||e>=12784&&e<=12799:e<19968?e<12953?12951==e:12953==e||e>=13312&&e<=19893:e<42192?e>=19968&&e<=40917||e>=40960&&e<=42124:e>=42192&&e<=42237||e>=42240&&e<=42508:e<42891?e<42623?e<42560?e>=42512&&e<=42539:e>=42560&&e<=42610||e>=42612&&e<=42621:e<42775?e>=42623&&e<=42725||e>=42736&&e<=42737:e>=42775&&e<=42783||e>=42786&&e<=42888:e<43072?e<42928?e>=42891&&e<=42926:e>=42928&&e<=42935||e>=42999&&e<=43047:e<43216?e>=43072&&e<=43123||e>=43136&&e<=43205:e>=43216&&e<=43225||e>=43232&&e<=43255:e<55243?e<43744?e<43488?e<43312?e<43261?43259==e:43261==e||e>=43264&&e<=43309:e<43392?e>=43312&&e<=43347||e>=43360&&e<=43388:e>=43392&&e<=43456||e>=43471&&e<=43481:e<43600?e<43520?e>=43488&&e<=43518:e>=43520&&e<=43574||e>=43584&&e<=43597:e<43642?e>=43600&&e<=43609||e>=43616&&e<=43638:e>=43642&&e<=43714||e>=43739&&e<=43741:e<43824?e<43785?e<43762?e>=43744&&e<=43759:e>=43762&&e<=43766||e>=43777&&e<=43782:e<43808?e>=43785&&e<=43790||e>=43793&&e<=43798:e>=43808&&e<=43814||e>=43816&&e<=43822:e<44012?e<43868?e>=43824&&e<=43866:e>=43868&&e<=43877||e>=43888&&e<=44010:e<44032?e>=44012&&e<=44013||e>=44016&&e<=44025:e>=44032&&e<=55203||e>=55216&&e<=55238:e<64848?e<64298?e<64112?e<55296?e>=55243&&e<=55291:e>=55296&&e<=57343||e>=63744&&e<=64109:e<64275?e>=64112&&e<=64217||e>=64256&&e<=64262:e>=64275&&e<=64279||e>=64285&&e<=64296:e<64320?e<64312?e>=64298&&e<=64310:e>=64312&&e<=64316||64318==e:e<64326?e>=64320&&e<=64321||e>=64323&&e<=64324:e>=64326&&e<=64433||e>=64467&&e<=64829:e<65296?e<65024?e<64914?e>=64848&&e<=64911:e>=64914&&e<=64967||e>=65008&&e<=65019:e<65136?e>=65024&&e<=65039||e>=65056&&e<=65071:e>=65136&&e<=65140||e>=65142&&e<=65276:e<65474?e<65345?e>=65296&&e<=65305||e>=65313&&e<=65338:e>=65345&&e<=65370||e>=65382&&e<=65470:e<65490?e>=65474&&e<=65479||e>=65482&&e<=65487:e>=65490&&e<=65495||e>=65498&&e<=65500}function Mn(e){return e<58?e<44?33==e:44==e||46==e:e<63?e>=58&&e<=59:63==e||94==e}function Dn(e){return e<91?40==e:91==e||123==e}function Pn(e){return e<93?41==e:93==e||125==e}var On=/^(?:xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--clchc0ea0b2g2a9gcd|xn--w4r85el8fhu5dnra|travelersinsurance|vermögensberatung|xn--5su34j936bgsg|xn--bck1b9a5dre4c|xn--mgbah1a3hjkrd|xn--mgbai9azgqp6j|xn--mgberp4a5d4ar|xn--xkc2dl3a5ee0h|vermögensberater|xn--fzys8d69uvgm|xn--mgba7c0bbn0a|xn--mgbcpq6gpa1a|xn--xkc2al3hye2a|americanexpress|kerryproperties|sandvikcoromant|xn--i1b6b1a6a2e|xn--kcrx77d1x4a|xn--lgbbat1ad8j|xn--mgba3a4f16a|xn--mgbc0a9azcg|xn--nqv7fs00ema|americanfamily|weatherchannel|xn--54b7fta0cc|xn--6qq986b3xl|xn--80aqecdr1a|xn--b4w605ferd|xn--fiq228c5hs|xn--h2breg3eve|xn--jlq480n2rg|xn--mgba3a3ejt|xn--mgbaam7a8h|xn--mgbayh7gpa|xn--mgbbh1a71e|xn--mgbca7dzdo|xn--mgbi4ecexp|xn--mgbx4cd0ab|xn--rvc1e0am3e|international|lifeinsurance|wolterskluwer|xn--cckwcxetd|xn--eckvdtc9d|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--h2brj9c8c|xn--tiq49xqyj|xn--yfro4i67o|xn--ygbi2ammx|construction|lplfinancial|scholarships|versicherung|xn--3e0b707e|xn--45br5cyl|xn--4dbrk0ce|xn--80adxhks|xn--80asehdb|xn--8y0a063a|xn--gckr3f0f|xn--mgb9awbf|xn--mgbab2bd|xn--mgbgu82a|xn--mgbpl2fh|xn--mgbt3dhd|xn--mk1bu44c|xn--ngbc5azd|xn--ngbe9e0a|xn--ogbpf8fl|xn--qcka1pmc|accountants|barclaycard|blackfriday|blockbuster|bridgestone|calvinklein|contractors|creditunion|engineering|enterprises|investments|kerryhotels|lamborghini|motorcycles|olayangroup|photography|playstation|productions|progressive|redumbrella|williamhill|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--3bst00m|xn--3ds443g|xn--3hcrj9c|xn--42c2d9a|xn--45brj9c|xn--55qw42g|xn--6frz82g|xn--80ao21a|xn--9krt00a|xn--cck2b3b|xn--czr694b|xn--d1acj3b|xn--efvy88h|xn--fct429k|xn--fjq720a|xn--flw351e|xn--g2xx48c|xn--gecrj9c|xn--gk3at1e|xn--h2brj9c|xn--hxt814e|xn--imr513n|xn--j6w193g|xn--jvr189m|xn--kprw13d|xn--kpry57d|xn--mgbbh1a|xn--mgbtx2b|xn--mix891f|xn--nyqy26a|xn--otu796d|xn--pgbs0dh|xn--q9jyb4c|xn--rhqv96g|xn--rovu88b|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--vuq861b|xn--w4rs40l|xn--xhq521b|xn--zfr164b|சிங்கப்பூர்|accountant|apartments|associates|basketball|bnpparibas|boehringer|capitalone|consulting|creditcard|cuisinella|eurovision|extraspace|foundation|healthcare|immobilien|industries|management|mitsubishi|nextdirect|properties|protection|prudential|realestate|republican|restaurant|schaeffler|tatamotors|technology|university|vlaanderen|xn--30rr7y|xn--3pxu8k|xn--45q11c|xn--4gbrim|xn--55qx5d|xn--5tzm5g|xn--80aswg|xn--90a3ac|xn--9dbq2a|xn--9et52u|xn--c2br7g|xn--cg4bki|xn--czrs0t|xn--czru2d|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--io0a7i|xn--kput3i|xn--mxtq1m|xn--o3cw4h|xn--pssy2u|xn--q7ce6a|xn--unup4y|xn--wgbh1c|xn--wgbl6a|xn--y9a3aq|accenture|allfinanz|amsterdam|analytics|aquarelle|barcelona|bloomberg|christmas|community|directory|education|equipment|fairwinds|financial|firestone|fresenius|furniture|goldpoint|hisamitsu|homedepot|homegoods|homesense|institute|insurance|kuokgroup|landrover|lifestyle|marketing|marshalls|melbourne|microsoft|panasonic|pramerica|richardli|shangrila|solutions|statebank|statefarm|stockholm|travelers|vacations|xn--90ais|xn--c1avg|xn--d1alf|xn--e1a4c|xn--fhbei|xn--j1aef|xn--j1amh|xn--l1acc|xn--ngbrx|xn--nqv7f|xn--p1acf|xn--qxa6a|xn--tckwe|xn--vhquv|yodobashi|موريتانيا|abudhabi|airforce|allstate|attorney|barclays|barefoot|bargains|baseball|boutique|bradesco|broadway|brussels|builders|business|capetown|catering|catholic|cipriani|cleaning|clinique|clothing|commbank|computer|delivery|deloitte|democrat|diamonds|discount|discover|download|engineer|ericsson|exchange|feedback|fidelity|firmdale|football|frontier|goodyear|grainger|graphics|hdfcbank|helsinki|holdings|hospital|infiniti|ipiranga|istanbul|jpmorgan|lighting|lundbeck|marriott|mckinsey|memorial|merckmsd|mortgage|observer|partners|pharmacy|pictures|plumbing|property|redstone|reliance|saarland|samsclub|security|services|shopping|softbank|software|stcgroup|supplies|training|vanguard|ventures|verisign|woodside|xn--90ae|xn--node|xn--p1ai|xn--qxam|yokohama|السعودية|abogado|academy|agakhan|alibaba|android|athleta|auction|audible|auspost|banamex|bauhaus|bestbuy|booking|brother|capital|caravan|careers|channel|charity|chintai|citadel|clubmed|college|cologne|company|compare|contact|cooking|corsica|country|coupons|courses|cricket|cruises|dentist|digital|domains|exposed|express|farmers|fashion|ferrari|ferrero|finance|fishing|fitness|flights|florist|flowers|forsale|frogans|fujitsu|gallery|genting|godaddy|grocery|guitars|hamburg|hangout|hitachi|holiday|hosting|hotmail|hyundai|ismaili|jewelry|juniper|kitchen|komatsu|lacaixa|lanxess|lasalle|latrobe|leclerc|limited|lincoln|markets|monster|netbank|netflix|network|neustar|okinawa|organic|origins|philips|pioneer|politie|realtor|recipes|rentals|reviews|rexroth|samsung|sandvik|schmidt|schwarz|science|shiksha|singles|staples|storage|support|surgery|systems|temasek|theater|theatre|tickets|toshiba|trading|walmart|wanggou|watches|weather|website|wedding|whoswho|windows|winners|yamaxun|youtube|zuerich|католик|البحرين|الجزائر|العليان|پاکستان|كاثوليك|இந்தியா|abbott|abbvie|africa|agency|airbus|airtel|alipay|alsace|alstom|amazon|anquan|aramco|author|bayern|beauty|berlin|bharti|bostik|boston|broker|camera|career|casino|center|chanel|chrome|church|circle|claims|clinic|coffee|comsec|condos|coupon|credit|cruise|dating|datsun|dealer|degree|dental|design|direct|doctor|dunlop|dupont|durban|emerck|energy|estate|events|expert|family|flickr|futbol|gallup|garden|george|giving|global|google|gratis|health|hermes|hiphop|hockey|hotels|hughes|imamat|insure|intuit|jaguar|joburg|juegos|kaufen|kindle|kosher|latino|lawyer|lefrak|living|locker|london|luxury|madrid|maison|makeup|market|mattel|mobile|monash|mormon|moscow|museum|nagoya|nissan|nissay|norton|nowruz|office|olayan|online|oracle|orange|otsuka|pfizer|photos|physio|pictet|quebec|racing|realty|reisen|repair|report|review|rogers|ryukyu|safety|sakura|sanofi|school|schule|search|secure|select|shouji|soccer|social|stream|studio|supply|suzuki|swatch|sydney|taipei|taobao|target|tattoo|tennis|tienda|tjmaxx|tkmaxx|toyota|travel|unicom|viajes|viking|villas|virgin|vision|voting|voyage|walter|webcam|xihuan|yachts|yandex|zappos|москва|онлайн|ابوظبي|ارامكو|الاردن|المغرب|امارات|فلسطين|مليسيا|भारतम्|இலங்கை|ファッション|actor|adult|aetna|amfam|amica|apple|archi|audio|autos|azure|baidu|beats|bible|bingo|black|boats|bosch|build|canon|cards|chase|cheap|cisco|citic|click|cloud|coach|codes|crown|cymru|dance|deals|delta|drive|dubai|earth|edeka|email|epson|faith|fedex|final|forex|forum|gallo|games|gifts|gives|glass|globo|gmail|green|gripe|group|gucci|guide|homes|honda|horse|house|hyatt|ikano|irish|jetzt|koeln|kyoto|lamer|lease|legal|lexus|lilly|loans|locus|lotte|lotto|mango|media|miami|money|movie|music|nexus|nikon|ninja|nokia|nowtv|omega|osaka|paris|parts|party|phone|photo|pizza|place|poker|praxi|press|prime|promo|quest|radio|rehab|reise|ricoh|rocks|rodeo|rugby|salon|sener|seven|sharp|shell|shoes|skype|sling|smart|smile|solar|space|sport|stada|store|study|style|sucks|swiss|tatar|tires|tirol|tmall|today|tokyo|tools|toray|total|tours|trade|trust|tunes|tushu|ubank|vegas|video|vodka|volvo|wales|watch|weber|weibo|works|world|xerox|yahoo|ישראל|ایران|بازار|بھارت|سودان|سورية|همراه|भारोत|संगठन|বাংলা|భారత్|ഭാരതം|嘉里大酒店|aarp|able|aero|akdn|ally|amex|arab|army|arpa|arte|asda|asia|audi|auto|baby|band|bank|bbva|beer|best|bike|bing|blog|blue|bofa|bond|book|buzz|cafe|call|camp|care|cars|casa|case|cash|cbre|cern|chat|citi|city|club|cool|coop|cyou|data|date|dclk|deal|dell|desi|diet|dish|docs|dvag|erni|fage|fail|fans|farm|fast|fido|film|fire|fish|flir|food|ford|free|fund|game|gbiz|gent|ggee|gift|gmbh|gold|golf|goog|guge|guru|hair|haus|hdfc|help|here|host|hsbc|icbc|ieee|imdb|immo|info|itau|java|jeep|jobs|jprs|kddi|kids|kiwi|kpmg|kred|land|lego|lgbt|lidl|life|like|limo|link|live|loan|love|ltda|luxe|maif|meet|meme|menu|mini|mint|mobi|moda|moto|name|navy|news|next|nico|nike|ollo|open|page|pars|pccw|pics|ping|pink|play|plus|pohl|porn|post|prod|prof|qpon|read|reit|rent|rest|rich|room|rsvp|ruhr|safe|sale|sarl|save|saxo|scot|seat|seek|sexy|shia|shop|show|silk|sina|site|skin|sncf|sohu|song|sony|spot|star|surf|talk|taxi|team|tech|teva|tiaa|tips|town|toys|tube|vana|visa|viva|vivo|vote|voto|wang|weir|wien|wiki|wine|work|xbox|yoga|zara|zero|zone|дети|сайт|بارت|بيتك|ڀارت|تونس|شبكة|عراق|عمان|موقع|भारत|ভারত|ভাৰত|ਭਾਰਤ|ભારત|ଭାରତ|ಭಾರತ|ලංකා|アマゾン|グーグル|クラウド|ポイント|组织机构|電訊盈科|香格里拉|aaa|abb|abc|aco|ads|aeg|afl|aig|anz|aol|app|art|aws|axa|bar|bbc|bbt|bcg|bcn|bet|bid|bio|biz|bms|bmw|bom|boo|bot|box|buy|bzh|cab|cal|cam|car|cat|cba|cbn|ceo|cfa|cfd|com|cpa|crs|dad|day|dds|dev|dhl|diy|dnp|dog|dot|dtv|dvr|eat|eco|edu|esq|eus|fan|fit|fly|foo|fox|frl|ftr|fun|fyi|gal|gap|gay|gdn|gea|gle|gmo|gmx|goo|gop|got|gov|hbo|hiv|hkt|hot|how|ibm|ice|icu|ifm|inc|ing|ink|int|ist|itv|jcb|jio|jll|jmp|jnj|jot|joy|kfh|kia|kim|kpn|krd|lat|law|lds|llc|llp|lol|lpl|ltd|man|map|mba|med|men|mil|mit|mlb|mls|mma|moe|moi|mom|mov|msd|mtn|mtr|nab|nba|nec|net|new|nfl|ngo|nhk|now|nra|nrw|ntt|nyc|obi|one|ong|onl|ooo|org|ott|ovh|pay|pet|phd|pid|pin|pnc|pro|pru|pub|pwc|red|ren|ril|rio|rip|run|rwe|sap|sas|sbi|sbs|scb|sew|sex|sfr|ski|sky|soy|spa|srl|stc|tab|tax|tci|tdk|tel|thd|tjx|top|trv|tui|tvs|ubs|uno|uol|ups|vet|vig|vin|vip|wed|win|wme|wow|wtc|wtf|xin|xxx|xyz|you|yun|zip|бел|ком|қаз|мкд|мон|орг|рус|срб|укр|հայ|קום|عرب|قطر|كوم|مصر|कॉम|नेट|คอม|ไทย|ລາວ|ストア|セール|みんな|中文网|亚马逊|天主教|我爱你|新加坡|淡马锡|飞利浦|ac|ad|ae|af|ag|ai|al|am|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|ελ|ευ|бг|ею|рф|გე|닷넷|닷컴|삼성|한국|コム|世界|中信|中国|中國|企业|佛山|信息|健康|八卦|公司|公益|台湾|台灣|商城|商店|商标|嘉里|在线|大拿|娱乐|家電|广东|微博|慈善|手机|招聘|政务|政府|新闻|时尚|書籍|机构|游戏|澳門|点看|移动|网址|网店|网站|网络|联通|谷歌|购物|通販|集团|食品|餐厅|香港)$/,Rn=/https?:\/\//i,kn=new RegExp("^"+Rn.source,"i"),Fn=/^(javascript|vbscript):/i,Ln=/^[A-Za-z][-.+A-Za-z0-9]*:(\/\/)?([^:/]*)/,Qn=/^(?:\/\/)?([^/#?:]+)/,Nn=bn;function Gn(e){return bn(e)||In(e)||43===e||45===e||46===e}var Vn=Tn;function Un(e){return 95===e||Vn(e)}function Yn(e){return Tn(e)||((t=e)<91?t<47?t>=35&&t<=43||45==t:t<61?47==t:61==t||64==t:t<95?91==t||93==t:t<123?95==t:t>=123&&t<=126||10003==t)||Mn(e);var t}function Kn(e){return 47===e||63===e||35===e}function Hn(e){return On.test(e.toLowerCase())}var zn=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,qn=/[:/?#]/,Wn=/^(https?:\/\/)?(?:www\.)?/i,jn=/^\/\//,Jn=function(e){function t(t){var i=e.call(this,t)||this;return i.type="url",i.url="",i.urlMatchType="scheme",i.protocolRelativeMatch=!1,i.stripPrefix={scheme:!0,www:!0},i.stripTrailingSlash=!0,i.decodePercentEncoding=!0,i.protocolPrepended=!1,i.urlMatchType=t.urlMatchType,i.url=t.url,i.protocolRelativeMatch=t.protocolRelativeMatch,i.stripPrefix=t.stripPrefix,i.stripTrailingSlash=t.stripTrailingSlash,i.decodePercentEncoding=t.decodePercentEncoding,i}return dn(t,e),t.prototype.getType=function(){return"url"},t.prototype.getUrlMatchType=function(){return this.urlMatchType},t.prototype.getUrl=function(){var e=this.url;return this.protocolRelativeMatch||"scheme"===this.urlMatchType||this.protocolPrepended||(e=this.url="http://"+e,this.protocolPrepended=!0),e},t.prototype.getAnchorHref=function(){return this.getUrl().replace(/&amp;/g,"&")},t.prototype.getAnchorText=function(){var e=this.getMatchedText();return this.protocolRelativeMatch&&(e=e.replace(jn,"")),this.stripPrefix.scheme&&(e=function(e){return e.replace(kn,"")}(e)),this.stripPrefix.www&&(e=function(e){return e.includes("www.")?e.replace(Wn,"$1"):e}(e)),this.stripTrailingSlash&&(e=function(e){return"/"===e.charAt(e.length-1)&&(e=e.slice(0,-1)),e}(e)),this.decodePercentEncoding&&(e=function(e){var t=e.replace(/%(?:22|26|27|3C|3E)/gi,function(e){return"%22"===e?"&quot;":"%26"===e?"&amp;":"%27"===e?"&#39;":"%3C"===e||"%3c"===e?"&lt;":"&gt;"});if(t.includes("%"))try{return decodeURIComponent(t)}catch(e){}return t}(e)),e},t}(En),Xn=/^mailto:/i,Zn=Tn;function $n(e){return Zn(e)||((t=e)<47?t<42?33==t||t>=35&&t<=39:t>=42&&t<=43||45==t:t<63?47==t||61==t:t<94?63==t:t>=94&&t<=96||t>=123&&t<=126);var t}var er=function(e){function t(t){var i=e.call(this,t)||this;return i.type="email",i.email="",i.email=t.email,i}return dn(t,e),t.prototype.getType=function(){return"email"},t.prototype.getEmail=function(){return this.email},t.prototype.getAnchorHref=function(){return"mailto:"+this.email},t.prototype.getAnchorText=function(){return this.email},t}(En);function tr(e){return 95===e||Tn(e)}var ir=["twitter","facebook","instagram","tiktok","youtube"],nr=function(e){function t(t){var i=e.call(this,t)||this;return i.type="hashtag",i.serviceName="twitter",i.hashtag="",i.serviceName=t.serviceName,i.hashtag=t.hashtag,i}return dn(t,e),t.prototype.getType=function(){return"hashtag"},t.prototype.getServiceName=function(){return this.serviceName},t.prototype.getHashtag=function(){return this.hashtag},t.prototype.getAnchorHref=function(){var e=this.serviceName,t=this.hashtag;switch(e){case"twitter":return"https://twitter.com/hashtag/"+t;case"facebook":return"https://www.facebook.com/hashtag/"+t;case"instagram":return"https://instagram.com/explore/tags/"+t;case"tiktok":return"https://www.tiktok.com/tag/"+t;case"youtube":return"https://youtube.com/hashtag/"+t;default:_n(e)}},t.prototype.getAnchorText=function(){return"#"+this.hashtag},t.prototype.getCssClassSuffixes=function(){var t=e.prototype.getCssClassSuffixes.call(this),i=this.getServiceName();return i&&t.push(i),t},t}(En),rr={twitter:/^@\w{1,15}$/,instagram:/^@[_\w]{1,30}$/,soundcloud:/^@[-a-z0-9_]{3,25}$/,tiktok:/^@[.\w]{1,23}[\w]$/,youtube:/^@[-.·\w]{3,30}$/};function or(e){return 45===e||46===e||95===e||bn(e)||In(e)}var sr=["twitter","instagram","soundcloud","tiktok","youtube"],ar=function(e){function t(t){var i=e.call(this,t)||this;return i.type="mention",i.serviceName="twitter",i.mention="",i.mention=t.mention,i.serviceName=t.serviceName,i}return dn(t,e),t.prototype.getType=function(){return"mention"},t.prototype.getMention=function(){return this.mention},t.prototype.getServiceName=function(){return this.serviceName},t.prototype.getAnchorHref=function(){switch(this.serviceName){case"twitter":return"https://twitter.com/"+this.mention;case"instagram":return"https://instagram.com/"+this.mention;case"soundcloud":return"https://soundcloud.com/"+this.mention;case"tiktok":return"https://www.tiktok.com/@"+this.mention;case"youtube":return"https://youtube.com/@"+this.mention;default:_n(this.serviceName)}},t.prototype.getAnchorText=function(){return"@"+this.mention},t.prototype.getCssClassSuffixes=function(){var t=e.prototype.getCssClassSuffixes.call(this),i=this.getServiceName();return i&&t.push(i),t},t}(En),lr=/[-. ()]/,cr=new RegExp("^".concat(/(?:(?:(?:(\+)?\d{1,3}[-. ]?)?\(?\d{3}\)?[-. ]?\d{3}[-. ]?\d{4})|(?:(\+)(?:9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)[-. ]?(?:\d[-. ]?){6,12}\d+))([,;]+[0-9]+#?)*/.source,"|").concat(/(0([1-9]-?[1-9]\d{3}|[1-9]{2}-?\d{3}|[1-9]{2}\d{1}-?\d{2}|[1-9]{2}\d{2}-?\d{1})-?\d{4}|0[789]0-?\d{4}-?\d{4}|050-?\d{4}-?\d{4})/.source,"$"));function Ar(e){return 45===e||46===e||32===e}function ur(e){return 44===e||59===e}var hr=function(e){function t(t){var i=e.call(this,t)||this;return i.type="phone",i.number="",i.plusSign=!1,i.number=t.number,i.plusSign=t.plusSign,i}return dn(t,e),t.prototype.getType=function(){return"phone"},t.prototype.getPhoneNumber=function(){return this.number},t.prototype.getNumber=function(){return this.getPhoneNumber()},t.prototype.getAnchorHref=function(){return"tel:"+(this.plusSign?"+":"")+this.number},t.prototype.getAnchorText=function(){return this.matchedText},t}(En),dr=function(){function e(e,t){this.charIdx=0,this.matches=[],this._stateMachines=[],this.schemeUrlMachinesCount=0,this.text=e,this.tagBuilder=t.tagBuilder,this.stripPrefix=t.stripPrefix,this.stripTrailingSlash=t.stripTrailingSlash,this.decodePercentEncoding=t.decodePercentEncoding,this.hashtagServiceName=t.hashtagServiceName,this.mentionServiceName=t.mentionServiceName}return Object.defineProperty(e.prototype,"stateMachines",{get:function(){return this._stateMachines},enumerable:!1,configurable:!0}),e.prototype.addMachine=function(e){this._stateMachines.push(e),co(e)&&this.schemeUrlMachinesCount++},e.prototype.removeMachine=function(e){this._stateMachines=this._stateMachines.filter(function(t){return t!==e}),co(e)&&this.schemeUrlMachinesCount--},e.prototype.hasSchemeUrlMachine=function(){return this.schemeUrlMachinesCount>0},e}();function gr(e,t,i){var n=e.charIdx;if(35===i)e.addMachine({type:2,startIdx:n,state:28,acceptStateReached:!1});else if(64===i)e.addMachine({type:3,startIdx:n,state:30,acceptStateReached:!1});else if(47===i)e.addMachine(ao(n,11));else if(43===i)e.addMachine(lo(n,37));else if(40===i)e.addMachine(lo(n,32));else{if(In(i)&&(e.addMachine(lo(n,38)),e.addMachine(function(e){return{type:0,startIdx:e,state:13,acceptStateReached:!1,matchType:2,octetsEncountered:1}}(n))),Zn(i)){var r="m"===t.toLowerCase()?15:22;e.addMachine(function(e,t){return{type:1,startIdx:e,state:t,acceptStateReached:!1}}(n,r))}Nn(i)&&e.addMachine(so(n,0)),Tn(i)&&e.addMachine(ao(n,5))}}function pr(e,t,i){58===i?t.state=2:45===i?t.state=1:Gn(i)||e.removeMachine(t)}function fr(e,t,i){var n=e.charIdx;45===i||(47===i?(e.removeMachine(t),e.addMachine(ao(n,11))):Gn(i)?t.state=0:e.removeMachine(t))}function mr(e,t,i){var n=e.charIdx;47===i?t.state=3:46===i?e.removeMachine(t):Vn(i)?(t.state=5,Nn(i)&&e.addMachine(so(n,0))):e.removeMachine(t)}function _r(e,t,i){47===i?t.state=4:Yn(i)?(t.state=10,t.acceptStateReached=!0):no(e,t)}function yr(e,t,i,n){47===n?(t.state=10,t.acceptStateReached=!0):Vn(n)?(t.state=5,t.acceptStateReached=!0):e.removeMachine(t)}function wr(e,t,i){47===i?t.state=12:e.removeMachine(t)}function Cr(e,t,i){Vn(i)?t.state=5:e.removeMachine(t)}function Br(e,t,i){46===i?t.state=7:45===i?t.state=6:58===i?t.state=8:Kn(i)?t.state=10:Un(i)||no(e,t)}function vr(e,t,i,n){45===n||(46===n?no(e,t):Vn(n)?t.state=5:no(e,t))}function Er(e,t,i,n){46===n?no(e,t):Vn(n)?(t.state=5,t.acceptStateReached=!0):no(e,t)}function br(e,t,i){46===i?t.state=14:58===i?t.state=8:In(i)||(Kn(i)?t.state=10:Tn(i)?e.removeMachine(t):no(e,t))}function Ir(e,t,i){In(i)?(t.octetsEncountered++,4===t.octetsEncountered&&(t.acceptStateReached=!0),t.state=13):no(e,t)}function xr(e,t,i){In(i)?t.state=9:no(e,t)}function Sr(e,t,i){In(i)||(Kn(i)?t.state=10:no(e,t))}function Tr(e,t,i){Yn(i)||no(e,t)}function Mr(e,t,i,n){"a"===i.toLowerCase()?t.state=16:Lr(e,t,n)}function Dr(e,t,i,n){"i"===i.toLowerCase()?t.state=17:Lr(e,t,n)}function Pr(e,t,i,n){"l"===i.toLowerCase()?t.state=18:Lr(e,t,n)}function Or(e,t,i,n){"t"===i.toLowerCase()?t.state=19:Lr(e,t,n)}function Rr(e,t,i,n){"o"===i.toLowerCase()?t.state=20:Lr(e,t,n)}function kr(e,t,i){58===i?t.state=21:Lr(e,t,i)}function Fr(e,t,i){$n(i)?t.state=22:e.removeMachine(t)}function Lr(e,t,i){46===i?t.state=23:64===i?t.state=24:$n(i)?t.state=22:e.removeMachine(t)}function Qr(e,t,i){46===i||64===i?e.removeMachine(t):$n(i)?t.state=22:e.removeMachine(t)}function Nr(e,t,i){Vn(i)?t.state=25:e.removeMachine(t)}function Gr(e,t,i){46===i?t.state=27:45===i?t.state=26:Un(i)||no(e,t)}function Vr(e,t,i){45===i||46===i?no(e,t):Un(i)?t.state=25:no(e,t)}function Ur(e,t,i){46===i||45===i?no(e,t):Vn(i)?(t.state=25,t.acceptStateReached=!0):no(e,t)}function Yr(e,t,i){tr(i)?(t.state=29,t.acceptStateReached=!0):e.removeMachine(t)}function Kr(e,t,i){tr(i)||no(e,t)}function Hr(e,t,i){or(i)?(t.state=31,t.acceptStateReached=!0):e.removeMachine(t)}function zr(e,t,i){or(i)||(Tn(i)?e.removeMachine(t):no(e,t))}function qr(e,t,i,n){In(n)?t.state=38:(e.removeMachine(t),gr(e,i,n))}function Wr(e,t,i,n){In(n)?t.state=33:e.removeMachine(t),gr(e,i,n)}function jr(e,t,i){In(i)?t.state=34:e.removeMachine(t)}function Jr(e,t,i){In(i)?t.state=35:e.removeMachine(t)}function Xr(e,t,i){41===i?t.state=36:e.removeMachine(t)}function Zr(e,t,i,n){In(n)?t.state=38:Ar(n)?t.state=39:e.removeMachine(t)}function $r(e,t,i,n){var r=e.charIdx;t.acceptStateReached=!0,ur(n)?t.state=40:35===n?t.state=41:In(n)||(40===n?t.state=32:Ar(n)?t.state=39:(no(e,t),Nn(n)&&e.addMachine(so(r,0))))}function eo(e,t,i,n){In(n)?t.state=38:40===n?t.state=32:(no(e,t),gr(e,i,n))}function to(e,t,i){ur(i)||(35===i?t.state=41:In(i)?t.state=38:no(e,t))}function io(e,t,i){ur(i)?t.state=40:In(i)?e.removeMachine(t):no(e,t)}function no(e,t){var i=e.matches,n=e.text,r=e.charIdx,o=e.tagBuilder,s=e.stripPrefix,a=e.stripTrailingSlash,l=e.decodePercentEncoding,c=e.hashtagServiceName,A=e.mentionServiceName;if(e.removeMachine(t),t.acceptStateReached){var u,h,d=t.startIdx,g=n.slice(t.startIdx,r);switch(g=function(e){for(var t={"(":0,"{":0,"[":0},i=0;i<e.length;i++){var n=e.charAt(i);Dn(o=e.charCodeAt(i))?t[n]++:Pn(o)&&t[oo[n]]--}for(var r=e.length-1;r>=0;){var o;if(n=e.charAt(r),Pn(o=e.charCodeAt(r))){var s=oo[n];if(!(t[s]<0))break;t[s]++,r--}else{if(!Mn(o))break;r--}}return e.slice(0,r+1)}(g),t.type){case 0:if(64===n.charCodeAt(t.startIdx-1))return;switch(t.matchType){case 0:var p=Rn.exec(g);if(p&&(d+=p.index,g=g.slice(p.index)),!function(e){if(Fn.test(e))return!1;var t=e.match(Ln);if(!t)return!1;var i=!!t[1],n=t[2];return!!i||!(-1===n.indexOf(".")||!/[A-Za-z]/.test(n))}(g))return;break;case 1:if(!function(e){var t=e.match(Qn);if(!t)return!1;var i=t[0].split(".");return!(i.length<2||!Hn(i[i.length-1]))}(g))return;break;case 2:if(!function(e){var t=e.split(qn,1)[0];return zn.test(t)}(g))return;break;default:_n(t)}i.push(new Jn({tagBuilder:o,matchedText:g,offset:d,urlMatchType:ro(t.matchType),url:g,protocolRelativeMatch:"//"===g.slice(0,2),stripPrefix:s,stripTrailingSlash:a,decodePercentEncoding:l}));break;case 1:Hn(g.split(".").pop())&&i.push(new er({tagBuilder:o,matchedText:g,offset:d,email:g.replace(Xn,"")}));break;case 2:g.length<=140&&i.push(new nr({tagBuilder:o,matchedText:g,offset:d,serviceName:c,hashtag:g.slice(1)}));break;case 3:h=g,rr[A].test(h)&&i.push(new ar({tagBuilder:o,matchedText:g,offset:d,serviceName:A,mention:g.slice(1)}));break;case 4:if(("+"===(u=g=g.replace(/ +$/g,"")).charAt(0)||lr.test(u))&&cr.test(u)){var f=g.replace(/[^0-9,;#]/g,"");i.push(new hr({tagBuilder:o,matchedText:g,offset:d,number:f,plusSign:"+"===g.charAt(0)}))}break;default:_n(t)}}}function ro(e){switch(e){case 0:return"scheme";case 1:return"tld";case 2:return"ipV4";default:_n(e)}}var oo={")":"(","}":"{","]":"["};function so(e,t){return{type:0,startIdx:e,state:t,acceptStateReached:!1,matchType:0}}function ao(e,t){return{type:0,startIdx:e,state:t,acceptStateReached:!1,matchType:1}}function lo(e,t){return{type:4,startIdx:e,state:t,acceptStateReached:!1}}function co(e){return 0===e.type&&0===e.matchType}var Ao=function(e){void 0===e&&(e={}),this.idx=void 0!==e.idx?e.idx:-1,this.type=e.type||"tag",this.name=e.name||"",this.isOpening=!!e.isOpening,this.isClosing=!!e.isClosing},uo=new Ao,ho=function(e,t){this.charIdx=0,this.state=0,this.currentDataIdx=0,this.currentTag=uo,this.html=e,this.callbacks=t};function go(e,t){"<"===t&&Fo(e)}function po(e,t,i){"!"===t?e.state=13:"/"===t?(e.state=2,e.currentTag=new Ao(gn(gn({},e.currentTag),{isClosing:!0}))):"<"===t?Fo(e):bn(i)?(e.state=3,e.currentTag=new Ao(gn(gn({},e.currentTag),{isOpening:!0}))):(e.state=0,e.currentTag=uo)}function fo(e,t,i){Sn(i)?(e.currentTag=new Ao(gn(gn({},e.currentTag),{name:Qo(e)})),e.state=4):"<"===t?Fo(e):"/"===t?(e.currentTag=new Ao(gn(gn({},e.currentTag),{name:Qo(e)})),e.state=12):">"===t?(e.currentTag=new Ao(gn(gn({},e.currentTag),{name:Qo(e)})),Lo(e)):bn(i)||In(i)||":"===t||ko(e)}function mo(e,t,i){">"===t?ko(e):bn(i)?e.state=3:ko(e)}function _o(e,t,i){var n;Sn(i)||("/"===t?e.state=12:">"===t?Lo(e):"<"===t?Fo(e):"="===t||xn(i)||(n=i)>=0&&n<=31||127==n?ko(e):e.state=5)}function yo(e,t,i){Sn(i)?e.state=6:"/"===t?e.state=12:"="===t?e.state=7:">"===t?Lo(e):"<"===t?Fo(e):xn(i)&&ko(e)}function wo(e,t,i){Sn(i)||("/"===t?e.state=12:"="===t?e.state=7:">"===t?Lo(e):"<"===t?Fo(e):xn(i)?ko(e):e.state=5)}function Co(e,t,i){Sn(i)||('"'===t?e.state=8:"'"===t?e.state=9:/[>=`]/.test(t)?ko(e):"<"===t?Fo(e):e.state=10)}function Bo(e,t){'"'===t&&(e.state=11)}function vo(e,t){"'"===t&&(e.state=11)}function Eo(e,t,i){Sn(i)?e.state=4:">"===t?Lo(e):"<"===t&&Fo(e)}function bo(e,t,i){Sn(i)?e.state=4:"/"===t?e.state=12:">"===t?Lo(e):"<"===t?Fo(e):(e.state=4,function(e){e.charIdx--}(e))}function Io(e,t){">"===t?(e.currentTag=new Ao(gn(gn({},e.currentTag),{isClosing:!0})),Lo(e)):ko(e)}function xo(e){var t=e.html,i=e.charIdx;"--"===t.slice(i,i+2)?(e.charIdx++,e.currentTag=new Ao(gn(gn({},e.currentTag),{type:"comment"})),e.state=14):"DOCTYPE"===t.slice(i,i+7).toUpperCase()?(e.charIdx+=6,e.currentTag=new Ao(gn(gn({},e.currentTag),{type:"doctype"})),e.state=20):ko(e)}function So(e,t){"-"===t?e.state=15:">"===t?ko(e):e.state=16}function To(e,t){"-"===t?e.state=18:">"===t?ko(e):e.state=16}function Mo(e,t){"-"===t&&(e.state=17)}function Do(e,t){e.state="-"===t?18:16}function Po(e,t){">"===t?Lo(e):"!"===t?e.state=19:"-"===t||(e.state=16)}function Oo(e,t){"-"===t?e.state=17:">"===t?Lo(e):e.state=16}function Ro(e,t){">"===t?Lo(e):"<"===t&&Fo(e)}function ko(e){e.state=0,e.currentTag=uo}function Fo(e){e.state=1,e.currentTag=new Ao({idx:e.charIdx})}function Lo(e){var t=e.html.slice(e.currentDataIdx,e.currentTag.idx);t&&e.callbacks.onText(t,e.currentDataIdx);var i=e.currentTag;"comment"===i.type?e.callbacks.onComment(i.idx):"doctype"===i.type?e.callbacks.onDoctype(i.idx):(i.isOpening&&e.callbacks.onOpenTag(i.name,i.idx),i.isClosing&&e.callbacks.onCloseTag(i.name,i.idx)),ko(e),e.currentDataIdx=e.charIdx+1}function Qo(e){var t=e.currentTag.idx+(e.currentTag.isClosing?2:1);return e.html.slice(t,e.charIdx).toLowerCase()}function No(e,t){return e.getOffset()-t.getOffset()}const Go=function(){function e(t){var i,n;void 0===t&&(t={}),this.version=e.version,this.urls={},this.email=!0,this.phone=!0,this.hashtag=!1,this.mention=!1,this.newWindow=!0,this.stripPrefix={scheme:!0,www:!0},this.stripTrailingSlash=!0,this.decodePercentEncoding=!0,this.truncate={length:0,location:"end"},this.className="",this.replaceFn=null,this.context=void 0,this.sanitizeHtml=!1,this.tagBuilder=null,this.urls=(null==(n=t.urls)&&(n=!0),fn(n)?{schemeMatches:n,tldMatches:n,ipV4Matches:n}:{schemeMatches:!fn(n.schemeMatches)||n.schemeMatches,tldMatches:!fn(n.tldMatches)||n.tldMatches,ipV4Matches:!fn(n.ipV4Matches)||n.ipV4Matches}),this.email=fn(t.email)?t.email:this.email,this.phone=fn(t.phone)?t.phone:this.phone,this.hashtag=t.hashtag||this.hashtag,this.mention=t.mention||this.mention,this.newWindow=fn(t.newWindow)?t.newWindow:this.newWindow,this.stripPrefix=(null==(i=t.stripPrefix)&&(i=!0),fn(i)?{scheme:i,www:i}:{scheme:!fn(i.scheme)||i.scheme,www:!fn(i.www)||i.www}),this.stripTrailingSlash=fn(t.stripTrailingSlash)?t.stripTrailingSlash:this.stripTrailingSlash,this.decodePercentEncoding=fn(t.decodePercentEncoding)?t.decodePercentEncoding:this.decodePercentEncoding,this.sanitizeHtml=t.sanitizeHtml||!1;var r=this.mention;if(!1!==r&&-1===sr.indexOf(r))throw new Error("invalid `mention` cfg '".concat(r,"' - see docs"));var o,s=this.hashtag;if(!1!==s&&-1===ir.indexOf(s))throw new Error("invalid `hashtag` cfg '".concat(s,"' - see docs"));this.truncate="number"==typeof(o=t.truncate)?{length:o,location:"end"}:gn({length:Number.POSITIVE_INFINITY,location:"end"},o),this.className=t.className||this.className,this.replaceFn=t.replaceFn||this.replaceFn,this.context=t.context||this}return e.link=function(t,i){return new e(i).link(t)},e.parse=function(t,i){return new e(i).parse(t)},e.prototype.parse=function(e){var t=this,i=["a","style","script"],n=0,r=[];return function(e,t){for(var i=new ho(e,t),n=e.length;i.charIdx<n;){var r=e.charAt(i.charIdx),o=e.charCodeAt(i.charIdx);switch(i.state){case 0:go(i,r);break;case 1:po(i,r,o);break;case 2:mo(i,r,o);break;case 3:fo(i,r,o);break;case 4:_o(i,r,o);break;case 5:yo(i,r,o);break;case 6:wo(i,r,o);break;case 7:Co(i,r,o);break;case 8:Bo(i,r);break;case 9:vo(i,r);break;case 10:Eo(i,r,o);break;case 11:bo(i,r,o);break;case 12:Io(i,r);break;case 13:xo(i);break;case 14:So(i,r);break;case 15:To(i,r);break;case 16:Mo(i,r);break;case 17:Do(i,r);break;case 18:Po(i,r);break;case 19:Oo(i,r);break;case 20:Ro(i,r);break;default:_n(i.state)}i.charIdx++}i.currentDataIdx<i.charIdx&&function(e){var t=e.html.slice(e.currentDataIdx,e.charIdx);e.callbacks.onText(t,e.currentDataIdx),e.currentDataIdx=e.charIdx+1}(i)}(e,{onOpenTag:function(e){i.indexOf(e)>=0&&n++},onText:function(e,i){if(0===n){var o=e.split(/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi),s=i;o.forEach(function(e,i){if(i%2==0){var n=t.parseText(e,s);r.push.apply(r,function(e,t,i){if(i||2===arguments.length)for(var n,r=0,o=t.length;r<o;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))}([],function(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,r,o=i.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}(n),!1))}s+=e.length})}},onCloseTag:function(e){i.indexOf(e)>=0&&(n=Math.max(n-1,0))},onComment:function(){},onDoctype:function(){}}),r=this.compactMatches(r),r=this.removeUnwantedMatches(r)},e.prototype.compactMatches=function(e){e.sort(No);for(var t=0;t<e.length-1;){var i=e[t],n=i.getOffset(),r=i.getMatchedText().length;if(t+1<e.length&&e[t+1].getOffset()===n){var o=e[t+1].getMatchedText().length>r?t:t+1;e.splice(o,1)}else t++}return e},e.prototype.removeUnwantedMatches=function(e){return this.hashtag||mn(e,function(e){return"hashtag"===e.getType()}),this.email||mn(e,function(e){return"email"===e.getType()}),this.phone||mn(e,function(e){return"phone"===e.getType()}),this.mention||mn(e,function(e){return"mention"===e.getType()}),this.urls.schemeMatches||mn(e,function(e){return"url"===e.getType()&&"scheme"===e.getUrlMatchType()}),this.urls.tldMatches||mn(e,function(e){return"url"===e.getType()&&"tld"===e.getUrlMatchType()}),this.urls.ipV4Matches||mn(e,function(e){return"url"===e.getType()&&"ipV4"===e.getUrlMatchType()}),e},e.prototype.parseText=function(e,t){t=t||0;for(var i=function(e,t){for(var i=new dr(e,t);i.charIdx<i.text.length;i.charIdx++){var n=e.charAt(i.charIdx),r=e.charCodeAt(i.charIdx);if(0===i.stateMachines.length)gr(i,n,r);else{for(var o=i.stateMachines.length-1;o>=0;o--){var s=i.stateMachines[o];switch(s.state){case 11:wr(i,s,r);break;case 12:Cr(i,s,r);break;case 0:pr(i,s,r);break;case 1:fr(i,s,r);break;case 2:mr(i,s,r);break;case 3:_r(i,s,r);break;case 4:yr(i,s,0,r);break;case 5:Br(i,s,r);break;case 6:vr(i,s,0,r);break;case 7:Er(i,s,0,r);break;case 13:br(i,s,r);break;case 14:Ir(i,s,r);break;case 8:xr(i,s,r);break;case 9:Sr(i,s,r);break;case 10:Tr(i,s,r);break;case 15:Mr(i,s,n,r);break;case 16:Dr(i,s,n,r);break;case 17:Pr(i,s,n,r);break;case 18:Or(i,s,n,r);break;case 19:Rr(i,s,n,r);break;case 20:kr(i,s,r);break;case 21:Fr(i,s,r);break;case 22:Lr(i,s,r);break;case 23:Qr(i,s,r);break;case 24:Nr(i,s,r);break;case 25:Gr(i,s,r);break;case 26:Vr(i,s,r);break;case 27:Ur(i,s,r);break;case 28:Yr(i,s,r);break;case 29:Kr(i,s,r);break;case 30:Hr(i,s,r);break;case 31:zr(i,s,r);break;case 32:Wr(i,s,n,r);break;case 33:jr(i,s,r);break;case 34:Jr(i,s,r);break;case 35:Xr(i,s,r);break;case 36:Zr(i,s,0,r);break;case 37:qr(i,s,n,r);break;case 38:$r(i,s,0,r);break;case 39:eo(i,s,n,r);break;case 40:to(i,s,r);break;case 41:io(i,s,r);break;default:_n(s.state)}}if(!i.hasSchemeUrlMachine()&&i.charIdx>0&&Nn(r)){var a=i.text.charCodeAt(i.charIdx-1);Nn(a)||i.addMachine(so(i.charIdx,0))}}}for(var l=i.stateMachines.length-1;l>=0;l--)i.stateMachines.forEach(function(e){return no(i,e)});return i.matches}(e,{tagBuilder:this.getTagBuilder(),stripPrefix:this.stripPrefix,stripTrailingSlash:this.stripTrailingSlash,decodePercentEncoding:this.decodePercentEncoding,hashtagServiceName:this.hashtag,mentionServiceName:this.mention||"twitter"}),n=0,r=i.length;n<r;n++)i[n].setOffset(t+i[n].getOffset());return i},e.prototype.link=function(e){if(!e)return"";this.sanitizeHtml&&(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"));for(var t=this.parse(e),i=new Array(2*t.length+1),n=0,r=0,o=t.length;r<o;r++){var s=t[r];i.push(e.substring(n,s.getOffset())),i.push(this.createMatchReturnVal(s)),n=s.getOffset()+s.getMatchedText().length}return i.push(e.substring(n)),i.join("")},e.prototype.createMatchReturnVal=function(e){var t;return this.replaceFn&&(t=this.replaceFn.call(this.context,e)),"string"==typeof t?t:!1===t?e.getMatchedText():t instanceof wn?t.toAnchorString():e.buildTag().toAnchorString()},e.prototype.getTagBuilder=function(){var e=this.tagBuilder;return e||(e=this.tagBuilder=new vn({newWindow:this.newWindow,truncate:this.truncate,className:this.className})),e},e.version="4.1.5",e}();let Vo;"undefined"!=typeof DOMParser&&(Vo=new DOMParser);const Uo=new Go({stripPrefix:!1,email:!1,replaceFn:function(e,t){return"scheme"===t.urlMatchType||"www"===t.urlMatchType}}),Yo=2414016,Ko=16093e3,Ho={gpx:[null,void 0,"http://www.topografix.com/GPX/1/1"]};function zo(e,t){let i=jo(e,"id");return i=(0,p.A)(i)?i:(0,x.A)(),t.getOrCreateEntity(i)}function qo(e){const t=Wo(e,"lon"),i=Wo(e,"lat"),n=Zo(e,"ele",Ho.gpx);return ie.A.fromDegrees(t,i,n)}function Wo(e,t){if(!(0,p.A)(e))return;const i=e.getAttribute(t);if(null!==i){const e=parseFloat(i);return isNaN(e)?void 0:e}}function jo(e,t){if(!(0,p.A)(e))return;const i=e.getAttribute(t);return null!==i?i:void 0}function Jo(e,t,i){if(!(0,p.A)(e))return;const n=e.childNodes,r=n.length;for(let e=0;e<r;e++){const r=n[e];if(r.localName===t&&-1!==i.indexOf(r.namespaceURI))return r}}function Xo(e,t,i){if(!(0,p.A)(e))return;const n=[],r=e.getElementsByTagName(t),o=r.length;for(let e=0;e<o;e++){const o=r[e];o.localName===t&&-1!==i.indexOf(o.namespaceURI)&&n.push(o)}return n}function Zo(e,t,i){const n=Jo(e,t,i);if((0,p.A)(n)){const e=parseFloat(n.textContent);return isNaN(e)?void 0:e}}function $o(e,t,i){const n=Jo(e,t,i);if((0,p.A)(n))return n.textContent.trim()}function es(e){const t=new n.A;return t.width=32,t.height=32,t.scaleByDistance=new we.A(Yo,1,Ko,.1),t.pixelOffsetScaleByDistance=new we.A(Yo,1,Ko,.1),t.verticalOrigin=new W.A(Qe.A.BOTTOM),t.image=e,t}function ts(e){const t=new ft.A;return t.width=4,t.material=new Ct,t.material.color=(0,p.A)(e)?e:d.A.RED,t.material.outlineWidth=2,t.material.outlineColor=d.A.BLACK,t}const is={time:{text:"Time",tag:"time"},comment:{text:"Comment",tag:"cmt"},description:{text:"Description",tag:"desc"},source:{text:"Source",tag:"src"},number:{text:"GPS track/route number",tag:"number"},type:{text:"Type",tag:"type"}};let ns;function rs(e,t){let i,n="";const r=Object.keys(is),o=r.length;for(i=0;i<o;i++){const t=r[i],o=is[t];o.value=$o(e,o.tag,Ho.gpx)??"",(0,p.A)(o.value)&&""!==o.value&&(n=`${n}<p>${o.text}: ${o.value}</p>`)}if(!(0,p.A)(n)||""===n)return;n=Uo.link(n),ns.innerHTML=n;const s=ns.querySelectorAll("a");for(i=0;i<s.length;i++)s[i].setAttribute("target","_blank");const a=d.A.WHITE,l=d.A.BLACK;let c='<div class="cesium-infoBox-description-lighter" style="';return c+="overflow:auto;",c+="word-wrap:break-word;",c+=`background-color:${a.toCssColorString()};`,c+=`color:${l.toCssColorString()};`,c+='">',c+=`${ns.innerHTML}</div>`,ns.innerHTML="",c}function os(e,t,i,n){const r=qo(t),o=zo(t,i);o.position=r;const s=(0,p.A)(n.waypointImage)?n.waypointImage:e._pinBuilder.fromMakiIconId("marker",d.A.RED,32);o.billboard=es(s);const a=$o(t,"name",Ho.gpx);o.name=a,o.label=function(){const e=new it.A;return e.translucencyByDistance=new we.A(3e6,1,5e6,0),e.pixelOffset=new h.A(17,0),e.horizontalOrigin=ke.A.LEFT,e.font="16px sans-serif",e.style=Fe.A.FILL_AND_OUTLINE,e}(),o.label.text=a,o.description=rs(t),n.clampToGround&&(o.billboard.heightReference=Re.Ay.CLAMP_TO_GROUND,o.label.heightReference=Re.Ay.CLAMP_TO_GROUND)}function ss(e){const t={positions:[],times:[]},i=Xo(e,"trkpt",Ho.gpx);let n;for(let e=0;e<i.length;e++){const r=qo(i[e]);t.positions.push(r),n=$o(i[e],"time",Ho.gpx),(0,p.A)(n)&&t.times.push(m.A.fromIso8601(n))}return t}function as(e){const t=Jo(e,"author",Ho.gpx);if((0,p.A)(t)){const e={name:$o(t,"name",Ho.gpx),email:ls(t),link:cs(t)};if((0,p.A)(e.name)||(0,p.A)(e.email)||(0,p.A)(e.link))return e}}function ls(e){const t=Jo(e,"email",Ho.gpx);if((0,p.A)(t))return`${$o(t,"id",Ho.gpx)}@${$o(t,"domain",Ho.gpx)}`}function cs(e){const t=Jo(e,"link",Ho.gpx);if((0,p.A)(t)){const e={href:jo(t,"href"),text:$o(t,"text",Ho.gpx),mimeType:$o(t,"type",Ho.gpx)};if((0,p.A)(e.href)||(0,p.A)(e.text)||(0,p.A)(e.mimeType))return e}}function As(e){const t=Jo(e,"copyright",Ho.gpx);if((0,p.A)(t)){const e={author:jo(t,"author"),year:$o(t,"year",Ho.gpx),license:$o(t,"license",Ho.gpx)};if((0,p.A)(e.author)||(0,p.A)(e.year)||(0,p.A)(e.license))return e}}function us(e){const t=Jo(e,"bounds",Ho.gpx);if((0,p.A)(t)){const e={minLat:Zo(t,"minlat",Ho.gpx),maxLat:Zo(t,"maxlat",Ho.gpx),minLon:Zo(t,"minlon",Ho.gpx),maxLon:Zo(t,"maxlon",Ho.gpx)};if((0,p.A)(e.minLat)||(0,p.A)(e.maxLat)||(0,p.A)(e.minLon)||(0,p.A)(e.maxLon))return e}}"undefined"!=typeof document&&(ns=document.createElement("div"));const hs={wpt:os,rte:function(e,t,i,n){const r=zo(t,i);r.description=rs(t);const o=Xo(t,"rtept",Ho.gpx),s=new Array(o.length);for(let t=0;t<o.length;t++)os(e,o[t],i,n),s[t]=qo(o[t]);r.polyline=ts(n.routeColor),n.clampToGround&&(r.polyline.clampToGround=!0),r.polyline.positions=s},trk:function(e,t,i,n){const r=zo(t,i);r.description=rs(t);const o=Xo(t,"trkseg",Ho.gpx);let s,a=[],l=[],c=!0;const A=new Rt.A;for(let e=0;e<o.length;e++)s=ss(o[e]),a=a.concat(s.positions),s.times.length>0?(l=l.concat(s.times),A.addSamples(l,a),c=c&&!0):c=!1;if(c){const t=(0,p.A)(n.waypointImage)?n.waypointImage:e._pinBuilder.fromMakiIconId("marker",d.A.RED,32);r.billboard=es(t),r.position=A,n.clampToGround&&(r.billboard.heightReference=Re.Ay.CLAMP_TO_GROUND),r.availability=new De.A,r.availability.addInterval(new Me.A({start:l[0],stop:l[l.length-1]}))}r.polyline=ts(n.trackColor),r.polyline.positions=a,n.clampToGround&&(r.polyline.clampToGround=!0)}};function ds(e,t,i){const n=e._entityCollection;n.removeAll();const r=t.documentElement,o=jo(r,"version"),s=jo(r,"creator");let a;const l=function(e){const t=Jo(e,"metadata",Ho.gpx);if((0,p.A)(t)){const e={name:$o(t,"name",Ho.gpx),desc:$o(t,"desc",Ho.gpx),author:as(t),copyright:As(t),link:cs(t),time:$o(t,"time",Ho.gpx),keywords:$o(t,"keywords",Ho.gpx),bounds:us(t)};if((0,p.A)(e.name)||(0,p.A)(e.desc)||(0,p.A)(e.author)||(0,p.A)(e.copyright)||(0,p.A)(e.link)||(0,p.A)(e.time)||(0,p.A)(e.keywords)||(0,p.A)(e.bounds))return e}}(r);let c;(0,p.A)(l)&&(a=l.name),"gpx"===r.localName?function(e,t,i,n){const r=Object.keys(hs),o=r.length;for(let s=0;s<o;s++){const o=r[s],a=hs[o],l=t.childNodes,c=l.length;for(let t=0;t<c;t++){const r=l[t];r.localName===o&&-1!==Ho.gpx.indexOf(r.namespaceURI)&&a(e,r,i,n)}}}(e,r,n,i):console.log(`GPX - Unsupported node: ${r.localName}`);const A=n.computeAvailability();let u=A.start,h=A.stop;const d=m.A.equals(u,me.A.MINIMUM_VALUE),g=m.A.equals(h,me.A.MAXIMUM_VALUE);if(!d||!g){let e;d&&(e=new Date,e.setHours(0,0,0,0),u=m.A.fromDate(e)),g&&(e=new Date,e.setHours(24,0,0,0),h=m.A.fromDate(e)),c=new Ke,c.startTime=u,c.stopTime=h,c.currentTime=m.A.clone(u),c.clockRange=re.A.LOOP_STOP,c.clockStep=oe.A.SYSTEM_CLOCK_MULTIPLIER,c.multiplier=Math.round(Math.min(Math.max(m.A.secondsDifference(h,u)/60,1),31556900))}let f=!1;return e._name!==a&&(e._name=a,f=!0),e._creator!==s&&(e._creator=s,f=!0),_=e._metadata,y=l,!(!(0,p.A)(_)&&!(0,p.A)(y)||(0,p.A)(_)&&(0,p.A)(y)&&_.name===y.name&&_.dec===y.desc&&_.src===y.src&&_.author===y.author&&_.copyright===y.copyright&&_.link===y.link&&_.time===y.time&&_.bounds===y.bounds)&&(e._metadata=l,f=!0),e._version!==o&&(e._version=o,f=!0),c!==e._clock&&(f=!0,e._clock=c),f&&e._changed.raiseEvent(e),Ge.A.setLoading(e,!1),e;var _,y}function gs(){this._changed=new f.A,this._error=new f.A,this._loading=new f.A,this._clock=void 0,this._entityCollection=new D.A(this),this._entityCluster=new qe.A,this._name=void 0,this._version=void 0,this._creator=void 0,this._metadata=void 0,this._isLoading=!1,this._pinBuilder=new un.A}gs.load=function(e,t){return(new gs).load(e,t)},Object.defineProperties(gs.prototype,{name:{get:function(){return this._name}},version:{get:function(){return this._version}},creator:{get:function(){return this._creator}},metadata:{get:function(){return this._metadata}},clock:{get:function(){return this._clock}},entities:{get:function(){return this._entityCollection}},isLoading:{get:function(){return this._isLoading}},changedEvent:{get:function(){return this._changed}},errorEvent:{get:function(){return this._error}},loadingEvent:{get:function(){return this._loading}},show:{get:function(){return this._entityCollection.show},set:function(e){this._entityCollection.show=e}},clustering:{get:function(){return this._entityCluster},set:function(e){if(!(0,p.A)(e))throw new S.A("value must be defined.");this._entityCluster=e}}}),gs.prototype.update=function(e){return!0},gs.prototype.load=function(e,t){if(!(0,p.A)(e))throw new S.A("data is required.");t=t??g.A.EMPTY_OBJECT,Ge.A.setLoading(this,!0);const i=this._name,n=this;return function(e,t,i,n){n=n??g.A.EMPTY_OBJECT;let r=i;if("string"==typeof i||i instanceof be.A){r=(i=be.A.createIfNeeded(i)).fetchBlob();const t=e._resourceCredits,n=i.credits;if((0,p.A)(n)){const e=n.length;for(let i=0;i<e;i++)t.push(n[i])}}return Promise.resolve(r).then(function(t){return t instanceof Blob?(i=t,new Promise((e,t)=>{const n=new FileReader;n.addEventListener("load",function(){e(n.result)}),n.addEventListener("error",function(){t(n.error)}),n.readAsText(i)})).then(function(t){let i,r;try{i=Vo.parseFromString(t,"application/xml")}catch(e){r=e.toString()}if((0,p.A)(r)||i.body||"parsererror"===i.documentElement.tagName){let e=(0,p.A)(r)?r:i.documentElement.firstChild.nodeValue;throw e||(e=i.body.innerText),new Ie.A(e)}return ds(e,i,n)}):ds(e,t,n);var i}).catch(function(t){return e._error.raiseEvent(e,t),console.log(t),Promise.reject(t)})}(this,this._entityCollection,e,t).then(function(){let e;const t=n._entityCollection.computeAvailability();let r=t.start,o=t.stop;const s=m.A.equals(r,me.A.MINIMUM_VALUE),a=m.A.equals(o,me.A.MAXIMUM_VALUE);if(!s||!a){let t;s&&(t=new Date,t.setHours(0,0,0,0),r=m.A.fromDate(t)),a&&(t=new Date,t.setHours(24,0,0,0),o=m.A.fromDate(t)),e=new Ke,e.startTime=r,e.stopTime=o,e.currentTime=m.A.clone(r),e.clockRange=re.A.LOOP_STOP,e.clockStep=oe.A.SYSTEM_CLOCK_MULTIPLIER,e.multiplier=Math.round(Math.min(Math.max(m.A.secondsDifference(o,r)/60,1),31556900))}let l=!1;return e!==n._clock&&(n._clock=e,l=!0),i!==n._name&&(l=!0),l&&n._changed.raiseEvent(n),Ge.A.setLoading(n,!1),n}).catch(function(e){return Ge.A.setLoading(n,!1),n._error.raiseEvent(n,e),console.log(e),Promise.reject(e)})};const ps=gs;var fs=i(817634);const ms=function(e,t){this.position=e,this.headingPitchRoll=t};var _s=i(288787),ys=i(303578),ws=i(376758),Cs=i(345563),Bs=i(510986),vs=i(230259),Es=i(805746),bs=i(953612),Is=i(548249),xs=i(983884),Ss=i(612933),Ts=i(62467);const Ms=4294967295,Ds=65535,Ps=255,Os=67324752,Rs=134695760,ks=Rs,Fs=33639248,Ls=101010256,Qs=101075792,Ns=117853008,Gs=22,Vs=21589,Us=2048,Ys=16384,Ks=2048,Hs=1024,zs=512,qs="/",Ws=30,js=new Date(2107,11,31),Js=new Date(1980,0,1),Xs=void 0,Zs="undefined",$s="function";let ea=2;try{typeof navigator!=Zs&&navigator.hardwareConcurrency&&(ea=navigator.hardwareConcurrency)}catch{}const ta={workerURI:"./core/web-worker-wasm.js",wasmURI:"./core/streams/zlib-wasm/zlib-streams.wasm",chunkSize:65536,maxWorkers:ea,terminateWorkerTimeout:5e3,useWebWorkers:!0,useCompressionStream:!0,CompressionStream:typeof CompressionStream!=Zs&&CompressionStream,DecompressionStream:typeof DecompressionStream!=Zs&&DecompressionStream},ia=Object.assign({},ta);function na(){return ia}function ra(e){return Math.max(e.chunkSize,64)}function oa(e){const{baseURI:t,chunkSize:i,maxWorkers:n,terminateWorkerTimeout:r,useCompressionStream:o,useWebWorkers:s,CompressionStream:a,DecompressionStream:l,CompressionStreamZlib:c,DecompressionStreamZlib:A,workerURI:u,wasmURI:h}=e;sa("baseURI",t),sa("wasmURI",h),sa("workerURI",u),sa("chunkSize",i),sa("maxWorkers",n),sa("terminateWorkerTimeout",r),sa("useCompressionStream",o),sa("useWebWorkers",s),sa("CompressionStream",a),sa("DecompressionStream",l),sa("CompressionStreamZlib",c),sa("DecompressionStreamZlib",A)}function sa(e,t){t!==Xs&&(ia[e]=t)}const aa=[];for(let e=0;e<256;e++){let t=e;for(let e=0;e<8;e++)1&t?t=t>>>1^3988292384:t>>>=1;aa[e]=t}class la{constructor(e){this.crc=e||-1}append(e){let t=0|this.crc;for(let i=0,n=0|e.length;i<n;i++)t=t>>>8^aa[255&(t^e[i])];this.crc=t}get(){return~this.crc}}class ca extends TransformStream{constructor(){let e;const t=new la;super({transform(e,i){t.append(e),i.enqueue(e)},flush(){const i=new Uint8Array(4);new DataView(i.buffer).setUint32(0,t.get()),e.value=i}}),e=this}}function Aa(e){if(typeof TextEncoder==Zs){e=unescape(encodeURIComponent(e));const t=new Uint8Array(e.length);for(let i=0;i<t.length;i++)t[i]=e.charCodeAt(i);return t}return(new TextEncoder).encode(e)}const ua={concat(e,t){if(0===e.length||0===t.length)return e.concat(t);const i=e[e.length-1],n=ua.getPartial(i);return 32===n?e.concat(t):ua._shiftRight(t,n,0|i,e.slice(0,e.length-1))},bitLength(e){const t=e.length;if(0===t)return 0;const i=e[t-1];return 32*(t-1)+ua.getPartial(i)},clamp(e,t){if(32*e.length<t)return e;const i=(e=e.slice(0,Math.ceil(t/32))).length;return t&=31,i>0&&t&&(e[i-1]=ua.partial(t,e[i-1]&2147483648>>t-1,1)),e},partial:(e,t,i)=>32===e?t:(i?0|t:t<<32-e)+1099511627776*e,getPartial:e=>Math.round(e/1099511627776)||32,_shiftRight(e,t,i,n){for(void 0===n&&(n=[]);t>=32;t-=32)n.push(i),i=0;if(0===t)return n.concat(e);for(let r=0;r<e.length;r++)n.push(i|e[r]>>>t),i=e[r]<<32-t;const r=e.length?e[e.length-1]:0,o=ua.getPartial(r);return n.push(ua.partial(t+o&31,t+o>32?i:n.pop(),1)),n}},ha={bytes:{fromBits(e){const t=ua.bitLength(e)/8,i=new Uint8Array(t);let n;for(let r=0;r<t;r++)3&r||(n=e[r/4]),i[r]=n>>>24,n<<=8;return i},toBits(e){const t=[];let i,n=0;for(i=0;i<e.length;i++)n=n<<8|e[i],3&~i||(t.push(n),n=0);return 3&i&&t.push(ua.partial(8*(3&i),n)),t}}},da=class{constructor(e){const t=this;t.blockSize=512,t._init=[1732584193,4023233417,2562383102,271733878,3285377520],t._key=[1518500249,1859775393,2400959708,3395469782],e?(t._h=e._h.slice(0),t._buffer=e._buffer.slice(0),t._length=e._length):t.reset()}reset(){const e=this;return e._h=e._init.slice(0),e._buffer=[],e._length=0,e}update(e){const t=this;"string"==typeof e&&(e=ha.utf8String.toBits(e));const i=t._buffer=ua.concat(t._buffer,e),n=t._length,r=t._length=n+ua.bitLength(e);if(r>9007199254740991)throw new Error("Cannot hash more than 2^53 - 1 bits");const o=new Uint32Array(i);let s=0;for(let e=t.blockSize+n-(t.blockSize+n&t.blockSize-1);e<=r;e+=t.blockSize)t._block(o.subarray(16*s,16*(s+1))),s+=1;return i.splice(0,16*s),t}finalize(){const e=this;let t=e._buffer;const i=e._h;t=ua.concat(t,[ua.partial(1,1)]);for(let e=t.length+2;15&e;e++)t.push(0);for(t.push(Math.floor(e._length/4294967296)),t.push(0|e._length);t.length;)e._block(t.splice(0,16));return e.reset(),i}_f(e,t,i,n){return e<=19?t&i|~t&n:e<=39?t^i^n:e<=59?t&i|t&n|i&n:e<=79?t^i^n:void 0}_S(e,t){return t<<e|t>>>32-e}_block(e){const t=this,i=t._h,n=Array(80);for(let t=0;t<16;t++)n[t]=e[t];let r=i[0],o=i[1],s=i[2],a=i[3],l=i[4];for(let e=0;e<=79;e++){e>=16&&(n[e]=t._S(1,n[e-3]^n[e-8]^n[e-14]^n[e-16]));const i=t._S(5,r)+t._f(e,o,s,a)+l+n[e]+t._key[Math.floor(e/20)]|0;l=a,a=s,s=t._S(30,o),o=r,r=i}i[0]=i[0]+r|0,i[1]=i[1]+o|0,i[2]=i[2]+s|0,i[3]=i[3]+a|0,i[4]=i[4]+l|0}},ga=class{constructor(e){const t=this;t._tables=[[[],[],[],[],[]],[[],[],[],[],[]]],t._tables[0][0][0]||t._precompute();const i=t._tables[0][4],n=t._tables[1],r=e.length;let o,s,a,l=1;if(4!==r&&6!==r&&8!==r)throw new Error("invalid aes key size");for(t._key=[s=e.slice(0),a=[]],o=r;o<4*r+28;o++){let e=s[o-1];(o%r===0||8===r&&o%r===4)&&(e=i[e>>>24]<<24^i[e>>16&255]<<16^i[e>>8&255]<<8^i[255&e],o%r===0&&(e=e<<8^e>>>24^l<<24,l=l<<1^283*(l>>7))),s[o]=s[o-r]^e}for(let e=0;o;e++,o--){const t=s[3&e?o:o-4];a[e]=o<=4||e<4?t:n[0][i[t>>>24]]^n[1][i[t>>16&255]]^n[2][i[t>>8&255]]^n[3][i[255&t]]}}encrypt(e){return this._crypt(e,0)}decrypt(e){return this._crypt(e,1)}_precompute(){const e=this._tables[0],t=this._tables[1],i=e[4],n=t[4],r=[],o=[];let s,a,l,c;for(let e=0;e<256;e++)o[(r[e]=e<<1^283*(e>>7))^e]=e;for(let A=s=0;!i[A];A^=a||1,s=o[s]||1){let o=s^s<<1^s<<2^s<<3^s<<4;o=o>>8^255&o^99,i[A]=o,n[o]=A,c=r[l=r[a=r[A]]];let u=16843009*c^65537*l^257*a^16843008*A,h=257*r[o]^16843008*o;for(let i=0;i<4;i++)e[i][A]=h=h<<24^h>>>8,t[i][o]=u=u<<24^u>>>8}for(let i=0;i<5;i++)e[i]=e[i].slice(0),t[i]=t[i].slice(0)}_crypt(e,t){if(4!==e.length)throw new Error("invalid aes block size");const i=this._key[t],n=i.length/4-2,r=[0,0,0,0],o=this._tables[t],s=o[0],a=o[1],l=o[2],c=o[3],A=o[4];let u,h,d,g=e[0]^i[0],p=e[t?3:1]^i[1],f=e[2]^i[2],m=e[t?1:3]^i[3],_=4;for(let e=0;e<n;e++)u=s[g>>>24]^a[p>>16&255]^l[f>>8&255]^c[255&m]^i[_],h=s[p>>>24]^a[f>>16&255]^l[m>>8&255]^c[255&g]^i[_+1],d=s[f>>>24]^a[m>>16&255]^l[g>>8&255]^c[255&p]^i[_+2],m=s[m>>>24]^a[g>>16&255]^l[p>>8&255]^c[255&f]^i[_+3],_+=4,g=u,p=h,f=d;for(let e=0;e<4;e++)r[t?3&-e:e]=A[g>>>24]<<24^A[p>>16&255]<<16^A[f>>8&255]<<8^A[255&m]^i[_++],u=g,g=p,p=f,f=m,m=u;return r}},pa={getRandomValues(e){const t=new Uint32Array(e.buffer),i=e=>{let t=987654321;const i=4294967295;return function(){return t=36969*(65535&t)+(t>>16)&i,(((t<<16)+(e=18e3*(65535&e)+(e>>16)&i)&i)/4294967296+.5)*(Math.random()>.5?1:-1)}};for(let n,r=0;r<e.length;r+=4){const e=i(4294967296*(n||Math.random()));n=987654071*e(),t[r/4]=4294967296*e()|0}return e}},fa=class{constructor(e,t){this._prf=e,this._initIv=t,this._iv=t}reset(){this._iv=this._initIv}update(e){return this.calculate(this._prf,e,this._iv)}incWord(e){if(255&~(e>>24))e+=1<<24;else{let t=e>>16&255,i=e>>8&255,n=255&e;255===t?(t=0,255===i?(i=0,255===n?n=0:++n):++i):++t,e=0,e+=t<<16,e+=i<<8,e+=n}return e}incCounter(e){0===(e[0]=this.incWord(e[0]))&&(e[1]=this.incWord(e[1]))}calculate(e,t,i){let n;if(!(n=t.length))return[];const r=ua.bitLength(t);for(let r=0;r<n;r+=4){this.incCounter(i);const n=e.encrypt(i);t[r]^=n[0],t[r+1]^=n[1],t[r+2]^=n[2],t[r+3]^=n[3]}return ua.clamp(t,r)}},ma={importKey:e=>new ma.hmacSha1(ha.bytes.toBits(e)),pbkdf2(e,t,i,n){if(i=i||1e4,n<0||i<0)throw new Error("invalid params to pbkdf2");const r=1+(n>>5)<<2;let o,s,a,l,c;const A=new ArrayBuffer(r),u=new DataView(A);let h=0;const d=ua;for(t=ha.bytes.toBits(t),c=1;h<(r||1);c++){for(o=s=e.encrypt(d.concat(t,[c])),a=1;a<i;a++)for(s=e.encrypt(s),l=0;l<s.length;l++)o[l]^=s[l];for(a=0;h<(r||1)&&a<o.length;a++)u.setInt32(h,o[a]),h+=4}return A.slice(0,n/8)},hmacSha1:class{constructor(e){const t=this,i=t._hash=da,n=[[],[]];t._baseHash=[new i,new i];const r=t._baseHash[0].blockSize/32;e.length>r&&(e=(new i).update(e).finalize());for(let t=0;t<r;t++)n[0][t]=909522486^e[t],n[1][t]=1549556828^e[t];t._baseHash[0].update(n[0]),t._baseHash[1].update(n[1]),t._resultHash=new i(t._baseHash[0])}reset(){const e=this;e._resultHash=new e._hash(e._baseHash[0]),e._updated=!1}update(e){this._updated=!0,this._resultHash.update(e)}digest(){const e=this,t=e._resultHash.finalize(),i=new e._hash(e._baseHash[1]).update(t).finalize();return e.reset(),i}encrypt(e){if(this._updated)throw new Error("encrypt on already updated hmac called!");return this.update(e),this.digest(e)}}},_a=typeof crypto!=Zs&&typeof crypto.getRandomValues==$s,ya="Invalid password",wa="Invalid signature",Ca="zipjs-abort-check-password";function Ba(e){return _a?crypto.getRandomValues(e):pa.getRandomValues(e)}const va=16,Ea={name:"PBKDF2"},ba=Object.assign({hash:{name:"HMAC"}},Ea),Ia=Object.assign({iterations:1e3,hash:{name:"SHA-1"}},Ea),xa=["deriveBits"],Sa=[8,12,16],Ta=[16,24,32],Ma=10,Da=[0,0,0,0],Pa=typeof crypto!=Zs,Oa=Pa&&crypto.subtle,Ra=Pa&&typeof Oa!=Zs,ka=ha.bytes,Fa=ga,La=fa,Qa=ma.hmacSha1;let Na=Pa&&Ra&&typeof Oa.importKey==$s,Ga=Pa&&Ra&&typeof Oa.deriveBits==$s;class Va extends TransformStream{constructor({password:e,rawPassword:t,signed:i,encryptionStrength:n,checkPasswordOnly:r}){super({start(){Object.assign(this,{ready:new Promise(e=>this.resolveReady=e),password:Ha(e,t),signed:i,strength:n-1,pending:new Uint8Array})},async transform(e,t){const i=this,{password:n,strength:o,resolveReady:s,ready:a}=i;n?(await async function(e,t,i,n){const r=await Ka(e,t,i,qa(n,0,Sa[t])),o=qa(n,Sa[t]);if(r[0]!=o[0]||r[1]!=o[1])throw new Error(ya)}(i,o,n,qa(e,0,Sa[o]+2)),e=qa(e,Sa[o]+2),r?t.error(new Error(Ca)):s()):await a;const l=new Uint8Array(e.length-Ma-(e.length-Ma)%va);t.enqueue(Ya(i,e,l,0,Ma,!0))},async flush(e){const{signed:t,ctr:i,hmac:n,pending:r,ready:o}=this;if(n&&i){await o;const s=qa(r,0,r.length-Ma),a=qa(r,r.length-Ma);let l=new Uint8Array;if(s.length){const e=ja(ka,s);n.update(e);const t=i.update(e);l=Wa(ka,t)}if(t){const e=qa(Wa(ka,n.digest()),0,Ma);for(let t=0;t<Ma;t++)if(e[t]!=a[t])throw new Error(wa)}e.enqueue(l)}}})}}class Ua extends TransformStream{constructor({password:e,rawPassword:t,encryptionStrength:i}){let n;super({start(){Object.assign(this,{ready:new Promise(e=>this.resolveReady=e),password:Ha(e,t),strength:i-1,pending:new Uint8Array})},async transform(e,t){const i=this,{password:n,strength:r,resolveReady:o,ready:s}=i;let a=new Uint8Array;n?(a=await async function(e,t,i){const n=Ba(new Uint8Array(Sa[t]));return za(n,await Ka(e,t,i,n))}(i,r,n),o()):await s;const l=new Uint8Array(a.length+e.length-e.length%va);l.set(a,0),t.enqueue(Ya(i,e,l,a.length,0))},async flush(e){const{ctr:t,hmac:i,pending:r,ready:o}=this;if(i&&t){await o;let s=new Uint8Array;if(r.length){const e=t.update(ja(ka,r));i.update(e),s=Wa(ka,e)}n.signature=Wa(ka,i.digest()).slice(0,Ma),e.enqueue(za(s,n.signature))}}}),n=this}}function Ya(e,t,i,n,r,o){const{ctr:s,hmac:a,pending:l}=e,c=t.length-r;let A;for(l.length&&(t=za(l,t),i=function(e,t){if(t&&t>e.length){const i=e;(e=new Uint8Array(t)).set(i,0)}return e}(i,c-c%va)),A=0;A<=c-va;A+=va){const e=ja(ka,qa(t,A,A+va));o&&a.update(e);const r=s.update(e);o||a.update(r),i.set(Wa(ka,r),A+n)}return e.pending=qa(t,A),i}async function Ka(e,t,i,n){e.password=null;const r=await async function(e,t,i,n,r){if(!Na)return ma.importKey(t);try{return await Oa.importKey("raw",t,i,!1,r)}catch{return Na=!1,ma.importKey(t)}}(0,i,ba,0,xa),o=await async function(e,t,i){if(!Ga)return ma.pbkdf2(t,e.salt,Ia.iterations,i);try{return await Oa.deriveBits(e,t,i)}catch{return Ga=!1,ma.pbkdf2(t,e.salt,Ia.iterations,i)}}(Object.assign({salt:n},Ia),r,8*(2*Ta[t]+2)),s=new Uint8Array(o),a=ja(ka,qa(s,0,Ta[t])),l=ja(ka,qa(s,Ta[t],2*Ta[t])),c=qa(s,2*Ta[t]);return Object.assign(e,{keys:{key:a,authentication:l,passwordVerification:c},ctr:new La(new Fa(a),Array.from(Da)),hmac:new Qa(l)}),c}function Ha(e,t){return t===Xs?Aa(e):t}function za(e,t){let i=e;return e.length+t.length&&(i=new Uint8Array(e.length+t.length),i.set(e,0),i.set(t,e.length)),i}function qa(e,t,i){return e.subarray(t,i)}function Wa(e,t){return e.fromBits(t)}function ja(e,t){return e.toBits(t)}class Ja extends TransformStream{constructor({password:e,passwordVerification:t,checkPasswordOnly:i}){super({start(){Object.assign(this,{password:e,passwordVerification:t}),el(this,e)},transform(e,t){const n=this;if(n.password){const t=Za(n,e.subarray(0,12));if(n.password=null,t.at(-1)!=n.passwordVerification)throw new Error(ya);e=e.subarray(12)}i?t.error(new Error(Ca)):t.enqueue(Za(n,e))}})}}class Xa extends TransformStream{constructor({password:e,passwordVerification:t}){super({start(){Object.assign(this,{password:e,passwordVerification:t}),el(this,e)},transform(e,t){const i=this;let n,r;if(i.password){i.password=null;const t=Ba(new Uint8Array(12));t[11]=i.passwordVerification,n=new Uint8Array(e.length+t.length),n.set($a(i,t),0),r=12}else n=new Uint8Array(e.length),r=0;n.set($a(i,e),r),t.enqueue(n)}})}}function Za(e,t){const i=new Uint8Array(t.length);for(let n=0;n<t.length;n++)i[n]=il(e)^t[n],tl(e,i[n]);return i}function $a(e,t){const i=new Uint8Array(t.length);for(let n=0;n<t.length;n++)i[n]=il(e)^t[n],tl(e,t[n]);return i}function el(e,t){const i=[305419896,591751049,878082192];Object.assign(e,{keys:i,crcKey0:new la(i[0]),crcKey2:new la(i[2])});for(let i=0;i<t.length;i++)tl(e,t.charCodeAt(i))}function tl(e,t){let[i,n,r]=e.keys;e.crcKey0.append([t]),i=~e.crcKey0.get(),n=rl(Math.imul(rl(n+nl(i)),134775813)+1),e.crcKey2.append([n>>>24]),r=~e.crcKey2.get(),e.keys=[i,n,r]}function il(e){const t=2|e.keys[2];return nl(Math.imul(t,1^t)>>>8)}function nl(e){return 255&e}function rl(e){return 4294967295&e}const ol="Invalid uncompressed size";class sl extends TransformStream{constructor(e,{chunkSize:t,CompressionStreamZlib:i,CompressionStream:n}){super({});const{compressed:r,encrypted:o,useCompressionStream:s,zipCrypto:a,signed:l,level:c}=e,A=this;let u,h,d=super.readable;o&&!a||!l||(u=new ca,d=Al(d,u)),r&&(d=cl(d,s,{level:c,chunkSize:t},n,i,n)),o&&(a?d=Al(d,new Xa(e)):(h=new Ua(e),d=Al(d,h))),ll(A,d,()=>{let e;o&&!a&&(e=h.signature),o&&!a||!l||(e=new DataView(u.value.buffer).getUint32(0)),A.signature=e})}}class al extends TransformStream{constructor(e,{chunkSize:t,DecompressionStreamZlib:i,DecompressionStream:n}){super({});const{zipCrypto:r,encrypted:o,signed:s,signature:a,compressed:l,useCompressionStream:c,deflate64:A}=e;let u,h,d=super.readable;o&&(r?d=Al(d,new Ja(e)):(h=new Va(e),d=Al(d,h))),l&&(d=cl(d,c,{chunkSize:t,deflate64:A},n,i,n)),o&&!r||!s||(u=new ca,d=Al(d,u)),ll(this,d,()=>{if((!o||r)&&s){const e=new DataView(u.value.buffer);if(a!=e.getUint32(0,!1))throw new Error(wa)}})}}function ll(e,t,i){t=Al(t,new TransformStream({flush:i})),Object.defineProperty(e,"readable",{get:()=>t})}function cl(e,t,i,n,r,o){const s=t&&n?n:r||o,a=i.deflate64?"deflate64-raw":"deflate-raw";try{e=Al(e,new s(a,i))}catch(n){if(!t)throw n;if(r)e=Al(e,new r(a,i));else{if(!o)throw n;e=Al(e,new o(a,i))}}return e}function Al(e,t){return e.pipeThrough(t)}const ul="data",hl="close",dl="deflate",gl="inflate";class pl extends TransformStream{constructor(e,t){super({});const i=this,{codecType:n}=e;let r;n.startsWith(dl)?r=sl:n.startsWith(gl)&&(r=al),i.outputSize=0;let o=0;const s=new r(e,t),a=super.readable,l=new TransformStream({transform(e,t){e&&e.length&&(o+=e.length,t.enqueue(e))},flush(){Object.assign(i,{inputSize:o})}}),c=new TransformStream({transform(t,n){if(t&&t.length&&(n.enqueue(t),i.outputSize+=t.length,e.outputSize!==Xs&&i.outputSize>e.outputSize))throw new Error(ol)},flush(){const{signature:e}=s;Object.assign(i,{signature:e,inputSize:o})}});Object.defineProperty(i,"readable",{get:()=>a.pipeThrough(l).pipeThrough(s).pipeThrough(c)})}}class fl extends TransformStream{constructor(e){let t;super({transform:function i(n,r){if(t){const e=new Uint8Array(t.length+n.length);e.set(t),e.set(n,t.length),n=e,t=null}n.length>e?(r.enqueue(n.slice(0,e)),i(n.slice(e),r)):t=n},flush(e){t&&t.length&&e.enqueue(t)}})}}let ml=typeof Worker!=Zs,_l=()=>{};class yl{constructor(e,{readable:t,writable:i},{options:n,config:r,streamOptions:o,useWebWorkers:s,transferStreams:a,workerURI:l},c){const{signal:A}=o;return Object.assign(e,{busy:!0,readable:t.pipeThrough(new fl(r.chunkSize)).pipeThrough(new wl(o),{signal:A}),writable:i,options:Object.assign({},n),workerURI:l,transferStreams:a,terminate:()=>new Promise(t=>{const{worker:i,busy:n}=e;i?(n?e.resolveTerminated=t:(i.terminate(),t()),e.interface=null):t()}),onTaskFinished(){const{resolveTerminated:t}=e;t&&(e.resolveTerminated=null,e.terminated=!0,e.worker.terminate(),t()),e.busy=!1,c(e)}}),(s&&ml?vl:Bl)(e,r)}}class wl extends TransformStream{constructor({onstart:e,onprogress:t,size:i,onend:n}){let r=0;super({async start(){e&&await Cl(e,i)},async transform(e,n){r+=e.length,t&&await Cl(t,r,i),n.enqueue(e)},async flush(){n&&await Cl(n,r)}})}}async function Cl(e,...t){try{await e(...t)}catch{}}function Bl(e,t){return{run:()=>async function({options:e,readable:t,writable:i,onTaskFinished:n},r){let o;try{if(!e.useCompressionStream)try{await _l(r)}catch{e.useCompressionStream=!0}o=new pl(e,r),await t.pipeThrough(o).pipeTo(i,{preventClose:!0,preventAbort:!0});const{signature:n,inputSize:s,outputSize:a}=o;return{signature:n,inputSize:s,outputSize:a}}catch(e){throw o&&(e.outputSize=o.outputSize),e}finally{n()}}(e,t)}}function vl(e,t){const{baseURI:i,chunkSize:n}=t;let{wasmURI:r}=t;if(!e.interface){let o;typeof r==$s&&(r=r());try{o=function(e,t,i){const n={type:"module"};let r,o;if(typeof e==$s&&(e=e()),e.startsWith("data:")||e.startsWith("blob:"))try{o=new Worker(e)}catch{o=new Worker(e,n)}else{try{r=new URL(e,t)}catch{r=e}o=new Worker(r,n)}return o.addEventListener("message",e=>async function({data:e},t){const{type:i,value:n,messageId:r,result:o,error:s}=e,{reader:a,writer:l,resolveResult:c,rejectResult:A,onTaskFinished:u}=t;try{if(s){const{message:e,stack:t,code:i,name:n,outputSize:r}=s,o=new Error(e);Object.assign(o,{stack:t,code:i,name:n,outputSize:r}),h(o)}else{if("pull"==i){const{value:e,done:i}=await a.read();bl({type:ul,value:e,done:i,messageId:r},t)}i==ul&&(await l.ready,await l.write(new Uint8Array(n)),bl({type:"ack",messageId:r},t)),i==hl&&h(null,o)}}catch(s){bl({type:hl,messageId:r},t),h(s)}function h(e,t){e?A(e):c(t),l&&l.releaseLock(),u()}}(e,i)),o}(e.workerURI,i,e)}catch{return ml=!1,Bl(e,t)}Object.assign(e,{worker:o,interface:{run:()=>async function(e,t){let i,n;const r=new Promise((e,t)=>{i=e,n=t});Object.assign(e,{reader:null,writer:null,resolveResult:i,rejectResult:n,result:r});const{readable:o,options:s}=e,{writable:a,closed:l}=function(e){let t;const i=new Promise(e=>t=e);return{writable:new WritableStream({async write(t){const i=e.getWriter();await i.ready,await i.write(t),i.releaseLock()},close(){t()},abort:t=>e.getWriter().abort(t)}),closed:i}}(e.writable),c=bl({type:"start",options:s,config:t,readable:o,writable:a},e);c||Object.assign(e,{reader:o.getReader(),writer:a.getWriter()});const A=await r;return c||await a.getWriter().close(),await l,A}(e,{chunkSize:n,wasmURI:r,baseURI:i})}})}return e.interface}let El=!0;function bl(e,{worker:t,writer:i,onTaskFinished:n,transferStreams:r}){try{const{value:i,readable:n,writable:o}=e,s=[];if(i&&(e.value=i,s.push(e.value.buffer)),r&&El?(n&&s.push(n),o&&s.push(o)):e.readable=e.writable=null,s.length)try{return t.postMessage(e,s),!0}catch{El=!1,e.readable=e.writable=null,t.postMessage(e)}else t.postMessage(e)}catch(e){throw i&&i.releaseLock(),n(),e}}let Il=[];const xl=[];let Sl=0;async function Tl(e,t){const{options:i,config:n}=t,{transferStreams:r,useWebWorkers:o,useCompressionStream:s,compressed:a,signed:l,encrypted:c}=i,{workerURI:A,maxWorkers:u}=n;t.transferStreams=r||r===Xs;const h=!(a||l||c||t.transferStreams);return t.useWebWorkers=!h&&(o||o===Xs&&n.useWebWorkers),t.workerURI=t.useWebWorkers&&A?A:Xs,i.useCompressionStream=s||s===Xs&&n.useCompressionStream,(await async function(){const i=Il.find(e=>!e.busy);if(i)return Ml(i),new yl(i,e,t,d);if(Il.length<u){const i={indexWorker:Sl};return Sl++,Il.push(i),new yl(i,e,t,d)}return new Promise(i=>xl.push({resolve:i,stream:e,workerOptions:t}))}()).run();function d(e){if(xl.length){const[{resolve:t,stream:i,workerOptions:n}]=xl.splice(0,1);t(new yl(e,i,n,d))}else e.worker?(Ml(e),function(e,t){const{config:i}=t,{terminateWorkerTimeout:n}=i;Number.isFinite(n)&&n>=0&&(e.terminated?e.terminated=!1:e.terminateTimeout=setTimeout(async()=>{Il=Il.filter(t=>t!=e);try{await e.terminate()}catch{}},n))}(e,t)):Il=Il.filter(t=>t!=e)}}function Ml(e){const{terminateTimeout:t}=e;t&&(clearTimeout(t),e.terminateTimeout=null)}const Dl=65536,Pl="writable";class Ol{constructor(){this.size=0}init(){this.initialized=!0}}class Rl extends Ol{get readable(){const e=this,{chunkSize:t=Dl}=e,i=new ReadableStream({start(){this.chunkOffset=0},async pull(n){const{offset:r=0,size:o,diskNumberStart:s}=i,{chunkOffset:a}=this,l=o===Xs?t:Math.min(t,o-a),c=await zl(e,r+a,l,s);n.enqueue(c),a+t>o||o===Xs&&!c.length&&l?n.close():this.chunkOffset+=t}});return i}}class kl extends Ol{constructor(){super();const e=this,t=new WritableStream({write(t){if(!e.initialized)throw new Error("Writer not initialized");return e.writeUint8Array(t)}});Object.defineProperty(e,Pl,{get:()=>t})}writeUint8Array(){}}class Fl extends kl{constructor(e){super(),Object.assign(this,{data:"data:"+(e||"")+";base64,",pending:[]})}writeUint8Array(e){const t=this;let i=0,n=t.pending;const r=t.pending.length;for(t.pending="",i=0;i<3*Math.floor((r+e.length)/3)-r;i++)n+=String.fromCharCode(e[i]);for(;i<e.length;i++)t.pending+=String.fromCharCode(e[i]);n.length&&(n.length>2?t.data+=btoa(n):t.pending+=n)}getData(){return this.data+btoa(this.pending)}}class Ll extends Rl{constructor(e){super(),Object.assign(this,{blob:e,size:e.size})}async readUint8Array(e,t){const i=this,n=e+t,r=e||n<i.size?i.blob.slice(e,n):i.blob;let o=await r.arrayBuffer();return o.byteLength>t&&(o=o.slice(e,n)),new Uint8Array(o)}}class Ql extends Ol{constructor(e){super();const t=new TransformStream,i=[];e&&i.push(["Content-Type",e]),Object.defineProperty(this,Pl,{get:()=>t.writable}),this.blob=new Response(t.readable,{headers:i}).blob()}getData(){return this.blob}}class Nl extends Ll{constructor(e){super(new Blob([e],{type:"text/plain"}))}}class Gl extends Ql{constructor(e){super(e),Object.assign(this,{encoding:e,utf8:!e||"utf-8"==e.toLowerCase()})}async getData(){const{encoding:e,utf8:t}=this,i=await super.getData();if(i.text&&t)return i.text();{const t=new FileReader;return new Promise((n,r)=>{Object.assign(t,{onload:({target:e})=>n(e.result),onerror:()=>r(t.error)}),t.readAsText(i,e)})}}}class Vl extends Rl{constructor(e){super(),this.readers=e}async init(){const e=this,{readers:t}=e;e.lastDiskNumber=0,e.lastDiskOffset=0,await Promise.all(t.map(async(i,n)=>{await i.init(),n!=t.length-1&&(e.lastDiskOffset+=i.size),e.size+=i.size})),super.init()}async readUint8Array(e,t,i=0){const n=this,{readers:r}=this;let o,s=i;-1==s&&(s=r.length-1);let a=e;for(;r[s]&&a>=r[s].size;)a-=r[s].size,s++;const l=r[s];if(l){const r=l.size;if(a+t<=r)o=await zl(l,a,t);else{const s=r-a;o=new Uint8Array(t);const c=await zl(l,a,s);o.set(c,0);const A=await n.readUint8Array(e+s,t-s,i);o.set(A,s),c.length+A.length<t&&(o=o.subarray(0,c.length+A.length))}}else o=new Uint8Array;return n.lastDiskNumber=Math.max(s,n.lastDiskNumber),o}}class Ul extends Ol{constructor(e,t=4294967295){super();const i=this;let n,r,o;Object.assign(i,{diskNumber:0,diskOffset:0,size:0,maxSize:t,availableSize:t});const s=new WritableStream({async write(t){const{availableSize:s}=i;if(o)t.length>=s?(await a(t.subarray(0,s)),await l(),i.diskOffset+=n.size,i.diskNumber++,o=null,await this.write(t.subarray(s))):await a(t);else{const{value:s,done:a}=await e.next();if(a&&!s)throw new Error("Writer iterator completed too soon");n=s,n.size=0,n.maxSize&&(i.maxSize=n.maxSize),i.availableSize=i.maxSize,await Hl(n),r=s.writable,o=r.getWriter(),await this.write(t)}},async close(){await o.ready,await l()}});async function a(e){const t=e.length;t&&(await o.ready,await o.write(e),n.size+=t,i.size+=t,i.availableSize-=t)}async function l(){await o.close()}Object.defineProperty(i,Pl,{get:()=>s})}}class Yl{constructor(e){return Array.isArray(e)&&(e=new Vl(e)),e instanceof ReadableStream&&(e={readable:e}),e}}class Kl{constructor(e){return e.writable===Xs&&typeof e.next==$s&&(e=new Ul(e)),e instanceof WritableStream&&(e={writable:e}),e.size===Xs&&(e.size=0),e instanceof Ul||Object.assign(e,{diskNumber:0,diskOffset:0,availableSize:1/0,maxSize:1/0}),e}}async function Hl(e,t){if(!e.init||e.initialized)return Promise.resolve();await e.init(t)}function zl(e,t,i,n){return e.readUint8Array(t,i,n)}const ql="\0☺☻♥♦♣♠•◘○◙♂♀♪♫☼►◄↕‼¶§▬↨↑↓→←∟↔▲▼ !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~⌂ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜ¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ ".split(""),Wl=256==ql.length;function jl(e,t){return t&&"cp437"==t.trim().toLowerCase()?function(e){if(Wl){let t="";for(let i=0;i<e.length;i++)t+=ql[e[i]];return t}return(new TextDecoder).decode(e)}(e):new TextDecoder(t).decode(e)}const Jl="filename",Xl="rawFilename",Zl="comment",$l="rawComment",ec="uncompressedSize",tc="compressedSize",ic="offset",nc="diskNumberStart",rc="lastModDate",oc="rawLastModDate",sc="lastAccessDate",ac="creationDate",lc="rawCreationDate",cc="internalFileAttributes",Ac="externalFileAttributes",uc="msdosAttributesRaw",hc="msdosAttributes",dc="msDosCompatible",gc="zip64",pc="encrypted",fc="version",mc="versionMadeBy",_c="zipCrypto",yc="directory",wc="executable",Cc="compressionMethod",Bc="signature",vc="extraField",Ec="unixMode",bc="setuid",Ic="setgid",xc="sticky",Sc=[Jl,Xl,ec,tc,rc,oc,Zl,$l,sc,ac,lc,ic,nc,cc,Ac,uc,hc,dc,gc,pc,fc,mc,_c,yc,wc,Cc,Bc,vc,"extraFieldUnix","extraFieldInfoZip","uid","gid",Ec,bc,Ic,xc,"bitFlag","filenameUTF8","commentUTF8","rawExtraField","extraFieldZip64","extraFieldUnicodePath","extraFieldUnicodeComment","extraFieldAES","extraFieldNTFS","extraFieldExtendedTimestamp"];class Tc{constructor(e){Sc.forEach(t=>this[t]=e[t])}}const Mc="password",Dc="rawPassword",Pc="passThrough",Oc="signal",Rc="useWebWorkers",kc="useCompressionStream",Fc="preventClose",Lc="supportZip64SplitFile",Qc="offset",Nc="usdz",Gc="File format is not recognized",Vc="Compression method not supported",Uc="Split zip file",Yc="utf-8",Kc="cp437",Hc=[[ec,Ms],[tc,Ms],[ic,Ms],[nc,Ds]],zc={[Ds]:{getValue:oA,bytes:4},[Ms]:{getValue:sA,bytes:8}};class qc{constructor(e,t={}){Object.assign(this,{reader:new Yl(e),options:t,config:na(),readRanges:[]})}async*getEntriesGenerator(e={}){const t=this;let{reader:i}=t;const{config:n}=t;if(await Hl(i),i.size!==Xs&&i.readUint8Array||(i=new Ll(await new Response(i.readable).blob()),await Hl(i)),i.size<Gs)throw new Error(Gc);i.chunkSize=ra(n);const r=await async function(e,t,i){const n=new Uint8Array(4);var r,o;r=aA(n),o=t,r.setUint32(0,o,!0);return await s(22)||await s(Math.min(1048582,i));async function s(t){const r=i-t,o=await zl(e,r,t);for(let e=o.length-22;e>=0;e--)if(o[e]==n[0]&&o[e+1]==n[1]&&o[e+2]==n[2]&&o[e+3]==n[3])return{offset:r+e,buffer:o.slice(e,e+22).buffer}}}(i,Ls,i.size);if(!r)throw oA(aA(await zl(i,0,4)))==Rs?new Error(Uc):new Error("End of central directory not found");const o=aA(r);let s=oA(o,12),a=oA(o,16);const l=r.offset,c=rA(o,20),A=l+Gs+c;let u=rA(o,4);const h=i.lastDiskNumber||0;let d=rA(o,6),g=rA(o,8),p=0,f=0;if(a==Ms||s==Ms||g==Ds||d==Ds){const e=aA(await zl(i,r.offset-20,20));if(oA(e,0)==Ns){a=sA(e,8);let t=await zl(i,a,56,-1),n=aA(t);const o=r.offset-20-56;if(oA(n,0)!=Qs&&a!=o){const e=a;a=o,a>e&&(p=a-e),t=await zl(i,a,56,-1),n=aA(t)}if(oA(n,0)!=Qs)throw new Error("End of Zip64 central directory locator not found");u==Ds&&(u=oA(n,16)),d==Ds&&(d=oA(n,20)),g==Ds&&(g=sA(n,32)),s==Ms&&(s=sA(n,40)),a-=s}}if(a>=i.size&&(p=i.size-a-s-Gs,a=i.size-s-Gs),h!=u)throw new Error(Uc);if(a<0)throw new Error(Gc);let m=0,_=await zl(i,a,s,d),y=aA(_);if(s){const e=r.offset-s;if(oA(y,m)!=Fs&&a!=e){const t=a;a=e,a>t&&(p+=a-t),_=await zl(i,a,s,d),y=aA(_)}}const w=r.offset-a-(i.lastDiskOffset||0);if(s!=w&&w>=0&&(s=w,_=await zl(i,a,s,d),y=aA(_)),a<0||a>=i.size)throw new Error(Gc);const C=eA(t,e,"filenameEncoding"),B=eA(t,e,"commentEncoding");for(let r=0;r<g;r++){const o=new Wc(i,n,t.options);if(oA(y,m)!=Fs)throw new Error("Central directory header not found");jc(o,y,m+6);const s=Boolean(o.bitFlag.languageEncodingFlag),a=m+46,l=a+o.filenameLength,c=l+o.extraFieldLength,A=rA(y,m+4),u=!(A>>8),h=A>>8==3,d=_.subarray(a,l),w=rA(y,m+32),v=c+w,E=_.subarray(c,v),b=s,I=s,x=oA(y,m+38),S=x&Ps,T={readOnly:Boolean(1&S),hidden:Boolean(2&S),system:Boolean(4&S),directory:Boolean(16&S),archive:Boolean(32&S)},M=oA(y,m+42)+p,D=eA(t,e,"decodeText")||jl,P=b?Yc:C||Kc,O=I?Yc:B||Kc;let R=D(d,P);R===Xs&&(R=jl(d,P));let k=D(E,O);k===Xs&&(k=jl(E,O)),Object.assign(o,{versionMadeBy:A,msDosCompatible:u,compressedSize:0,uncompressedSize:0,commentLength:w,offset:M,diskNumberStart:rA(y,m+34),internalFileAttributes:rA(y,m+36),externalFileAttributes:x,msdosAttributesRaw:S,msdosAttributes:T,rawFilename:d,filenameUTF8:b,commentUTF8:I,rawExtraField:_.subarray(l,c),rawComment:E,filename:R,comment:k}),f=Math.max(M,f),Jc(o,o,y,m+6);const F=o.externalFileAttributes>>16&Ds;o.unixMode===Xs&&16877&F&&(o.unixMode=F);const L=Boolean(o.unixMode&Ks),Q=Boolean(o.unixMode&Hs),N=Boolean(o.unixMode&zs),G=o.unixMode!==Xs?!!(73&o.unixMode):h&&!!(73&F),V=o.unixMode!==Xs&&(61440&o.unixMode)==Ys,U=(61440&F)==Ys;Object.assign(o,{setuid:L,setgid:Q,sticky:N,unixExternalUpper:F,internalFileAttribute:o.internalFileAttributes,externalFileAttribute:o.externalFileAttributes,executable:G,directory:V||U||u&&T.directory||R.endsWith(qs)&&!o.uncompressedSize,zipCrypto:o.encrypted&&!o.extraFieldAES});const Y=new Tc(o);Y.getData=(e,i)=>o.getData(e,Y,t.readRanges,i),Y.arrayBuffer=async e=>{const i=new TransformStream,[n]=await Promise.all([new Response(i.readable).arrayBuffer(),o.getData(i,Y,t.readRanges,e)]);return n},m=v;const{onprogress:K}=e;if(K)try{await K(r+1,g,new Tc(o))}catch{}yield Y}const v=eA(t,e,"extractPrependedData"),E=eA(t,e,"extractAppendedData");return v&&(t.prependedData=f>0?await zl(i,0,f):new Uint8Array),t.comment=c?await zl(i,l+Gs,c):new Uint8Array,E&&(t.appendedData=A<i.size?await zl(i,A,i.size-A):new Uint8Array),!0}async getEntries(e={}){const t=[];for await(const i of this.getEntriesGenerator(e))t.push(i);return t}async close(){}}class Wc{constructor(e,t,i){Object.assign(this,{reader:e,config:t,options:i})}async getData(e,t,i,n={}){const r=this,{reader:o,offset:s,diskNumberStart:a,extraFieldAES:l,extraFieldZip64:c,compressionMethod:A,config:u,bitFlag:h,signature:d,rawLastModDate:g,uncompressedSize:p,compressedSize:f}=r,{dataDescriptor:m}=h,_=t.localDirectory={},y=aA(await zl(o,s,Ws,a));let w=eA(r,n,Mc),C=eA(r,n,Dc);const B=eA(r,n,Pc);if(w=w&&w.length&&w,C=C&&C.length&&C,l&&99!=l.originalCompressionMethod)throw new Error(Vc);if(0!=A&&8!=A&&9!=A&&!B)throw new Error(Vc);if(oA(y,0)!=Os)throw new Error("Local file header not found");jc(_,y,4);const{extraFieldLength:v,filenameLength:E,lastAccessDate:b,creationDate:I}=_;_.rawExtraField=v?await zl(o,s+Ws+E,v,a):new Uint8Array,Jc(r,_,y,4,!0),Object.assign(t,{lastAccessDate:b,creationDate:I});const x=r.encrypted&&_.encrypted&&!B,S=x&&!l;if(B||(t.zipCrypto=S),x){if(!S&&l.strength===Xs)throw new Error("Encryption method not supported");if(!w&&!C)throw new Error("File contains encrypted entry")}const T=s+Ws+E+v,M=f,D=o.readable;Object.assign(D,{diskNumberStart:a,offset:T,size:M});const P=eA(r,n,Oc),O=eA(r,n,"checkPasswordOnly");let R=eA(r,n,"checkOverlappingEntry");const k=eA(r,n,"checkOverlappingEntryOnly");k&&(R=!0);const{onstart:F,onprogress:L,onend:Q}=n,N=9==A;let G=eA(r,n,kc);N&&(G=!1);const V={options:{codecType:gl,password:w,rawPassword:C,zipCrypto:S,encryptionStrength:l&&l.strength,signed:eA(r,n,"checkSignature")&&!B,passwordVerification:S&&(m?g>>>8&Ps:d>>>24&Ps),outputSize:B?f:p,signature:d,compressed:0!=A&&!B,encrypted:r.encrypted&&!B,useWebWorkers:eA(r,n,Rc),useCompressionStream:G,transferStreams:eA(r,n,"transferStreams"),deflate64:N,checkPasswordOnly:O},config:u,streamOptions:{signal:P,size:M,onstart:F,onprogress:L,onend:Q}};let U;R&&await async function({reader:e,fileEntry:t,offset:i,diskNumberStart:n,signature:r,compressedSize:o,uncompressedSize:s,dataOffset:a,dataDescriptor:l,extraFieldZip64:c,readRanges:A}){let u=0;if(n)for(let t=0;t<n;t++)u+=e.readers[t].size;let h=0;if(l&&(h=c?20:12),h){const i=await zl(e,a+o,h+4,n);if(oA(aA(i),0)==ks){const e=oA(aA(i),4);let n,a;c?(n=sA(aA(i),8),a=sA(aA(i),16)):(n=oA(aA(i),8),a=oA(aA(i),12)),(t.encrypted&&!t.zipCrypto||e==r)&&n==o&&a==s&&(h+=4)}}const d={start:u+i,end:u+a+o+h,fileEntry:t};for(const e of A)if(e.fileEntry!=t&&d.start>=e.start&&d.start<e.end){const t=new Error("Overlapping entry found");throw t.overlappingEntry=e.fileEntry,t}A.push(d)}({reader:o,fileEntry:t,offset:s,diskNumberStart:a,signature:d,compressedSize:f,uncompressedSize:p,dataOffset:T,dataDescriptor:m||_.bitFlag.dataDescriptor,extraFieldZip64:c||_.extraFieldZip64,readRanges:i});try{if(!k){O&&(e=new WritableStream),e=new Kl(e),await Hl(e,B?f:p),({writable:U}=e);const{outputSize:t}=await Tl({readable:D,writable:U},V);if(e.size+=t,t!=(B?f:p))throw new Error(ol)}}catch(t){if(t.outputSize!==Xs&&(e.size+=t.outputSize),!O||t.message!=Ca)throw t}finally{eA(r,n,Fc)||!U||U.locked||await U.getWriter().close()}return O||k?Xs:e.getData?e.getData():U}}function jc(e,t,i){const n=e.rawBitFlag=rA(t,i+2),r=!(1&~n),o=oA(t,i+6);Object.assign(e,{encrypted:r,version:rA(t,i),bitFlag:{level:(6&n)>>1,dataDescriptor:!(8&~n),languageEncodingFlag:(n&Us)==Us},rawLastModDate:o,lastModDate:tA(o),filenameLength:rA(t,i+22),extraFieldLength:rA(t,i+24)})}function Jc(e,t,i,n,r){const{rawExtraField:o}=t,s=t.extraField=new Map,a=aA(new Uint8Array(o));let l=0;try{for(;l<o.length;){const e=rA(a,l),t=rA(a,l+2);s.set(e,{type:e,data:o.slice(l+4,l+4+t)}),l+=4+t}}catch{}const c=rA(i,n+4);Object.assign(t,{signature:oA(i,n+10),compressedSize:oA(i,n+14),uncompressedSize:oA(i,n+18)});const A=s.get(1);A&&(function(e,t){t.zip64=!0;const i=aA(e.data),n=Hc.filter(([e,i])=>t[e]==i);for(let r=0,o=0;r<n.length;r++){const[s,a]=n[r];if(t[s]==a){const n=zc[a];t[s]=e[s]=n.getValue(i,o),o+=n.bytes}else if(e[s])throw new Error("Zip64 extra field not found")}}(A,t),t.extraFieldZip64=A);const u=s.get(28789);u&&(Xc(u,Jl,Xl,t,e),t.extraFieldUnicodePath=u);const h=s.get(25461);h&&(Xc(h,Zl,$l,t,e),t.extraFieldUnicodeComment=h);const d=s.get(39169);d?(function(e,t,i){const n=aA(e.data),r=nA(n,4);Object.assign(e,{vendorVersion:nA(n,0),vendorId:nA(n,2),strength:r,originalCompressionMethod:i,compressionMethod:rA(n,5)}),t.compressionMethod=e.compressionMethod}(d,t,c),t.extraFieldAES=d):t.compressionMethod=c;const g=s.get(10);g&&(function(e,t){const i=aA(e.data);let n,r=4;try{for(;r<e.data.length&&!n;){const t=rA(i,r),o=rA(i,r+2);1==t&&(n=e.data.slice(r+4,r+4+o)),r+=4+o}}catch{}try{if(n&&24==n.length){const i=aA(n),r=i.getBigUint64(0,!0),o=i.getBigUint64(8,!0),s=i.getBigUint64(16,!0);Object.assign(e,{rawLastModDate:r,rawLastAccessDate:o,rawCreationDate:s});const a=iA(r),l={lastModDate:a,lastAccessDate:iA(o),creationDate:iA(s)};Object.assign(e,l),Object.assign(t,l)}}catch{}}(g,t),t.extraFieldNTFS=g);const p=s.get(30805);if(p)Zc(p,t,!1),t.extraFieldUnix=p;else{const e=s.get(30837);e&&(Zc(e,t,!0),t.extraFieldInfoZip=e)}const f=s.get(Vs);f&&(function(e,t,i){const n=aA(e.data),r=nA(n,0),o=[],s=[];i?(1&~r||(o.push(rc),s.push(oc)),2&~r||(o.push(sc),s.push("rawLastAccessDate")),4&~r||(o.push(ac),s.push(lc))):e.data.length>=5&&(o.push(rc),s.push(oc));let a=1;o.forEach((i,r)=>{if(e.data.length>=a+4){const o=oA(n,a);t[i]=e[i]=new Date(1e3*o);const l=s[r];e[l]=o}a+=4})}(f,t,r),t.extraFieldExtendedTimestamp=f);const m=s.get(6534);m&&(t.extraFieldUSDZ=m)}function Xc(e,t,i,n,r){const o=aA(e.data),s=new la;s.append(r[i]);const a=aA(new Uint8Array(4));a.setUint32(0,s.get(),!0);const l=oA(o,1);Object.assign(e,{version:nA(o,0),[t]:jl(e.data.subarray(5)),valid:!r.bitFlag.languageEncodingFlag&&l==oA(a,0)}),e.valid&&(n[t]=e[t],n[t+"UTF8"]=!0)}function Zc(e,t,i){try{const n=aA(new Uint8Array(e.data));let r=0;const o=nA(n,r++),s=nA(n,r++),a=e.data.subarray(r,r+s);r+=s;const l=$c(a),c=nA(n,r++),A=e.data.subarray(r,r+c);r+=c;const u=$c(A);let h=Xs;if(!i&&r+2<=e.data.length){const t=e.data;h=new DataView(t.buffer,t.byteOffset+r,2).getUint16(0,!0)}Object.assign(e,{version:o,uid:l,gid:u,unixMode:h}),l!==Xs&&(t.uid=l),u!==Xs&&(t.gid=u),h!==Xs&&(t.unixMode=h)}catch{}}function $c(e){const t=new Uint8Array(4);return t.set(e,0),new DataView(t.buffer,t.byteOffset,4).getUint32(0,!0)}function eA(e,t,i){return t[i]===Xs?e.options[i]:t[i]}function tA(e){const t=(4294901760&e)>>16,i=e&Ds;try{return new Date(1980+((65024&t)>>9),((480&t)>>5)-1,31&t,(63488&i)>>11,(2016&i)>>5,2*(31&i),0)}catch{}}function iA(e){return new Date(Number(e/BigInt(1e4)-BigInt(116444736e5)))}function nA(e,t){return e.getUint8(t)}function rA(e,t){return e.getUint16(t,!0)}function oA(e,t){return e.getUint32(t,!0)}function sA(e,t){return Number(e.getBigUint64(t,!0))}function aA(e){return new DataView(e.buffer)}const lA="Version exceeds 65535",cA="Zip64 is not supported (make sure 'keepOrder' is set to 'true')",AA=new Uint8Array([7,0,2,0,65,69,3,0,0]),uA="infozip",hA="unix";let dA=0;const gA=[];class pA{constructor(e,t={}){const i=(e=new Kl(e)).availableSize!==Xs&&e.availableSize>0&&e.availableSize!==1/0&&e.maxSize!==Xs&&e.maxSize>0&&e.maxSize!==1/0;Object.assign(this,{writer:e,addSplitZipSignature:i,options:t,config:na(),files:new Map,filenames:new Set,offset:t[Qc]===Xs?e.size||e.writable.size||0:t[Qc],pendingEntriesSize:0,pendingAddFileCalls:new Set,bufferedWrites:0})}async prependZip(e){if(this.filenames.size)throw new Error("Zip file not empty");e=new Yl(e);const t=new qc(e.readable),i=await t.getEntries();await t.close(),await e.readable.pipeTo(this.writer.writable,{preventClose:!0,preventAbort:!0}),this.writer.size=this.offset=e.size,this.filenames=new Set(i.map(e=>e.filename)),this.files=new Map(i.map(e=>{const{version:t,compressionMethod:i,lastModDate:n,lastAccessDate:r,creationDate:o,rawFilename:s,bitFlag:a,encrypted:l,uncompressedSize:c,compressedSize:A,diskOffset:u,diskNumber:h,zip64:d}=e;let{rawExtraFieldZip64:g,rawExtraFieldAES:p,rawExtraFieldExtendedTimestamp:f,rawExtraFieldNTFS:m,rawExtraFieldUnix:_,rawExtraField:y}=e;const{level:w,languageEncodingFlag:C,dataDescriptor:B}=a;g=g||new Uint8Array,p=p||new Uint8Array,f=f||new Uint8Array,m=m||new Uint8Array,_=e.rawExtraFieldUnix||new Uint8Array,y=y||new Uint8Array;const v=SA(g,p,f,m,_,y),E=d&&c>Ms,b=d&&A>Ms,{headerArray:I,headerView:x}=TA({version:t,bitFlag:MA(w,C,B,l,i),compressionMethod:i,uncompressedSize:c,compressedSize:A,lastModDate:n,rawFilename:s,zip64CompressedSize:b,zip64UncompressedSize:E,extraFieldLength:v});return Object.assign(e,{zip64UncompressedSize:E,zip64CompressedSize:b,zip64Offset:d&&this.offset-u>Ms,zip64DiskNumberStart:d&&h>Ds,rawExtraFieldZip64:g,rawExtraFieldAES:p,rawExtraFieldExtendedTimestamp:f,rawExtraFieldNTFS:m,rawExtraFieldUnix:_,rawExtraField:y,extendedTimestamp:f.length>0||m.length>0,extraFieldExtendedTimestampFlag:1+(r?2:0)+(o?4:0),headerArray:I,headerView:x}),[e.filename,e]}))}async add(e="",t,i={}){const n=this,{pendingAddFileCalls:r,config:o}=n;let s;dA<o.maxWorkers?dA++:await new Promise(e=>gA.push(e));try{if(e=e.trim(),n.filenames.has(e))throw new Error("File already exists");return n.filenames.add(e),s=async function(e,t,i,n){t=t.trim();let r=wA(e,n,dc),o=wA(e,n,mc,r?20:768);const s=wA(e,n,wc),a=wA(e,n,"uid"),l=wA(e,n,"gid");let c=wA(e,n,Ec);const A=wA(e,n,"unixExtraFieldType");let u=wA(e,n,bc),h=wA(e,n,Ic),d=wA(e,n,xc);if(a!==Xs&&(a<0||a>Ms))throw new Error("Invalid uid (must be integer 0..2^32-1)");if(l!==Xs&&(l<0||l>Ms))throw new Error("Invalid gid (must be integer 0..2^32-1)");if(c!==Xs&&(c<0||c>Ds))throw new Error("Invalid UNIX mode (must be integer 0..65535)");if(A!==Xs&&A!==uA&&A!==hA)throw new Error("Invalid unixExtraFieldType (must be 'infozip' or 'unix')");let g=wA(e,n,uc),p=wA(e,n,hc);const f=g!==Xs||p!==Xs;if(a!==Xs||l!==Xs||c!==Xs||A?(r=!1,o=o&Ds|768):f&&(r=!0,o&=Ps),g!==Xs&&(g<0||g>Ps))throw new Error("Invalid msdosAttributesRaw (must be integer 0..255)");if(p&&"object"!=typeof p)throw new Error("Invalid msdosAttributes (must be an object with boolean flags)");if(o>Ds)throw new Error(lA);let m=wA(e,n,Ac,0);!n[yc]&&t.endsWith(qs)&&(n[yc]=!0);const _=wA(e,n,yc);let y;_?(t.endsWith(qs)||(t+=qs),0===m&&(m=16,r||(m|=16877<<16))):r||0!==m||(m=s?493<<16:27525120),r||(y=m>>16&Ds,c=c===Xs?y:c&Ds,u?c|=Ks:u=Boolean(c&Ks),h?c|=Hs:h=Boolean(c&Hs),d?c|=zs:d=Boolean(c&zs),_&&(c|=Ys),m=(c&Ds)<<16|m&Ps),({msdosAttributesRaw:g,msdosAttributes:p}=function(e,t){if(e!==Xs)e&=Ps;else if(t!==Xs){const{readOnly:i,hidden:n,system:r,directory:o,archive:s}=t;let a=0;i&&(a|=1),n&&(a|=2),r&&(a|=4),o&&(a|=16),s&&(a|=32),e=a&Ps}return t===Xs&&(t={readOnly:Boolean(1&e),hidden:Boolean(2&e),system:Boolean(4&e),directory:Boolean(16&e),archive:Boolean(32&e)}),{msdosAttributesRaw:e,msdosAttributes:t}}(g,p)),f&&(m=m&Ms|g&Ps);const w=wA(e,n,"encodeText",Aa);let C=w(t);if(C===Xs&&(C=Aa(t)),SA(C)>Ds)throw new Error("File entry name exceeds 64KB");const B=n[Zl]||"";let v=w(B);if(v===Xs&&(v=Aa(B)),SA(v)>Ds)throw new Error("File entry comment exceeds 64KB");const E=wA(e,n,fc,20);if(E>Ds)throw new Error(lA);const b=wA(e,n,rc,new Date),I=wA(e,n,sc),x=wA(e,n,ac),S=wA(e,n,cc,0),T=wA(e,n,Pc);let M,D;T||(M=wA(e,n,Mc),D=wA(e,n,Dc));const P=wA(e,n,"encryptionStrength",3),O=wA(e,n,_c),R=wA(e,n,"extendedTimestamp",!0),k=wA(e,n,"keepOrder",!0),F=wA(e,n,Rc),L=wA(e,n,"bufferedWrite"),Q=wA(e,n,"dataDescriptorSignature",!1),N=wA(e,n,Oc),G=wA(e,n,"useUnicodeFileNames",!0),V=wA(e,n,Cc);let U=wA(e,n,"level"),Y=wA(e,n,kc),K=wA(e,n,"dataDescriptor");L&&K===Xs&&(K=!1),(K===Xs||O)&&(K=!0),U!==Xs&&6!=U&&(Y=!1),Y||e.config.CompressionStream!==Xs||e.config.CompressionStreamZlib!==Xs||(U=0);let H=wA(e,n,gc);if(!(O||M===Xs&&D===Xs||P>=1&&P<=3))throw new Error("The strength must equal 1, 2, or 3");let z=new Uint8Array;const q=n[vc];if(q){let e=0,t=0;q.forEach(t=>e+=4+SA(t)),z=new Uint8Array(e),q.forEach((e,i)=>{if(i>Ds)throw new Error("Extra field type exceeds 65535");if(SA(e)>Ds)throw new Error("Extra field data exceeds 64KB");IA(z,new Uint16Array([i]),t),IA(z,new Uint16Array([SA(e)]),t+2),IA(z,e,t+4),t+=4+SA(e)})}let W=0,j=0,J=0;if(T&&(J=n[ec],J===Xs))throw new Error("Undefined uncompressed size");const X=!0===H;i&&(i=new Yl(i),await Hl(i),T?(n.uncompressedSize=J,W=CA(J)):i.size===Xs?(K=!0,(H||H===Xs)&&(H=!0,J=W=4294967296)):(n.uncompressedSize=J=i.size,W=CA(J)));const{diskOffset:Z,diskNumber:$,maxSize:ee}=e.writer,te=X||J>Ms,ie=X||W>Ms,ne=X||e.offset+e.pendingEntriesSize-Z>Ms,re=wA(e,n,Lc,!0)&&X||$+Math.ceil(e.pendingEntriesSize/ee)>Ds;if(ne||te||ie||re){if(!1===H||!k)throw new Error(cA);H=!0}H=H||!1;const oe=wA(e,n,pc),se=function(e){const{rawFilename:t,lastModDate:i,lastAccessDate:n,creationDate:r,level:o,zip64:s,zipCrypto:a,useUnicodeFileNames:l,dataDescriptor:c,directory:A,rawExtraField:u,encryptionStrength:h,extendedTimestamp:d,passThrough:g,encrypted:p,zip64UncompressedSize:f,zip64CompressedSize:m,zip64Offset:_,zip64DiskNumberStart:y,uncompressedSize:w,offset:C,diskNumberStart:B}=e;let{version:v,compressionMethod:E}=e;const b=!A&&(o>0||o===Xs&&0!==E);let I;const x=g||!b,S=s&&(e.bufferedWrite||!f&&!m||x);if(s){let e=4;f&&(e+=8),m&&(e+=8),_&&(e+=8),y&&(e+=4),I=new Uint8Array(e);const t=xA(I);if(vA(t,0,1),vA(t,2,SA(I)-4),S){const e=xA(I);let t=4;f&&(bA(e,t,BigInt(w)),t+=8),m&&x&&(bA(e,t,BigInt(w)),t+=8),_&&(bA(e,t,BigInt(C)),t+=8),y&&(EA(e,t,B),t+=4)}}else I=new Uint8Array;let T,M,D,P,O;if(p&&!a){T=new Uint8Array(SA(AA)+2);const e=xA(T);vA(e,0,39169),IA(T,AA,2),BA(e,8,h)}else T=new Uint8Array;if(d){D=new Uint8Array(9+(n?4:0)+(r?4:0));const e=xA(D);vA(e,0,Vs),vA(e,2,SA(D)-4),P=1+(n?2:0)+(r?4:0),BA(e,4,P);let t=5;EA(e,t,Math.floor(i.getTime()/1e3)),t+=4,n&&(EA(e,t,Math.floor(n.getTime()/1e3)),t+=4),r&&EA(e,t,Math.floor(r.getTime()/1e3));try{M=new Uint8Array(36);const e=xA(M),t=yA(i);vA(e,0,10),vA(e,2,32),vA(e,8,1),vA(e,10,24),bA(e,12,t),bA(e,20,yA(n)||t),bA(e,28,yA(r)||t)}catch{M=new Uint8Array}}else M=D=new Uint8Array;try{const{uid:t,gid:i,unixMode:n,setuid:r,setgid:o,sticky:s,unixExtraFieldType:a}=e;if(!a||t===Xs&&i===Xs&&n===Xs)O=new Uint8Array;else{const e=fA(t),l=fA(i);let c=new Uint8Array;if(a==hA&&n!==Xs){let e=n&Ds;r&&(e|=Ks),o&&(e|=Hs),s&&(e|=zs),c=new Uint8Array(2),new DataView(c.buffer).setUint16(0,e,!0)}const A=3+e.length+l.length+c.length;O=new Uint8Array(4+A);const u=xA(O);vA(u,0,a==uA?30837:30805),vA(u,2,A),BA(u,4,1),BA(u,5,e.length);let h=6;IA(O,e,h),h+=e.length,BA(u,h,l.length),h++,IA(O,l,h),h+=l.length,IA(O,c,h)}}catch{O=new Uint8Array}E===Xs&&(E=b?8:0),s&&(v=v>45?v:45),p&&!a&&(v=v>51?v:51,T[9]=E,E=99);const R=S?SA(I):0,k=R+SA(T,D,M,O,u),{headerArray:F,headerView:L,rawLastModDate:Q}=TA({version:v,bitFlag:MA(o,l,c,p,E),compressionMethod:E,uncompressedSize:w,lastModDate:i<Js?Js:i>js?js:i,rawFilename:t,zip64CompressedSize:m,zip64UncompressedSize:f,extraFieldLength:k});let N=Ws;const G=new Uint8Array(N+SA(t)+k),V=xA(G);return EA(V,0,Os),IA(G,F,4),IA(G,t,N),N+=SA(t),S&&IA(G,I,N),N+=R,IA(G,T,N),N+=SA(T),IA(G,D,N),N+=SA(D),IA(G,M,N),N+=SA(M),IA(G,O,N),N+=SA(O),IA(G,u,N),c&&(EA(V,18,0),EA(V,22,0)),{localHeaderArray:G,localHeaderView:V,headerArray:F,headerView:L,lastModDate:i,rawLastModDate:Q,encrypted:p,compressed:b,version:v,compressionMethod:E,extraFieldExtendedTimestampFlag:P,rawExtraFieldZip64:I,localExtraFieldZip64Length:R,rawExtraFieldExtendedTimestamp:D,rawExtraFieldNTFS:M,rawExtraFieldUnix:O,rawExtraFieldAES:T,extraFieldLength:k}}(n=Object.assign({},n,{rawFilename:C,rawComment:v,version:E,versionMadeBy:o,lastModDate:b,lastAccessDate:I,creationDate:x,rawExtraField:z,zip64:H,zip64UncompressedSize:te,zip64CompressedSize:ie,zip64Offset:ne,zip64DiskNumberStart:re,password:M,rawPassword:D,level:U,useWebWorkers:F,encryptionStrength:P,extendedTimestamp:R,zipCrypto:O,bufferedWrite:L,keepOrder:k,useUnicodeFileNames:G,dataDescriptor:K,dataDescriptorSignature:Q,signal:N,msDosCompatible:r,internalFileAttribute:S,internalFileAttributes:S,externalFileAttribute:m,externalFileAttributes:m,useCompressionStream:Y,passThrough:T,encrypted:Boolean(M&&SA(M)||D&&SA(D))||T&&oe,signature:n[Bc],compressionMethod:V,uncompressedSize:J,offset:e.offset-Z,diskNumberStart:$,uid:a,gid:l,setuid:u,setgid:h,sticky:d,unixMode:c,msdosAttributesRaw:g,msdosAttributes:p,unixExternalUpper:y})),ae=function({zip64:e,dataDescriptor:t,dataDescriptorSignature:i}){let n,r=new Uint8Array,o=0,s=e?20:12;return i&&(s+=4),t&&(r=new Uint8Array(s),n=xA(r),i&&(o=4,EA(n,0,ks))),{dataDescriptorArray:r,dataDescriptorView:n,dataDescriptorOffset:o}}(n),le=SA(se.localHeaderArray,ae.dataDescriptorArray);let ce;j=le+W,e.options[Nc]&&(j+=j+64),e.pendingEntriesSize+=j;try{ce=await async function(e,t,i,n,r){const{files:o,writer:s}=e,{keepOrder:a,dataDescriptor:l,signal:c}=r,{headerInfo:A}=n,u=e.options[Nc],h=Array.from(o.values()).pop();let d,g,p,f,m,_,y,w={};o.set(t,w);try{let g;a&&(g=h&&h.lock,w.lock=new Promise(e=>p=e)),!(r.bufferedWrite||e.writerLocked||e.bufferedWrites&&a)&&l||u?(_=s,await C()):(_=new TransformStream,_.size=0,d=!0,e.bufferedWrites++,await Hl(s)),await Hl(_);const{writable:v,diskOffset:E}=s;if(e.addSplitZipSignature){delete e.addSplitZipSignature;const t=new Uint8Array(4);EA(xA(t),0,Rs),await _A(s,t),e.offset+=4}u&&function(e,t){const{headerInfo:i}=e;let{localHeaderArray:n,extraFieldLength:r}=i,o=xA(n),s=64-(t+SA(n))%64;s<4&&(s+=64);const a=new Uint8Array(s),l=xA(a);vA(l,0,6534),vA(l,2,s-2);const c=n;i.localHeaderArray=n=new Uint8Array(SA(c)+s),IA(n,c),IA(n,a,SA(c)),o=xA(n),vA(o,28,r+s),e.metadataSize+=s}(n,e.offset-E);const{localHeaderView:b,localHeaderArray:I}=A;d||(await g,await B(v));const{diskNumber:x}=s;m=!0,w.diskNumberStart=x,d?y=new Response(_.readable).blob():await _A(_,I),w=await async function(e,t,{diskNumberStart:i,lock:n},r,o,s){const{headerInfo:a,dataDescriptorInfo:l,metadataSize:c}=r,{headerArray:A,headerView:u,lastModDate:h,rawLastModDate:d,encrypted:g,compressed:p,version:f,compressionMethod:m,rawExtraFieldZip64:_,localExtraFieldZip64Length:y,rawExtraFieldExtendedTimestamp:w,extraFieldExtendedTimestampFlag:C,rawExtraFieldNTFS:B,rawExtraFieldUnix:v,rawExtraFieldAES:E}=a,{dataDescriptorArray:b}=l,{rawFilename:I,lastAccessDate:x,creationDate:S,password:T,rawPassword:M,level:D,zip64:P,zip64UncompressedSize:O,zip64CompressedSize:R,zip64Offset:k,zip64DiskNumberStart:F,zipCrypto:L,dataDescriptor:Q,directory:N,executable:G,versionMadeBy:V,rawComment:U,rawExtraField:Y,useWebWorkers:K,onstart:H,onprogress:z,onend:q,signal:W,encryptionStrength:j,extendedTimestamp:J,msDosCompatible:X,internalFileAttributes:Z,externalFileAttributes:$,uid:ee,gid:te,unixMode:ie,setuid:ne,setgid:re,sticky:oe,unixExternalUpper:se,msdosAttributesRaw:ae,msdosAttributes:le,useCompressionStream:ce,passThrough:Ae}=s,ue={lock:n,versionMadeBy:V,zip64:P,directory:Boolean(N),executable:Boolean(G),filenameUTF8:!0,rawFilename:I,commentUTF8:!0,rawComment:U,rawExtraFieldZip64:_,localExtraFieldZip64Length:y,rawExtraFieldExtendedTimestamp:w,rawExtraFieldNTFS:B,rawExtraFieldUnix:v,rawExtraFieldAES:E,rawExtraField:Y,extendedTimestamp:J,msDosCompatible:X,internalFileAttributes:Z,externalFileAttributes:$,diskNumberStart:i,uid:ee,gid:te,unixMode:ie,setuid:ne,setgid:re,sticky:oe,unixExternalUpper:se,msdosAttributesRaw:ae,msdosAttributes:le};let{signature:he,uncompressedSize:de}=s,ge=0;Ae||(de=0);const{writable:pe}=t;if(e){e.chunkSize=ra(o);const i=e.readable,n=e.size,r={options:{codecType:dl,level:D,rawPassword:M,password:T,encryptionStrength:j,zipCrypto:g&&L,passwordVerification:g&&L&&d>>8&Ps,signed:!Ae,compressed:p&&!Ae,encrypted:g&&!Ae,useWebWorkers:K,useCompressionStream:ce,transferStreams:!1},config:o,streamOptions:{signal:W,size:n,onstart:H,onprogress:z,onend:q}};try{const e=await Tl({readable:i,writable:pe},r);ge=e.outputSize,t.size+=ge,Ae||(de=e.inputSize,he=e.signature)}catch(e){throw e.outputSize!==Xs&&(t.size+=e.outputSize),e}}return function({signature:e,compressedSize:t,uncompressedSize:i,headerInfo:n,dataDescriptorInfo:r},{zip64:o,zipCrypto:s,dataDescriptor:a}){const{headerView:l,encrypted:c}=n,{dataDescriptorView:A,dataDescriptorOffset:u}=r;c&&!s||e===Xs||(EA(l,10,e),a&&EA(A,u,e)),o?a&&(bA(A,u+4,BigInt(t)),bA(A,u+12,BigInt(i))):(EA(l,14,t),EA(l,18,i),a&&(EA(A,u+4,t),EA(A,u+8,i)))}({signature:he,compressedSize:ge,uncompressedSize:de,headerInfo:a,dataDescriptorInfo:l},s),Q&&await _A(t,b),Object.assign(ue,{uncompressedSize:de,compressedSize:ge,lastModDate:h,rawLastModDate:d,creationDate:S,lastAccessDate:x,encrypted:g,zipCrypto:L,size:c+ge,compressionMethod:m,version:f,headerArray:A,headerView:u,signature:he,extraFieldExtendedTimestampFlag:C,zip64UncompressedSize:O,zip64CompressedSize:R,zip64Offset:k,zip64DiskNumberStart:F}),ue}(i,_,w,n,e.config,r);const{zip64:S}=w;if(m=!1,o.set(t,w),w.filename=t,d){const[t]=await Promise.all([y,_.writable.getWriter().close(),g]);await C(),f=!0,w.diskNumberStart=s.diskNumber,w.offset=e.offset-s.diskOffset,S&&mA(w),function({rawFilename:e,encrypted:t,zip64:i,localExtraFieldZip64Length:n,signature:r,compressedSize:o,uncompressedSize:s,offset:a,diskNumberStart:l,zip64UncompressedSize:c,zip64CompressedSize:A,zip64Offset:u,zip64DiskNumberStart:h},d,{dataDescriptor:g}){if(g||(t||EA(d,14,r),i||(EA(d,18,o),EA(d,22,s))),i&&n){let t=Ws+SA(e)+4;c&&(bA(d,t,BigInt(s)),t+=8),A&&(bA(d,t,BigInt(o)),t+=8),u&&(bA(d,t,BigInt(a)),t+=8),h&&EA(d,t,l)}}(w,b,r),await B(v),await _A(s,I),await t.stream().pipeTo(v,{preventClose:!0,preventAbort:!0,signal:c}),s.size+=_.size,f=!1}else w.offset=e.offset-E,S&&mA(w);if(w.offset>Ms&&!S)throw new Error(cA);return e.offset+=w.size,w}catch(i){if(d&&f||!d&&m){if(e.hasCorruptedEntries=!0,i)try{i.corruptedEntry=!0}catch{}d?e.offset+=_.size:e.offset=_.size}throw o.delete(t),i}finally{d&&e.bufferedWrites--,p&&p(),g&&g()}async function C(){e.writerLocked=!0;const{lockWriter:t}=e;e.lockWriter=new Promise(t=>g=()=>{e.writerLocked=!1,t()}),await t}async function B(e){SA(A.localHeaderArray)>s.availableSize&&(s.availableSize=0,await _A(e,new Uint8Array))}}(e,t,i,{headerInfo:se,dataDescriptorInfo:ae,metadataSize:le},n)}finally{e.pendingEntriesSize-=j}return Object.assign(ce,{name:t,comment:B,extraField:q}),new Tc(ce)}(n,e,t,i),r.add(s),await s}catch(t){throw n.filenames.delete(e),t}finally{r.delete(s);const e=gA.shift();e?e():dA--}}remove(e){const{filenames:t,files:i}=this;if("string"==typeof e&&(e=i.get(e)),e&&e.filename!==Xs){const{filename:n}=e;if(t.has(n)&&i.has(n))return t.delete(n),i.delete(n),!0}return!1}async close(e=new Uint8Array,t={}){const{pendingAddFileCalls:i,writer:n}=this,{writable:r}=n;for(;i.size;)await Promise.allSettled(Array.from(i));return await async function(e,t,i){const{files:n,writer:r}=e,{diskOffset:o}=r;let{diskNumber:s}=r,a=0,l=0,c=e.offset-o,A=n.size;for(const[,e]of n){const{rawFilename:t,rawExtraFieldZip64:i,rawExtraFieldAES:n,rawComment:r,rawExtraFieldNTFS:o,rawExtraFieldUnix:s,rawExtraField:a,extendedTimestamp:c,extraFieldExtendedTimestampFlag:A,lastModDate:u}=e;let h;if(c){h=new Uint8Array(9);const e=xA(h);vA(e,0,Vs),vA(e,2,5),BA(e,4,A),EA(e,5,Math.floor(u.getTime()/1e3))}else h=new Uint8Array;e.rawExtraFieldExtendedTimestamp=h,l+=46+SA(t,r,i,n,o,s,h,a)}const u=new Uint8Array(l),h=xA(u);await Hl(r);let d=0;for(const[e,t]of Array.from(n.values()).entries()){const{offset:o,rawFilename:s,rawExtraFieldZip64:l,rawExtraFieldAES:c,rawExtraFieldExtendedTimestamp:A,rawExtraFieldNTFS:g,rawExtraFieldUnix:p,rawExtraField:f,rawComment:m,versionMadeBy:_,headerArray:y,headerView:w,zip64:C,zip64UncompressedSize:B,zip64CompressedSize:v,zip64DiskNumberStart:E,zip64Offset:b,internalFileAttributes:I,externalFileAttributes:x,diskNumberStart:S,uncompressedSize:T,compressedSize:M}=t,D=SA(l,c,A,g,p,f);EA(h,a,Fs),vA(h,a+4,_),B||EA(w,18,T),v||EA(w,14,M),IA(u,y,a+6);let P=a+Ws;if(vA(h,P,D),P+=2,vA(h,P,SA(m)),P+=2,vA(h,P,C&&E?Ds:S),P+=2,vA(h,P,I),P+=2,x&&EA(h,P,x),P+=4,EA(h,P,C&&b?Ms:o),P+=4,IA(u,s,P),P+=SA(s),IA(u,l,P),P+=SA(l),IA(u,c,P),P+=SA(c),IA(u,A,P),P+=SA(A),IA(u,g,P),P+=SA(g),IA(u,p,P),P+=SA(p),IA(u,f,P),P+=SA(f),IA(u,m,P),P+=SA(m),a-d>r.availableSize&&(r.availableSize=0,await _A(r,u.slice(d,a)),d=a),a=P,i.onprogress)try{await i.onprogress(e+1,n.size,new Tc(t))}catch{}}await _A(r,d?u.slice(d):u);let g=r.diskNumber;const{availableSize:p}=r;p<Gs&&g++;let f=wA(e,i,gc);if(c>Ms||l>Ms||A>Ds||g>Ds){if(!1===f)throw new Error(cA);f=!0}const m=new Uint8Array(f?98:Gs),_=xA(m);a=0,f&&(EA(_,0,Qs),bA(_,4,BigInt(44)),vA(_,12,45),vA(_,14,45),EA(_,16,g),EA(_,20,s),bA(_,24,BigInt(A)),bA(_,32,BigInt(A)),bA(_,40,BigInt(l)),bA(_,48,BigInt(c)),EA(_,56,Ns),bA(_,64,BigInt(c)+BigInt(l)),EA(_,72,g+1),wA(e,i,Lc,!0)&&(g=Ds,s=Ds),A=Ds,c=Ms,l=Ms,a+=76),EA(_,a,Ls),vA(_,a+4,g),vA(_,a+6,s),vA(_,a+8,A),vA(_,a+10,A),EA(_,a+12,l),EA(_,a+16,c);const y=SA(t);if(y){if(!(y<=Ds))throw new Error("Zip file comment exceeds 64KB");vA(_,a+20,y)}await _A(r,m),y&&await _A(r,t)}(this,e,t),wA(this,t,Fc)||await r.getWriter().close(),n.getData?n.getData():r}}function fA(e){if(e===Xs)return new Uint8Array;{const t=new Uint8Array(4);xA(t).setUint32(0,e,!0);let i=4;for(;i>1&&0===t[i-1];)i--;return t.subarray(0,i)}}function mA({compressedSize:e,uncompressedSize:t,offset:i,diskNumberStart:n,zip64UncompressedSize:r,zip64CompressedSize:o,zip64Offset:s,zip64DiskNumberStart:a,rawExtraFieldZip64:l}){const c=xA(l);let A=4;r&&(bA(c,A,BigInt(t)),A+=8),o&&(bA(c,A,BigInt(e)),A+=8),s&&(bA(c,A,BigInt(i)),A+=8),a&&EA(c,A,n)}async function _A(e,t){const{writable:i}=e,n=i.getWriter();try{await n.ready,e.size+=SA(t),await n.write(t)}finally{n.releaseLock()}}function yA(e){if(e)return(BigInt(e.getTime())+BigInt(116444736e5))*BigInt(1e4)}function wA(e,t,i,n){const r=t[i]===Xs?e.options[i]:t[i];return r===Xs?n:r}function CA(e){return e+5*(Math.floor(e/16383)+1)}function BA(e,t,i){e.setUint8(t,i)}function vA(e,t,i){e.setUint16(t,i,!0)}function EA(e,t,i){e.setUint32(t,i,!0)}function bA(e,t,i){e.setBigUint64(t,i,!0)}function IA(e,t,i){e.set(t,i)}function xA(e){return new DataView(e.buffer)}function SA(...e){let t=0;return e.forEach(e=>e&&(t+=e.length)),t}function TA({version:e,bitFlag:t,compressionMethod:i,uncompressedSize:n,compressedSize:r,lastModDate:o,rawFilename:s,zip64CompressedSize:a,zip64UncompressedSize:l,extraFieldLength:c}){const A=new Uint8Array(26),u=xA(A);vA(u,0,e),vA(u,2,t),vA(u,4,i);const h=new Uint32Array(1),d=xA(h);vA(d,0,(o.getHours()<<6|o.getMinutes())<<5|o.getSeconds()/2),vA(d,2,(o.getFullYear()-1980<<4|o.getMonth()+1)<<5|o.getDate());const g=h[0];return EA(u,6,g),(a||r!==Xs)&&EA(u,14,a?Ms:r),(l||n!==Xs)&&EA(u,18,l?Ms:n),vA(u,22,SA(s)),vA(u,24,c),{headerArray:A,headerView:u,rawLastModDate:g}}function MA(e,t,i,n,r){let o=0;return t&&(o|=Us),i&&(o|=8),8!=r&&9!=r||(e>=0&&e<=3&&(o|=6),e>3&&e<=5&&(o|=4),9==e&&(o|=2)),n&&(o|=1),o}try{oa({baseURI:"file:///home/runner/work/geonode-mapstore-client/geonode-mapstore-client/geonode_mapstore_client/client/node_modules/@zip.js/zip.js/lib/zip-core-base.js"})}catch{}const DA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";let PA,OA,RA,kA;function FA(e,t,i={}){const n="number"==typeof i.level?i.level:-1,r="number"==typeof i.outBuffer?i.outBuffer:65536,o="number"==typeof i.inBufferSize?i.inBufferSize:65536;return new TransformStream({start(){let i;if(this.out=OA(r),this.in=OA(o),this.inBufferSize=o,this._scratch=new Uint8Array(r),e?(this._process=PA.deflate_process,this._last_consumed=PA.deflate_last_consumed,this._end=PA.deflate_end,this.streamHandle=PA.deflate_new(),i="gzip"===t?PA.deflate_init_gzip(this.streamHandle,n):"deflate-raw"===t?PA.deflate_init_raw(this.streamHandle,n):PA.deflate_init(this.streamHandle,n)):"deflate64-raw"===t?(this._process=PA.inflate9_process,this._last_consumed=PA.inflate9_last_consumed,this._end=PA.inflate9_end,this.streamHandle=PA.inflate9_new(),i=PA.inflate9_init_raw(this.streamHandle)):(this._process=PA.inflate_process,this._last_consumed=PA.inflate_last_consumed,this._end=PA.inflate_end,this.streamHandle=PA.inflate_new(),i="deflate-raw"===t?PA.inflate_init_raw(this.streamHandle):"gzip"===t?PA.inflate_init_gzip(this.streamHandle):PA.inflate_init(this.streamHandle)),0!==i)throw new Error("init failed:"+i)},transform(t,i){try{const n=t,o=new Uint8Array(kA.buffer),s=this._process,a=this._last_consumed,l=this.out,c=this._scratch;let A=0;for(;A<n.length;){const t=Math.min(n.length-A,32768);(!this.in||this.inBufferSize<t)&&(this.in&&RA&&RA(this.in),this.in=OA(t),this.inBufferSize=t),o.set(n.subarray(A,A+t),this.in);const u=s(this.streamHandle,this.in,t,l,r,0);if(!e&&u<0)throw new Error("process error:"+u);const h=16777215&u;h&&(c.set(o.subarray(l,l+h),0),i.enqueue(c.slice(0,h)));const d=a(this.streamHandle);if(0===d)break;A+=d}}catch(e){this._end&&this.streamHandle&&this._end(this.streamHandle),this.in&&RA&&RA(this.in),this.out&&RA&&RA(this.out),i.error(e)}},flush(t){try{const i=new Uint8Array(kA.buffer),n=this._process,o=this.out,s=this._scratch;for(;;){const a=n(this.streamHandle,0,0,o,r,4);if(!e&&a<0)throw new Error("process error:"+a);const l=16777215&a,c=a>>24&255;if(l&&(s.set(i.subarray(o,o+l),0),t.enqueue(s.slice(0,l))),1===c||0===l)break}}catch(e){t.error(e)}finally{if(this._end&&this.streamHandle){const e=this._end(this.streamHandle);0!==e&&t.error(new Error("end error:"+e))}this.in&&RA&&RA(this.in),this.out&&RA&&RA(this.out)}}})}let LA,QA=!1;!function(e){let t;e({wasmURI:()=>(t||(t="data:application/wasm;base64,"+(e=>{e=(e=>{const t=(e=(e+"").replace(/[^A-Za-z0-9+/=]/g,"")).length,i=[];for(let n=0;t>n;n+=4){const t=DA.indexOf(e[n])<<18|DA.indexOf(e[n+1])<<12|(63&DA.indexOf(e[n+2]))<<6|63&DA.indexOf(e[n+3]);i.push(t>>16&255),"="!==e[n+2]&&i.push(t>>8&255),"="!==e[n+3]&&i.push(255&t)}return new Uint8Array(i)})(e);let t=new Uint8Array(1024),i=0;for(let r=0;r<e.length;){const o=e[r++];if(128&o){const s=3+(127&o),a=e[r++]<<8|e[r++],l=i-a;n(i+s);for(let e=0;s>e;e++)t[i++]=t[l+e]}else{const s=o;n(i+s);for(let n=0;s>n&&r<e.length;n++)t[i++]=e[r++]}}return(e=>{let t="";const i=e.length;let n=0;for(;i>n+2;n+=3){const i=e[n]<<16|e[n+1]<<8|e[n+2];t+=DA[i>>18&63]+DA[i>>12&63]+DA[i>>6&63]+DA[63&i]}const r=i-n;if(1===r){const i=e[n]<<16;t+=DA[i>>18&63]+DA[i>>12&63]+"=="}else if(2===r){const i=e[n]<<16|e[n+1]<<8;t+=DA[i>>18&63]+DA[i>>12&63]+DA[i>>6&63]+"="}return t})(new Uint8Array(t.buffer.slice(0,i)));function n(e){if(t.length<e){let n=2*t.length;for(;e>n;)n*=2;const r=new Uint8Array(n);r.set(t.subarray(0,i)),t=r}}})("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mYAABAFZgAAEAdmAAAQBOYAABAG5gAAEAXmAAAQB+YAABAEFgAAEAYWAAAQBRYAABAHFgAAEASWAAAQBpYAABAFlgAAEAeWAAAQBFYAABAGVgAAEAVWAAAQB1YAABAE1gAAEAbWAAAQBdYAABAH1gAAEAQ2AAAQBjYAABAFNgAAEAc2AAASAETMCAK2AAAQBbYAABAHtgAAEAR2AAAQBnYAABAFdgAAEAd2AAAQBPYAABAG9gAAEAX2AAAQB/YAABAETgADCBRMBCQCTgAAIAZOAAAgBU4AACAFTgAAIAdOAAAgB04AACAEzgAAIATOAAAgBs4AACAGzgAAIAXOAAAgBc4AACAHzgAAIAfOAAAgBC4AACIAQ2oAEAoAABIAACAFLgAAIAUuAAAgBy4AACAHLgAAIASuAAAgBK4AACAGrgAAIAauAAAgBa4AACAFrgAAIAeuAAAgB64AACAEbgAAIARuAAAgBm4AACAGbgAAIAVuAAAgBW4AACAHbgAAIAduAAAgBO4AACAE7gAAIAbuAAAgBu4AACAF7gAAIAXuAAAgB+4AACAH7gAAIgQO2AQeAAAgBh4AACAGHgAAIAUeAAAgBR4AACAHHgAAIAceAAAgBJ4AACAEngAAIAaeAAAgBp4AACAFngAAIAWeAAAgB54AACAHngAAIAReAAAgBF4AACAGXgAAIAZeAAAgBV4AACAFXgAAIAdeAAAgB14AACAE3gAAIATeAAAgBt4AACAG3gAAIAXeAAAgBd4AACAH3gAAIAfeAAAgBD4AACAEPgAAIAY+AAAgBj4AACAFPgAAIAU+AAAgBz4AACAHPgAAIAS+AAAgBL4AACAGvgAAIAa+AAAgBb4AACAFvgAAIAe+AAAgB74AACAEfgAAIAR+AAAgBn4AACAGfgAAIAV+AAAgBX4AACAHfgAAIAd+AAAgBP4AACAE/gAAIAb+AAAgBv4AACAF/gAAIAX+AAAgB/4AACAH/gAAIgQQKAUCAAAQBIIAABAFggAAEARCAAAQBUIAABAEwgAAEAXCCBVYDBwBIgAAEASiAAAQBaIAABAEYgAAEAViAAAQBOIAABAF4gAAEAQSAAAQBRIAABAEkgAAEAWSAAAQBFIAABAFUgAAEATSAAAQBdIAABAEDgABCAYOAAAQBQ4AABAHDgAAEASOAAAQBo4AABAFjgAAEAeOAAASAveaAAHSBAsYBBYAAXAEFggVKARSAAAQBDIAABAEcgAAEgL34gAREAQWCBgQBGoIF6gEFgAPUAQWAA7gBBYADnIBPdoAABAERgAAEAQmAAAQBGYAABIEAAgEVgAAEAQ2AAAQBHYAABAEDgAAEAROCBkABBYACLIEFpgEFgAG0AQWAPd8DGwtNgx+5hwAEAQKMAASBB1GJAAQBBIwABAEFigAEBEGwHAuAvMWLAEuNADuFAC8BBoQABIEFiIEABIEBCoEABIEBkoEABICEcYIABAELhAAEAQyEAASABduBR3kE4B0LI4UAX4UFywIQEYAFbQYHCQYKBQuAOrgEDQIOAYAHJQSUHgtphQCQhQCIhQCAhQB4gQBogQBcgQYfARCAAAQBFIAABAEYgAAEARyAAAQBIIAABAEogAAEATCAAAQBOIAABAFAgAAEAVCAAASBBr0BcIAABAGAgAAEAaCAAAQBwIAABAHggABvAx8Lco0Ab4EAa4EAZ4EAY4EAX4EAW4EAV4EAU4EAT4EAS4EAR4EAQ4EBPAGArwBBgFHNAgttgQDHAQSAAAIBCIAABIEBM4ECSwEQgAAOgwAMgYVpgKomhAAkgQdzgQBPAQiAAAiBABiFAAyBCLeDAAwBIIEAlIAyhIEAawGAgQgvAQSDAAyAP0gKAQAQDABBkSEL/4AlHwEDgpvTBQgJCQoKgEk3gAABAQ2AAAEBDoAAAQEPgAABARCEAAEBEYQAAQEShAABAROEAAEBFIwAAQEVjAABARaMAAEBF4wAAQEYnAABARmcAAEBGpwAAQEbmwABARyBffsEBAQFBYHBkAEHgAABAQiEAAGAXSqCAAEBCowAAYAnsooAAYEBMJkAAYEBTJkAAYEBaLkAAYEBpLkAAYIDdYABzoUBvI0BqJ0BkLwBgAIbHLwAAQEdvAABgA9PgH05A9AqAQ==")),t)})}(oa),function({initModule:e}){_l=e}({initModule:e=>{if(!LA){let{wasmURI:t}=e;typeof t==$s&&(t=t()),LA=async function(e,{baseURI:t}){if(!QA){let i,n;try{try{n=new URL(e,t)}catch{}const r=await fetch(n);i=await r.arrayBuffer()}catch(t){if(!e.startsWith("data:application/wasm;base64,"))throw t;i=function(e){const t=e.split(",")[1],i=atob(t),n=i.length,r=new Uint8Array(n);for(let e=0;e<n;++e)r[e]=i.charCodeAt(e);return r.buffer}(e)}!function(e){if(PA=e,({malloc:OA,free:RA,memory:kA}=PA),"function"!=typeof OA||"function"!=typeof RA||!kA)throw PA=OA=RA=kA=null,new Error("Invalid WASM module")}((await WebAssembly.instantiate(i)).instance.exports),QA=!0}}(t,e)}return LA}}),oa({CompressionStreamZlib:class{constructor(e="deflate",t){return FA(!0,e,t)}},DecompressionStreamZlib:class{constructor(e="deflate",t){return FA(!1,e,t)}}});var NA=i(116112);const GA=function(e,t){this.position=e,this.headingPitchRange=t};function VA(e,t){this.id=t,this.name=e,this.playlistIndex=0,this.playlist=[],this.tourStart=new f.A,this.tourEnd=new f.A,this.entryStart=new f.A,this.entryEnd=new f.A,this._activeEntries=[]}function UA(e){for(let t=e.pop();void 0!==t;t=e.pop())t.stop()}function YA(e,t,i){const n=this.playlist[this.playlistIndex];if(n){const r=KA.bind(this,e,t,i);if(this._activeEntries.push(n),this.entryStart.raiseEvent(n),n.blocking)n.play(r,e.scene.camera,t);else{const o=this;n.play(function(){o.entryEnd.raiseEvent(n);const e=o._activeEntries.indexOf(n);e>=0&&o._activeEntries.splice(e,1)}),r(e,t,i)}}else(0,p.A)(i)&&i(!1)}function KA(e,t,i,n){const r=this.playlist[this.playlistIndex];if(this.entryEnd.raiseEvent(r,n),n)i(n);else{const n=this._activeEntries.indexOf(r);n>=0&&this._activeEntries.splice(n,1),this.playlistIndex++,YA.call(this,e,t,i)}}VA.prototype.addPlaylistEntry=function(e){this.playlist.push(e)},VA.prototype.play=function(e,t){this.tourStart.raiseEvent();const i=this;YA.call(this,e,t,function(e){i.playlistIndex=0,e||UA(i._activeEntries),i.tourEnd.raiseEvent(e)})},VA.prototype.stop=function(){UA(this._activeEntries)};const HA=VA;var zA=i(660662),qA=i(430346),WA=i(924290);function jA(e,t,i){this.type="KmlTourFlyTo",this.blocking=!0,this.activeCamera=null,this.activeCallback=null,this.duration=e,this.view=i,this.flyToMode=t}jA.prototype.play=function(e,t,i){if(this.activeCamera=t,(0,p.A)(e)&&null!==e){const t=this;this.activeCallback=function(i){delete t.activeCallback,delete t.activeCamera,e(!(0,p.A)(i)&&i)}}const n=this.getCameraOptions(i);if(this.view.headingPitchRoll)t.flyTo(n);else if(this.view.headingPitchRange){const e=new zA.A(this.view.position);t.flyToBoundingSphere(e,n)}},jA.prototype.stop=function(){(0,p.A)(this.activeCamera)&&this.activeCamera.cancelFlight(),(0,p.A)(this.activeCallback)&&this.activeCallback(!0)},jA.prototype.getCameraOptions=function(e){let t={duration:this.duration};return(0,p.A)(this.activeCallback)&&(t.complete=this.activeCallback),"smooth"===this.flyToMode&&(t.easingFunction=WA.A.LINEAR_NONE),this.view.headingPitchRoll?(t.destination=this.view.position,t.orientation=this.view.headingPitchRoll):this.view.headingPitchRange&&(t.offset=this.view.headingPitchRange),(0,p.A)(e)&&(t=(0,qA.A)(t,e)),t};const JA=jA;function XA(e){this.type="KmlTourWait",this.blocking=!0,this.duration=e,this.timeout=null}XA.prototype.play=function(e){const t=this;this.activeCallback=e,this.timeout=setTimeout(function(){delete t.activeCallback,e(!1)},1e3*this.duration)},XA.prototype.stop=function(){clearTimeout(this.timeout),(0,p.A)(this.activeCallback)&&this.activeCallback(!0)};const ZA=XA;var $A=i(347768);const eu={avi:"video/x-msvideo",bmp:"image/bmp",bz2:"application/x-bzip2",chm:"application/vnd.ms-htmlhelp",css:"text/css",csv:"text/csv",doc:"application/msword",dvi:"application/x-dvi",eps:"application/postscript",flv:"video/x-flv",gif:"image/gif",gz:"application/x-gzip",htm:"text/html",html:"text/html",ico:"image/vnd.microsoft.icon",jnlp:"application/x-java-jnlp-file",jpeg:"image/jpeg",jpg:"image/jpeg",m3u:"audio/x-mpegurl",m4v:"video/mp4",mathml:"application/mathml+xml",mid:"audio/midi",midi:"audio/midi",mov:"video/quicktime",mp3:"audio/mpeg",mp4:"video/mp4",mp4v:"video/mp4",mpeg:"video/mpeg",mpg:"video/mpeg",odp:"application/vnd.oasis.opendocument.presentation",ods:"application/vnd.oasis.opendocument.spreadsheet",odt:"application/vnd.oasis.opendocument.text",ogg:"application/ogg",pdf:"application/pdf",png:"image/png",pps:"application/vnd.ms-powerpoint",ppt:"application/vnd.ms-powerpoint",ps:"application/postscript",qt:"video/quicktime",rdf:"application/rdf+xml",rss:"application/rss+xml",rtf:"application/rtf",svg:"image/svg+xml",swf:"application/x-shockwave-flash",text:"text/plain",tif:"image/tiff",tiff:"image/tiff",txt:"text/plain",wav:"audio/x-wav",wma:"audio/x-ms-wma",wmv:"video/x-ms-wmv",xml:"application/xml",zip:"application/zip",detectFromFilename:function(e){let t=e.toLowerCase();return t=(0,Bs.A)(t),eu[t]}};let tu;"undefined"!=typeof DOMParser&&(tu=new DOMParser);const iu=new Go({stripPrefix:!1,email:!1,replaceFn:function(e){return"scheme"===e.urlMatchType||"www"===e.urlMatchType}}),nu=32,ru=2414016,ou=16093e3,su=[null,void 0,"http://www.opengis.net/kml/2.2","http://earth.google.com/kml/2.2","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.0"],au=["http://www.google.com/kml/ext/2.2"],lu={kml:su,gx:au,atom:["http://www.w3.org/2005/Atom"],kmlgx:su.concat(au)},cu={Document:Ju,Folder:function(e,t,i,n){const r=ju(e,t,i),o=(0,ws.A)(i);o.parentEntity=r.entity,Ju(0,t,o,n)},Placemark:function(e,t,i,n){const r=ju(e,t,i),o=r.entity,s=r.styleEntity;let a=!1;const l=t.childNodes;for(let t=0,n=l.length;t<n&&!a;t++){const n=l.item(t),r=qu[n.localName];(0,p.A)(r)&&(r(e,i.entityCollection,n,o,s,o.id),a=!0)}a||(o.merge(s),Yu(e,o,s))},NetworkLink:function(e,t,i,n){const r=ju(e,t,i).entity,o=i.sourceResource,s=i.uriResolver;let a=Bu(t,"Link",lu.kml);if((0,p.A)(a)||(a=Bu(t,"Url",lu.kml)),(0,p.A)(a)){let t,l,c=Iu(a,"href",lu.kml);if((0,p.A)(c)){let A=c;if(c=Su(c,o,i.uriResolver),/^data:/.test(c.getUrlComponent()))/\.kmz/i.test(o.getUrlComponent())||(A=o.getDerivedResource({url:A}));else{if(A=c.clone(),t=Iu(a,"viewRefreshMode",lu.kml),"onRegion"===t)return void(0,xs.A)("kml-refrehMode-onRegion","KML - Unsupported viewRefreshMode: onRegion");l=Iu(a,"viewBoundScale",lu.kml)??1;const i="onStop"===t?"BBOX=[bboxWest],[bboxSouth],[bboxEast],[bboxNorth]":"",n=Iu(a,"viewFormat",lu.kml)??i,r=Iu(a,"httpQuery",lu.kml);(0,p.A)(n)&&c.setQueryParameters((0,Ss.A)(nh(n))),(0,p.A)(r)&&c.setQueryParameters((0,Ss.A)(nh(r)));const o=e._ellipsoid;lh(c,e.camera,e.canvas,l,e._lastCameraView.bbox,o)}const u={sourceUri:A,uriResolver:s,context:r.id,screenOverlayContainer:i.screenOverlayContainer},h=new D.A,d=Ah(e,h,c,u).then(function(i){const n=e._entityCollection,o=h.values;n.suspendEvents();for(let e=0;e<o.length;e++){const t=o[e];(0,p.A)(t.parent)||(t.parent=r,hh(t)),n.add(t)}n.resumeEvents();const s=Iu(a,"refreshMode",lu.kml);let A=bu(a,"refreshInterval",lu.kml)??0;if("onInterval"===s&&A>0||"onExpire"===s||"onStop"===t){const t=Bu(i,"NetworkLinkControl",lu.kml),n=(0,p.A)(t),o=m.A.now(),u={id:(0,x.A)(),href:c,cookie:{},lastUpdated:o,updating:!1,entity:r,viewBoundScale:l,needsUpdate:!1,cameraUpdateTime:o};let h=0;if(n&&(u.cookie=(0,Ss.A)(Iu(t,"cookie",lu.kml)??""),h=bu(t,"minRefreshPeriod",lu.kml)??0),"onInterval"===s)n&&(A=Math.max(h,A)),u.refreshMode=ih.INTERVAL,u.time=A;else if("onExpire"===s){let e;if(n&&(e=Iu(t,"expires",lu.kml)),(0,p.A)(e))try{const t=m.A.fromIso8601(e),i=m.A.secondsDifference(t,o);i>0&&i<h&&m.A.addSeconds(o,h,t),u.refreshMode=ih.EXPIRE,u.time=t}catch(e){(0,xs.A)("kml-refreshMode-onInterval-onExpire","KML - NetworkLinkControl expires is not a valid date")}else(0,xs.A)("kml-refreshMode-onExpire","KML - refreshMode of onExpire requires the NetworkLinkControl to have an expires element")}else(0,p.A)(e.camera)?(u.refreshMode=ih.STOP,u.time=bu(a,"viewRefreshTime",lu.kml)??0):(0,xs.A)("kml-refrehMode-onStop-noCamera","A NetworkLink with viewRefreshMode=onStop requires the `camera` property to be defined.");(0,p.A)(u.refreshMode)&&e._networkLinks.set(u.id,u)}}).catch(function(t){(0,xs.A)(`An error occured during loading ${c.url}`),e._error.raiseEvent(e,t)});n.addPromise(d)}}},GroundOverlay:function(e,t,i,n){const r=ju(e,t,i).entity;let o,s=!1;const a=e._ellipsoid,l=yu(Bu(t,"LatLonQuad",lu.gx),a),c=bu(t,"drawOrder",lu.kml);if((0,p.A)(l))o=Ou(),o.hierarchy=new Ce.A(l),o.zIndex=c,r.polygon=o,s=!0;else{o=new Dt.A,o.zIndex=c,r.rectangle=o;const e=Bu(t,"LatLonBox",lu.kml);if((0,p.A)(e)){let t=bu(e,"west",lu.kml),i=bu(e,"south",lu.kml),n=bu(e,"east",lu.kml),r=bu(e,"north",lu.kml);(0,p.A)(t)&&(t=T.A.negativePiToPi(T.A.toRadians(t))),(0,p.A)(i)&&(i=T.A.clampToLatitudeRange(T.A.toRadians(i))),(0,p.A)(n)&&(n=T.A.negativePiToPi(T.A.toRadians(n))),(0,p.A)(r)&&(r=T.A.clampToLatitudeRange(T.A.toRadians(r))),o.coordinates=new ve.A(t,i,n,r);const s=bu(e,"rotation",lu.kml);if((0,p.A)(s)){const e=T.A.toRadians(s);o.rotation=e,o.stRotation=e}}}const A=Bu(t,"Icon",lu.kml),u=ku(A,e,i.sourceResource,i.uriResolver,!0);if((0,p.A)(u)){s&&(0,xs.A)("kml-gx:LatLonQuad","KML - gx:LatLonQuad Icon does not support texture projection.");const e=bu(A,"x",lu.gx),i=bu(A,"y",lu.gx),n=bu(A,"w",lu.gx),r=bu(A,"h",lu.gx);((0,p.A)(e)||(0,p.A)(i)||(0,p.A)(n)||(0,p.A)(r))&&(0,xs.A)("kml-groundOverlay-xywh","KML - gx:x, gx:y, gx:w, gx:h aren't supported for GroundOverlays"),o.material=u,o.material.color=Du(t,"color",lu.kml),o.material.transparent=!0}else o.material=Du(t,"color",lu.kml);let h=Iu(t,"altitudeMode",lu.kml);(0,p.A)(h)?"absolute"===h?(o.height=bu(t,"altitude",lu.kml),o.zIndex=void 0):"clampToGround"!==h&&(0,xs.A)("kml-altitudeMode-unknown",`KML - Unknown altitudeMode: ${h}`):(h=Iu(t,"altitudeMode",lu.gx),"relativeToSeaFloor"===h?((0,xs.A)("kml-altitudeMode-relativeToSeaFloor","KML - altitudeMode relativeToSeaFloor is currently not supported, treating as absolute."),o.height=bu(t,"altitude",lu.kml),o.zIndex=void 0):"clampToSeaFloor"===h?(0,xs.A)("kml-altitudeMode-clampToSeaFloor","KML - altitudeMode clampToSeaFloor is currently not supported, treating as clampToGround."):(0,p.A)(h)&&(0,xs.A)("kml-altitudeMode-unknown",`KML - Unknown altitudeMode: ${h}`))},PhotoOverlay:th,ScreenOverlay:function(e,t,i,n){const r=i.screenOverlayContainer;if(!(0,p.A)(r))return;const o=i.sourceResource,s=i.uriResolver,a=ku(Bu(t,"Icon",lu.kml),e,o,s,!1);if(!(0,p.A)(a))return;const l=document.createElement("img");e._screenOverlays.push(l),l.src=a.url,l.onload=function(){const e=["position: absolute"],i=Bu(t,"screenXY",lu.kml),n=Bu(t,"overlayXY",lu.kml),r=Bu(t,"size",lu.kml);let o,s,a,c,A,u;(0,p.A)(r)&&(o=wu(r,"x"),s=wu(r,"y"),a=Cu(r,"xunits"),c=Cu(r,"yunits"),(0,p.A)(o)&&-1!==o&&0!==o&&("fraction"===a?A=`width: ${Math.floor(100*o)}%`:"pixels"===a&&(A=`width: ${o}px`),e.push(A)),(0,p.A)(s)&&-1!==s&&0!==s&&("fraction"===c?u=`height: ${Math.floor(100*s)}%`:"pixels"===c&&(u=`height: ${s}px`),e.push(u))),l.style=e.join(";");let h=0,d=l.height;(0,p.A)(n)&&(o=wu(n,"x"),s=wu(n,"y"),a=Cu(n,"xunits"),c=Cu(n,"yunits"),(0,p.A)(o)&&("fraction"===a?h=o*l.width:("pixels"===a||"insetPixels"===a)&&(h=o)),(0,p.A)(s)&&("fraction"===c?d=s*l.height:("pixels"===c||"insetPixels"===c)&&(d=s))),(0,p.A)(i)&&(o=wu(i,"x"),s=wu(i,"y"),a=Cu(i,"xunits"),c=Cu(i,"yunits"),(0,p.A)(o)&&("fraction"===a?A=`left: calc(${Math.floor(100*o)}% - ${h}px)`:"pixels"===a?A=`left: ${o-h}px`:"insetPixels"===a&&(A=`right: ${o-h}px`),e.push(A)),(0,p.A)(s)&&("fraction"===c?u=`bottom: calc(${Math.floor(100*s)}% - ${d}px)`:"pixels"===c?u=`bottom: ${s-d}px`:"insetPixels"===c&&(u=`top: ${s-d}px`),e.push(u))),l.style=e.join(";")},r.appendChild(l)},Tour:function(e,t,i,n){const r=Iu(t,"name",lu.kml),o=Cu(t,"id"),s=new HA(r,o),a=Bu(t,"Playlist",lu.gx);if(a){const t=e._ellipsoid,i=a.childNodes;for(let e=0;e<i.length;e++){const n=i[e];if(n.localName){const e=Xu[n.localName];e?e(s,n,t):console.log(`Unknown KML Tour playlist entry type ${n.localName}`)}}}e._kmlTours.push(s)}};function Au(e){this._dataSource=e,this._deferred=(0,Cs.A)(),this._stack=[],this._promises=[],this._timeoutSet=!1,this._used=!1,this._started=0,this._timeThreshold=1e3}function uu(e){const t={xsi:"http://www.w3.org/2001/XMLSchema-instance"};let i,n,r,o;for(const s in t)t.hasOwnProperty(s)&&(r=RegExp(`[< ]${s}:`),o=`xmlns:${s}=`,r.test(e)&&-1===e.indexOf(o)&&((0,p.A)(i)||(i=e.substr(0,e.indexOf("<kml")+4),n=e.substr(i.length)),i+=` ${o}"${t[s]}"`));return(0,p.A)(i)&&(e=i+n),e}function hu(e){let t=e.indexOf("xmlns:");const i=e.indexOf(">",t);let n,r,o;for(;-1!==t&&t<i;)n=e.slice(t,e.indexOf('"',t)),r=t,t=e.indexOf(n,t+1),-1!==t?(o=e.indexOf('"',e.indexOf('"',t)+1),t=(e=e.slice(0,t-1)+e.slice(o+1,e.length)).indexOf("xmlns:",r-1)):t=e.indexOf("xmlns:",r+1);return e}async function du(e,t){const i=eu.detectFromFilename(e.filename)??"application/octet-stream",n=await e.getData(new Fl(i));t[e.filename]=n}function gu(e,t,i,n){const r=n.keys,o=new Ne("."),s=e.querySelectorAll(t);for(let e=0;e<s.length;e++){const a=s[e],l=a.getAttribute(i);if((0,p.A)(l)){const e=new Ne(l).absoluteTo(o).toString(),s=r.indexOf(e);if(-1!==s){const e=r[s];a.setAttribute(i,n[e]),"a"===t&&null===a.getAttribute("download")&&a.setAttribute("download",e)}}}}function pu(e,t,i,n){const r=e.querySelectorAll(t);for(let e=0;e<r.length;e++){const t=r[e],o=Su(t.getAttribute(i),n);(0,p.A)(o)&&t.setAttribute(i,o.url)}}function fu(e,t,i){let n=Cu(e,"id");n=(0,p.A)(n)&&0!==n.length?n:(0,x.A)(),(0,p.A)(i)&&(n=i+n);let r=t.getById(n);return(0,p.A)(r)&&(n=(0,x.A)(),(0,p.A)(i)&&(n=i+n)),r=t.add(new M.A({id:n})),(0,p.A)(r.kml)||(r.addProperty("kml"),r.kml=new gh),r}function mu(e,t){return"absolute"===e||"relativeToGround"===e||"relativeToSeaFloor"===t}function _u(e,t){if(!(0,p.A)(e))return ie.A.fromDegrees(0,0,0,t);const i=e.match(/[^\s,\n]+/g);if(!(0,p.A)(i))return ie.A.fromDegrees(0,0,0,t);let n=parseFloat(i[0]),r=parseFloat(i[1]),o=parseFloat(i[2]);return n=isNaN(n)?0:n,r=isNaN(r)?0:r,o=isNaN(o)?0:o,ie.A.fromDegrees(n,r,o,t)}function yu(e,t){if(!(0,p.A)(e))return;const i=e.textContent.match(/[^\s\n]+/g);if(!(0,p.A)(i))return;const n=i.length,r=new Array(n);let o=0;for(let e=0;e<n;e++)r[o++]=_u(i[e],t);return r}function wu(e,t){if(!(0,p.A)(e))return;const i=e.getAttribute(t);if(null!==i){const e=parseFloat(i);return isNaN(e)?void 0:e}}function Cu(e,t){if(!(0,p.A)(e))return;const i=e.getAttribute(t);return null!==i?i:void 0}function Bu(e,t,i){if(!(0,p.A)(e))return;const n=e.childNodes,r=n.length;for(let e=0;e<r;e++){const r=n[e];if(r.localName===t&&-1!==i.indexOf(r.namespaceURI))return r}}function vu(e,t,i){if(!(0,p.A)(e))return;const n=[],r=e.getElementsByTagNameNS("*",t),o=r.length;for(let e=0;e<o;e++){const o=r[e];o.localName===t&&-1!==i.indexOf(o.namespaceURI)&&n.push(o)}return n}function Eu(e,t,i){if(!(0,p.A)(e))return[];const n=[],r=e.childNodes,o=r.length;for(let e=0;e<o;e++){const o=r[e];o.localName===t&&-1!==i.indexOf(o.namespaceURI)&&n.push(o)}return n}function bu(e,t,i){const n=Bu(e,t,i);if((0,p.A)(n)){const e=parseFloat(n.textContent);return isNaN(e)?void 0:e}}function Iu(e,t,i){const n=Bu(e,t,i);if((0,p.A)(n))return n.textContent.trim()}function xu(e,t,i){const n=Bu(e,t,i);if((0,p.A)(n)){const e=n.textContent.trim();return"1"===e||/^true$/i.test(e)}}function Su(e,t,i){if(!(0,p.A)(e))return;let n;if((0,p.A)(i)){let r=i[e=e.replace(/\\/g,"/")];if((0,p.A)(r))n=new be.A({url:r});else{const o=new Ne(t.getUrlComponent());r=i[new Ne(e).absoluteTo(o)],(0,p.A)(r)&&(n=new be.A({url:r}))}}return(0,p.A)(n)||(n=t.getDerivedResource({url:e})),n}Object.defineProperties(Au.prototype,{dataSource:{get:function(){return this._dataSource}}}),Au.prototype.addNodes=function(e,t){this._stack.push({nodes:e,index:0,processingData:t}),this._used=!0},Au.prototype.addPromise=function(e){this._promises.push(e)},Au.prototype.wait=function(){const e=this._deferred;return this._used||e.resolve(),Promise.all([e.promise,Promise.all(this._promises)])},Au.prototype.process=function(){const e=1===this._stack.length;return e&&(this._started=uh._getTimestamp()),this._process(e)},Au.prototype._giveUpTime=function(){if(this._timeoutSet)return;this._timeoutSet=!0,this._timeThreshold=50;const e=this;setTimeout(function(){e._timeoutSet=!1,e._started=uh._getTimestamp(),e._process(!0)},0)},Au.prototype._nextNode=function(){const e=this._stack,t=e[e.length-1],i=t.index,n=t.nodes;if(i!==n.length)return++t.index,n[i]},Au.prototype._pop=function(){const e=this._stack;return e.pop(),0!==e.length||(this._deferred.resolve(),!1)},Au.prototype._process=function(e){const t=this.dataSource,i=this._stack[this._stack.length-1].processingData;let n=this._nextNode();for(;(0,p.A)(n);){const e=cu[n.localName];if((0,p.A)(e)&&(-1!==lu.kml.indexOf(n.namespaceURI)||-1!==lu.gx.indexOf(n.namespaceURI))&&(e(t,n,i,this),this._timeoutSet||uh._getTimestamp()>this._started+this._timeThreshold))return void this._giveUpTime();n=this._nextNode()}this._pop()&&e&&this._process(!0)};const Tu={maximumRed:void 0,red:void 0,maximumGreen:void 0,green:void 0,maximumBlue:void 0,blue:void 0};function Mu(e,t){if(!(0,p.A)(e)||/^\s*$/gm.test(e))return;"#"===e[0]&&(e=e.substring(1));const i=parseInt(e.substring(0,2),16)/255,n=parseInt(e.substring(2,4),16)/255,r=parseInt(e.substring(4,6),16)/255,o=parseInt(e.substring(6,8),16)/255;return t?(o>0?(Tu.maximumRed=o,Tu.red=void 0):(Tu.maximumRed=void 0,Tu.red=0),r>0?(Tu.maximumGreen=r,Tu.green=void 0):(Tu.maximumGreen=void 0,Tu.green=0),n>0?(Tu.maximumBlue=n,Tu.blue=void 0):(Tu.maximumBlue=void 0,Tu.blue=0),Tu.alpha=i,d.A.fromRandom(Tu)):new d.A(o,r,n,i)}function Du(e,t,i){const n=Iu(e,t,i);if((0,p.A)(n))return Mu(n,"random"===Iu(e,"colorMode",i))}function Pu(){const e=new n.A;return e.width=nu,e.height=nu,e.scaleByDistance=new we.A(ru,1,ou,.1),e.pixelOffsetScaleByDistance=new we.A(ru,1,ou,.1),e}function Ou(){const e=new at.A;return e.outline=!0,e.outlineColor=d.A.WHITE,e}function Ru(){const e=new it.A;return e.translucencyByDistance=new we.A(3e6,1,5e6,0),e.pixelOffset=new h.A(17,0),e.horizontalOrigin=ke.A.LEFT,e.font="16px sans-serif",e.style=Fe.A.FILL_AND_OUTLINE,e}function ku(e,t,i,n,r){let o=Iu(e,"href",lu.kml);if(!(0,p.A)(o)||0===o.length)return;if(0===o.indexOf("root://icons/palette-")){const t=o.charAt(21);let i=bu(e,"x",lu.gx)??0,n=bu(e,"y",lu.gx)??0;i=Math.min(i/32,7),n=7-Math.min(n/32,7),o=`https://maps.google.com/mapfiles/kml/pal${t}/icon${8*n+i}.png`}const s=Su(o,i,n);if(r){const i=Iu(e,"refreshMode",lu.kml),n=Iu(e,"viewRefreshMode",lu.kml);"onInterval"===i||"onExpire"===i?(0,xs.A)(`kml-refreshMode-${i}`,`KML - Unsupported Icon refreshMode: ${i}`):"onStop"!==n&&"onRegion"!==n||(0,xs.A)(`kml-refreshMode-${n}`,`KML - Unsupported Icon viewRefreshMode: ${n}`);const r=Iu(e,"viewBoundScale",lu.kml)??1,o="onStop"===n?"BBOX=[bboxWest],[bboxSouth],[bboxEast],[bboxNorth]":"",a=Iu(e,"viewFormat",lu.kml)??o,l=Iu(e,"httpQuery",lu.kml);(0,p.A)(a)&&s.setQueryParameters((0,Ss.A)(nh(a))),(0,p.A)(l)&&s.setQueryParameters((0,Ss.A)(nh(l)));const c=t._ellipsoid;return lh(s,t.camera,t.canvas,r,t._lastCameraView.bbox,c),s}return s}function Fu(e,t,i,n,r){let o=bu(t,"scale",lu.kml);const s=bu(t,"heading",lu.kml),a=Du(t,"color",lu.kml),l=Bu(t,"Icon",lu.kml);let c=ku(l,e,n,r,!1);(0,p.A)(l)&&!(0,p.A)(c)&&(c=!1);const A=bu(l,"x",lu.gx),u=bu(l,"y",lu.gx),d=bu(l,"w",lu.gx),g=bu(l,"h",lu.gx),f=Bu(t,"hotSpot",lu.kml),m=wu(f,"x"),_=wu(f,"y"),y=Cu(f,"xunits"),w=Cu(f,"yunits");let C,B,v=i.billboard;(0,p.A)(v)||(v=Pu(),i.billboard=v),v.image=c,v.scale=o,v.color=a,((0,p.A)(A)||(0,p.A)(u)||(0,p.A)(d)||(0,p.A)(g))&&(v.imageSubRegion=new te.A(A,u,d,g)),(0,p.A)(s)&&0!==s&&(v.rotation=T.A.toRadians(-s),v.alignedAxis=ie.A.UNIT_Z),o=o??1,(0,p.A)(m)&&("pixels"===y?C=-m*o:"insetPixels"===y?C=(m-nu)*o:"fraction"===y&&(C=-m*nu*o),C+=16*o),(0,p.A)(_)&&("pixels"===w?B=_*o:"insetPixels"===w?B=(-_+nu)*o:"fraction"===w&&(B=_*nu*o),B-=16*o),((0,p.A)(C)||(0,p.A)(B))&&(v.pixelOffset=new h.A(C,B))}function Lu(e,t,i,n,r){for(let o=0,s=t.childNodes.length;o<s;o++){const s=t.childNodes.item(o);if("IconStyle"===s.localName)Fu(e,s,i,n,r);else if("LabelStyle"===s.localName){let e=i.label;(0,p.A)(e)||(e=Ru(),i.label=e),e.scale=bu(s,"scale",lu.kml)??e.scale,e.fillColor=Du(s,"color",lu.kml)??e.fillColor,e.text=i.name}else if("LineStyle"===s.localName){let e=i.polyline;(0,p.A)(e)||(e=new ft.A,i.polyline=e),e.width=bu(s,"width",lu.kml),e.material=Du(s,"color",lu.kml),(0,p.A)(Du(s,"outerColor",lu.gx))&&(0,xs.A)("kml-gx:outerColor","KML - gx:outerColor is not supported in a LineStyle"),(0,p.A)(bu(s,"outerWidth",lu.gx))&&(0,xs.A)("kml-gx:outerWidth","KML - gx:outerWidth is not supported in a LineStyle"),(0,p.A)(bu(s,"physicalWidth",lu.gx))&&(0,xs.A)("kml-gx:physicalWidth","KML - gx:physicalWidth is not supported in a LineStyle"),(0,p.A)(xu(s,"labelVisibility",lu.gx))&&(0,xs.A)("kml-gx:labelVisibility","KML - gx:labelVisibility is not supported in a LineStyle")}else if("PolyStyle"===s.localName){let e=i.polygon;(0,p.A)(e)||(e=Ou(),i.polygon=e),e.material=Du(s,"color",lu.kml)??e.material,e.fill=xu(s,"fill",lu.kml)??e.fill,e.outline=xu(s,"outline",lu.kml)??e.outline}else if("BalloonStyle"===s.localName){const e=Mu(Iu(s,"bgColor",lu.kml))??d.A.WHITE,t=Mu(Iu(s,"textColor",lu.kml))??d.A.BLACK,n=Iu(s,"text",lu.kml);i.addProperty("balloonStyle"),i.balloonStyle={bgColor:e,textColor:t,text:n}}else if("ListStyle"===s.localName){const e=Iu(s,"listItemType",lu.kml);"radioFolder"!==e&&"checkOffOnly"!==e||(0,xs.A)(`kml-listStyle-${e}`,`KML - Unsupported ListStyle with listItemType: ${e}`)}}}function Qu(e,t,i){return t.fetchXML().then(function(n){return Nu(e,n,i,t,!0)})}function Nu(e,t,i,n,r,o){let s,a,l,c;const A=vu(t,"Style",lu.kml);if((0,p.A)(A)){const t=A.length;for(s=0;s<t;s++)c=A[s],a=Cu(c,"id"),(0,p.A)(a)&&(a=`#${a}`,r&&(0,p.A)(n)&&(a=n.getUrlComponent()+a),(0,p.A)(i.getById(a))||(l=new M.A({id:a}),i.add(l),Lu(e,c,l,n,o)))}const u=vu(t,"StyleMap",lu.kml);if((0,p.A)(u)){const t=u.length;for(s=0;s<t;s++){const t=u[s];if(a=Cu(t,"id"),(0,p.A)(a)){const s=Eu(t,"Pair",lu.kml);for(let t=0;t<s.length;t++){const A=s[t],u=Iu(A,"key",lu.kml);if("normal"===u){if(a=`#${a}`,r&&(0,p.A)(n)&&(a=n.getUrlComponent()+a),!(0,p.A)(i.getById(a))){l=i.getOrCreateEntity(a);let t=Iu(A,"styleUrl",lu.kml);if((0,p.A)(t)){"#"!==t[0]&&(t=`#${t}`),r&&(0,p.A)(n)&&(t=n.getUrlComponent()+t);const e=i.getById(t);(0,p.A)(e)&&l.merge(e)}else c=Bu(A,"Style",lu.kml),Lu(e,c,l,n,o)}}else(0,xs.A)(`kml-styleMap-${u}`,`KML - Unsupported StyleMap key: ${u}`)}}}}const h=[],d=t.getElementsByTagName("styleUrl"),g=d.length;for(s=0;s<g;s++){const t=d[s].textContent;if("#"!==t[0]){const r=t.split("#");if(2===r.length){const t=r[0],o=n.getDerivedResource({url:t});h.push(Qu(e,o,i))}}}return h}function Gu(e,t,i){const n=new Pt.A(e,t.id,["position"]),r=new $A.A(t.position);t.polyline=(0,p.A)(i.polyline)?i.polyline.clone():new ft.A,t.polyline.positions=new It([n,r])}function Vu(e,t){return!(0,p.A)(e)&&!(0,p.A)(t)||"clampToGround"===e?Re.Ay.CLAMP_TO_GROUND:"relativeToGround"===e?Re.Ay.RELATIVE_TO_GROUND:"absolute"===e?Re.Ay.NONE:"clampToSeaFloor"===t?((0,xs.A)("kml-gx:altitudeMode-clampToSeaFloor","KML - <gx:altitudeMode>:clampToSeaFloor is currently not supported, using <kml:altitudeMode>:clampToGround."),Re.Ay.CLAMP_TO_GROUND):"relativeToSeaFloor"===t?((0,xs.A)("kml-gx:altitudeMode-relativeToSeaFloor","KML - <gx:altitudeMode>:relativeToSeaFloor is currently not supported, using <kml:altitudeMode>:relativeToGround."),Re.Ay.RELATIVE_TO_GROUND):((0,p.A)(e)?(0,xs.A)("kml-altitudeMode-unknown",`KML - Unknown <kml:altitudeMode>:${e}, using <kml:altitudeMode>:CLAMP_TO_GROUND.`):(0,xs.A)("kml-gx:altitudeMode-unknown",`KML - Unknown <gx:altitudeMode>:${t}, using <kml:altitudeMode>:CLAMP_TO_GROUND.`),Re.Ay.CLAMP_TO_GROUND)}function Uu(e,t,i){return"relativeToSeaFloor"===i||"absolute"===t||"relativeToGround"===t?e:(((0,p.A)(t)&&"clampToGround"!==t||(0,p.A)(i)&&"clampToSeaFloor"!==i)&&(0,xs.A)("kml-altitudeMode-unknown",`KML - Unknown altitudeMode: ${t??i}`),new $A.A(e))}function Yu(e,t,i,n){let r=t.label;(0,p.A)(r)||(r=(0,p.A)(i.label)?i.label.clone():Ru(),t.label=r),r.text=t.name;let o=t.billboard;(0,p.A)(o)||(o=(0,p.A)(i.billboard)?i.billboard.clone():Pu(),t.billboard=o),(0,p.A)(o.image)?o.image.getValue()||(o.image=void 0):o.image=e._pinBuilder.fromColor(d.A.YELLOW,64);let s=1;(0,p.A)(o.scale)&&(s=o.scale.getValue(),0!==s?r.pixelOffset=new h.A(16*s+1,0):(r.pixelOffset=void 0,r.horizontalOrigin=void 0)),(0,p.A)(n)&&e._clampToGround&&(o.heightReference=n,r.heightReference=n)}function Ku(e,t){let i=e.path;(0,p.A)(i)||(i=new ot.A,i.leadTime=0,e.path=i);const n=t.polyline;(0,p.A)(n)&&(i.material=n.material,i.width=n.width)}function Hu(e,t,i,n,r){const o=Bu(i,"coordinates",lu.kml),s=Iu(i,"altitudeMode",lu.kml),a=Iu(i,"altitudeMode",lu.gx),l=xu(i,"extrude",lu.kml),c=xu(i,"tessellate",lu.kml),A=mu(s,a),u=bu(i,"drawOrder",lu.gx),h=e._ellipsoid,g=yu(o,h);let f=r.polyline;if(A&&l){const e=new ii.A;n.wall=e,e.positions=g;const t=r.polygon;(0,p.A)(t)&&(e.fill=t.fill,e.material=t.material),e.outline=!0,(0,p.A)(f)?(e.outlineColor=(0,p.A)(f.material)?f.material.color:d.A.WHITE,e.outlineWidth=f.width):(0,p.A)(t)&&(e.outlineColor=(0,p.A)(t.material)?t.material.color:d.A.WHITE)}else if(e._clampToGround&&!A&&c){const e=new ft.A;e.clampToGround=!0,n.polyline=e,e.positions=g,(0,p.A)(f)?(e.material=(0,p.A)(f.material)?f.material.color.getValue(me.A.MINIMUM_VALUE):d.A.WHITE,e.width=f.width??1):(e.material=d.A.WHITE,e.width=1),e.zIndex=u}else(0,p.A)(u)&&(0,xs.A)("kml-gx:drawOrder","KML - gx:drawOrder is not supported in LineStrings when clampToGround is false"),e._clampToGround&&!c&&(0,xs.A)("kml-line-tesselate","Ignoring clampToGround for KML lines without the tessellate flag."),f=(0,p.A)(f)?f.clone():new ft.A,n.polyline=f,f.positions=function(e,t,i,n){if(!(0,p.A)(e))return;if("relativeToSeaFloor"===i||"absolute"===t||"relativeToGround"===t)return e;((0,p.A)(t)&&"clampToGround"!==t||(0,p.A)(i)&&"clampToSeaFloor"!==i)&&(0,xs.A)("kml-altitudeMode-unknown",`KML - Unknown altitudeMode: ${t??i}`);const r=e.length;for(let t=0;t<r;t++){const i=e[t];n.scaleToGeodeticSurface(i,i)}return e}(g,s,a,h),c&&!A||(f.arcType=ee.A.NONE);return!0}function zu(e,t,i,n,r,o,s,a,l){const c=e[0],A=e[e.length-1],u=new Rt.A;u.addSamples(e,t),i.intervals.addInterval(new Me.A({start:c,stop:A,isStartIncluded:l,isStopIncluded:l,data:Uu(u,s,a)})),n.addInterval(new Me.A({start:c,stop:A,isStartIncluded:l,isStopIncluded:l})),r.intervals.addInterval(new Me.A({start:c,stop:A,isStartIncluded:l,isStopIncluded:l,data:o}))}const qu={Point:function(e,t,i,n,r){const o=Iu(i,"coordinates",lu.kml),s=Iu(i,"altitudeMode",lu.kml),a=Iu(i,"altitudeMode",lu.gx),l=xu(i,"extrude",lu.kml),c=_u(o,e._ellipsoid);return n.position=c,Yu(e,n,r,Vu(s,a)),l&&mu(s,a)&&Gu(t,n,r),!0},LineString:Hu,LinearRing:Hu,Polygon:function(e,t,i,n,r){const o=Bu(i,"outerBoundaryIs",lu.kml);let s=Bu(o,"LinearRing",lu.kml),a=Bu(s,"coordinates",lu.kml);const l=e._ellipsoid;let c=yu(a,l);const A=xu(i,"extrude",lu.kml),u=mu(Iu(i,"altitudeMode",lu.kml),Iu(i,"altitudeMode",lu.gx)),h=(0,p.A)(r.polygon)?r.polygon.clone():Ou(),g=r.polyline;if((0,p.A)(g)&&(h.outlineColor=(0,p.A)(g.material)?g.material.color:d.A.WHITE,h.outlineWidth=g.width),n.polygon=h,u?(h.perPositionHeight=!0,h.extrudedHeight=A?0:void 0):e._clampToGround||(h.height=0),(0,p.A)(c)){const e=new Ce.A(c),t=Eu(i,"innerBoundaryIs",lu.kml);for(let i=0;i<t.length;i++){s=Eu(t[i],"LinearRing",lu.kml);for(let t=0;t<s.length;t++)a=Bu(s[t],"coordinates",lu.kml),c=yu(a,l),(0,p.A)(c)&&e.holes.push(new Ce.A(c))}h.hierarchy=e}return!0},Track:function(e,t,i,n,r){const o=Iu(i,"altitudeMode",lu.kml),s=Iu(i,"altitudeMode",lu.gx),a=Eu(i,"coord",lu.gx),l=Eu(i,"angles",lu.gx),c=Eu(i,"when",lu.kml),A=xu(i,"extrude",lu.kml),u=mu(o,s),h=e._ellipsoid;l.length>0&&(0,xs.A)("kml-gx:angles","KML - gx:angles are not supported in gx:Tracks");const d=Math.min(a.length,c.length),g=[],p=[];for(let e=0;e<d;e++){const t=_u(a[e].textContent,h);g.push(t),p.push(m.A.fromIso8601(c[e].textContent))}const f=new Rt.A;return f.addSamples(p,g),n.position=f,Yu(e,n,r,Vu(o,s)),Ku(n,r),n.availability=new De.A,c.length>0&&n.availability.addInterval(new Me.A({start:p[0],stop:p[p.length-1]})),u&&A&&Gu(t,n,r),!0},MultiTrack:function(e,t,i,n,r){const o=xu(i,"interpolate",lu.gx),s=Eu(i,"Track",lu.gx);let a,l,c,A=!1;const u=new zt,h=new De.A,d=new z.A,g=e._ellipsoid;for(let e=0,t=s.length;e<t;e++){const t=s[e],i=Eu(t,"when",lu.kml),n=Eu(t,"coord",lu.gx),r=Iu(t,"altitudeMode",lu.kml),f=Iu(t,"altitudeMode",lu.gx),_=mu(r,f),y=xu(t,"extrude",lu.kml),w=Math.min(n.length,i.length),C=[];a=[];for(let e=0;e<w;e++){const t=_u(n[e].textContent,g);C.push(t),a.push(m.A.fromIso8601(i[e].textContent))}o&&((0,p.A)(l)&&zu([l,a[0]],[c,C[0]],d,h,u,!1,"absolute",void 0,!1),l=a[w-1],c=C[C.length-1]),zu(a,C,d,h,u,_&&y,r,f,!0),A=A||_&&y}return n.availability=h,n.position=d,Yu(e,n,r),Ku(n,r),A&&(Gu(t,n,r),n.polyline.show=u),!0},MultiGeometry:function(e,t,i,n,r,o){const s=i.childNodes;let a=!1;for(let i=0,l=s.length;i<l;i++){const l=s.item(i),c=qu[l.localName];if((0,p.A)(c)){const i=fu(l,t,o);i.parent=n,i.name=n.name,i.availability=n.availability,i.description=n.description,i.kml=n.kml,c(e,t,l,i,r)&&(a=!0)}}return a},Model:function(e,t,i,n,r){return(0,xs.A)("kml-unsupportedGeometry",`KML - Unsupported geometry: ${i.localName}`),!1}};let Wu;function ju(e,t,i){const n=i.entityCollection,r=i.parentEntity,o=i.sourceResource,s=i.uriResolver,a=fu(t,n,i.context),l=a.kml,c=function(e,t,i,n,r){const o=new M.A;let s,a=-1;const l=t.childNodes,c=l.length;for(let e=0;e<c;e++){const t=l[e];"Style"!==t.localName&&"StyleMap"!==t.localName||(a=e)}if(-1!==a){const t=l[a];if("Style"===t.localName)Lu(e,t,o,n,r);else{const a=Eu(t,"Pair",lu.kml);for(let t=0;t<a.length;t++){const l=a[t],c=Iu(l,"key",lu.kml);if("normal"===c){const t=Iu(l,"styleUrl",lu.kml);(0,p.A)(t)?(s=i.getById(t),(0,p.A)(s)||(s=i.getById(`#${t}`)),(0,p.A)(s)&&o.merge(s)):Lu(e,Bu(l,"Style",lu.kml),o,n,r)}else(0,xs.A)(`kml-styleMap-${c}`,`KML - Unsupported StyleMap key: ${c}`)}}}const A=Iu(t,"styleUrl",lu.kml);if((0,p.A)(A)){let e=A;if("#"!==A[0]&&-1!==A.indexOf("#")){const t=A.split("#"),i=t[0];e=`${n.getDerivedResource({url:i}).getUrlComponent()}#${t[1]}`}s=i.getById(e),(0,p.A)(s)||(s=i.getById(`#${e}`)),(0,p.A)(s)&&o.merge(s)}return o}(e,t,i.styleCollection,o,s),A=Iu(t,"name",lu.kml);a.name=A,a.parent=r;let u=function(e){const t=Bu(e,"TimeSpan",lu.kmlgx);if(!(0,p.A)(t))return;let i;const n=Bu(t,"begin",lu.kmlgx);let r=(0,p.A)(n)?m.A.fromIso8601(n.textContent):void 0;const o=Bu(t,"end",lu.kmlgx);let s=(0,p.A)(o)?m.A.fromIso8601(o.textContent):void 0;if((0,p.A)(r)&&(0,p.A)(s)){if(m.A.lessThan(s,r)){const e=r;r=s,s=e}i=new De.A,i.addInterval(new Me.A({start:r,stop:s}))}else(0,p.A)(r)?(i=new De.A,i.addInterval(new Me.A({start:r,stop:me.A.MAXIMUM_VALUE}))):(0,p.A)(s)&&(i=new De.A,i.addInterval(new Me.A({start:me.A.MINIMUM_VALUE,stop:s})));return i}(t);(0,p.A)(u)||(u=function(e){const t=Bu(e,"TimeStamp",lu.kmlgx),i=Iu(t,"when",lu.kmlgx);if(!(0,p.A)(t)||!(0,p.A)(i)||0===i.length)return;const n=m.A.fromIso8601(i),r=new De.A;return r.addInterval(new Me.A({start:n,stop:me.A.MAXIMUM_VALUE})),r}(t)),a.availability=u,hh(a);const h=xu(t,"visibility",lu.kml);a.show=function e(t){return!t||t.show&&e(t.parent)}(r)&&(h??!0);const g=Bu(t,"author",lu.atom),f=l.author;f.name=Iu(g,"name",lu.atom),f.uri=Iu(g,"uri",lu.atom),f.email=Iu(g,"email",lu.atom);const _=Bu(t,"link",lu.atom),y=l.link;y.href=Cu(_,"href"),y.hreflang=Cu(_,"hreflang"),y.rel=Cu(_,"rel"),y.type=Cu(_,"type"),y.title=Cu(_,"title"),y.length=Cu(_,"length"),l.address=Iu(t,"address",lu.kml),l.phoneNumber=Iu(t,"phoneNumber",lu.kml),l.snippet=Iu(t,"Snippet",lu.kml),function(e,t){const i=Bu(e,"ExtendedData",lu.kml);if(!(0,p.A)(i))return;(0,p.A)(Bu(i,"SchemaData",lu.kml))&&(0,xs.A)("kml-schemaData","KML - SchemaData is unsupported"),(0,p.A)(Cu(i,"xmlns:prefix"))&&(0,xs.A)("kml-extendedData","KML - ExtendedData with xmlns:prefix is unsupported");const n={},r=Eu(i,"Data",lu.kml);if((0,p.A)(r)){const e=r.length;for(let t=0;t<e;t++){const e=r[t],i=Cu(e,"name");(0,p.A)(i)&&(n[i]={displayName:Iu(e,"displayName",lu.kml),value:Iu(e,"value",lu.kml)})}}t.kml.extendedData=n}(t,a),function(e,t,i,n,r){let o,s,a;const l=t.kml,c=l.extendedData,A=Iu(e,"description",lu.kml),u=t.balloonStyle??i.balloonStyle;let h,g=d.A.WHITE,f=d.A.BLACK,m=A;if((0,p.A)(u)&&(g=u.bgColor??d.A.WHITE,f=u.textColor??d.A.BLACK,m=u.text??A),(0,p.A)(m)){if(m=m.replace("$[name]",t.name??""),m=m.replace("$[description]",A??""),m=m.replace("$[address]",l.address??""),m=m.replace("$[Snippet]",l.snippet??""),m=m.replace("$[id]",t.id),m=m.replace("$[geDirections]",""),(0,p.A)(c)){const e=m.match(/\$\[.+?\]/g);if(null!==e)for(o=0;o<e.length;o++){const t=e[o];let i=t.substr(2,t.length-3);const n=/\/displayName$/.test(i);i=i.replace(/\/displayName$/,""),h=c[i],(0,p.A)(h)&&(h=n?h.displayName:h.value),(0,p.A)(h)&&(m=m.replace(t,h??""))}}}else if((0,p.A)(c)&&(a=Object.keys(c),a.length>0)){for(m='<table class="cesium-infoBox-defaultTable cesium-infoBox-defaultTable-lighter"><tbody>',o=0;o<a.length;o++)s=a[o],h=c[s],m+=`<tr><th>${h.displayName??s}</th><td>${h.value??""}</td></tr>`;m+="</tbody></table>"}if(!(0,p.A)(m))return;m=iu.link(m),Wu.innerHTML=m;const _=Wu.querySelectorAll("a");for(o=0;o<_.length;o++)_[o].setAttribute("target","_blank");(0,p.A)(n)&&n.keys.length>1&&(gu(Wu,"a","href",n),gu(Wu,"link","href",n),gu(Wu,"area","href",n),gu(Wu,"img","src",n),gu(Wu,"iframe","src",n),gu(Wu,"video","src",n),gu(Wu,"audio","src",n),gu(Wu,"source","src",n),gu(Wu,"track","src",n),gu(Wu,"input","src",n),gu(Wu,"embed","src",n),gu(Wu,"script","src",n),gu(Wu,"video","poster",n)),pu(Wu,"a","href",r),pu(Wu,"link","href",r),pu(Wu,"area","href",r),pu(Wu,"img","src",r),pu(Wu,"iframe","src",r),pu(Wu,"video","src",r),pu(Wu,"audio","src",r),pu(Wu,"source","src",r),pu(Wu,"track","src",r),pu(Wu,"input","src",r),pu(Wu,"embed","src",r),pu(Wu,"script","src",r),pu(Wu,"video","poster",r);let y='<div class="cesium-infoBox-description-lighter" style="';y+="overflow:auto;",y+="word-wrap:break-word;",y+=`background-color:${g.toCssColorString()};`,y+=`color:${f.toCssColorString()};`,y+='">',y+=`${Wu.innerHTML}</div>`,Wu.innerHTML="",t.description=y}(t,a,c,s,o);const w=e._ellipsoid;return eh(t,a,w),$u(t,a,w),(0,p.A)(Bu(t,"Region",lu.kml))&&(0,xs.A)("kml-region","KML - Placemark Regions are unsupported"),{entity:a,styleEntity:c}}function Ju(e,t,i,n){n.addNodes(t.childNodes,i),n.process()}"undefined"!=typeof document&&(Wu=document.createElement("div"));const Xu={FlyTo:function(e,t,i){const n=bu(t,"duration",lu.gx),r=Iu(t,"flyToMode",lu.gx),o={kml:{}};eh(t,o,i),$u(t,o,i);const s=o.kml.lookAt||o.kml.camera,a=new JA(n,r,s);e.addPlaylistEntry(a)},Wait:function(e,t){const i=bu(t,"duration",lu.gx);e.addPlaylistEntry(new ZA(i))},SoundCue:Zu,AnimatedUpdate:Zu,TourControl:Zu};function Zu(e,t){(0,xs.A)(`KML Tour unsupported node ${t.localName}`)}function $u(e,t,i){const n=Bu(e,"Camera",lu.kml);if((0,p.A)(n)){const e=bu(n,"longitude",lu.kml)??0,r=bu(n,"latitude",lu.kml)??0,o=bu(n,"altitude",lu.kml)??0,s=bu(n,"heading",lu.kml)??0,a=bu(n,"tilt",lu.kml)??0,l=bu(n,"roll",lu.kml)??0,c=ie.A.fromDegrees(e,r,o,i),A=bs.A.fromDegrees(s,a-90,l);t.kml.camera=new ms(c,A)}}function eh(e,t,i){const n=Bu(e,"LookAt",lu.kml);if((0,p.A)(n)){const e=bu(n,"longitude",lu.kml)??0,r=bu(n,"latitude",lu.kml)??0,o=bu(n,"altitude",lu.kml)??0;let s=bu(n,"heading",lu.kml),a=bu(n,"tilt",lu.kml);const l=bu(n,"range",lu.kml)??0;a=T.A.toRadians(a??0),s=T.A.toRadians(s??0);const c=new Es.A(s,a-T.A.PI_OVER_TWO,l),A=ie.A.fromDegrees(e,r,o,i);t.kml.lookAt=new GA(A,c)}}function th(e,t,i,n){e._unsupportedNode.raiseEvent(e,i.parentEntity,t,i.entityCollection,i.styleCollection,i.sourceResource,i.uriResolver),(0,xs.A)(`kml-unsupportedFeature-${t.nodeName}`,`KML - Unsupported feature: ${t.nodeName}`)}const ih={INTERVAL:0,EXPIRE:1,STOP:2};function nh(e){if(!(0,p.A)(e)||0===e.length)return"";const t=e[0];return"&"!==t&&"?"!==t||(e=e.substring(1)),e}const rh=new ve.A,oh=new ne.A,sh=new h.A,ah=new ie.A;function lh(e,t,i,n,r,o){function s(e){return e<-T.A.PI_OVER_TWO?-T.A.PI_OVER_TWO:e>T.A.PI_OVER_TWO?T.A.PI_OVER_TWO:e}function a(e){return e>T.A.PI?e-T.A.TWO_PI:e<-T.A.PI?e+T.A.TWO_PI:e}let l=(0,Is.A)(e.queryParameters);if(l=l.replace(/%5B/g,"[").replace(/%5D/g,"]"),(0,p.A)(t)&&t._mode!==Ts.A.MORPHING){let e,c;if(r=r??rh,(0,p.A)(i)&&(sh.x=.5*i.clientWidth,sh.y=.5*i.clientHeight,e=t.pickEllipsoid(sh,o,ah)),(0,p.A)(e)?c=o.cartesianToCartographic(e,oh):(c=ve.A.center(r,oh),e=o.cartographicToCartesian(c)),(0,p.A)(n)&&!T.A.equalsEpsilon(n,1,T.A.EPSILON9)){const e=r.width*n*.5,t=r.height*n*.5;r=new ve.A(a(c.longitude-e),s(c.latitude-t),a(c.longitude+e),s(c.latitude+t))}l=l.replace("[bboxWest]",T.A.toDegrees(r.west).toString()),l=l.replace("[bboxSouth]",T.A.toDegrees(r.south).toString()),l=l.replace("[bboxEast]",T.A.toDegrees(r.east).toString()),l=l.replace("[bboxNorth]",T.A.toDegrees(r.north).toString());const A=T.A.toDegrees(c.longitude).toString(),u=T.A.toDegrees(c.latitude).toString();l=l.replace("[lookatLon]",A),l=l.replace("[lookatLat]",u),l=l.replace("[lookatTilt]",T.A.toDegrees(t.pitch).toString()),l=l.replace("[lookatHeading]",T.A.toDegrees(t.heading).toString()),l=l.replace("[lookatRange]",ie.A.distance(t.positionWC,e)),l=l.replace("[lookatTerrainLon]",A),l=l.replace("[lookatTerrainLat]",u),l=l.replace("[lookatTerrainAlt]",c.height.toString()),o.cartesianToCartographic(t.positionWC,oh),l=l.replace("[cameraLon]",T.A.toDegrees(oh.longitude).toString()),l=l.replace("[cameraLat]",T.A.toDegrees(oh.latitude).toString()),l=l.replace("[cameraAlt]",T.A.toDegrees(oh.height).toString());const h=t.frustum,d=h.aspectRatio;let g="",f="";if((0,p.A)(d)){const e=T.A.toDegrees(h.fov);d>1?(g=e,f=e/d):(f=e,g=e*d)}l=l.replace("[horizFov]",g.toString()),l=l.replace("[vertFov]",f.toString())}else l=l.replace("[bboxWest]","-180"),l=l.replace("[bboxSouth]","-90"),l=l.replace("[bboxEast]","180"),l=l.replace("[bboxNorth]","90"),l=l.replace("[lookatLon]",""),l=l.replace("[lookatLat]",""),l=l.replace("[lookatRange]",""),l=l.replace("[lookatTilt]",""),l=l.replace("[lookatHeading]",""),l=l.replace("[lookatTerrainLon]",""),l=l.replace("[lookatTerrainLat]",""),l=l.replace("[lookatTerrainAlt]",""),l=l.replace("[cameraLon]",""),l=l.replace("[cameraLat]",""),l=l.replace("[cameraAlt]",""),l=l.replace("[horizFov]",""),l=l.replace("[vertFov]","");(0,p.A)(i)?(l=l.replace("[horizPixels]",i.clientWidth),l=l.replace("[vertPixels]",i.clientHeight)):(l=l.replace("[horizPixels]",""),l=l.replace("[vertPixels]","")),l=l.replace("[terrainEnabled]","1"),l=l.replace("[clientVersion]","1"),l=l.replace("[kmlVersion]","2.2"),l=l.replace("[clientName]","Cesium"),l=l.replace("[language]","English"),e.setQueryParameters((0,Ss.A)(l))}function ch(e,t,i,n,r,o,s){t.removeAll();const a=i.documentElement;let l=Iu("Document"===a.localName?a:Bu(a,"Document",lu.kml),"name",lu.kml);(0,p.A)(l)||(l=(0,ue.A)(n.getUrlComponent())),(0,p.A)(e._name)||(e._name=l);const c=new uh._DeferredLoading(e),A=new D.A(e);return Promise.all(Nu(e,i,A,n,!1,r)).then(function(){let a=i.documentElement;if("kml"===a.localName){const e=a.childNodes;for(let t=0;t<e.length;t++){const i=e[t];if((0,p.A)(cu[i.localName])){a=i;break}}}const l={parentEntity:void 0,entityCollection:t,styleCollection:A,sourceResource:n,uriResolver:r,context:s,screenOverlayContainer:o};return t.suspendEvents(),function(e,t,i,n){const r=cu[t.localName];(0,p.A)(r)?r(e,t,i,n):th(e,t,i)}(e,a,l,c),t.resumeEvents(),c.wait().then(function(){return i.documentElement})})}function Ah(e,t,i,n){let r=(n=n??g.A.EMPTY_OBJECT).sourceUri;const o=n.uriResolver,s=n.context;let a=n.screenOverlayContainer,l=i;if("string"==typeof i||i instanceof be.A){l=(i=be.A.createIfNeeded(i)).fetchBlob(),r=r??i.clone();const t=e._resourceCredits,n=i.credits;if((0,p.A)(n)){const e=n.length;for(let i=0;i<e;i++)t.push(n[i])}}else r=r??be.A.DEFAULT.clone();return r=be.A.createIfNeeded(r),(0,p.A)(a)&&(a=(0,NA.A)(a)),Promise.resolve(l).then(function(i){return i instanceof Blob?function(e){const t=e.slice(0,Math.min(4,e.size)),i=(0,Cs.A)(),n=new FileReader;return n.addEventListener("load",function(){i.resolve(1347093252===new DataView(n.result).getUint32(0,!1))}),n.addEventListener("error",function(){i.reject(n.error)}),n.readAsArrayBuffer(t),i.promise}(i).then(function(n){return n?async function(e,t,i,n,r){oa({workerURI:(0,ys.A)("ThirdParty/Workers/zip-web-worker.js"),wasmURI:(0,ys.A)("ThirdParty/zip-module.wasm")});const o=new qc(new Ll(i)),s=await o.getEntries(),a=[],l={};let c;for(let e=0;e<s.length;e++){const t=s[e];t.directory||(/\.kml$/i.test(t.filename)?(0,p.A)(c)&&/\//i.test(t.filename)?a.push(du(t,l)):((0,p.A)(c)&&a.push(du(c,l)),c=t):a.push(du(t,l)))}if((0,p.A)(c)&&a.push(async function(e,t){let i=await e.getData(new Gl);i=uu(i),i=hu(i),t.kml=tu.parseFromString(i,"application/xml")}(c,l)),await Promise.all(a),o.close(),!(0,p.A)(l.kml))throw new Ie.A("KMZ file does not contain a KML document.");return l.keys=Object.keys(l),ch(e,t,l.kml,n,l,r)}(e,t,i,r,a):function(e){const t=(0,Cs.A)(),i=new FileReader;return i.addEventListener("load",function(){t.resolve(i.result)}),i.addEventListener("error",function(){t.reject(i.error)}),i.readAsText(e),t.promise}(i).then(function(i){let n,l;i=hu(i=uu(i));try{n=tu.parseFromString(i,"application/xml")}catch(e){l=e.toString()}if((0,p.A)(l)||n.body||"parsererror"===n.documentElement.tagName){let e=(0,p.A)(l)?l:n.documentElement.firstChild.nodeValue;throw e||(e=n.body.innerText),new Ie.A(e)}return ch(e,t,n,r,o,a,s)})}):ch(e,t,i,r,o,a,s)}).catch(function(t){return e._error.raiseEvent(e,t),console.log(t),Promise.reject(t)})}function uh(e){const t=(e=e??g.A.EMPTY_OBJECT).camera,i=e.canvas;this._changed=new f.A,this._error=new f.A,this._loading=new f.A,this._refresh=new f.A,this._unsupportedNode=new f.A,this._clock=void 0,this._entityCollection=new D.A(this),this._name=void 0,this._isLoading=!1,this._pinBuilder=new un.A,this._networkLinks=new _s.A,this._entityCluster=new qe.A,this.canvas=i,this.camera=t,this._lastCameraView={position:(0,p.A)(t)?ie.A.clone(t.positionWC):void 0,direction:(0,p.A)(t)?ie.A.clone(t.directionWC):void 0,up:(0,p.A)(t)?ie.A.clone(t.upWC):void 0,bbox:(0,p.A)(t)?t.computeViewRectangle():ve.A.clone(ve.A.MAX_VALUE)},this._ellipsoid=e.ellipsoid??ce.A.default;let n=e.credit;"string"==typeof n&&(n=new ae.A(n)),this._credit=n,this._resourceCredits=[],this._kmlTours=[],this._screenOverlays=[]}function hh(e){const t=e.parent;if((0,p.A)(t)){const i=t.availability;if((0,p.A)(i)){const t=e.availability;(0,p.A)(t)?t.intersect(i):e.availability=i}}}uh.load=function(e,t){return new uh(t=t??g.A.EMPTY_OBJECT).load(e,t)},Object.defineProperties(uh.prototype,{name:{get:function(){return this._name},set:function(e){this._name!==e&&(this._name=e,this._changed.raiseEvent(this))}},clock:{get:function(){return this._clock}},entities:{get:function(){return this._entityCollection}},isLoading:{get:function(){return this._isLoading}},changedEvent:{get:function(){return this._changed}},errorEvent:{get:function(){return this._error}},loadingEvent:{get:function(){return this._loading}},refreshEvent:{get:function(){return this._refresh}},unsupportedNodeEvent:{get:function(){return this._unsupportedNode}},show:{get:function(){return this._entityCollection.show},set:function(e){this._entityCollection.show=e}},clustering:{get:function(){return this._entityCluster},set:function(e){if(!(0,p.A)(e))throw new S.A("value must be defined.");this._entityCluster=e}},credit:{get:function(){return this._credit}},kmlTours:{get:function(){return this._kmlTours}}}),uh.prototype.load=function(e,t){if(!(0,p.A)(e))throw new S.A("data is required.");t=t??g.A.EMPTY_OBJECT,Ge.A.setLoading(this,!0);const i=this._name;this._name=void 0,this._clampToGround=t.clampToGround??!1;const n=this;return Ah(this,this._entityCollection,e,t).then(function(){let e;const t=n._entityCollection.computeAvailability();let r=t.start,o=t.stop;const s=m.A.equals(r,me.A.MINIMUM_VALUE),a=m.A.equals(o,me.A.MAXIMUM_VALUE);if(!s||!a){let t;s&&(t=new Date,t.setHours(0,0,0,0),r=m.A.fromDate(t)),a&&(t=new Date,t.setHours(24,0,0,0),o=m.A.fromDate(t)),e=new Ke,e.startTime=r,e.stopTime=o,e.currentTime=m.A.clone(r),e.clockRange=re.A.LOOP_STOP,e.clockStep=oe.A.SYSTEM_CLOCK_MULTIPLIER,e.multiplier=Math.round(Math.min(Math.max(m.A.secondsDifference(o,r)/60,1),31556900))}let l=!1;return e!==n._clock&&(n._clock=e,l=!0),i!==n._name&&(l=!0),l&&n._changed.raiseEvent(n),Ge.A.setLoading(n,!1),n}).catch(function(e){return Ge.A.setLoading(n,!1),n._error.raiseEvent(n,e),console.log(e),Promise.reject(e)})},uh.prototype.destroy=function(){for(;this._screenOverlays.length>0;)this._screenOverlays.pop().remove()};const dh=new _s.A;function gh(){this.author={name:void 0,uri:void 0,email:void 0},this.link={href:void 0,hreflang:void 0,rel:void 0,type:void 0,title:void 0,length:void 0},this.address=void 0,this.phoneNumber=void 0,this.snippet=void 0,this.extendedData=void 0}uh.prototype.update=function(e){const t=this._networkLinks;if(0===t.length)return!0;const i=m.A.now(),n=this;function r(e){const t=e._children,i=t.length;for(let e=0;e<i;++e){const i=t[e];dh.set(i.id,i),r(i)}}dh.removeAll();let o=!1;const s=this._lastCameraView,a=this.camera;!(0,p.A)(a)||a.positionWC.equalsEpsilon(s.position,T.A.EPSILON7)&&a.directionWC.equalsEpsilon(s.direction,T.A.EPSILON7)&&a.upWC.equalsEpsilon(s.up,T.A.EPSILON7)||(s.position=ie.A.clone(a.positionWC),s.direction=ie.A.clone(a.directionWC),s.up=ie.A.clone(a.upWC),s.bbox=a.computeViewRectangle(),o=!0);const l=new _s.A;let c=!1;return t.values.forEach(function(e){const t=e.entity;if(!dh.contains(t.id)){if(!e.updating){let a=!1;if(e.refreshMode===ih.INTERVAL?m.A.secondsDifference(i,e.lastUpdated)>e.time&&(a=!0):e.refreshMode===ih.EXPIRE?m.A.greaterThan(i,e.time)&&(a=!0):e.refreshMode===ih.STOP&&(o&&(e.needsUpdate=!0,e.cameraUpdateTime=i),e.needsUpdate&&m.A.secondsDifference(i,e.cameraUpdateTime)>=e.time&&(a=!0)),a){r(t),e.updating=!0;const i=new D.A,o=e.href.clone();o.setQueryParameters(e.cookie);const a=n._ellipsoid??ce.A.default;lh(o,n.camera,n.canvas,e.viewBoundScale,s.bbox,a),Ah(n,i,o,{context:t.id}).then(function(e,t,i,n,r){return function(o){if(!n.contains(t.id))return;let s=!1;const a=Bu(o,"NetworkLinkControl",lu.kml);let l=0;if((0,p.A)(a)){if((0,p.A)(Bu(a,"Update",lu.kml)))return(0,xs.A)("kml-networkLinkControl-update","KML - NetworkLinkControl updates aren't supported."),t.updating=!1,void n.remove(t.id);t.cookie=(0,Ss.A)(Iu(a,"cookie",lu.kml)??""),l=bu(a,"minRefreshPeriod",lu.kml)??0}const c=m.A.now(),A=t.refreshMode;if(A===ih.INTERVAL)(0,p.A)(a)&&(t.time=Math.max(l,t.time));else if(A===ih.EXPIRE){let e;if((0,p.A)(a)&&(e=Iu(a,"expires",lu.kml)),(0,p.A)(e))try{const i=m.A.fromIso8601(e),n=m.A.secondsDifference(i,c);n>0&&n<l&&m.A.addSeconds(c,l,i),t.time=i}catch(e){(0,xs.A)("kml-networkLinkControl-expires","KML - NetworkLinkControl expires is not a valid date"),s=!0}else(0,xs.A)("kml-refreshMode-onExpire","KML - refreshMode of onExpire requires the NetworkLinkControl to have an expires element"),s=!0}const u=t.entity,h=e._entityCollection,d=i.values;function g(e){h.remove(e);const t=e._children,i=t.length;for(let e=0;e<i;++e)g(t[e])}h.suspendEvents();const f=h.values.slice();let _;for(_=0;_<f.length;++_){const e=f[_];e.parent===u&&(e.parent=void 0,g(e))}for(h.resumeEvents(),h.suspendEvents(),_=0;_<d.length;_++){const e=d[_];(0,p.A)(e.parent)||(e.parent=u,hh(e)),h.add(e)}h.resumeEvents(),s?n.remove(t.id):t.lastUpdated=c;const y=h.computeAvailability(),w=y.start,C=y.stop,B=m.A.equals(w,me.A.MINIMUM_VALUE),v=m.A.equals(C,me.A.MAXIMUM_VALUE);if(!B||!v){const t=e._clock;t.startTime===w&&t.stopTime===C||(t.startTime=w,t.stopTime=C,e._changed.raiseEvent(e))}t.updating=!1,t.needsUpdate=!1,e._refresh.raiseEvent(e,r.getUrlComponent(!0))}}(n,e,i,l,o)).catch(function(t){const i=`NetworkLink ${e.href} refresh failed: ${t}`;console.log(i),n._error.raiseEvent(n,i)}),c=!0}}l.set(e.id,e)}}),c&&(this._networkLinks=l,this._changed.raiseEvent(this)),!0},uh._DeferredLoading=Au,uh._getTimestamp=vs.A;const ph=uh;var fh=i(417496),mh=i(644736),_h=i(963503),yh=i(563051),wh=i(379843),Ch=i(810186),Bh=i(364360),vh=i(570667),Eh=i(372891),bh=i(302656),Ih=i(412605),xh=i(759078),Sh=i(459022),Th=i(724883),Mh=i(279436),Dh=i(692296),Ph=i(759059),Oh=i(282323),Rh=i(174068),kh=i(307509);function Fh(){S.A.throwInstantiationError()}Fh.prototype.update=S.A.throwInstantiationError,Fh.prototype.getBoundingSphere=S.A.throwInstantiationError,Fh.prototype.isDestroyed=S.A.throwInstantiationError,Fh.prototype.destroy=S.A.throwInstantiationError;const Lh=Fh;var Qh=i(146511),Nh=i(802733);const Gh="http://www.google.com/kml/ext/2.2";function Vh(e){this._files={},this._promises=[],this._count=0,this._modelCallback=e}const Uh=/^data:image\/([^,;]+)/;function Yh(e,t){return function(i){e._files[t]=i}}function Kh(e){this._time=e}function Hh(){this._ids={},this._styles={},this._count=0}function zh(){this._ids={}}function qh(e){const t=(e=e??g.A.EMPTY_OBJECT).entities,i=e.kmz??!1;if(!(0,p.A)(t))throw new S.A("entities is required.");const n=qh._createState(e),r=t.values.filter(function(e){return!(0,p.A)(e.parent)}),o=n.kmlDoc,s=o.documentElement;s.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:gx",Gh);const a=o.createElement("Document");s.appendChild(a),jh(n,a,r),n.styleCache.save(a);const l=n.externalFileHandler;return l.promise.then(function(){const e=(new XMLSerializer).serializeToString(n.kmlDoc);return i?async function(e,t){oa({workerURI:(0,ys.A)("ThirdParty/Workers/zip-web-worker.js"),wasmURI:(0,ys.A)("ThirdParty/zip-module.wasm")});const i=new Ql("application/vnd.google-earth.kmz"),n=new pA(i);await n.add("doc.kml",new Nl(e));const r=Object.keys(t);return await Wh(n,r,t,0),await n.close(),{kmz:await i.getData()}}(e,l.files):{kml:e,externalFiles:l.files}})}async function Wh(e,t,i,n){if(t.length===n)return;const r=t[n];return await e.add(r,new Ll(i[r])),Wh(e,t,i,n+1)}function jh(e,t,i){const n=e.kmlDoc,r=e.styleCache,o=e.valueGetter,s=e.idManager,a=i.length;let l,c,A;for(let u=0;u<a;++u){const a=i[u];let h;l=[],c=[],A=[],$h(e,a,c,A),nd(e,a.polyline,c,A),od(e,a.rectangle,c,A,l),od(e,a.polygon,c,A,l),ad(e,a,a.model,c,A);const d=a.availability;(0,p.A)(d)&&(h=n.createElement("TimeSpan"),m.A.equals(d.start,me.A.MINIMUM_VALUE)||h.appendChild(ud(n,"begin",m.A.toIso8601(d.start))),m.A.equals(d.stop,me.A.MAXIMUM_VALUE)||h.appendChild(ud(n,"end",m.A.toIso8601(d.stop))));for(let e=0;e<l.length;++e){const i=l[e];i.setAttribute("id",s.get(a.id)),i.appendChild(ud(n,"name",a.name)),i.appendChild(ud(n,"visibility",a.show)),i.appendChild(ud(n,"description",a.description)),(0,p.A)(h)&&i.appendChild(h),t.appendChild(i)}const g=c.length;if(g>0){const e=n.createElement("Placemark");e.setAttribute("id",s.get(a.id));let i=a.name;const l=a.label;if((0,p.A)(l)){const e=n.createElement("LabelStyle"),t=o.get(l.text);i=(0,p.A)(t)&&t.length>0?t:i;const r=o.getColor(l.fillColor);(0,p.A)(r)&&(e.appendChild(ud(n,"color",r)),e.appendChild(ud(n,"colorMode","normal")));const s=o.get(l.scale);(0,p.A)(s)&&e.appendChild(ud(n,"scale",s)),A.push(e)}e.appendChild(ud(n,"name",i)),e.appendChild(ud(n,"visibility",a.show)),e.appendChild(ud(n,"description",a.description)),(0,p.A)(h)&&e.appendChild(h),t.appendChild(e);const u=A.length;if(u>0){const t=n.createElement("Style");for(let e=0;e<u;++e)t.appendChild(A[e]);e.appendChild(ud(n,"styleUrl",r.get(t)))}if(1===c.length)e.appendChild(c[0]);else if(c.length>1){const t=n.createElement("MultiGeometry");for(let e=0;e<g;++e)t.appendChild(c[e]);e.appendChild(t)}}const f=a._children;if(f.length>0){const i=n.createElement("Folder");i.setAttribute("id",s.get(a.id)),i.appendChild(ud(n,"name",a.name)),i.appendChild(ud(n,"visibility",a.show)),i.appendChild(ud(n,"description",a.description)),t.appendChild(i),jh(e,i,f)}}}Vh.prototype.texture=function(e){const t=this;let i;if("string"==typeof e||e instanceof be.A){if(!(e=be.A.createIfNeeded(e)).isDataUri)return e.url;const n=e.url.match(Uh);i="texture_"+ ++this._count,(0,p.A)(n)&&(i+=`.${n[1]}`);const r=e.fetchBlob().then(function(e){t._files[i]=e});return this._promises.push(r),i}if(e instanceof HTMLCanvasElement){i=`texture_${++this._count}.png`;const n=new Promise(n=>{e.toBlob(function(e){t._files[i]=e,n()})});return this._promises.push(n),i}return""},Vh.prototype.model=function(e,t){const i=this._modelCallback;if(!(0,p.A)(i))throw new Ie.A("Encountered a model entity while exporting to KML, but no model callback was supplied.");const n={},r=i(e,t,n);for(const e in n)if(n.hasOwnProperty(e)){const t=Promise.resolve(n[e]);this._promises.push(t),t.then(Yh(this,e))}return r},Object.defineProperties(Vh.prototype,{promise:{get:function(){return Promise.all(this._promises)}},files:{get:function(){return this._files}}}),Kh.prototype.get=function(e,t,i){let n;return(0,p.A)(e)&&(n=(0,p.A)(e.getValue)?e.getValue(this._time,i):e),n??t},Kh.prototype.getColor=function(e,t){const i=this.get(e,t);if((0,p.A)(i))return hd(i)},Kh.prototype.getMaterialType=function(e){if((0,p.A)(e))return e.getType(this._time)},Hh.prototype.get=function(e){const t=this._ids,i=e.innerHTML;if((0,p.A)(t[i]))return t[i];let n="style-"+ ++this._count;return e.setAttribute("id",n),n=`#${n}`,t[i]=n,this._styles[i]=e,n},Hh.prototype.save=function(e){const t=this._styles,i=e.childNodes[0];for(const n in t)t.hasOwnProperty(n)&&e.insertBefore(t[n],i)},zh.prototype.get=function(e){if(!(0,p.A)(e))return this.get((0,x.A)());const t=this._ids;return(0,p.A)(t[e])?`${e.toString()}-${++t[e]}`:(t[e]=0,e)},qh._createState=function(e){const t=e.entities,i=new Hh,n=t.computeAvailability(),r=(0,p.A)(e.time)?e.time:n.start;let o=e.defaultAvailability??n;const s=e.sampleDuration??60;o.start===me.A.MINIMUM_VALUE?o.stop===me.A.MAXIMUM_VALUE?o=new Me.A:m.A.addSeconds(o.stop,-10*s,o.start):o.stop===me.A.MAXIMUM_VALUE&&m.A.addSeconds(o.start,10*s,o.stop);const a=new Vh(e.modelCallback);return{kmlDoc:document.implementation.createDocument("http://www.opengis.net/kml/2.2","kml"),ellipsoid:e.ellipsoid??ce.A.default,idManager:new zh,styleCache:i,externalFileHandler:a,time:r,valueGetter:new Kh(r),sampleDuration:s,defaultAvailability:new De.A([o])}};const Jh=new ie.A,Xh=new ne.A,Zh=new m.A;function $h(e,t,i,r){const o=e.kmlDoc,s=e.ellipsoid,a=e.valueGetter,l=t.billboard??t.point;if(!(0,p.A)(l)&&!(0,p.A)(t.path))return;const c=t.position;if(!c.isConstant)return void ed(e,t,l,i,r);a.get(c,void 0,Jh);const A=ud(o,"coordinates",Ad(Jh,s)),u=o.createElement("Point"),h=o.createElement("altitudeMode");h.appendChild(cd(e,l.heightReference)),u.appendChild(h),u.appendChild(A),i.push(u);const d=l instanceof n.A?id(e,l):td(e,l);r.push(d)}function ed(e,t,i,r,o){const s=e.kmlDoc,a=e.ellipsoid,l=e.valueGetter;let c;const A=t.position;let u=!0;A instanceof z.A?(c=A.intervals,u=!1):c=t.availability??e.defaultAvailability;const h=i instanceof nt.A;let d,g,f;const _=[];for(d=0;d<c.length;++d){const t=c.get(d);let n=u?A:t.data;const r=s.createElement("altitudeMode");n instanceof $A.A?(n=n._value,r.appendChild(cd(e,Re.Ay.CLAMP_TO_GROUND))):(0,p.A)(i)?r.appendChild(cd(e,i.heightReference)):r.appendChild(cd(e,Re.Ay.NONE));const o=[],y=[];if(n.isConstant){l.get(n,void 0,Jh);const e=ud(s,"coordinates",Ad(Jh,a));o.push(m.A.toIso8601(t.start)),y.push(e),o.push(m.A.toIso8601(t.stop)),y.push(e)}else if(n instanceof Rt.A)for(f=n._property._times,g=0;g<f.length;++g)o.push(m.A.toIso8601(f[g])),n.getValueInReferenceFrame(f[g],Ee.A.FIXED,Jh),y.push(Ad(Jh,a));else if(n instanceof kt.A){f=n._times;const e=n._values;for(g=0;g<f.length;++g)o.push(m.A.toIso8601(f[g])),ie.A.fromArray(e,3*g,Jh),y.push(Ad(Jh,a))}else{const i=e.sampleDuration;t.start.clone(Zh),t.isStartIncluded||m.A.addSeconds(Zh,i,Zh);const r=t.stop;for(;m.A.lessThan(Zh,r);)n.getValue(Zh,Jh),o.push(m.A.toIso8601(Zh)),y.push(Ad(Jh,a)),m.A.addSeconds(Zh,i,Zh);t.isStopIncluded&&m.A.equals(Zh,r)&&(n.getValue(Zh,Jh),o.push(m.A.toIso8601(Zh)),y.push(Ad(Jh,a)))}const w=s.createElementNS(Gh,"Track");w.appendChild(r);for(let e=0;e<o.length;++e){const t=ud(s,"when",o[e]),i=ud(s,"coord",y[e],Gh);w.appendChild(t),w.appendChild(i)}h&&w.appendChild(sd(e,i)),_.push(w)}if(1===_.length)r.push(_[0]);else if(_.length>1){const e=s.createElementNS(Gh,"MultiTrack");for(d=0;d<_.length;++d)e.appendChild(_[d]);r.push(e)}if((0,p.A)(i)&&!h){const t=i instanceof n.A?id(e,i):td(e,i);o.push(t)}const y=t.path;if((0,p.A)(y)){const t=l.get(y.width),i=y.material;if((0,p.A)(i)||(0,p.A)(t)){const n=s.createElement("LineStyle");(0,p.A)(t)&&n.appendChild(ud(s,"width",t)),ld(e,i,n),o.push(n)}}}function td(e,t){const i=e.kmlDoc,n=e.valueGetter,r=i.createElement("IconStyle"),o=n.getColor(t.color);(0,p.A)(o)&&(r.appendChild(ud(i,"color",o)),r.appendChild(ud(i,"colorMode","normal")));const s=n.get(t.pixelSize);return(0,p.A)(s)&&r.appendChild(ud(i,"scale",s/32)),r}function id(e,t){const i=e.kmlDoc,n=e.valueGetter,r=e.externalFileHandler,o=i.createElement("IconStyle");let s=n.get(t.image);if((0,p.A)(s)){s=r.texture(s);const e=i.createElement("Icon");e.appendChild(ud(i,"href",s));const a=n.get(t.imageSubRegion);(0,p.A)(a)&&(e.appendChild(ud(i,"x",a.x,Gh)),e.appendChild(ud(i,"y",a.y,Gh)),e.appendChild(ud(i,"w",a.width,Gh)),e.appendChild(ud(i,"h",a.height,Gh))),o.appendChild(e)}const a=n.getColor(t.color);(0,p.A)(a)&&(o.appendChild(ud(i,"color",a)),o.appendChild(ud(i,"colorMode","normal")));let l=n.get(t.scale);(0,p.A)(l)&&o.appendChild(ud(i,"scale",l));const c=n.get(t.pixelOffset);if((0,p.A)(c)){l=l??1,h.A.divideByScalar(c,l,c);const e=n.get(t.width,32),r=n.get(t.height,32),s=n.get(t.horizontalOrigin,ke.A.CENTER);s===ke.A.CENTER?c.x-=.5*e:s===ke.A.RIGHT&&(c.x-=e);const a=n.get(t.verticalOrigin,Qe.A.CENTER);a===Qe.A.TOP?c.y+=r:a===Qe.A.CENTER&&(c.y+=.5*r);const A=i.createElement("hotSpot");A.setAttribute("x",-c.x),A.setAttribute("y",c.y),A.setAttribute("xunits","pixels"),A.setAttribute("yunits","pixels"),o.appendChild(A)}let A=n.get(t.rotation);const u=n.get(t.alignedAxis);return(0,p.A)(A)&&ie.A.equals(ie.A.UNIT_Z,u)&&(A=T.A.toDegrees(-A),0===A&&(A=360),o.appendChild(ud(i,"heading",A))),o}function nd(e,t,i,n){const r=e.kmlDoc,o=e.ellipsoid,s=e.valueGetter;if(!(0,p.A)(t))return;const a=r.createElement("LineString"),l=r.createElement("altitudeMode"),c=s.get(t.clampToGround,!1);let A;c?(a.appendChild(ud(r,"tessellate",!0)),A=r.createTextNode("clampToGround")):A=r.createTextNode("absolute"),l.appendChild(A),a.appendChild(l);const u=t.positions,h=ud(r,"coordinates",Ad(s.get(u),o));a.appendChild(h);const d=s.get(t.zIndex);c&&(0,p.A)(d)&&a.appendChild(ud(r,"drawOrder",d,Gh)),i.push(a);const g=r.createElement("LineStyle"),f=s.get(t.width);(0,p.A)(f)&&g.appendChild(ud(r,"width",f)),ld(e,t.material,g),n.push(g)}function rd(e,t,i,n){const r=e.kmlDoc,o=e.ellipsoid,s=[],a=t.length;for(let e=0;e<a;++e)ne.A.fromCartesian(t[e],o,Xh),s.push(`${T.A.toDegrees(Xh.longitude)},${T.A.toDegrees(Xh.latitude)},${n?Xh.height:i}`);const l=ud(r,"coordinates",s.join(" ")),c=r.createElement("LinearRing");return c.appendChild(l),c}function od(e,t,i,n,r){const o=e.kmlDoc,s=e.valueGetter;if(!(0,p.A)(t))return;const a=t instanceof Dt.A;if(a&&"Image"===s.getMaterialType(t.material))return void function(e,t,i){const n=e.kmlDoc,r=e.valueGetter,o=e.externalFileHandler,s=n.createElement("GroundOverlay"),a=n.createElement("altitudeMode");a.appendChild(cd(e,t.heightReference)),s.appendChild(a);const l=r.get(t.height);(0,p.A)(l)&&s.appendChild(ud(n,"altitude",l));const c=r.get(t.coordinates),A=n.createElement("LatLonBox");A.appendChild(ud(n,"north",T.A.toDegrees(c.north))),A.appendChild(ud(n,"south",T.A.toDegrees(c.south))),A.appendChild(ud(n,"east",T.A.toDegrees(c.east))),A.appendChild(ud(n,"west",T.A.toDegrees(c.west))),s.appendChild(A);const u=r.get(t.material),h=o.texture(u.image),d=n.createElement("Icon");d.appendChild(ud(n,"href",h)),s.appendChild(d);const g=u.color;(0,p.A)(g)&&s.appendChild(ud(n,"color",hd(u.color))),i.push(s)}(e,t,r);const l=o.createElement("Polygon"),c=s.get(t.extrudedHeight,0);c>0&&l.appendChild(ud(o,"extrude",!0));const A=a?function(e,t,i){const n=e.kmlDoc,r=e.valueGetter;let o=r.get(t.height,0);i>0&&(o=i);const s=t.coordinates,a=r.get(s),l=[],c=[ve.A.northeast,ve.A.southeast,ve.A.southwest,ve.A.northwest];for(let e=0;e<4;++e)c[e](a,Xh),l.push(`${T.A.toDegrees(Xh.longitude)},${T.A.toDegrees(Xh.latitude)},${o}`);const A=ud(n,"coordinates",l.join(" ")),u=n.createElement("outerBoundaryIs"),h=n.createElement("LinearRing");return h.appendChild(A),u.appendChild(h),[u]}(e,t,c):function(e,t,i){const n=e.kmlDoc,r=e.valueGetter;let o=r.get(t.height,0);const s=r.get(t.perPositionHeight,!1);!s&&i>0&&(o=i);const a=[],l=t.hierarchy,c=r.get(l),A=Array.isArray(c)?c:c.positions,u=n.createElement("outerBoundaryIs");u.appendChild(rd(e,A,o,s)),a.push(u);const h=c.holes;if((0,p.A)(h)){const t=h.length;for(let i=0;i<t;++i){const t=n.createElement("innerBoundaryIs");t.appendChild(rd(e,h[i].positions,o,s)),a.push(t)}}return a}(e,t,c),u=A.length;for(let e=0;e<u;++e)l.appendChild(A[e]);const h=o.createElement("altitudeMode");h.appendChild(cd(e,t.heightReference)),l.appendChild(h),i.push(l);const g=o.createElement("PolyStyle"),f=s.get(t.fill,!1);f&&g.appendChild(ud(o,"fill",f)),ld(e,t.material,g);const m=s.get(t.outline,!1);if(m){g.appendChild(ud(o,"outline",m));const e=o.createElement("LineStyle"),i=s.get(t.outlineWidth,1);e.appendChild(ud(o,"width",i));const r=s.getColor(t.outlineColor,d.A.BLACK);e.appendChild(ud(o,"color",r)),e.appendChild(ud(o,"colorMode","normal")),n.push(e)}n.push(g)}function sd(e,t){const i=e.kmlDoc,n=e.valueGetter,r=e.externalFileHandler,o=i.createElement("Model"),s=n.get(t.scale);if((0,p.A)(s)){const e=i.createElement("scale");e.appendChild(ud(i,"x",s)),e.appendChild(ud(i,"y",s)),e.appendChild(ud(i,"z",s)),o.appendChild(e)}const a=i.createElement("Link"),l=r.model(t,e.time);return a.appendChild(ud(i,"href",l)),o.appendChild(a),o}function ad(e,t,i,n,r){const o=e.kmlDoc,s=e.ellipsoid,a=e.valueGetter;if(!(0,p.A)(i))return;const l=t.position;if(!l.isConstant)return void ed(e,t,i,n,r);const c=sd(e,i),A=o.createElement("altitudeMode");A.appendChild(cd(e,i.heightReference)),c.appendChild(A),a.get(l,void 0,Jh),ne.A.fromCartesian(Jh,s,Xh);const u=o.createElement("Location");u.appendChild(ud(o,"longitude",T.A.toDegrees(Xh.longitude))),u.appendChild(ud(o,"latitude",T.A.toDegrees(Xh.latitude))),u.appendChild(ud(o,"altitude",Xh.height)),c.appendChild(u),n.push(c)}function ld(e,t,i){const n=e.kmlDoc,r=e.valueGetter;if(!(0,p.A)(t))return;const o=r.get(t);if(!(0,p.A)(o))return;let s,a,l;switch(r.getMaterialType(t)){case"Image":s=hd(d.A.WHITE);break;case"Color":case"Grid":case"PolylineGlow":case"PolylineArrow":case"PolylineDash":s=hd(o.color);break;case"PolylineOutline":s=hd(o.color),a=hd(o.outlineColor),l=o.outlineWidth,i.appendChild(ud(n,"outerColor",a,Gh)),i.appendChild(ud(n,"outerWidth",l,Gh));break;case"Stripe":s=hd(o.oddColor)}(0,p.A)(s)&&(i.appendChild(ud(n,"color",s)),i.appendChild(ud(n,"colorMode","normal")))}function cd(e,t){const i=e.kmlDoc;let n;switch(e.valueGetter.get(t,Re.Ay.NONE)){case Re.Ay.NONE:n=i.createTextNode("absolute");break;case Re.Ay.CLAMP_TO_GROUND:n=i.createTextNode("clampToGround");break;case Re.Ay.RELATIVE_TO_GROUND:n=i.createTextNode("relativeToGround")}return n}function Ad(e,t){Array.isArray(e)||(e=[e]);const i=e.length,n=[];for(let r=0;r<i;++r)ne.A.fromCartesian(e[r],t,Xh),n.push(`${T.A.toDegrees(Xh.longitude)},${T.A.toDegrees(Xh.latitude)},${Xh.height}`);return n.join(" ")}function ud(e,t,i,n){"boolean"==typeof(i=i??"")&&(i=i?"1":"0");const r=(0,p.A)(n)?e.createElementNS(n,t):e.createElement(t),o="string"===i&&-1!==i.indexOf("<")?e.createCDATASection(i):e.createTextNode(i);return r.appendChild(o),r}function hd(e){let t="";const i=e.toBytes();for(let e=3;e>=0;--e)t+=i[e]<16?`0${i[e].toString(16)}`:i[e].toString(16);return t}const dd=qh;var gd=i(764729),pd=i(481),fd=i(641613),md=i(442790),_d=i(769493),yd=i(718289),wd=i(494156),Cd=i(681480),Bd=i(430332),vd=i(346154),Ed=i(671495),bd=i(377496),Id=i(483128),xd=i(804701),Sd=i(418906),Td=i(915777),Md=i(760866),Dd=i(326429),Pd=i(57775),Od=i(40118),Rd=i(557053),kd=i(100482),Fd=i(654799),Ld=i(469635),Qd=i(389994),Nd=i(624512),Gd=i(539846),Vd=i(302836),Ud=i(342875),Yd=i(693299),Kd=i(160619),Hd=i(616e3),zd=i(677354),qd=i(276904),Wd=i(957233),jd=i(78078);function Jd(e){e=e??g.A.EMPTY_OBJECT,xe.A.defined("options.context",e.context);const{context:t,source:i,pixelFormat:n=qd.A.RGBA,pixelDatatype:r=Pd.A.UNSIGNED_BYTE,flipY:o=!0,skipColorSpaceConversion:s=!1,sampler:a=new Fd.A}=e;if(!t.webgl2)throw new S.A("WebGL1 does not support texture3D. Please use a WebGL2 context.");let{width:l,height:c,depth:A}=e;(0,p.A)(i)&&((0,p.A)(l)||(l=i.width),(0,p.A)(c)||(c=i.height),(0,p.A)(A)||(A=i.depth));const u=e.preMultiplyAlpha||n===qd.A.RGB||n===qd.A.LUMINANCE,h=qd.A.toInternalFormat(n,r,t),d=qd.A.isCompressedFormat(h);if(!(0,p.A)(l)||!(0,p.A)(c)||!(0,p.A)(A))throw new S.A("options requires a source field to create an initialized texture3D or width, height and depth fields to create a blank texture3D.");if(xe.A.typeOf.number.greaterThan("width",l,0),l>Bd.A.maximumTextureSize)throw new S.A(`Width must be less than or equal to the maximum texture3D size (${Bd.A.maximumTextureSize}).  Check maximumTextureSize.`);if(xe.A.typeOf.number.greaterThan("height",c,0),c>Bd.A.maximumTextureSize)throw new S.A(`Height must be less than or equal to the maximum texture3D size (${Bd.A.maximumTextureSize}).  Check maximumTextureSize.`);if(xe.A.typeOf.number.greaterThan("depth",A,0),A>Bd.A.maximumTextureSize)throw new S.A(`Depth must be less than or equal to the maximum texture3D size (${Bd.A.maximumTextureSize}).  Check maximumTextureSize.`);if(!qd.A.validate(n))throw new S.A("Invalid options.pixelFormat.");if(!d&&!Pd.A.validate(r))throw new S.A("Invalid options.pixelDatatype.");if(n===qd.A.DEPTH_COMPONENT&&r!==Pd.A.UNSIGNED_SHORT&&r!==Pd.A.UNSIGNED_INT)throw new S.A("When options.pixelFormat is DEPTH_COMPONENT, options.pixelDatatype must be UNSIGNED_SHORT or UNSIGNED_INT.");if(n===qd.A.DEPTH_STENCIL&&r!==Pd.A.UNSIGNED_INT_24_8)throw new S.A("When options.pixelFormat is DEPTH_STENCIL, options.pixelDatatype must be UNSIGNED_INT_24_8.");if(r===Pd.A.FLOAT&&!t.floatingPointTexture)throw new S.A("When options.pixelDatatype is FLOAT, this WebGL implementation must support the OES_texture_float extension.  Check context.floatingPointTexture.");if(r===Pd.A.HALF_FLOAT&&!t.halfFloatingPointTexture)throw new S.A("When options.pixelDatatype is HALF_FLOAT, this WebGL implementation must support the OES_texture_half_float extension. Check context.halfFloatingPointTexture.");if(qd.A.isDepthFormat(n)){if((0,p.A)(i))throw new S.A("When options.pixelFormat is DEPTH_COMPONENT or DEPTH_STENCIL, source cannot be provided.");if(!t.depthTexture)throw new S.A("When options.pixelFormat is DEPTH_COMPONENT or DEPTH_STENCIL, this WebGL implementation must support WEBGL_depth_texture.  Check context.depthTexture.")}if(d)throw new S.A("Texture3D does not currently support compressed formats.");const f=t._gl,m=qd.A.texture3DSizeInBytes(n,r,l,c,A);if(this._id=e.id??(0,x.A)(),this._context=t,this._textureFilterAnisotropic=t._textureFilterAnisotropic,this._textureTarget=f.TEXTURE_3D,this._texture=f.createTexture(),this._internalFormat=h,this._pixelFormat=n,this._pixelDatatype=r,this._width=l,this._height=c,this._depth=A,this._dimensions=new ie.A(l,c,A),this._hasMipmap=!1,this._sizeInBytes=m,this._preMultiplyAlpha=u,this._flipY=o,this._initialized=!1,this._sampler=void 0,this._sampler=a,Zd(this,a),f.activeTexture(f.TEXTURE0),f.bindTexture(this._textureTarget,this._texture),(0,p.A)(i)){if(s?f.pixelStorei(f.UNPACK_COLORSPACE_CONVERSION_WEBGL,f.NONE):f.pixelStorei(f.UNPACK_COLORSPACE_CONVERSION_WEBGL,f.BROWSER_DEFAULT_WEBGL),!(0,p.A)(i.arrayBufferView))throw new S.A("For Texture3D, options.source.arrayBufferView must be defined");!function(e,t){const i=e._context,n=i._gl,r=e._textureTarget,o=e._internalFormat,{width:s,height:a,depth:l,pixelFormat:c,pixelDatatype:A,flipY:u}=e,h=qd.A.alignmentInBytes(c,A,s);n.pixelStorei(n.UNPACK_ALIGNMENT,h),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1);const{arrayBufferView:d}=t;u&&console.warn("texture3D.flipY is not supported.");let g=1;if(t.mipLevels&&t.mipLevels.length&&(g=t.mipLevels.length+1),n.texStorage3D(r,g,o,s,a,l),n.texSubImage3D(r,0,0,0,0,s,a,l,c,Pd.A.toWebGLConstant(A,i),d),g>1){let e=s,o=a,u=l;for(let s=0;s<t.mipLevels.length;++s)e=Xd(e),o=Xd(o),u=Xd(u),n.texSubImage3D(r,s+1,0,0,0,e,o,u,c,Pd.A.toWebGLConstant(A,i),t.mipLevels[s])}}(this,i),this._initialized=!0}else!function(e){const t=e._context;t._gl.texImage3D(e._textureTarget,0,e._internalFormat,e._width,e._height,e._depth,0,e._pixelFormat,Pd.A.toWebGLConstant(e._pixelDatatype,t),null)}(this);f.bindTexture(this._textureTarget,null)}function Xd(e){const t=0|Math.floor(e/2);return Math.max(t,1)}function Zd(e,t){let{minificationFilter:i,magnificationFilter:n}=t;const r=[jd.A.NEAREST_MIPMAP_NEAREST,jd.A.NEAREST_MIPMAP_LINEAR,jd.A.LINEAR_MIPMAP_NEAREST,jd.A.LINEAR_MIPMAP_LINEAR].includes(i),o=e._context,s=e._pixelFormat,a=e._pixelDatatype;(a===Pd.A.FLOAT&&!o.textureFloatLinear||a===Pd.A.HALF_FLOAT&&!o.textureHalfFloatLinear)&&(i=r?jd.A.NEAREST_MIPMAP_NEAREST:jd.A.NEAREST,n=Wd.A.NEAREST),qd.A.isDepthFormat(s)&&(i=jd.A.NEAREST,n=Wd.A.NEAREST);const l=o._gl,c=e._textureTarget;l.activeTexture(l.TEXTURE0),l.bindTexture(c,e._texture),l.texParameteri(c,l.TEXTURE_MIN_FILTER,i),l.texParameteri(c,l.TEXTURE_MAG_FILTER,n),l.texParameteri(c,l.TEXTURE_WRAP_R,t.wrapR),l.texParameteri(c,l.TEXTURE_WRAP_S,t.wrapS),l.texParameteri(c,l.TEXTURE_WRAP_T,t.wrapT),(0,p.A)(e._textureFilterAnisotropic)&&l.texParameteri(c,e._textureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,t.maximumAnisotropy),l.bindTexture(c,null)}Jd.create=function(e){return new Jd(e)},Object.defineProperties(Jd.prototype,{id:{get:function(){return this._id}},sampler:{get:function(){return this._sampler},set:function(e){Zd(this,e),this._sampler=e}},pixelFormat:{get:function(){return this._pixelFormat}},pixelDatatype:{get:function(){return this._pixelDatatype}},dimensions:{get:function(){return this._dimensions}},preMultiplyAlpha:{get:function(){return this._preMultiplyAlpha}},flipY:{get:function(){return this._flipY}},width:{get:function(){return this._width}},height:{get:function(){return this._height}},depth:{get:function(){return this._depth}},sizeInBytes:{get:function(){return this._hasMipmap?Math.floor(8*this._sizeInBytes/7):this._sizeInBytes}},_target:{get:function(){return this._textureTarget}}}),Jd.prototype.generateMipmap=function(e){if(e=e??Sd.A.DONT_CARE,qd.A.isDepthFormat(this._pixelFormat))throw new S.A("Cannot call generateMipmap when the texture3D pixel format is DEPTH_COMPONENT or DEPTH_STENCIL.");if(qd.A.isCompressedFormat(this._pixelFormat))throw new S.A("Cannot call generateMipmap with a compressed pixel format.");if(!Sd.A.validate(e))throw new S.A("hint is invalid.");this._hasMipmap=!0;const t=this._context._gl,i=this._textureTarget;t.hint(t.GENERATE_MIPMAP_HINT,e),t.activeTexture(t.TEXTURE0),t.bindTexture(i,this._texture),t.generateMipmap(i),t.bindTexture(i,null)},Jd.prototype.isDestroyed=function(){return!1},Jd.prototype.destroy=function(){return this._context._gl.deleteTexture(this._texture),(0,zd.A)(this)};const $d=Jd;var eg=i(66589),tg=i(16012),ig=i(557448),ng=i(492718),rg=i(508380),og=i(193470),sg=i(764011),ag=i(757146),lg=i(790868),cg=i(240863),Ag=i(454214),ug=i(564886),hg=i(182348),dg=i(655365),gg=i(165755),pg=i(209202),fg=i(83181),mg=i(307898),_g=i(98055),yg=i(862892),wg=i(705302),Cg=i(41076);function Bg(e){this.ellipsoid=e.ellipsoid??ce.A.default,this.credit=void 0,this.tilingScheme=void 0,this.height=void 0,this.width=void 0,this.encoding=void 0,this.lodCount=void 0,this.hasAvailability=!1,this.tilesAvailable=void 0,this.tilesAvailabilityLoaded=void 0,this.levelZeroMaximumGeometricError=void 0,this.terrainDataStructure=void 0}function vg(e){e=e??g.A.EMPTY_OBJECT,this._resource=void 0,this._credit=void 0,this._tilingScheme=void 0,this._levelZeroMaximumGeometricError=void 0,this._maxLevel=void 0,this._terrainDataStructure=void 0,this._width=void 0,this._height=void 0,this._encoding=void 0,this._lodCount=void 0,this._hasAvailability=!1,this._tilesAvailable=void 0,this._tilesAvailabilityLoaded=void 0,this._availableCache={},this._errorEvent=new f.A}function Eg(e,t,i,n){if(!e._hasAvailability)return;const r=e._tilesAvailabilityLoaded,o=e._tilesAvailable;return!(t>e._lodCount)&&(!!o.isTileAvailable(t,i,n)||!r.isTileAvailable(t,i,n)&&void 0)}function bg(e,t,i,n){const r=t-1,o=i-1,s=n[e.y*t+e.x],a=[],l={startX:e.x,startY:e.y,endX:0,endY:0},c=new h.A(e.x+1,e.y+1);let A=!1,u=!1;for(;!A||!u;){let i=c.x;const d=u?c.y+1:c.y;if(!A){for(let i=e.y;i<d;++i)if(n[i*t+c.x]!==s){A=!0;break}A?(a.push(new h.A(c.x,e.y)),--c.x,--i,l.endX=c.x):c.x===r?(l.endX=c.x,A=!0):++c.x}if(!u){const r=c.y*t;for(let t=e.x;t<=i;++t)if(n[r+t]!==s){u=!0;break}u?(a.push(new h.A(e.x,c.y)),--c.y,l.endY=c.y):c.y===o?(l.endY=c.y,u=!0):++c.y}}return{endingIndices:a,range:l,value:s}}function Ig(e,t,i,n){if(!e._hasAvailability)return{};const r=128*Math.floor(i/128),o=128*Math.floor(n/128),s=Math.min(1<<t,128),a=`tilemap/${t}/${o}/${r}/${s}/${s}`,l=e._availableCache;if((0,p.A)(l[a]))return l[a];const c=new pg.A({throttle:!1,throttleByServer:!0,type:mg.A.TERRAIN});let A=e._resource.getDerivedResource({url:a,request:c}).fetchJson();return(0,p.A)(A)?(A=A.then(function(a){const l=function(e,t,i,n,r){const o=[];if(r.every(function(e){return e===r[0]}))return 1===r[0]&&o.push({startX:e,startY:t,endX:e+i-1,endY:t+n-1}),o;let s=[new h.A(0,0)];for(;s.length>0;){const a=bg(s.pop(),i,n,r);if(1===a.value){const i=a.range;i.startX+=e,i.endX+=e,i.startY+=t,i.endY+=t,o.push(i)}const l=a.endingIndices;l.length>0&&(s=s.concat(l))}return o}(r,o,s,s,a.data);e._tilesAvailabilityLoaded.addAvailableTileRange(t,r,o,r+s,o+s);const c=e._tilesAvailable;for(let e=0;e<l.length;++e){const i=l[e];c.addAvailableTileRange(t,i.startX,i.startY,i.endX,i.endY)}return Eg(e,t,i,n)}),l[a]={promise:A,request:c},A=A.finally(function(e){return delete l[a],e}),{promise:A,request:c}):{}}Bg.prototype.build=function(e){e._credit=this.credit,e._tilingScheme=this.tilingScheme,e._height=this.height,e._width=this.width,e._encoding=this.encoding,e._lodCount=this.lodCount,e._hasAvailability=this.hasAvailability,e._tilesAvailable=this.tilesAvailable,e._tilesAvailabilityLoaded=this.tilesAvailabilityLoaded,e._levelZeroMaximumGeometricError=this.levelZeroMaximumGeometricError,e._terrainDataStructure=this.terrainDataStructure},Object.defineProperties(vg.prototype,{errorEvent:{get:function(){return this._errorEvent}},credit:{get:function(){return this._credit}},tilingScheme:{get:function(){return this._tilingScheme}},hasWaterMask:{get:function(){return!1}},hasVertexNormals:{get:function(){return!1}},availability:{get:function(){return this._tilesAvailable}}}),vg.fromUrl=async function(e,t){xe.A.defined("url",e),t=t??g.A.EMPTY_OBJECT,e=await Promise.resolve(e);let i=be.A.createIfNeeded(e);i.appendForwardSlash(),(0,p.A)(t.token)&&(i=i.getDerivedResource({queryParameters:{token:t.token}}));const n=i.getDerivedResource({queryParameters:{f:"pjson"}}),r=new Bg(t);await async function(e,t,i){try{!function(e,t){const i=t.copyrightText;(0,p.A)(i)&&(e.credit=new ae.A(i));const n=t.spatialReference,r=n.latestWkid??n.wkid,o=t.extent,s={ellipsoid:e.ellipsoid};if(4326===r)s.rectangle=ve.A.fromDegrees(o.xmin,o.ymin,o.xmax,o.ymax),e.tilingScheme=new hg.A(s);else{if(3857!==r)throw new Ie.A("Invalid spatial reference");{const i=Math.PI*e.ellipsoid.maximumRadius;t.extent.xmax>i&&(t.extent.xmax=i),t.extent.ymax>i&&(t.extent.ymax=i),t.extent.xmin<-i&&(t.extent.xmin=-i),t.extent.ymin<-i&&(t.extent.ymin=-i),s.rectangleSouthwestInMeters=new h.A(o.xmin,o.ymin),s.rectangleNortheastInMeters=new h.A(o.xmax,o.ymax),e.tilingScheme=new Cg.A(s)}}const a=t.tileInfo;if(!(0,p.A)(a))throw new Ie.A("tileInfo is required");e.width=a.rows+1,e.height=a.cols+1,e.encoding="LERC"===a.format?dg.A.LERC:dg.A.NONE,e.lodCount=a.lods.length-1,(e.hasAvailability=-1!==t.capabilities.indexOf("Tilemap"))&&(e.tilesAvailable=new yg.A(e.tilingScheme,e.lodCount),e.tilesAvailable.addAvailableTileRange(0,0,0,e.tilingScheme.getNumberOfXTilesAtLevel(0),e.tilingScheme.getNumberOfYTilesAtLevel(0)),e.tilesAvailabilityLoaded=new yg.A(e.tilingScheme,e.lodCount)),e.levelZeroMaximumGeometricError=_g.A.getEstimatedLevelZeroGeometricErrorForAHeightmap(e.tilingScheme.ellipsoid,e.width,e.tilingScheme.getNumberOfXTilesAtLevel(0)),t.bandCount>1&&console.log("ArcGISTiledElevationTerrainProvider: Terrain data has more than 1 band. Using the first one."),(0,p.A)(t.minValues)&&(0,p.A)(t.maxValues)?e.terrainDataStructure={elementMultiplier:1,lowestEncodedHeight:t.minValues[0],highestEncodedHeight:t.maxValues[0]}:e.terrainDataStructure={elementMultiplier:1}}(e,await t.fetchJson())}catch(e){const n=`An error occurred while accessing ${t}.`;throw wg.A.reportError(void 0,i,(0,p.A)(i)?i._errorEvent:void 0,n),e}}(r,n);const o=new vg(t);return r.build(o),o._resource=i,o},vg.prototype.requestTileGeometry=function(e,t,i,n){const r=this._resource.getDerivedResource({url:`tile/${i}/${t}/${e}`,request:n}),o=this._hasAvailability;let s,a=Promise.resolve(!0);if(o&&!(0,p.A)(Eg(this,i+1,2*e,2*t))){const n=Ig(this,i+1,2*e,2*t);a=n.promise,s=n.request}const l=r.fetchArrayBuffer();if(!(0,p.A)(l)||!(0,p.A)(a))return;const c=this,A=this._tilesAvailable;return Promise.all([l,a]).then(function(n){return new gg.A({buffer:n[0],width:c._width,height:c._height,childTileMask:o?A.computeChildMaskForTile(i,e,t):15,structure:c._terrainDataStructure,encoding:c._encoding})}).catch(async function(e){if((0,p.A)(s)&&s.state===fg.A.CANCELLED){n.cancel();try{await(n.deferred?.promise)}catch{}return n.state=fg.A.CANCELLED,Promise.reject(e)}return Promise.reject(e)})},vg.prototype.getLevelMaximumGeometricError=function(e){return this._levelZeroMaximumGeometricError/(1<<e)},vg.prototype.getTileDataAvailable=function(e,t,i){if(!this._hasAvailability)return;const n=Eg(this,i,e,t);if((0,p.A)(n))return n;Ig(this,i,e,t)},vg.prototype.loadTileDataAvailability=function(e,t,i){};const xg=vg;var Sg=i(794282),Tg=i(961645),Mg=i(807135);const Dg="https://dev.virtualearth.net/REST/v1/Locations";function Pg(e){const t=(e=e??g.A.EMPTY_OBJECT).key;if(!(0,p.A)(t))throw new S.A("options.key is required.");this._key=t;const i={key:t};(0,p.A)(e.culture)&&(i.culture=e.culture),this._resource=new be.A({url:Dg,queryParameters:i}),this._credit=new ae.A('<img src="http://dev.virtualearth.net/Branding/logo_powered_by.png"/>',!1)}Object.defineProperties(Pg.prototype,{url:{get:function(){return Dg}},key:{get:function(){return this._key}},credit:{get:function(){return this._credit}}}),Pg.prototype.geocode=async function(e){return xe.A.typeOf.string("query",e),this._resource.getDerivedResource({queryParameters:{query:e}}).fetchJsonp("jsonp").then(function(e){return 0===e.resourceSets.length?[]:e.resourceSets[0].resources.map(function(e){const t=e.bbox,i=t[0],n=t[1],r=t[2],o=t[3];return{displayName:e.name,destination:ve.A.fromDegrees(n,i,o,r)}})})};const Og=Pg;var Rg=i(554630),kg=i(854894),Fg=i(626809);function Lg(){}Object.defineProperties(Lg.prototype,{credit:{get:function(){}}}),Lg.prototype.geocode=function(e){xe.A.typeOf.string("query",e);const t=e.match(/[^\s,\n]+/g);if(2===t.length||3===t.length){let i=+t[0],n=+t[1];const r=3===t.length?+t[2]:300;if(isNaN(i)&&isNaN(n)){const e=/^(\d+.?\d*)([nsew])/i;for(let r=0;r<t.length;++r){const o=t[r].match(e);e.test(t[r])&&3===o.length&&(/^[ns]/i.test(o[2])?n=/^[n]/i.test(o[2])?+o[1]:-o[1]:/^[ew]/i.test(o[2])&&(i=/^[e]/i.test(o[2])?+o[1]:-o[1]))}}if(!isNaN(i)&&!isNaN(n)&&!isNaN(r)){const t={displayName:e,destination:ie.A.fromDegrees(i,n,r)};return Promise.resolve([t])}}return Promise.resolve([])};const Qg=Lg;var Ng=i(961136),Gg=i(584164),Vg=i(437266);const Ug=new Fg.A,Yg=new ie.A,Kg=new ie.A,Hg=new ie.A,zg=new ie.A;function qg(e){const t=(e=e??g.A.EMPTY_OBJECT).points,i=e.times;let n=e.firstTangent,r=e.lastTangent;if(xe.A.defined("points",t),xe.A.defined("times",i),xe.A.typeOf.number.greaterThanOrEquals("points.length",t.length,2),xe.A.typeOf.number.equals("times.length","points.length",i.length,t.length),t.length>2&&((0,p.A)(n)||(n=Hg,ie.A.multiplyByScalar(t[1],2,n),ie.A.subtract(n,t[2],n),ie.A.subtract(n,t[0],n),ie.A.multiplyByScalar(n,.5,n)),!(0,p.A)(r))){const e=t.length-1;r=zg,ie.A.multiplyByScalar(t[e-1],2,r),ie.A.subtract(t[e],r,r),ie.A.add(r,t[e-2],r),ie.A.multiplyByScalar(r,.5,r)}this._times=i,this._points=t,this._firstTangent=ie.A.clone(n),this._lastTangent=ie.A.clone(r),this._evaluateFunction=function(e){const t=e.points,i=e.times;if(t.length<3){const e=i[0],n=1/(i[1]-e),r=t[0],o=t[1];return function(t,i){(0,p.A)(i)||(i=new ie.A);const s=(t-e)*n;return ie.A.lerp(r,o,s,i)}}return function(n,r){(0,p.A)(r)||(r=new ie.A);const o=e._lastTimeIndex=e.findTimeInterval(n,e._lastTimeIndex),s=(n-i[o])/(i[o+1]-i[o]),a=Ug;let l,c,A,u,h;return a.z=s,a.y=s*s,a.x=a.y*s,a.w=1,0===o?(l=t[0],c=t[1],A=e.firstTangent,u=ie.A.subtract(t[2],l,Yg),ie.A.multiplyByScalar(u,.5,u),h=Gg.A.multiplyByVector(Ng.A.hermiteCoefficientMatrix,a,a)):o===t.length-2?(l=t[o],c=t[o+1],u=e.lastTangent,A=ie.A.subtract(c,t[o-1],Yg),ie.A.multiplyByScalar(A,.5,A),h=Gg.A.multiplyByVector(Ng.A.hermiteCoefficientMatrix,a,a)):(l=t[o-1],c=t[o],A=t[o+1],u=t[o+2],h=Gg.A.multiplyByVector(qg.catmullRomCoefficientMatrix,a,a)),r=ie.A.multiplyByScalar(l,h.x,r),ie.A.multiplyByScalar(c,h.y,Kg),ie.A.add(r,Kg,r),ie.A.multiplyByScalar(A,h.z,Kg),ie.A.add(r,Kg,r),ie.A.multiplyByScalar(u,h.w,Kg),ie.A.add(r,Kg,r)}}(this),this._lastTimeIndex=0}Object.defineProperties(qg.prototype,{times:{get:function(){return this._times}},points:{get:function(){return this._points}},firstTangent:{get:function(){return this._firstTangent}},lastTangent:{get:function(){return this._lastTangent}}}),qg.catmullRomCoefficientMatrix=new Gg.A(-.5,1,-.5,0,1.5,-2.5,0,1,-1.5,2,.5,0,.5,-.5,0,0),qg.prototype.findTimeInterval=Vg.A.prototype.findTimeInterval,qg.prototype.wrapTime=Vg.A.prototype.wrapTime,qg.prototype.clampTime=Vg.A.prototype.clampTime,qg.prototype.evaluate=function(e,t){return this._evaluateFunction(e,t)};const Wg=qg;var jg=i(564453),Jg=i(602317),Xg=i(769534);function Zg(e){const t=(e=e??g.A.EMPTY_OBJECT).radius;xe.A.typeOf.number("radius",t);const i={center:e.center,semiMajorAxis:t,semiMinorAxis:t,ellipsoid:e.ellipsoid,height:e.height,extrudedHeight:e.extrudedHeight,granularity:e.granularity,vertexFormat:e.vertexFormat,stRotation:e.stRotation,shadowVolume:e.shadowVolume};this._ellipseGeometry=new Jg.A(i),this._workerName="createCircleGeometry"}Zg.packedLength=Jg.A.packedLength,Zg.pack=function(e,t,i){return xe.A.typeOf.object("value",e),Jg.A.pack(e._ellipseGeometry,t,i)};const $g=new Jg.A({center:new ie.A,semiMajorAxis:1,semiMinorAxis:1}),ep={center:new ie.A,radius:void 0,ellipsoid:ce.A.clone(ce.A.default),height:void 0,extrudedHeight:void 0,granularity:void 0,vertexFormat:new Xg.A,stRotation:void 0,semiMajorAxis:void 0,semiMinorAxis:void 0,shadowVolume:void 0};Zg.unpack=function(e,t,i){const n=Jg.A.unpack(e,t,$g);return ep.center=ie.A.clone(n._center,ep.center),ep.ellipsoid=ce.A.clone(n._ellipsoid,ep.ellipsoid),ep.ellipsoid=ce.A.clone(n._ellipsoid,$g._ellipsoid),ep.height=n._height,ep.extrudedHeight=n._extrudedHeight,ep.granularity=n._granularity,ep.vertexFormat=Xg.A.clone(n._vertexFormat,ep.vertexFormat),ep.stRotation=n._stRotation,ep.shadowVolume=n._shadowVolume,(0,p.A)(i)?(ep.semiMajorAxis=n._semiMajorAxis,ep.semiMinorAxis=n._semiMinorAxis,i._ellipseGeometry=new Jg.A(ep),i):(ep.radius=n._semiMajorAxis,new Zg(ep))},Zg.createGeometry=function(e){return Jg.A.createGeometry(e._ellipseGeometry)},Zg.createShadowVolume=function(e,t,i){const n=e._ellipseGeometry._granularity,r=e._ellipseGeometry._ellipsoid,o=t(n,r),s=i(n,r);return new Zg({center:e._ellipseGeometry._center,radius:e._ellipseGeometry._semiMajorAxis,ellipsoid:r,stRotation:e._ellipseGeometry._stRotation,granularity:n,extrudedHeight:o,height:s,vertexFormat:Xg.A.POSITION_ONLY,shadowVolume:!0})},Object.defineProperties(Zg.prototype,{rectangle:{get:function(){return this._ellipseGeometry.rectangle}},textureCoordinateRotationPoints:{get:function(){return this._ellipseGeometry.textureCoordinateRotationPoints}}});const tp=Zg;var ip=i(692095);function np(e){const t=(e=e??g.A.EMPTY_OBJECT).radius;xe.A.typeOf.number("radius",t);const i={center:e.center,semiMajorAxis:t,semiMinorAxis:t,ellipsoid:e.ellipsoid,height:e.height,extrudedHeight:e.extrudedHeight,granularity:e.granularity,numberOfVerticalLines:e.numberOfVerticalLines};this._ellipseGeometry=new ip.A(i),this._workerName="createCircleOutlineGeometry"}np.packedLength=ip.A.packedLength,np.pack=function(e,t,i){return xe.A.typeOf.object("value",e),ip.A.pack(e._ellipseGeometry,t,i)};const rp=new ip.A({center:new ie.A,semiMajorAxis:1,semiMinorAxis:1}),op={center:new ie.A,radius:void 0,ellipsoid:ce.A.clone(ce.A.UNIT_SPHERE),height:void 0,extrudedHeight:void 0,granularity:void 0,numberOfVerticalLines:void 0,semiMajorAxis:void 0,semiMinorAxis:void 0};np.unpack=function(e,t,i){const n=ip.A.unpack(e,t,rp);return op.center=ie.A.clone(n._center,op.center),op.ellipsoid=ce.A.clone(n._ellipsoid,op.ellipsoid),op.height=n._height,op.extrudedHeight=n._extrudedHeight,op.granularity=n._granularity,op.numberOfVerticalLines=n._numberOfVerticalLines,(0,p.A)(i)?(op.semiMajorAxis=n._semiMajorAxis,op.semiMinorAxis=n._semiMinorAxis,i._ellipseGeometry=new ip.A(op),i):(op.radius=n._semiMajorAxis,new np(op))},np.createGeometry=function(e){return ip.A.createGeometry(e._ellipseGeometry)};const sp=np;var ap=i(433235),lp=i(571804),cp=i(56233),Ap=i(931806),up=i(594647),hp=i(246520),dp=i(173885),gp=i(374273),pp=i(766242),fp=i(686043),mp=i(703983),_p=i(400793);function yp(e){e=e??g.A.EMPTY_OBJECT,xe.A.defined("options.callback",e.callback),xe.A.defined("options.width",e.width),xe.A.defined("options.height",e.height),this._callback=e.callback,this._tilingScheme=e.tilingScheme,(0,p.A)(this._tilingScheme)||(this._tilingScheme=new hg.A({ellipsoid:e.ellipsoid??ce.A.default})),this._width=e.width,this._height=e.height;const t=Math.max(this._width,this._height);this._levelZeroMaximumGeometricError=_g.A.getEstimatedLevelZeroGeometricErrorForAHeightmap(this._tilingScheme.ellipsoid,t,this._tilingScheme.getNumberOfXTilesAtLevel(0)),this._errorEvent=new f.A;let i=e.credit;"string"==typeof i&&(i=new ae.A(i)),this._credit=i}Object.defineProperties(yp.prototype,{errorEvent:{get:function(){return this._errorEvent}},credit:{get:function(){return this._credit}},tilingScheme:{get:function(){return this._tilingScheme}},hasWaterMask:{get:function(){return!1}},hasVertexNormals:{get:function(){return!1}},availability:{get:function(){}},width:{get:function(){return this._width}},height:{get:function(){return this._height}}}),yp.prototype.requestTileGeometry=function(e,t,i,n){const r=this._callback(e,t,i);if(!(0,p.A)(r))return;const o=this._width,s=this._height;return Promise.resolve(r).then(function(e){let t=e;return Array.isArray(t)&&(t=new Float64Array(t)),new gg.A({buffer:t,width:o,height:s})})},yp.prototype.getLevelMaximumGeometricError=function(e){return this._levelZeroMaximumGeometricError/(1<<e)},yp.prototype.getTileDataAvailable=function(e,t,i){},yp.prototype.loadTileDataAvailability=function(e,t,i){};const wp=yp;var Cp=i(317061),Bp=i(302982),vp=i(902503),Ep=i(707568),bp=i(330926),Ip=i(634061),xp=i(606707),Sp=i(652785),Tp=i(723635),Mp=i(715726),Dp=i(602289),Pp=i(87762),Op=i(594706),Rp=i(551824),kp=i(658091),Fp=i(149192),Lp=i(199528),Qp=i(816422),Np=i(520098),Gp=i(17117),Vp=i(788335),Up=i(263842),Yp=i(123475),Kp=i(675178),Hp=i(653577),zp=i(944479),qp=i(305439),Wp=i(46362);function jp(){S.A.throwInstantiationError()}jp.createGeometry=function(e){S.A.throwInstantiationError()};const Jp=jp;var Xp=i(75200),Zp=i(494938),$p=i(794554),ef=i(34233),tf=i(597751),nf=i(957171),rf=i.t(nf,2);const of=function(e,t){return 0!==(e&t)},sf=[1,2,4,8];function af(e,t,i,n,r,o){this._bits=e,this.cnodeVersion=t,this.imageryVersion=i,this.terrainVersion=n,this.imageryProvider=r,this.terrainProvider=o,this.ancestorHasTerrain=!1,this.terrainState=void 0}af.clone=function(e,t){return(0,p.A)(t)?(t._bits=e._bits,t.cnodeVersion=e.cnodeVersion,t.imageryVersion=e.imageryVersion,t.terrainVersion=e.terrainVersion,t.imageryProvider=e.imageryProvider,t.terrainProvider=e.terrainProvider):t=new af(e._bits,e.cnodeVersion,e.imageryVersion,e.terrainVersion,e.imageryProvider,e.terrainProvider),t.ancestorHasTerrain=e.ancestorHasTerrain,t.terrainState=e.terrainState,t},af.prototype.setParent=function(e){this.ancestorHasTerrain=e.ancestorHasTerrain||this.hasTerrain()},af.prototype.hasSubtree=function(){return of(this._bits,16)},af.prototype.hasImagery=function(){return of(this._bits,64)},af.prototype.hasTerrain=function(){return of(this._bits,128)},af.prototype.hasChildren=function(){return of(this._bits,15)},af.prototype.hasChild=function(e){return of(this._bits,sf[e])},af.prototype.getChildBitmask=function(){return 15&this._bits};const lf=af;var cf=i(222448),Af=i(971724);const uf=function(e){const t=new ArrayBuffer(1016),i=new Uint8Array(t);for(let t=0;t<1016;++t)i[t]=e.charCodeAt(t);return t}('Eô½\vyâjE",ÍqøIFgQ\0B%Æèa,f)\bÆ4Üjb%y\nwmiÖðk¡½NuàA[ß@V\fÙ»r|3SîOlÔq°{ÀEVZ­wUe\v3*¬l5Å0sø3>mF8J´Ýð.ÝuÚDt"úa"\f3"So¯9D\v9Ù9L¹¿«\\P_"uxéqh;ÁÄð<VqH\'UfYNeu£aF}a?A\0×´4MÎF°Õ¸\'{Ü+»Mg0ÈÑö\\Pú[/Fn5/\'C.ë\n\f^¥se4ål.jC\'c#U©?q{gC}:¯ÍâTUýKÆâ/(íË\\Æ-f§;/*"N°k.Ý\r}}GºC²²+>Mª>}æÎIÆæx\fa1-¤O¥~q ì\r1èN\v\0nPh}=\b\r¦n£h$[kó#ó¶s³\r\v@ÀØQ]ú".jßI\0¹ wUÆïj¿{GLîÜÜF©­S+S4ÿYä8è1N¹XFkË-#p\x005"Ï1²&/çÃu-6,rt°#G·ÓÑ&7râ\0DÏÚ3-Þ`i#i*|ÍKQ\rT9w.)ê¦P¢joP\\>TûïP[\vEm(w7ÛJfJo åpâ¹q~\fmI-zþrÇòY0»]såÉ êxì ðB|G`°½&·q¶ÇÑ3=Ó«îcÈ+S D\\qÆÌD2O<ÊÀ)=RÓaX©}e´ÜÏ\rô=ñ\b©BÚ#\tØ¿^PIøMÀËGLO÷{+ØÅ1;µoÜl\rÑÛ?âéÚ_ÔâFaZÞUÏ¤\0¾ýÎgñJiæ HØ]~®q N®ÀV©<rçvì)IÖ]-ãÛ6©;fjÕ¶=P^R¹KÇsWxÉô.YoÐKW>\'\'Ç`Û;íSD>?mw¢\në?R¨ÆU^1I7ôÅ&-©¿\'TÚÃj å*x°Öprªh½÷_H±~ÀXL?fù>áeÀp§Ï8i¯ðVldI\'­xtOÂÞV9\0Úw\vË-û5Oõ\bQ`Á\nZGM&30xÚÀFGâ[y`In7gS\n>éìF9²ñ4\rÆSuná\fYÙÞ){II¥wy¾IV.6ç\v:»Ob{ÒM1/½8{¨O!áìFpv})"x\nÝ\\ÚÞQÏðüYRe|3ßóHÚ»*uÛ`²Ôüíì5¨ÿ(1-ÈÜF|["');function hf(e){this.imageryPresent=!0,this.protoImagery=void 0,this.terrainPresent=!0,this.negativeAltitudeExponentBias=32,this.negativeAltitudeThreshold=T.A.EPSILON12,this.providers={},this.key=void 0,this._resource=void 0,this._quadPacketVersion=1,this._tileInfo={},this._subtreePromises={}}Object.defineProperties(hf.prototype,{url:{get:function(){return this._resource.url}},proxy:{get:function(){return this._resource.proxy}},resource:{get:function(){return this._resource}}}),hf.fromUrl=async function(e){xe.A.defined("resourceOrUrl",e);let t=e;"string"==typeof t||t instanceof be.A||(xe.A.typeOf.string("resourceOrUrl.url",e.url),t=e.url);const i=be.A.createIfNeeded(t);i.appendForwardSlash();const n=new hf;n._resource=i;try{await function(e){const t=e._resource.getDerivedResource({url:"dbRoot.v5",queryParameters:{output:"proto"}});if(!(0,p.A)(mf)){const e=(0,ys.A)("ThirdParty/google-earth-dbroot-parser.js"),t=window.cesiumGoogleEarthDbRootParser;mf=(0,cf.A)(e).then(function(){ff=window.cesiumGoogleEarthDbRootParser(rf),(0,p.A)(t)?window.cesiumGoogleEarthDbRootParser=t:delete window.cesiumGoogleEarthDbRootParser})}return mf.then(function(){return t.fetchArrayBuffer()}).then(function(t){const i=ff.EncryptedDbRootProto.decode(new Uint8Array(t));let n=i.encryptionData,r=n.byteOffset,o=r+n.byteLength;const s=e.key=n.buffer.slice(r,o);n=i.dbrootData,r=n.byteOffset,o=r+n.byteLength;const a=n.buffer.slice(r,o);return df.scheduleTask({buffer:a,type:"DbRoot",key:s},[a])}).then(function(t){const i=ff.DbRootProto.decode(new Uint8Array(t.buffer));if(e.imageryPresent=i.imageryPresent??e.imageryPresent,e.protoImagery=i.protoImagery,e.terrainPresent=i.terrainPresent??e.terrainPresent,(0,p.A)(i.endSnippet)&&(0,p.A)(i.endSnippet.model)){const t=i.endSnippet.model;e.negativeAltitudeExponentBias=t.negativeAltitudeExponentBias??e.negativeAltitudeExponentBias,e.negativeAltitudeThreshold=t.compressedNegativeAltitudeThreshold??e.negativeAltitudeThreshold}(0,p.A)(i.databaseVersion)&&(e._quadPacketVersion=i.databaseVersion.quadtreeVersion??e._quadPacketVersion);const n=e.providers,r=i.providerInfo??[],o=r.length;for(let e=0;e<o;++e){const t=r[e],i=t.copyrightString;(0,p.A)(i)&&(n[t.providerId]=new ae.A(i.value))}}).catch(function(){console.log(`Failed to retrieve ${t.url}. Using defaults.`),e.key=uf})}(n),await n.getQuadTreePacket("",n._quadPacketVersion)}catch(e){const t=`An error occurred while accessing ${pf(n,"",1).url}: ${e}`;throw new Ie.A(t)}return n},hf.tileXYToQuadKey=function(e,t,i){let n="";for(let r=i;r>=0;--r){const i=1<<r;let o=0;of(t,i)?of(e,i)&&(o|=1):(o|=2,of(e,i)||(o|=1)),n+=o}return n},hf.quadKeyToTileXY=function(e){let t=0,i=0;const n=e.length-1;for(let r=n;r>=0;--r){const o=1<<r,s=+e[n-r];of(s,2)?of(s,1)||(t|=o):(i|=o,of(s,1)&&(t|=o))}return{x:t,y:i,level:n}},hf.prototype.isValid=function(e){let t=this.getTileInformationFromQuadKey(e);if((0,p.A)(t))return null!==t;let i,n=!0,r=e;for(;r.length>1;){if(i=r.substring(r.length-1),r=r.substring(0,r.length-1),t=this.getTileInformationFromQuadKey(r),(0,p.A)(t)){t.hasSubtree()||t.hasChild(parseInt(i))||(n=!1);break}if(null===t){n=!1;break}}return n};const df=new Af.A("decodeGoogleEarthEnterprisePacket");function gf(e,t,i){const n=e._tileInfo;let r,o=t,s=n[o];if((0,p.A)(s)&&(!s.hasSubtree()||s.hasChildren()))return s;for(;void 0===s&&o.length>1;)o=o.substring(0,o.length-1),s=n[o];const a=e._subtreePromises;let l=a[o];return(0,p.A)(l)?l.then(function(){return r=new pg.A({throttle:i.throttle,throttleByServer:i.throttleByServer,type:i.type,priorityFunction:i.priorityFunction}),gf(e,t,r)}):(0,p.A)(s)&&s.hasSubtree()?(l=e.getQuadTreePacket(o,s.cnodeVersion,i),(0,p.A)(l)?(a[o]=l,l.then(function(){return r=new pg.A({throttle:i.throttle,throttleByServer:i.throttleByServer,type:i.type,priorityFunction:i.priorityFunction}),gf(e,t,r)}).finally(function(){delete a[o]})):void 0):Promise.reject(new Ie.A(`Couldn't load metadata for tile ${t}`))}function pf(e,t,i,n){return e._resource.getDerivedResource({url:`flatfile?q2-0${t}-q.${i.toString()}`,request:n})}let ff,mf;hf.prototype.getQuadTreePacket=function(e,t,i){const n=pf(this,e=e??"",t=t??1,i).fetchArrayBuffer();if(!(0,p.A)(n))return;const r=this._tileInfo,o=this.key;return n.then(function(t){return df.scheduleTask({buffer:t,quadKey:e,type:"Metadata",key:o},[t]).then(function(t){let i,n=-1;if(""!==e){n=e.length+1;const o=t[e];i=r[e],i._bits|=o._bits,delete t[e]}const o=Object.keys(t);o.sort(function(e,t){return e.length-t.length});const s=o.length;for(let e=0;e<s;++e){const s=o[e];if(null!==t[s]){const e=lf.clone(t[s]),o=s.length;if(o===n)e.setParent(i);else if(o>1){const t=r[s.substring(0,s.length-1)];e.setParent(t)}r[s]=e}else r[s]=null}})})},hf.prototype.populateSubtree=function(e,t,i,n){return gf(this,hf.tileXYToQuadKey(e,t,i),n)},hf.prototype.getTileInformation=function(e,t,i){const n=hf.tileXYToQuadKey(e,t,i);return this._tileInfo[n]},hf.prototype.getTileInformationFromQuadKey=function(e){return this._tileInfo[e]};const _f=hf;var yf=i(874915),wf=i(587451),Cf=i(832698),Bf=i(589670),vf=i(42794),Ef=i(371267),bf=i(255335);function If(e){e=e??g.A.EMPTY_OBJECT,xe.A.typeOf.object("options.buffer",e.buffer),xe.A.typeOf.number("options.negativeAltitudeExponentBias",e.negativeAltitudeExponentBias),xe.A.typeOf.number("options.negativeElevationThreshold",e.negativeElevationThreshold),this._buffer=e.buffer,this._credits=e.credits,this._negativeAltitudeExponentBias=e.negativeAltitudeExponentBias,this._negativeElevationThreshold=e.negativeElevationThreshold;const t=e.childTileMask??15;let i=3&t;i|=4&t?8:0,i|=8&t?4:0,this._childTileMask=i,this._createdByUpsampling=e.createdByUpsampling??!1,this._skirtHeight=void 0,this._bufferType=this._buffer.constructor,this._mesh=void 0,this._minimumHeight=void 0,this._maximumHeight=void 0}Object.defineProperties(If.prototype,{credits:{get:function(){return this._credits}},waterMask:{get:function(){}}});const xf="createVerticesFromGoogleEarthEnterpriseBuffer",Sf=new Af.A(xf),Tf=new Af.A(xf,vf.A.maximumAsynchronousTasks),Mf=new ve.A,Df=new ve.A;If.prototype.createMesh=function(e){e=e??g.A.EMPTY_OBJECT,xe.A.typeOf.object("options.tilingScheme",e.tilingScheme),xe.A.typeOf.number("options.x",e.x),xe.A.typeOf.number("options.y",e.y),xe.A.typeOf.number("options.level",e.level);const t=e.tilingScheme,i=e.x,n=e.y,r=e.level,o=e.exaggeration??1,s=e.exaggerationRelativeHeight??0,a=e.throttle??!0,l=t.ellipsoid;t.tileXYToNativeRectangle(i,n,r,Mf),t.tileXYToRectangle(i,n,r,Df);const c=l.cartographicToCartesian(ve.A.center(Df)),A=40075.16/(1<<r);this._skirtHeight=Math.min(8*A,1e3);const u=(a?Tf:Sf).scheduleTask({buffer:this._buffer,nativeRectangle:Mf,rectangle:Df,relativeToCenter:c,ellipsoid:l,skirtHeight:this._skirtHeight,exaggeration:o,exaggerationRelativeHeight:s,includeWebMercatorT:!0,negativeAltitudeExponentBias:this._negativeAltitudeExponentBias,negativeElevationThreshold:this._negativeElevationThreshold});if(!(0,p.A)(u))return;const h=this;return u.then(function(e){return h._mesh=new bf.A(c,new Float32Array(e.vertices),new Uint16Array(e.indices),e.indexCountWithoutSkirts,e.vertexCountWithoutSkirts,e.minimumHeight,e.maximumHeight,zA.A.clone(e.boundingSphere3D),ie.A.clone(e.occludeePointInScaledSpace),e.numberOfAttributes,Cf.A.clone(e.orientedBoundingBox),Ef.A.clone(e.encoding),e.westIndicesSouthToNorth,e.southIndicesEastToWest,e.eastIndicesNorthToSouth,e.northIndicesWestToEast),h._minimumHeight=e.minimumHeight,h._maximumHeight=e.maximumHeight,h._buffer=void 0,h._mesh})},If.prototype.interpolateHeight=function(e,t,i){const n=T.A.clamp((t-e.west)/e.width,0,1),r=T.A.clamp((i-e.south)/e.height,0,1);return(0,p.A)(this._mesh)?function(e,t,i){const n=e._mesh,r=n.vertices,o=n.encoding,s=n.indices;for(let e=0,n=s.length;e<n;e+=3){const n=s[e],a=s[e+1],l=s[e+2],c=o.decodeTextureCoordinates(r,n,Of),A=o.decodeTextureCoordinates(r,a,Rf),u=o.decodeTextureCoordinates(r,l,kf),h=wf.A.computeBarycentricCoordinates(t,i,c.x,c.y,A.x,A.y,u.x,u.y,Ff);if(h.x>=-1e-15&&h.y>=-1e-15&&h.z>=-1e-15){const e=o.decodeHeight(r,n),t=o.decodeHeight(r,a),i=o.decodeHeight(r,l);return h.x*e+h.y*t+h.z*i}}}(this,n,r):function(e,t,i,n){const r=e._buffer;let o=0,s=0,a=0;i>.5?(t>.5?(o=2,s=.5):o=3,a=.5):t>.5&&(o=1,s=.5);const l=new DataView(r);let c=0;for(let e=0;e<o;++e)c+=l.getUint32(c,!0),c+=Qf;c+=Qf,c+=2*Vf;const A=T.A.toRadians(180*l.getFloat64(c,!0));c+=Vf;const u=T.A.toRadians(180*l.getFloat64(c,!0));c+=Vf;const h=n.width/A/2,d=n.height/u/2,g=l.getInt32(c,!0);c+=Nf;const p=3*l.getInt32(c,!0);c+=Nf,c+=Nf;const f=new Array(g),m=new Array(g),_=new Array(g);let y;for(y=0;y<g;++y)f[y]=s+l.getUint8(c++)*h,m[y]=a+l.getUint8(c++)*d,_[y]=6371010*l.getFloat32(c,!0),c+=Gf;const w=new Array(p);for(y=0;y<p;++y)w[y]=l.getUint16(c,!0),c+=Lf;for(y=0;y<p;y+=3){const e=w[y],n=w[y+1],r=w[y+2],o=f[e],s=f[n],a=f[r],l=m[e],c=m[n],A=m[r],u=wf.A.computeBarycentricCoordinates(t,i,o,l,s,c,a,A,Ff);if(u.x>=-1e-15&&u.y>=-1e-15&&u.z>=-1e-15)return u.x*_[e]+u.y*_[n]+u.z*_[r]}}(this,n,r,e)};const Pf=new Af.A("upsampleQuantizedTerrainMesh",vf.A.maximumAsynchronousTasks);If.prototype.upsample=function(e,t,i,n,r,o,s){if(xe.A.typeOf.object("tilingScheme",e),xe.A.typeOf.number("thisX",t),xe.A.typeOf.number("thisY",i),xe.A.typeOf.number("thisLevel",n),xe.A.typeOf.number("descendantX",r),xe.A.typeOf.number("descendantY",o),xe.A.typeOf.number("descendantLevel",s),s-n>1)throw new S.A("Upsampling through more than one level at a time is not currently supported.");const a=this._mesh;if(!(0,p.A)(this._mesh))return;const l=2*t!==r,c=2*i===o,A=e.ellipsoid,u=e.tileXYToRectangle(r,o,s),h=Pf.scheduleTask({vertices:a.vertices,indices:a.indices,indexCountWithoutSkirts:a.indexCountWithoutSkirts,vertexCountWithoutSkirts:a.vertexCountWithoutSkirts,encoding:a.encoding,minimumHeight:this._minimumHeight,maximumHeight:this._maximumHeight,isEastChild:l,isNorthChild:c,childRectangle:u,ellipsoid:A});if(!(0,p.A)(h))return;const d=this;return h.then(function(e){const t=new Uint16Array(e.vertices),i=yf.A.createTypedArray(t.length/3,e.indices),n=d._skirtHeight;return new Bf.A({quantizedVertices:t,indices:i,minimumHeight:e.minimumHeight,maximumHeight:e.maximumHeight,boundingSphere:zA.A.clone(e.boundingSphere),orientedBoundingBox:Cf.A.clone(e.orientedBoundingBox),horizonOcclusionPoint:ie.A.clone(e.horizonOcclusionPoint),westIndices:e.westIndices,southIndices:e.southIndices,eastIndices:e.eastIndices,northIndices:e.northIndices,westSkirtHeight:n,southSkirtHeight:n,eastSkirtHeight:n,northSkirtHeight:n,childTileMask:0,createdByUpsampling:!0,credits:d._credits})})},If.prototype.isChildAvailable=function(e,t,i,n){xe.A.typeOf.number("thisX",e),xe.A.typeOf.number("thisY",t),xe.A.typeOf.number("childX",i),xe.A.typeOf.number("childY",n);let r=2;return i!==2*e&&++r,n!==2*t&&(r-=2),!!(this._childTileMask&1<<r)},If.prototype.wasCreatedByUpsampling=function(){return this._createdByUpsampling};const Of=new h.A,Rf=new h.A,kf=new h.A,Ff=new ie.A,Lf=Uint16Array.BYTES_PER_ELEMENT,Qf=Uint32Array.BYTES_PER_ELEMENT,Nf=Int32Array.BYTES_PER_ELEMENT,Gf=Float32Array.BYTES_PER_ELEMENT,Vf=Float64Array.BYTES_PER_ELEMENT,Uf=If,Yf=new m.A;function Kf(){this._terrainCache={},this._lastTidy=m.A.now()}function Hf(e){e=e??g.A.EMPTY_OBJECT,this._tilingScheme=new hg.A({numberOfLevelZeroTilesX:2,numberOfLevelZeroTilesY:2,rectangle:new ve.A(-T.A.PI,-T.A.PI,T.A.PI,T.A.PI),ellipsoid:e.ellipsoid});let t=e.credit;"string"==typeof t&&(t=new ae.A(t)),this._credit=t,this._levelZeroMaximumGeometricError=40075.16,this._terrainCache=new Kf,this._terrainPromises={},this._terrainRequests={},this._errorEvent=new f.A}Kf.prototype.add=function(e,t){this._terrainCache[e]={buffer:t,timestamp:m.A.now()}},Kf.prototype.get=function(e){const t=this._terrainCache[e];if((0,p.A)(t))return delete this._terrainCache[e],t.buffer},Kf.prototype.tidy=function(){if(m.A.now(Yf),m.A.secondsDifference(Yf,this._lastTidy)>10){const e=this._terrainCache,t=Object.keys(e),i=t.length;for(let n=0;n<i;++n){const i=t[n],r=e[i];m.A.secondsDifference(Yf,r.timestamp)>10&&delete e[i]}m.A.clone(Yf,this._lastTidy)}},Object.defineProperties(Hf.prototype,{url:{get:function(){return this._metadata.url}},proxy:{get:function(){return this._metadata.proxy}},tilingScheme:{get:function(){return this._tilingScheme}},errorEvent:{get:function(){return this._errorEvent}},credit:{get:function(){return this._credit}},hasWaterMask:{get:function(){return!1}},hasVertexNormals:{get:function(){return!1}},availability:{get:function(){}}}),Hf.fromMetadata=function(e,t){if(xe.A.defined("metadata",e),!e.terrainPresent)throw new Ie.A(`The server ${e.url} doesn't have terrain`);const i=new Hf(t);return i._metadata=e,i};const zf=new Af.A("decodeGoogleEarthEnterprisePacket");function qf(e,t,i){let n=t.getChildBitmask();if(3===t.terrainState){n=0;for(let t=0;t<4;++t){const r=i.getTileInformationFromQuadKey(e+t.toString());(0,p.A)(r)&&r.hasTerrain()&&(n|=1<<t)}}return n}Hf.prototype.requestTileGeometry=function(e,t,i,n){const r=_f.tileXYToQuadKey(e,t,i),o=this._terrainCache,s=this._metadata,a=s.getTileInformationFromQuadKey(r);if(!(0,p.A)(a))return Promise.reject(new Ie.A("Terrain tile doesn't exist"));let l=a.terrainState;(0,p.A)(l)||(l=a.terrainState=0);const c=o.get(r);if((0,p.A)(c)){const e=s.providers[a.terrainProvider];return Promise.resolve(new Uf({buffer:c,childTileMask:qf(r,a,s),credits:(0,p.A)(e)?[e]:void 0,negativeAltitudeExponentBias:s.negativeAltitudeExponentBias,negativeElevationThreshold:s.negativeAltitudeThreshold}))}if(o.tidy(),!a.ancestorHasTerrain)return Promise.resolve(new gg.A({buffer:new Uint8Array(256),width:16,height:16}));if(1===l)return Promise.reject(new Ie.A("Terrain tile doesn't exist"));let A,u=r,h=-1;switch(l){case 2:h=a.terrainVersion;break;case 3:u=u.substring(0,u.length-1),A=s.getTileInformationFromQuadKey(u),h=A.terrainVersion;break;case 0:a.hasTerrain()?h=a.terrainVersion:(u=u.substring(0,u.length-1),A=s.getTileInformationFromQuadKey(u),(0,p.A)(A)&&A.hasTerrain()&&(h=A.terrainVersion))}if(h<0)return Promise.reject(new Ie.A("Terrain tile doesn't exist"));const d=this._terrainPromises,g=this._terrainRequests;let f,m;if((0,p.A)(d[u]))f=d[u],m=g[u];else{m=n;const e=function(e,t,i,n){return i=(0,p.A)(i)&&i>0?i:1,e._metadata.resource.getDerivedResource({url:`flatfile?f1c-0${t}-t.${i.toString()}`,request:n})}(this,u,h,m).fetchArrayBuffer();if(!(0,p.A)(e))return;f=e.then(function(e){return(0,p.A)(e)?zf.scheduleTask({buffer:e,type:"Terrain",key:s.key},[e]).then(function(e){const t=s.getTileInformationFromQuadKey(u);t.terrainState=2,o.add(u,e[0]);const i=t.terrainProvider,n=e.length-1;for(let t=0;t<n;++t){const n=u+t.toString(),r=s.getTileInformationFromQuadKey(n);(0,p.A)(r)&&(o.add(n,e[t+1]),r.terrainState=3,0===r.terrainProvider&&(r.terrainProvider=i))}}):Promise.reject(new Ie.A("Failed to load terrain."))}),d[u]=f,g[u]=m,f=f.finally(function(){delete d[u],delete g[u]})}return f.then(function(){const e=o.get(r);if((0,p.A)(e)){const t=s.providers[a.terrainProvider];return new Uf({buffer:e,childTileMask:qf(r,a,s),credits:(0,p.A)(t)?[t]:void 0,negativeAltitudeExponentBias:s.negativeAltitudeExponentBias,negativeElevationThreshold:s.negativeAltitudeThreshold})}return Promise.reject(new Ie.A("Failed to load terrain."))}).catch(function(e){return m.state===fg.A.CANCELLED?(n.state=m.state,Promise.reject(e)):(a.terrainState=1,Promise.reject(e))})},Hf.prototype.getLevelMaximumGeometricError=function(e){return this._levelZeroMaximumGeometricError/(1<<e)},Hf.prototype.getTileDataAvailable=function(e,t,i){const n=this._metadata;let r=_f.tileXYToQuadKey(e,t,i);const o=n.getTileInformation(e,t,i);if(null===o)return!1;if((0,p.A)(o)){if(!o.ancestorHasTerrain)return!0;const e=o.terrainState;if(1===e)return!1;if(!((0,p.A)(e)&&0!==e||(o.terrainState=0,o.hasTerrain()))){r=r.substring(0,r.length-1);const e=n.getTileInformationFromQuadKey(r);if(!(0,p.A)(e)||!e.hasTerrain())return!1}return!0}if(n.isValid(r)){const r=new pg.A({throttle:!1,throttleByServer:!0,type:mg.A.TERRAIN});n.populateSubtree(e,t,i,r)}return!1},Hf.prototype.loadTileDataAvailability=function(e,t,i){};const Wf=Hf,jf='<img alt="Google" src="https://assets.ion.cesium.com/google-credit.png" style="vertical-align:-5px">';function Jf(e){const t=(e=e??g.A.EMPTY_OBJECT).key;if(!(0,p.A)(t))throw new S.A("options.key is required.");this._resource=new be.A({url:"https://maps.googleapis.com/maps/api/geocode/json",queryParameters:{key:t}}),this._credit=new ae.A(jf,!0)}Object.defineProperties(Jf.prototype,{credit:{get:function(){return this._credit}}}),Jf.prototype.geocode=async function(e){xe.A.typeOf.string("query",e);const t=this._resource.getDerivedResource({queryParameters:{address:e}}),i=await t.fetchJson();if("ZERO_RESULTS"===i.status)return[];if("OK"!==i.status)throw new Ie.A(`GoogleGeocoderService got a bad response ${i.status}: ${i.error_message}`);return i.results.map(e=>{const t=e.geometry.viewport.southwest,i=e.geometry.viewport.northeast;return{displayName:e.formatted_address,destination:ve.A.fromDegrees(t.lng,t.lat,i.lng,i.lat),attribution:{html:jf,collapsible:!1}}})};const Xf=Jf;var Zf=i(54163),$f=i(658919),em=i(974904),tm=i(129961),im=i(103882),nm=i(416721);const rm={};rm.ExportStatus=Object.freeze({NotStarted:"NotStarted",InProgress:"InProgress",Complete:"Complete",Invalid:"Invalid"}),rm.ExportType=Object.freeze({IMODEL:"IMODEL",CESIUM:"CESIUM","3DTILES":"3DTILES"}),rm.RealityDataType=Object.freeze({Cesium3DTiles:"Cesium3DTiles",PNTS:"PNTS",RealityMesh3DTiles:"RealityMesh3DTiles",Terrain3DTiles:"Terrain3DTiles",KML:"KML",GeoJSON:"GeoJSON",Unstructured:"Unstructured"}),rm.defaultAccessToken=void 0,rm.defaultShareKey=void 0,rm._getAuthorizationHeader=function(){if(!(0,p.A)(rm.defaultAccessToken)&&!(0,p.A)(rm.defaultShareKey))throw new S.A("Must set ITwinPlatform.defaultAccessToken or ITwinPlatform.defaultShareKey first");return(0,p.A)(rm.defaultShareKey)?`Basic ${rm.defaultShareKey}`:`Bearer ${rm.defaultAccessToken}`},rm.apiEndpoint=new be.A({url:"https://api.bentley.com"}),rm.getExports=async function(e,t){if(xe.A.typeOf.string("iModelId",e),(0,p.A)(t)&&xe.A.typeOf.string("changesetId",t),!(0,p.A)(rm.defaultAccessToken)&&!(0,p.A)(rm.defaultShareKey))throw new S.A("Must set ITwinPlatform.defaultAccessToken or ITwinPlatform.defaultShareKey first");const i=new be.A({url:`${rm.apiEndpoint}mesh-export`,headers:{Authorization:rm._getAuthorizationHeader(),Accept:"application/vnd.bentley.itwin-platform.v1+json",Prefer:"return=representation"},queryParameters:{iModelId:e,exportType:rm.ExportType["3DTILES"],$top:"5",client:"CesiumJS"}});"undefined"!=typeof CESIUM_VERSION&&i.appendQueryParameters({clientVersion:CESIUM_VERSION}),(0,p.A)(t)&&""!==t&&i.appendQueryParameters({changesetId:t});try{return await i.fetchJson()}catch(e){const t=JSON.parse(e.response);if(401===e.statusCode){const e=t.error.details?.[0].code??"";throw new Ie.A(`Unauthorized, bad token, wrong scopes or headers bad. ${e}`)}if(403===e.statusCode)throw console.error(t.error.code,t.error.message),new Ie.A("Not allowed, forbidden");if(422===e.statusCode)throw new Ie.A(`Unprocessable Entity:${t.error.code} ${t.error.message}`);if(429===e.statusCode)throw new Ie.A("Too many requests");throw new Ie.A(`Unknown request failure ${e.statusCode}`)}},rm.getRealityDataMetadata=async function(e,t){if(xe.A.typeOf.string("iTwinId",e),xe.A.typeOf.string("realityDataId",t),!(0,p.A)(rm.defaultAccessToken)&&!(0,p.A)(rm.defaultShareKey))throw new S.A("Must set ITwinPlatform.defaultAccessToken or ITwinPlatform.defaultShareKey first");const i=new be.A({url:`${rm.apiEndpoint}reality-management/reality-data/${t}`,headers:{Authorization:rm._getAuthorizationHeader(),Accept:"application/vnd.bentley.itwin-platform.v1+json"},queryParameters:{iTwinId:e}});try{return(await i.fetchJson()).realityData}catch(i){const n=JSON.parse(i.response);if(401===i.statusCode){const e=n.error.details?.[0].code??"";throw new Ie.A(`Unauthorized, bad token, wrong scopes or headers bad. ${e}`)}if(403===i.statusCode)throw console.error(n.error.code,n.error.message),new Ie.A("Not allowed, forbidden");if(404===i.statusCode)throw new Ie.A(`Reality data not found: ${e}, ${t}`);if(422===i.statusCode)throw new Ie.A(`Unprocessable Entity:${n.error.code} ${n.error.message}`);if(429===i.statusCode)throw new Ie.A("Too many requests");throw new Ie.A(`Unknown request failure ${i.statusCode}`)}},rm.getRealityDataURL=async function(e,t,i){if(xe.A.typeOf.string("iTwinId",e),xe.A.typeOf.string("realityDataId",t),xe.A.typeOf.string("rootDocument",i),!(0,p.A)(rm.defaultAccessToken)&&!(0,p.A)(rm.defaultShareKey))throw new S.A("Must set ITwinPlatform.defaultAccessToken or ITwinPlatform.defaultShareKey first");const n=new be.A({url:`${rm.apiEndpoint}reality-management/reality-data/${t}/readaccess`,headers:{Authorization:rm._getAuthorizationHeader(),Accept:"application/vnd.bentley.itwin-platform.v1+json"},queryParameters:{iTwinId:e}});try{const e=(await n.fetchJson())._links.containerUrl.href,t=new URL(e);return t.pathname=`${t.pathname}/${i}`,t.toString()}catch(i){const n=JSON.parse(i.response);if(401===i.statusCode){const e=n.error.details?.[0].code??"";throw new Ie.A(`Unauthorized, bad token, wrong scopes or headers bad. ${e}`)}if(403===i.statusCode)throw console.error(n.error.code,n.error.message),new Ie.A("Not allowed, forbidden");if(404===i.statusCode)throw new Ie.A(`Reality data not found: ${e}, ${t}`);if(422===i.statusCode)throw new Ie.A(`Unprocessable Entity:${n.error.code} ${n.error.message}`);if(429===i.statusCode)throw new Ie.A("Too many requests");throw new Ie.A(`Unknown request failure ${i.statusCode}`)}};const om=rm;var sm=i(941060),am=i(548840),lm=i(150066),cm=i(220871),Am=i(300138);const um={type:void 0};um.getRequiredDataPoints=S.A.throwInstantiationError,um.interpolateOrderZero=S.A.throwInstantiationError,um.interpolate=S.A.throwInstantiationError;const hm=um;var dm=i(92457),gm=i(647326),pm=i(150429),fm=i(33914),mm=i(386009),_m=i(139152),ym=i(5188),wm=i(954865),Cm=i(708025),Bm=i(267465),vm=i(223049),Em=i(153127),bm=i(981757);function Im(){S.A.throwInstantiationError()}Object.defineProperties(Im.prototype,{ellipsoid:{get:S.A.throwInstantiationError}}),Im.prototype.project=S.A.throwInstantiationError,Im.prototype.unproject=S.A.throwInstantiationError;const xm=Im;var Sm=i(463298);function Tm(e){const t=(e=e??g.A.EMPTY_OBJECT).weights,i=e.times;if(xe.A.defined("weights",t),xe.A.defined("times",i),xe.A.typeOf.number.greaterThanOrEquals("weights.length",t.length,3),t.length%i.length!==0)throw new S.A("times.length must be a factor of weights.length.");this._times=i,this._weights=t,this._count=t.length/i.length,this._lastTimeIndex=0}Object.defineProperties(Tm.prototype,{times:{get:function(){return this._times}},weights:{get:function(){return this._weights}}}),Tm.prototype.findTimeInterval=Vg.A.prototype.findTimeInterval,Tm.prototype.wrapTime=Vg.A.prototype.wrapTime,Tm.prototype.clampTime=Vg.A.prototype.clampTime,Tm.prototype.evaluate=function(e,t){const i=this.weights,n=this.times,r=this._lastTimeIndex=this.findTimeInterval(e,this._lastTimeIndex),o=(e-n[r])/(n[r+1]-n[r]);(0,p.A)(t)||(t=new Array(this._count));for(let e=0;e<this._count;e++){const n=r*this._count+e;t[e]=i[n]*(1-o)+i[n+this._count]*o}return t};const Mm=Tm;var Dm=i(245226),Pm=i(19128),Om=i(852575);function Rm(e,t,i){xe.A.defined("url",e),xe.A.defined("apiKey",t),(0,p.A)(i)&&xe.A.typeOf.object("params",i),(e=be.A.createIfNeeded(e)).appendForwardSlash(),e.setQueryParameters({key:t}),this._url=e,this._params=i??{},this._credit=new ae.A('Geodata copyright <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors',!1)}Object.defineProperties(Rm.prototype,{url:{get:function(){return this._url}},params:{get:function(){return this._params}},credit:{get:function(){return this._credit}}}),Rm.prototype.geocode=async function(e){return xe.A.typeOf.string("query",e),this._url.getDerivedResource({url:"json",queryParameters:(0,qA.A)(this._params,{q:e})}).fetchJson().then(function(e){return e.results.map(function(e){let t;const i=e.bounds;if((0,p.A)(i))t=ve.A.fromDegrees(i.southwest.lng,i.southwest.lat,i.northeast.lng,i.northeast.lat);else{const i=e.geometry.lat,n=e.geometry.lng;t=ie.A.fromDegrees(i,n)}return{displayName:e.formatted,destination:t}})})};const km=Rm;var Fm=i(811203),Lm=i(65891);const Qm={packedLength:void 0,pack:S.A.throwInstantiationError,unpack:S.A.throwInstantiationError},Nm={packedInterpolationLength:void 0,convertPackedArrayForInterpolation:S.A.throwInstantiationError,unpackInterpolationResult:S.A.throwInstantiationError};var Gm=i(927578),Vm=i(666775),Um=i(65783),Ym=i(257941),Km=i(84609),Hm=i(350939),zm=i(151949),qm=i(71694),Wm=i(87551),jm=i(576770),Jm=i(977363),Xm=i(870349),Zm=i(828021),$m=i(748918),e_=i(365943),t_=i(402330);function i_(){S.A.throwInstantiationError()}i_.prototype.getURL=S.A.throwInstantiationError;const n_=i_;var r_=i(118135),o_=i(173866),s_=i(259690),a_=i(67988),l_=i(766067),c_=i(370347),A_=i(844610),u_=i(512827),h_=i(406882),d_=i(373388),g_=i(866569),p_=i(252538),f_=i(86881),m_=i(149785),__=i(708857),y_=i(658542);function w_(e,t,i,n,r,o,s){const a=Xm.A.numberOfPoints(e,t,r);let l;const c=i.red,A=i.green,u=i.blue,h=i.alpha,g=n.red,p=n.green,f=n.blue,m=n.alpha;if(d.A.equals(i,n)){for(l=0;l<a;l++)o[s++]=d.A.floatToByte(c),o[s++]=d.A.floatToByte(A),o[s++]=d.A.floatToByte(u),o[s++]=d.A.floatToByte(h);return s}const _=(g-c)/a,y=(p-A)/a,w=(f-u)/a,C=(m-h)/a;let B=s;for(l=0;l<a;l++)o[B++]=d.A.floatToByte(c+l*_),o[B++]=d.A.floatToByte(A+l*y),o[B++]=d.A.floatToByte(u+l*w),o[B++]=d.A.floatToByte(h+l*C);return B}function C_(e){const t=(e=e??g.A.EMPTY_OBJECT).positions,i=e.colors,n=e.colorsPerVertex??!1;if(!(0,p.A)(t)||t.length<2)throw new S.A("At least two positions are required.");if((0,p.A)(i)&&(n&&i.length<t.length||!n&&i.length<t.length-1))throw new S.A("colors has an invalid length.");this._positions=t,this._colors=i,this._colorsPerVertex=n,this._arcType=e.arcType??ee.A.GEODESIC,this._granularity=e.granularity??T.A.RADIANS_PER_DEGREE,this._ellipsoid=e.ellipsoid??ce.A.default,this._workerName="createSimplePolylineGeometry";let r=1+t.length*ie.A.packedLength;r+=(0,p.A)(i)?1+i.length*d.A.packedLength:1,this.packedLength=r+ce.A.packedLength+3}C_.pack=function(e,t,i){if(!(0,p.A)(e))throw new S.A("value is required");if(!(0,p.A)(t))throw new S.A("array is required");let n;i=i??0;const r=e._positions;let o=r.length;for(t[i++]=o,n=0;n<o;++n,i+=ie.A.packedLength)ie.A.pack(r[n],t,i);const s=e._colors;for(o=(0,p.A)(s)?s.length:0,t[i++]=o,n=0;n<o;++n,i+=d.A.packedLength)d.A.pack(s[n],t,i);return ce.A.pack(e._ellipsoid,t,i),i+=ce.A.packedLength,t[i++]=e._colorsPerVertex?1:0,t[i++]=e._arcType,t[i]=e._granularity,t},C_.unpack=function(e,t,i){if(!(0,p.A)(e))throw new S.A("array is required");let n;t=t??0;let r=e[t++];const o=new Array(r);for(n=0;n<r;++n,t+=ie.A.packedLength)o[n]=ie.A.unpack(e,t);r=e[t++];const s=r>0?new Array(r):void 0;for(n=0;n<r;++n,t+=d.A.packedLength)s[n]=d.A.unpack(e,t);const a=ce.A.unpack(e,t);t+=ce.A.packedLength;const l=1===e[t++],c=e[t++],A=e[t];return(0,p.A)(i)?(i._positions=o,i._colors=s,i._ellipsoid=a,i._colorsPerVertex=l,i._arcType=c,i._granularity=A,i):new C_({positions:o,colors:s,ellipsoid:a,colorsPerVertex:l,arcType:c,granularity:A})};const B_=new Array(2),v_=new Array(2),E_={positions:B_,height:v_,ellipsoid:void 0,minDistance:void 0,granularity:void 0};C_.createGeometry=function(e){const t=e._positions,i=e._colors,n=e._colorsPerVertex,r=e._arcType,o=e._granularity,s=e._ellipsoid,a=T.A.chordLength(o,s.maximumRadius),l=(0,p.A)(i)&&!n;let c;const A=t.length;let u,h,g,f,m=0;if(r===ee.A.GEODESIC||r===ee.A.RHUMB){let e,n,h;r===ee.A.GEODESIC?(e=T.A.chordLength(o,s.maximumRadius),n=Xm.A.numberOfPoints,h=Xm.A.generateArc):(e=o,n=Xm.A.numberOfPointsRhumbLine,h=Xm.A.generateRhumbArc);const _=Xm.A.extractHeights(t,s),y=E_;if(r===ee.A.GEODESIC?y.minDistance=a:y.granularity=o,y.ellipsoid=s,l){let r=0;for(c=0;c<A-1;c++)r+=n(t[c],t[c+1],e)+1;u=new Float64Array(3*r),g=new Uint8Array(4*r),y.positions=B_,y.height=v_;let o=0;for(c=0;c<A-1;++c){B_[0]=t[c],B_[1]=t[c+1],v_[0]=_[c],v_[1]=_[c+1];const e=h(y);if((0,p.A)(i)){const t=e.length/3;f=i[c];for(let e=0;e<t;++e)g[o++]=d.A.floatToByte(f.red),g[o++]=d.A.floatToByte(f.green),g[o++]=d.A.floatToByte(f.blue),g[o++]=d.A.floatToByte(f.alpha)}u.set(e,m),m+=e.length}}else if(y.positions=t,y.height=_,u=new Float64Array(h(y)),(0,p.A)(i)){for(g=new Uint8Array(u.length/3*4),c=0;c<A-1;++c)m=w_(t[c],t[c+1],i[c],i[c+1],a,g,m);const e=i[A-1];g[m++]=d.A.floatToByte(e.red),g[m++]=d.A.floatToByte(e.green),g[m++]=d.A.floatToByte(e.blue),g[m++]=d.A.floatToByte(e.alpha)}}else{h=l?2*A-2:A,u=new Float64Array(3*h),g=(0,p.A)(i)?new Uint8Array(4*h):void 0;let e=0,n=0;for(c=0;c<A;++c){const r=t[c];if(l&&c>0&&(ie.A.pack(r,u,e),e+=3,f=i[c-1],g[n++]=d.A.floatToByte(f.red),g[n++]=d.A.floatToByte(f.green),g[n++]=d.A.floatToByte(f.blue),g[n++]=d.A.floatToByte(f.alpha)),l&&c===A-1)break;ie.A.pack(r,u,e),e+=3,(0,p.A)(i)&&(f=i[c],g[n++]=d.A.floatToByte(f.red),g[n++]=d.A.floatToByte(f.green),g[n++]=d.A.floatToByte(f.blue),g[n++]=d.A.floatToByte(f.alpha))}}const _=new Wp.A;_.position=new qp.A({componentDatatype:lp.A.DOUBLE,componentsPerAttribute:3,values:u}),(0,p.A)(i)&&(_.color=new qp.A({componentDatatype:lp.A.UNSIGNED_BYTE,componentsPerAttribute:4,values:g,normalize:!0})),h=u.length/3;const y=2*(h-1),w=yf.A.createTypedArray(h,y);let C=0;for(c=0;c<h-1;++c)w[C++]=c,w[C++]=c+1;return new zp.A({attributes:_,indices:w,primitiveType:t_.A.LINES,boundingSphere:zA.A.fromPoints(t)})};const b_=C_;function I_(e){const t=e.radius??1,i={radii:new ie.A(t,t,t),stackPartitions:e.stackPartitions,slicePartitions:e.slicePartitions,vertexFormat:e.vertexFormat};this._ellipsoidGeometry=new Pp.A(i),this._workerName="createSphereGeometry"}I_.packedLength=Pp.A.packedLength,I_.pack=function(e,t,i){return xe.A.typeOf.object("value",e),Pp.A.pack(e._ellipsoidGeometry,t,i)};const x_=new Pp.A,S_={radius:void 0,radii:new ie.A,vertexFormat:new Xg.A,stackPartitions:void 0,slicePartitions:void 0};I_.unpack=function(e,t,i){const n=Pp.A.unpack(e,t,x_);return S_.vertexFormat=Xg.A.clone(n._vertexFormat,S_.vertexFormat),S_.stackPartitions=n._stackPartitions,S_.slicePartitions=n._slicePartitions,(0,p.A)(i)?(ie.A.clone(n._radii,S_.radii),i._ellipsoidGeometry=new Pp.A(S_),i):(S_.radius=n._radii.x,new I_(S_))},I_.createGeometry=function(e){return Pp.A.createGeometry(e._ellipsoidGeometry)};const T_=I_;var M_=i(6874),D_=i(587841),P_=i(465159),O_=i(66415),R_=i(878626),k_=i(36138);function F_(e){throw new S.A("This type should not be instantiated directly.  Instead, use WebMercatorTilingScheme or GeographicTilingScheme.")}Object.defineProperties(F_.prototype,{ellipsoid:{get:S.A.throwInstantiationError},rectangle:{get:S.A.throwInstantiationError},projection:{get:S.A.throwInstantiationError}}),F_.prototype.getNumberOfXTilesAtLevel=S.A.throwInstantiationError,F_.prototype.getNumberOfYTilesAtLevel=S.A.throwInstantiationError,F_.prototype.rectangleToNativeRectangle=S.A.throwInstantiationError,F_.prototype.tileXYToNativeRectangle=S.A.throwInstantiationError,F_.prototype.tileXYToRectangle=S.A.throwInstantiationError,F_.prototype.positionToTileXY=S.A.throwInstantiationError;const L_=F_;var Q_=i(711337),N_=i(193387),G_=i(343899),V_=i(73772),U_=i(884842),Y_=i(710551),K_=i(78170),H_=i(85935);function z_(e,t){this.rectangle=e,this.maxLevel=t}function q_(e){this.ellipsoid=e.ellipsoid??ce.A.default,this.tilingScheme=void 0,this.heightmapWidth=void 0,this.heightmapHeight=void 0,this.levelZeroMaximumGeometricError=void 0,this.rectangles=[]}function W_(e){e=e??g.A.EMPTY_OBJECT,this._errorEvent=new f.A,this._terrainDataStructure={heightScale:.001,heightOffset:-1e3,elementsPerHeight:3,stride:4,elementMultiplier:256,isBigEndian:!0,lowestEncodedHeight:0,highestEncodedHeight:16777215};let t=e.credit;"string"==typeof t&&(t=new ae.A(t)),this._credit=t,this._tilingScheme=void 0,this._rectangles=[]}q_.prototype.build=function(e){e._tilingScheme=this.tilingScheme,e._heightmapWidth=this.heightmapWidth,e._heightmapHeight=this.heightmapHeight,e._levelZeroMaximumGeometricError=this.levelZeroMaximumGeometricError,e._rectangles=this.rectangles},Object.defineProperties(W_.prototype,{errorEvent:{get:function(){return this._errorEvent}},credit:{get:function(){return this._credit}},tilingScheme:{get:function(){return this._tilingScheme}},hasWaterMask:{get:function(){return!1}},hasVertexNormals:{get:function(){return!1}},availability:{get:function(){}}}),W_.fromUrl=async function(e,t){xe.A.defined("url",e);const i=new q_(t=t??g.A.EMPTY_OBJECT),n=be.A.createIfNeeded(e);await async function(e,t,i){try{!function(e,t){const i=t.getElementsByTagName("SRS")[0].textContent;if("EPSG:4326"!==i)throw new Ie.A(`SRS ${i} is not supported`);e.tilingScheme=new hg.A({ellipsoid:e.ellipsoid});const n=t.getElementsByTagName("TileFormat")[0];e.heightmapWidth=parseInt(n.getAttribute("width"),10),e.heightmapHeight=parseInt(n.getAttribute("height"),10),e.levelZeroMaximumGeometricError=_g.A.getEstimatedLevelZeroGeometricErrorForAHeightmap(e.ellipsoid,Math.min(e.heightmapWidth,e.heightmapHeight),e.tilingScheme.getNumberOfXTilesAtLevel(0));const r=t.getElementsByTagName("DataExtent");for(let t=0;t<r.length;++t){const i=r[t],n=T.A.toRadians(parseFloat(i.getAttribute("minx"))),o=T.A.toRadians(parseFloat(i.getAttribute("miny"))),s=T.A.toRadians(parseFloat(i.getAttribute("maxx"))),a=T.A.toRadians(parseFloat(i.getAttribute("maxy"))),l=parseInt(i.getAttribute("maxlevel"),10);e.rectangles.push(new z_(new ve.A(n,o,s,a),l))}}(e,await t.fetchXML())}catch(e){!function(e,t,i){let n=`An error occurred while accessing ${e.url}`;throw(0,p.A)(t)&&(0,p.A)(t.message)&&(n=`${n}: ${t.message}`),wg.A.reportError(void 0,i,(0,p.A)(i)?i._errorEvent:void 0,n),new Ie.A(n)}(t,e,i)}}(i,n);const r=new W_(t);return i.build(r),r._resource=n,r},W_.prototype.requestTileGeometry=function(e,t,i,n){const r=this._tilingScheme.getNumberOfYTilesAtLevel(i),o=this._resource.getDerivedResource({url:`${i}/${e}/${r-t-1}.tif`,queryParameters:{cesium:!0},request:n}).fetchImage({preferImageBitmap:!0});if(!(0,p.A)(o))return;const s=this;return Promise.resolve(o).then(function(n){return new gg.A({buffer:(0,H_.A)(n),width:s._heightmapWidth,height:s._heightmapHeight,childTileMask:J_(s,e,t,i),structure:s._terrainDataStructure})})},W_.prototype.getLevelMaximumGeometricError=function(e){return this._levelZeroMaximumGeometricError/(1<<e)};const j_=new ve.A;function J_(e,t,i,n){const r=e._tilingScheme,o=e._rectangles,s=r.tileXYToRectangle(t,i,n);let a=0;for(let e=0;e<o.length&&15!==a;++e){const l=o[e];if(l.maxLevel<=n)continue;const c=l.rectangle,A=ve.A.intersection(c,s,j_);(0,p.A)(A)&&(X_(r,c,2*t,2*i,n+1)&&(a|=4),X_(r,c,2*t+1,2*i,n+1)&&(a|=8),X_(r,c,2*t,2*i+1,n+1)&&(a|=1),X_(r,c,2*t+1,2*i+1,n+1)&&(a|=2))}return a}function X_(e,t,i,n,r){const o=e.tileXYToRectangle(i,n,r);return(0,p.A)(ve.A.intersection(o,t,j_))}W_.prototype.getTileDataAvailable=function(e,t,i){},W_.prototype.loadTileDataAvailability=function(e,t,i){};const Z_=W_;var $_=i(717339);function ey(e){e=e??g.A.EMPTY_OBJECT,this._clock=void 0,this._element=void 0,this._clockSubscription=void 0,this._seekFunction=void 0,this._lastPlaybackRate=void 0,this.clock=e.clock,this.element=e.element,this.epoch=e.epoch??me.A.MINIMUM_VALUE,this.tolerance=e.tolerance??1,this._seeking=!1,this._seekFunction=void 0,this._firstTickAfterSeek=!1}Object.defineProperties(ey.prototype,{clock:{get:function(){return this._clock},set:function(e){const t=this._clock;t!==e&&((0,p.A)(t)&&(this._clockSubscription(),this._clockSubscription=void 0),(0,p.A)(e)&&(this._clockSubscription=e.onTick.addEventListener(ey.prototype._onTick,this)),this._clock=e)}},element:{get:function(){return this._element},set:function(e){const t=this._element;var i;t!==e&&((0,p.A)(t)&&t.removeEventListener("seeked",this._seekFunction,!1),(0,p.A)(e)&&(this._seeking=!1,this._seekFunction=(i=this,function(){i._seeking=!1,i._firstTickAfterSeek=!0}),e.addEventListener("seeked",this._seekFunction,!1)),this._element=e,this._seeking=!1,this._firstTickAfterSeek=!1)}}}),ey.prototype.destroy=function(){return this.element=void 0,this.clock=void 0,(0,zd.A)(this)},ey.prototype.isDestroyed=function(){return!1},ey.prototype._trySetPlaybackRate=function(e){if(this._lastPlaybackRate===e.multiplier)return;const t=this._element;try{t.playbackRate=e.multiplier}catch(e){t.playbackRate=0}this._lastPlaybackRate=e.multiplier},ey.prototype._onTick=function(e){const t=this._element;if(!(0,p.A)(t)||t.readyState<2)return;const i=t.paused,n=e.shouldAnimate;if(n===i&&(n?t.play():t.pause()),this._seeking||this._firstTickAfterSeek)return void(this._firstTickAfterSeek=!1);this._trySetPlaybackRate(e);const r=e.currentTime,o=this.epoch??me.A.MINIMUM_VALUE;let s=m.A.secondsDifference(r,o);const a=t.duration;let l;const c=t.currentTime;t.loop?(s%=a,s<0&&(s=a-s),l=s):l=s>a?a:s<0?0:s;const A=n?this.tolerance??1:.001;Math.abs(l-c)>A&&(this._seeking=!0,t.currentTime=l)};const ty=ey;var iy=i(566123);const ny=Object.freeze({VK_FORMAT_UNDEFINED:0,VK_FORMAT_R4G4_UNORM_PACK8:1,VK_FORMAT_R4G4B4A4_UNORM_PACK16:2,VK_FORMAT_B4G4R4A4_UNORM_PACK16:3,VK_FORMAT_R5G6B5_UNORM_PACK16:4,VK_FORMAT_B5G6R5_UNORM_PACK16:5,VK_FORMAT_R5G5B5A1_UNORM_PACK16:6,VK_FORMAT_B5G5R5A1_UNORM_PACK16:7,VK_FORMAT_A1R5G5B5_UNORM_PACK16:8,VK_FORMAT_R8_UNORM:9,VK_FORMAT_R8_SNORM:10,VK_FORMAT_R8_USCALED:11,VK_FORMAT_R8_SSCALED:12,VK_FORMAT_R8_UINT:13,VK_FORMAT_R8_SINT:14,VK_FORMAT_R8_SRGB:15,VK_FORMAT_R8G8_UNORM:16,VK_FORMAT_R8G8_SNORM:17,VK_FORMAT_R8G8_USCALED:18,VK_FORMAT_R8G8_SSCALED:19,VK_FORMAT_R8G8_UINT:20,VK_FORMAT_R8G8_SINT:21,VK_FORMAT_R8G8_SRGB:22,VK_FORMAT_R8G8B8_UNORM:23,VK_FORMAT_R8G8B8_SNORM:24,VK_FORMAT_R8G8B8_USCALED:25,VK_FORMAT_R8G8B8_SSCALED:26,VK_FORMAT_R8G8B8_UINT:27,VK_FORMAT_R8G8B8_SINT:28,VK_FORMAT_R8G8B8_SRGB:29,VK_FORMAT_B8G8R8_UNORM:30,VK_FORMAT_B8G8R8_SNORM:31,VK_FORMAT_B8G8R8_USCALED:32,VK_FORMAT_B8G8R8_SSCALED:33,VK_FORMAT_B8G8R8_UINT:34,VK_FORMAT_B8G8R8_SINT:35,VK_FORMAT_B8G8R8_SRGB:36,VK_FORMAT_R8G8B8A8_UNORM:37,VK_FORMAT_R8G8B8A8_SNORM:38,VK_FORMAT_R8G8B8A8_USCALED:39,VK_FORMAT_R8G8B8A8_SSCALED:40,VK_FORMAT_R8G8B8A8_UINT:41,VK_FORMAT_R8G8B8A8_SINT:42,VK_FORMAT_R8G8B8A8_SRGB:43,VK_FORMAT_B8G8R8A8_UNORM:44,VK_FORMAT_B8G8R8A8_SNORM:45,VK_FORMAT_B8G8R8A8_USCALED:46,VK_FORMAT_B8G8R8A8_SSCALED:47,VK_FORMAT_B8G8R8A8_UINT:48,VK_FORMAT_B8G8R8A8_SINT:49,VK_FORMAT_B8G8R8A8_SRGB:50,VK_FORMAT_A8B8G8R8_UNORM_PACK32:51,VK_FORMAT_A8B8G8R8_SNORM_PACK32:52,VK_FORMAT_A8B8G8R8_USCALED_PACK32:53,VK_FORMAT_A8B8G8R8_SSCALED_PACK32:54,VK_FORMAT_A8B8G8R8_UINT_PACK32:55,VK_FORMAT_A8B8G8R8_SINT_PACK32:56,VK_FORMAT_A8B8G8R8_SRGB_PACK32:57,VK_FORMAT_A2R10G10B10_UNORM_PACK32:58,VK_FORMAT_A2R10G10B10_SNORM_PACK32:59,VK_FORMAT_A2R10G10B10_USCALED_PACK32:60,VK_FORMAT_A2R10G10B10_SSCALED_PACK32:61,VK_FORMAT_A2R10G10B10_UINT_PACK32:62,VK_FORMAT_A2R10G10B10_SINT_PACK32:63,VK_FORMAT_A2B10G10R10_UNORM_PACK32:64,VK_FORMAT_A2B10G10R10_SNORM_PACK32:65,VK_FORMAT_A2B10G10R10_USCALED_PACK32:66,VK_FORMAT_A2B10G10R10_SSCALED_PACK32:67,VK_FORMAT_A2B10G10R10_UINT_PACK32:68,VK_FORMAT_A2B10G10R10_SINT_PACK32:69,VK_FORMAT_R16_UNORM:70,VK_FORMAT_R16_SNORM:71,VK_FORMAT_R16_USCALED:72,VK_FORMAT_R16_SSCALED:73,VK_FORMAT_R16_UINT:74,VK_FORMAT_R16_SINT:75,VK_FORMAT_R16_SFLOAT:76,VK_FORMAT_R16G16_UNORM:77,VK_FORMAT_R16G16_SNORM:78,VK_FORMAT_R16G16_USCALED:79,VK_FORMAT_R16G16_SSCALED:80,VK_FORMAT_R16G16_UINT:81,VK_FORMAT_R16G16_SINT:82,VK_FORMAT_R16G16_SFLOAT:83,VK_FORMAT_R16G16B16_UNORM:84,VK_FORMAT_R16G16B16_SNORM:85,VK_FORMAT_R16G16B16_USCALED:86,VK_FORMAT_R16G16B16_SSCALED:87,VK_FORMAT_R16G16B16_UINT:88,VK_FORMAT_R16G16B16_SINT:89,VK_FORMAT_R16G16B16_SFLOAT:90,VK_FORMAT_R16G16B16A16_UNORM:91,VK_FORMAT_R16G16B16A16_SNORM:92,VK_FORMAT_R16G16B16A16_USCALED:93,VK_FORMAT_R16G16B16A16_SSCALED:94,VK_FORMAT_R16G16B16A16_UINT:95,VK_FORMAT_R16G16B16A16_SINT:96,VK_FORMAT_R16G16B16A16_SFLOAT:97,VK_FORMAT_R32_UINT:98,VK_FORMAT_R32_SINT:99,VK_FORMAT_R32_SFLOAT:100,VK_FORMAT_R32G32_UINT:101,VK_FORMAT_R32G32_SINT:102,VK_FORMAT_R32G32_SFLOAT:103,VK_FORMAT_R32G32B32_UINT:104,VK_FORMAT_R32G32B32_SINT:105,VK_FORMAT_R32G32B32_SFLOAT:106,VK_FORMAT_R32G32B32A32_UINT:107,VK_FORMAT_R32G32B32A32_SINT:108,VK_FORMAT_R32G32B32A32_SFLOAT:109,VK_FORMAT_R64_UINT:110,VK_FORMAT_R64_SINT:111,VK_FORMAT_R64_SFLOAT:112,VK_FORMAT_R64G64_UINT:113,VK_FORMAT_R64G64_SINT:114,VK_FORMAT_R64G64_SFLOAT:115,VK_FORMAT_R64G64B64_UINT:116,VK_FORMAT_R64G64B64_SINT:117,VK_FORMAT_R64G64B64_SFLOAT:118,VK_FORMAT_R64G64B64A64_UINT:119,VK_FORMAT_R64G64B64A64_SINT:120,VK_FORMAT_R64G64B64A64_SFLOAT:121,VK_FORMAT_B10G11R11_UFLOAT_PACK32:122,VK_FORMAT_E5B9G9R9_UFLOAT_PACK32:123,VK_FORMAT_D16_UNORM:124,VK_FORMAT_X8_D24_UNORM_PACK32:125,VK_FORMAT_D32_SFLOAT:126,VK_FORMAT_S8_UINT:127,VK_FORMAT_D16_UNORM_S8_UINT:128,VK_FORMAT_D24_UNORM_S8_UINT:129,VK_FORMAT_D32_SFLOAT_S8_UINT:130,VK_FORMAT_BC1_RGB_UNORM_BLOCK:131,VK_FORMAT_BC1_RGB_SRGB_BLOCK:132,VK_FORMAT_BC1_RGBA_UNORM_BLOCK:133,VK_FORMAT_BC1_RGBA_SRGB_BLOCK:134,VK_FORMAT_BC2_UNORM_BLOCK:135,VK_FORMAT_BC2_SRGB_BLOCK:136,VK_FORMAT_BC3_UNORM_BLOCK:137,VK_FORMAT_BC3_SRGB_BLOCK:138,VK_FORMAT_BC4_UNORM_BLOCK:139,VK_FORMAT_BC4_SNORM_BLOCK:140,VK_FORMAT_BC5_UNORM_BLOCK:141,VK_FORMAT_BC5_SNORM_BLOCK:142,VK_FORMAT_BC6H_UFLOAT_BLOCK:143,VK_FORMAT_BC6H_SFLOAT_BLOCK:144,VK_FORMAT_BC7_UNORM_BLOCK:145,VK_FORMAT_BC7_SRGB_BLOCK:146,VK_FORMAT_ETC2_R8G8B8_UNORM_BLOCK:147,VK_FORMAT_ETC2_R8G8B8_SRGB_BLOCK:148,VK_FORMAT_ETC2_R8G8B8A1_UNORM_BLOCK:149,VK_FORMAT_ETC2_R8G8B8A1_SRGB_BLOCK:150,VK_FORMAT_ETC2_R8G8B8A8_UNORM_BLOCK:151,VK_FORMAT_ETC2_R8G8B8A8_SRGB_BLOCK:152,VK_FORMAT_EAC_R11_UNORM_BLOCK:153,VK_FORMAT_EAC_R11_SNORM_BLOCK:154,VK_FORMAT_EAC_R11G11_UNORM_BLOCK:155,VK_FORMAT_EAC_R11G11_SNORM_BLOCK:156,VK_FORMAT_ASTC_4x4_UNORM_BLOCK:157,VK_FORMAT_ASTC_4x4_SRGB_BLOCK:158,VK_FORMAT_ASTC_5x4_UNORM_BLOCK:159,VK_FORMAT_ASTC_5x4_SRGB_BLOCK:160,VK_FORMAT_ASTC_5x5_UNORM_BLOCK:161,VK_FORMAT_ASTC_5x5_SRGB_BLOCK:162,VK_FORMAT_ASTC_6x5_UNORM_BLOCK:163,VK_FORMAT_ASTC_6x5_SRGB_BLOCK:164,VK_FORMAT_ASTC_6x6_UNORM_BLOCK:165,VK_FORMAT_ASTC_6x6_SRGB_BLOCK:166,VK_FORMAT_ASTC_8x5_UNORM_BLOCK:167,VK_FORMAT_ASTC_8x5_SRGB_BLOCK:168,VK_FORMAT_ASTC_8x6_UNORM_BLOCK:169,VK_FORMAT_ASTC_8x6_SRGB_BLOCK:170,VK_FORMAT_ASTC_8x8_UNORM_BLOCK:171,VK_FORMAT_ASTC_8x8_SRGB_BLOCK:172,VK_FORMAT_ASTC_10x5_UNORM_BLOCK:173,VK_FORMAT_ASTC_10x5_SRGB_BLOCK:174,VK_FORMAT_ASTC_10x6_UNORM_BLOCK:175,VK_FORMAT_ASTC_10x6_SRGB_BLOCK:176,VK_FORMAT_ASTC_10x8_UNORM_BLOCK:177,VK_FORMAT_ASTC_10x8_SRGB_BLOCK:178,VK_FORMAT_ASTC_10x10_UNORM_BLOCK:179,VK_FORMAT_ASTC_10x10_SRGB_BLOCK:180,VK_FORMAT_ASTC_12x10_UNORM_BLOCK:181,VK_FORMAT_ASTC_12x10_SRGB_BLOCK:182,VK_FORMAT_ASTC_12x12_UNORM_BLOCK:183,VK_FORMAT_ASTC_12x12_SRGB_BLOCK:184,VK_FORMAT_G8B8G8R8_422_UNORM:1000156e3,VK_FORMAT_B8G8R8G8_422_UNORM:1000156001,VK_FORMAT_G8_B8_R8_3PLANE_420_UNORM:1000156002,VK_FORMAT_G8_B8R8_2PLANE_420_UNORM:1000156003,VK_FORMAT_G8_B8_R8_3PLANE_422_UNORM:1000156004,VK_FORMAT_G8_B8R8_2PLANE_422_UNORM:1000156005,VK_FORMAT_G8_B8_R8_3PLANE_444_UNORM:1000156006,VK_FORMAT_R10X6_UNORM_PACK16:1000156007,VK_FORMAT_R10X6G10X6_UNORM_2PACK16:1000156008,VK_FORMAT_R10X6G10X6B10X6A10X6_UNORM_4PACK16:1000156009,VK_FORMAT_G10X6B10X6G10X6R10X6_422_UNORM_4PACK16:1000156010,VK_FORMAT_B10X6G10X6R10X6G10X6_422_UNORM_4PACK16:1000156011,VK_FORMAT_G10X6_B10X6_R10X6_3PLANE_420_UNORM_3PACK16:1000156012,VK_FORMAT_G10X6_B10X6R10X6_2PLANE_420_UNORM_3PACK16:1000156013,VK_FORMAT_G10X6_B10X6_R10X6_3PLANE_422_UNORM_3PACK16:1000156014,VK_FORMAT_G10X6_B10X6R10X6_2PLANE_422_UNORM_3PACK16:1000156015,VK_FORMAT_G10X6_B10X6_R10X6_3PLANE_444_UNORM_3PACK16:1000156016,VK_FORMAT_R12X4_UNORM_PACK16:1000156017,VK_FORMAT_R12X4G12X4_UNORM_2PACK16:1000156018,VK_FORMAT_R12X4G12X4B12X4A12X4_UNORM_4PACK16:1000156019,VK_FORMAT_G12X4B12X4G12X4R12X4_422_UNORM_4PACK16:1000156020,VK_FORMAT_B12X4G12X4R12X4G12X4_422_UNORM_4PACK16:1000156021,VK_FORMAT_G12X4_B12X4_R12X4_3PLANE_420_UNORM_3PACK16:1000156022,VK_FORMAT_G12X4_B12X4R12X4_2PLANE_420_UNORM_3PACK16:1000156023,VK_FORMAT_G12X4_B12X4_R12X4_3PLANE_422_UNORM_3PACK16:1000156024,VK_FORMAT_G12X4_B12X4R12X4_2PLANE_422_UNORM_3PACK16:1000156025,VK_FORMAT_G12X4_B12X4_R12X4_3PLANE_444_UNORM_3PACK16:1000156026,VK_FORMAT_G16B16G16R16_422_UNORM:1000156027,VK_FORMAT_B16G16R16G16_422_UNORM:1000156028,VK_FORMAT_G16_B16_R16_3PLANE_420_UNORM:1000156029,VK_FORMAT_G16_B16R16_2PLANE_420_UNORM:1000156030,VK_FORMAT_G16_B16_R16_3PLANE_422_UNORM:1000156031,VK_FORMAT_G16_B16R16_2PLANE_422_UNORM:1000156032,VK_FORMAT_G16_B16_R16_3PLANE_444_UNORM:1000156033,VK_FORMAT_PVRTC1_2BPP_UNORM_BLOCK_IMG:1000054e3,VK_FORMAT_PVRTC1_4BPP_UNORM_BLOCK_IMG:1000054001,VK_FORMAT_PVRTC2_2BPP_UNORM_BLOCK_IMG:1000054002,VK_FORMAT_PVRTC2_4BPP_UNORM_BLOCK_IMG:1000054003,VK_FORMAT_PVRTC1_2BPP_SRGB_BLOCK_IMG:1000054004,VK_FORMAT_PVRTC1_4BPP_SRGB_BLOCK_IMG:1000054005,VK_FORMAT_PVRTC2_2BPP_SRGB_BLOCK_IMG:1000054006,VK_FORMAT_PVRTC2_4BPP_SRGB_BLOCK_IMG:1000054007,VK_FORMAT_ASTC_4x4_SFLOAT_BLOCK_EXT:1000066e3,VK_FORMAT_ASTC_5x4_SFLOAT_BLOCK_EXT:1000066001,VK_FORMAT_ASTC_5x5_SFLOAT_BLOCK_EXT:1000066002,VK_FORMAT_ASTC_6x5_SFLOAT_BLOCK_EXT:1000066003,VK_FORMAT_ASTC_6x6_SFLOAT_BLOCK_EXT:1000066004,VK_FORMAT_ASTC_8x5_SFLOAT_BLOCK_EXT:1000066005,VK_FORMAT_ASTC_8x6_SFLOAT_BLOCK_EXT:1000066006,VK_FORMAT_ASTC_8x8_SFLOAT_BLOCK_EXT:1000066007,VK_FORMAT_ASTC_10x5_SFLOAT_BLOCK_EXT:1000066008,VK_FORMAT_ASTC_10x6_SFLOAT_BLOCK_EXT:1000066009,VK_FORMAT_ASTC_10x8_SFLOAT_BLOCK_EXT:1000066010,VK_FORMAT_ASTC_10x10_SFLOAT_BLOCK_EXT:1000066011,VK_FORMAT_ASTC_12x10_SFLOAT_BLOCK_EXT:1000066012,VK_FORMAT_ASTC_12x12_SFLOAT_BLOCK_EXT:1000066013,VK_FORMAT_G8B8G8R8_422_UNORM_KHR:1000156e3,VK_FORMAT_B8G8R8G8_422_UNORM_KHR:1000156001,VK_FORMAT_G8_B8_R8_3PLANE_420_UNORM_KHR:1000156002,VK_FORMAT_G8_B8R8_2PLANE_420_UNORM_KHR:1000156003,VK_FORMAT_G8_B8_R8_3PLANE_422_UNORM_KHR:1000156004,VK_FORMAT_G8_B8R8_2PLANE_422_UNORM_KHR:1000156005,VK_FORMAT_G8_B8_R8_3PLANE_444_UNORM_KHR:1000156006,VK_FORMAT_R10X6_UNORM_PACK16_KHR:1000156007,VK_FORMAT_R10X6G10X6_UNORM_2PACK16_KHR:1000156008,VK_FORMAT_R10X6G10X6B10X6A10X6_UNORM_4PACK16_KHR:1000156009,VK_FORMAT_G10X6B10X6G10X6R10X6_422_UNORM_4PACK16_KHR:1000156010,VK_FORMAT_B10X6G10X6R10X6G10X6_422_UNORM_4PACK16_KHR:1000156011,VK_FORMAT_G10X6_B10X6_R10X6_3PLANE_420_UNORM_3PACK16_KHR:1000156012,VK_FORMAT_G10X6_B10X6R10X6_2PLANE_420_UNORM_3PACK16_KHR:1000156013,VK_FORMAT_G10X6_B10X6_R10X6_3PLANE_422_UNORM_3PACK16_KHR:1000156014,VK_FORMAT_G10X6_B10X6R10X6_2PLANE_422_UNORM_3PACK16_KHR:1000156015,VK_FORMAT_G10X6_B10X6_R10X6_3PLANE_444_UNORM_3PACK16_KHR:1000156016,VK_FORMAT_R12X4_UNORM_PACK16_KHR:1000156017,VK_FORMAT_R12X4G12X4_UNORM_2PACK16_KHR:1000156018,VK_FORMAT_R12X4G12X4B12X4A12X4_UNORM_4PACK16_KHR:1000156019,VK_FORMAT_G12X4B12X4G12X4R12X4_422_UNORM_4PACK16_KHR:1000156020,VK_FORMAT_B12X4G12X4R12X4G12X4_422_UNORM_4PACK16_KHR:1000156021,VK_FORMAT_G12X4_B12X4_R12X4_3PLANE_420_UNORM_3PACK16_KHR:1000156022,VK_FORMAT_G12X4_B12X4R12X4_2PLANE_420_UNORM_3PACK16_KHR:1000156023,VK_FORMAT_G12X4_B12X4_R12X4_3PLANE_422_UNORM_3PACK16_KHR:1000156024,VK_FORMAT_G12X4_B12X4R12X4_2PLANE_422_UNORM_3PACK16_KHR:1000156025,VK_FORMAT_G12X4_B12X4_R12X4_3PLANE_444_UNORM_3PACK16_KHR:1000156026,VK_FORMAT_G16B16G16R16_422_UNORM_KHR:1000156027,VK_FORMAT_B16G16R16G16_422_UNORM_KHR:1000156028,VK_FORMAT_G16_B16_R16_3PLANE_420_UNORM_KHR:1000156029,VK_FORMAT_G16_B16R16_2PLANE_420_UNORM_KHR:1000156030,VK_FORMAT_G16_B16_R16_3PLANE_422_UNORM_KHR:1000156031,VK_FORMAT_G16_B16R16_2PLANE_422_UNORM_KHR:1000156032,VK_FORMAT_G16_B16_R16_3PLANE_444_UNORM_KHR:1000156033});var ry=i(660419),oy=i(266180),sy=i(903473),ay=i(352581),ly=i(414305),cy=i(666765),Ay=i(635692),uy=i(702247),hy=i(785933),dy=i(263604),gy=i(744436),py=i(525490),fy=i(394290),my=i(75584);function _y(e,t){if(_y.passThroughDataForTesting)return t;xe.A.typeOf.object("key",e),xe.A.typeOf.object("data",t);const i=e.byteLength;if(0===i||i%4!=0)throw new Ie.A("The length of key must be greater than 0 and a multiple of 4.");const n=new DataView(t),r=n.getUint32(0,!0);if(1953029805===r||2917034100===r)return t;const o=new DataView(e);let s=0;const a=t.byteLength,l=a-a%8,c=i;let A,u=8;for(;s<l;)for(u=(u+8)%24,A=u;s<l&&A<c;)n.setUint32(s,n.getUint32(s,!0)^o.getUint32(A,!0),!0),n.setUint32(s+4,n.getUint32(s+4,!0)^o.getUint32(A+4,!0),!0),s+=8,A+=24;if(s<a)for(A>=c&&(u=(u+8)%24,A=u);s<a;)n.setUint8(s,n.getUint8(s)^o.getUint8(A)),s++,A++}_y.passThroughDataForTesting=!1;const yy=_y;var wy=i(223460),Cy=i(786101),By=i(522216),vy=i(712066),Ey=i(592594),by=i(869467),Iy=i(604752),xy=i(452684),Sy=i(241839),Ty=i(881096),My=i(89104),Dy=i(647885),Py=i(734780),Oy=i(404547),Ry=i(471874),ky=i(108303),Fy=i(359897);const Ly=new ie.A,Qy=function(e,t,i,n){const r=(0,gy.A)(e,t,i,n,Ly);return!!(0,p.A)(r)&&r.x>0&&r.y>0&&r.z>0};var Ny=i(271868),Gy=i(252544),Vy=i(448871),Uy=i(761203);const Yy=function(e){return xe.A.defined("value",e),e<=.04045?.07739938080495357*e:Math.pow(.9478672985781991*(e+.055),2.4)};var Ky=i(841387);const Hy=function(e){switch(e){case ay.A.FLOAT:return"float";case ay.A.FLOAT_VEC2:return"vec2";case ay.A.FLOAT_VEC3:return"vec3";case ay.A.FLOAT_VEC4:return"vec4";case ay.A.FLOAT_MAT2:return"mat2";case ay.A.FLOAT_MAT3:return"mat3";case ay.A.FLOAT_MAT4:return"mat4";case ay.A.SAMPLER_2D:return"sampler2D";case ay.A.BOOL:return"bool"}},zy=function(e,t,i){if("function"!=typeof t)throw new S.A("oldFunction is required to be a function.");if("function"!=typeof i)throw new S.A("oldFunction is required to be a function.");return function(){i.apply(e,arguments),t.apply(e,arguments)}};var qy=i(517638),Wy=i(756995),jy=i(468649),Jy=i(952738),Xy=i(412562),Zy=i(562523);const $y="uniform sampler2D u_noiseTexture;\nuniform vec3 u_noiseTextureDimensions;\nuniform float u_noiseDetail;\nin vec2 v_offset;\nin vec3 v_maximumSize;\nin vec4 v_color;\nin float v_slice;\nin float v_brightness;\n\nfloat wrap(float value, float rangeLength) {\n    if(value < 0.0) {\n        float absValue = abs(value);\n        float modValue = mod(absValue, rangeLength);\n        return mod(rangeLength - modValue, rangeLength);\n    }\n    return mod(value, rangeLength);\n}\n\nvec3 wrapVec(vec3 value, float rangeLength) {\n    return vec3(wrap(value.x, rangeLength),\n                wrap(value.y, rangeLength),\n                wrap(value.z, rangeLength));\n}\n\nvec2 voxelToUV(vec3 voxelIndex) {\n    float textureSliceWidth = u_noiseTextureDimensions.x;\n    float noiseTextureRows = u_noiseTextureDimensions.y;\n    float inverseNoiseTextureRows = u_noiseTextureDimensions.z;\n\n    float textureSliceWidthSquared = textureSliceWidth * textureSliceWidth;\n    vec2 inverseNoiseTextureDimensions = vec2(noiseTextureRows / textureSliceWidthSquared,\n                                            inverseNoiseTextureRows / textureSliceWidth);\n    vec3 wrappedIndex = wrapVec(voxelIndex, textureSliceWidth);\n    float column = mod(wrappedIndex.z, textureSliceWidth * inverseNoiseTextureRows);\n    float row = floor(wrappedIndex.z / textureSliceWidth * noiseTextureRows);\n\n    float xPixelCoord = wrappedIndex.x + column * textureSliceWidth;\n    float yPixelCoord = wrappedIndex.y + row * textureSliceWidth;\n    return vec2(xPixelCoord, yPixelCoord) * inverseNoiseTextureDimensions;\n}\n\n// Interpolate a voxel with its neighbor (along the positive X-axis)\nvec4 lerpSamplesX(vec3 voxelIndex, float x) {\n    vec2 uv0 = voxelToUV(voxelIndex);\n    vec2 uv1 = voxelToUV(voxelIndex + vec3(1.0, 0.0, 0.0));\n    vec4 sample0 = texture(u_noiseTexture, uv0);\n    vec4 sample1 = texture(u_noiseTexture, uv1);\n    return mix(sample0, sample1, x);\n}\n\nvec4 sampleNoiseTexture(vec3 position) {\n    float textureSliceWidth = u_noiseTextureDimensions.x;\n    vec3 recenteredPos = position + vec3(textureSliceWidth / 2.0);\n    vec3 lerpValue = fract(recenteredPos);\n    vec3 voxelIndex = floor(recenteredPos);\n\n    vec4 xLerp00 = lerpSamplesX(voxelIndex, lerpValue.x);\n    vec4 xLerp01 = lerpSamplesX(voxelIndex + vec3(0.0, 0.0, 1.0), lerpValue.x);\n    vec4 xLerp10 = lerpSamplesX(voxelIndex + vec3(0.0, 1.0, 0.0), lerpValue.x);\n    vec4 xLerp11 = lerpSamplesX(voxelIndex + vec3(0.0, 1.0, 1.0), lerpValue.x);\n\n    vec4 yLerp0 = mix(xLerp00, xLerp10, lerpValue.y);\n    vec4 yLerp1 = mix(xLerp01, xLerp11, lerpValue.y);\n    return mix(yLerp0, yLerp1, lerpValue.z);\n}\n\n// Intersection with a unit sphere with radius 0.5 at center (0, 0, 0).\nbool intersectSphere(vec3 origin, vec3 dir, float slice,\n                     out vec3 point, out vec3 normal) {\n    float A = dot(dir, dir);\n    float B = dot(origin, dir);\n    float C = dot(origin, origin) - 0.25;\n    float discriminant = (B * B) - (A * C);\n    if(discriminant < 0.0) {\n        return false;\n    }\n    float root = sqrt(discriminant);\n    float t = (-B - root) / A;\n    if(t < 0.0) {\n        t = (-B + root) / A;\n    }\n    point = origin + t * dir;\n\n    if(slice >= 0.0) {\n        point.z = (slice / 2.0) - 0.5;\n        if(length(point) > 0.5) {\n            return false;\n        }\n    }\n\n    normal = normalize(point);\n    point -= czm_epsilon2 * normal;\n    return true;\n}\n\n// Transforms the ray origin and direction into unit sphere space,\n// then transforms the result back into the ellipsoid's space.\nbool intersectEllipsoid(vec3 origin, vec3 dir, vec3 center, vec3 scale, float slice,\n                        out vec3 point, out vec3 normal) {\n    if(scale.x <= 0.01 || scale.y < 0.01 || scale.z < 0.01) {\n        return false;\n    }\n\n    vec3 o = (origin - center) / scale;\n    vec3 d = dir / scale;\n    vec3 p, n;\n    bool intersected = intersectSphere(o, d, slice, p, n);\n    if(intersected) {\n        point = (p * scale) + center;\n        normal = n;\n    }\n    return intersected;\n}\n\n// Assume that if phase shift is being called for octave i,\n// the frequency is of i - 1. This saves us from doing extra\n// division / multiplication operations.\nvec2 phaseShift2D(vec2 p, vec2 freq) {\n    return (czm_pi / 2.0) * sin(freq.yx * p.yx);\n}\n\nvec2 phaseShift3D(vec3 p, vec2 freq) {\n    return phaseShift2D(p.xy, freq) + czm_pi * vec2(sin(freq.x * p.z));\n}\n\n// The cloud texture function derived from Gardner's 1985 paper,\n// \"Visual Simulation of Clouds.\"\n// https://www.cs.drexel.edu/~david/Classes/Papers/p297-gardner.pdf\nconst float T0    = 0.6;  // contrast of the texture pattern\nconst float k     = 0.1;  // computed to produce a maximum value of 1\nconst float C0    = 0.8;  // coefficient\nconst float FX0   = 0.6;  // frequency X\nconst float FY0   = 0.6;  // frequency Y\nconst int octaves = 5;\n\nfloat T(vec3 point) {\n    vec2 sum = vec2(0.0);\n    float Ci = C0;\n    vec2 FXY = vec2(FX0, FY0);\n    vec2 PXY = vec2(0.0);\n    for(int i = 1; i <= octaves; i++) {\n        PXY = phaseShift3D(point, FXY);\n        Ci *= 0.707;\n        FXY *= 2.0;\n        vec2 sinTerm = sin(FXY * point.xy + PXY);\n        sum += Ci * sinTerm + vec2(T0);\n    }\n    return k * sum.x * sum.y;\n}\n\nconst float a = 0.5;  // fraction of surface reflection due to ambient or scattered light,\nconst float t = 0.4;  // fraction of texture shading\nconst float s = 0.25; // fraction of specular reflection\n\nfloat I(float Id, float Is, float It) {\n    return (1.0 - a) * ((1.0 - t) * ((1.0 - s) * Id + s * Is) + t * It) + a;\n}\n\nconst vec3 lightDir = normalize(vec3(0.2, -1.0, 0.7));\n\nvec4 drawCloud(vec3 rayOrigin, vec3 rayDir, vec3 cloudCenter, vec3 cloudScale, float cloudSlice,\n               float brightness) {\n    vec3 cloudPoint, cloudNormal;\n    if(!intersectEllipsoid(rayOrigin, rayDir, cloudCenter, cloudScale, cloudSlice,\n                            cloudPoint, cloudNormal)) {\n        return vec4(0.0);\n    }\n\n    float Id = clamp(dot(cloudNormal, -lightDir), 0.0, 1.0);  // diffuse reflection\n    float Is = max(pow(dot(-lightDir, -rayDir), 2.0), 0.0);   // specular reflection\n    float It = T(cloudPoint);                                 // texture function\n    float intensity = I(Id, Is, It);\n    vec3 color = vec3(intensity * clamp(brightness, 0.1, 1.0));\n\n    vec4 noise = sampleNoiseTexture(u_noiseDetail * cloudPoint);\n    float W = noise.x;\n    float W2 = noise.y;\n    float W3 = noise.z;\n\n    // The dot product between the cloud's normal and the ray's direction is greatest\n    // in the center of the ellipsoid's surface. It decreases towards the edge.\n    // Thus, it is used to blur the areas leading to the edges of the ellipsoid,\n    // so that no harsh lines appear.\n\n    // The first (and biggest) layer of worley noise is then subtracted from this.\n    // The final result is scaled up so that the base cloud is not too translucent.\n    float ndDot = clamp(dot(cloudNormal, -rayDir), 0.0, 1.0);\n    float TR = pow(ndDot, 3.0) - W; // translucency\n    TR *= 1.3;\n\n    // Subtracting the second and third layers of worley noise is more complicated.\n    // If these layers of noise were simply subtracted from the current translucency,\n    // the shape derived from the first layer of noise would be completely deleted.\n    // The erosion of this noise should thus be constricted to the edges of the cloud.\n    // However, because the edges of the ellipsoid were already blurred away, mapping\n    // the noise to (1.0 - ndDot) will have no impact on most of the cloud's appearance.\n    // The value of (0.5 - ndDot) provides the best compromise.\n    float minusDot = 0.5 - ndDot;\n\n    // Even with the previous calculation, subtracting the second layer of wnoise\n    // erode too much of the cloud. The addition of it, however, will detailed\n    // volume to the cloud. As long as the noise is only added and not subtracted,\n    // the results are aesthetically pleasing.\n\n    // The minusDot product is mapped in a way that it is larger at the edges of\n    // the ellipsoid, so a subtraction and min operation are used instead of\n    // an addition and max one.\n    TR -= min(minusDot * W2, 0.0);\n\n    // The third level of worley noise is subtracted from the result, with some\n    // modifications. First, a scalar is added to minusDot so that the noise\n    // starts affecting the shape farther away from the center of the ellipsoid's\n    // surface. Then, it is scaled down so its impact is not too intense.\n    TR -= 0.8 * (minusDot + 0.25) * W3;\n\n    // The texture function's shading does not correlate with the shape of the cloud\n    // produced by the layers of noise, so an extra shading scalar is calculated.\n    // The darkest areas of the cloud are assigned to be where the noise erodes\n    // the cloud the most. This is then interpolated based on the translucency\n    // and the diffuse shading term of that point in the cloud.\n    float shading = mix(1.0 - 0.8 * W * W, 1.0, Id * TR);\n\n    // To avoid values that are too dark, this scalar is increased by a small amount\n    // and clamped so it never goes to zero.\n    shading = clamp(shading + 0.2, 0.3, 1.0);\n\n    // Finally, the contrast of the cloud's color is increased.\n    vec3 finalColor = mix(vec3(0.5), shading * color, 1.15);\n    return vec4(finalColor, clamp(TR, 0.0, 1.0)) * v_color;\n}\n\nvoid main() {\n#ifdef DEBUG_BILLBOARDS\n    out_FragColor = vec4(0.0, 0.5, 0.5, 1.0);\n#endif\n    // To avoid calculations with high values,\n    // we raycast from an arbitrarily smaller space.\n    vec2 coordinate = v_maximumSize.xy * v_offset;\n\n    vec3 ellipsoidScale = 0.82 * v_maximumSize;\n    vec3 ellipsoidCenter = vec3(0.0);\n\n    float zOffset = max(ellipsoidScale.z - 10.0, 0.0);\n    vec3 eye = vec3(0, 0, -10.0 - zOffset);\n    vec3 rayDir = normalize(vec3(coordinate, 1.0) - eye);\n    vec3 rayOrigin = eye;\n#ifdef DEBUG_ELLIPSOIDS\n    vec3 point, normal;\n    if(intersectEllipsoid(rayOrigin, rayDir, ellipsoidCenter, ellipsoidScale, v_slice,\n                          point, normal)) {\n        out_FragColor = v_brightness * v_color;\n    }\n#else\n#ifndef DEBUG_BILLBOARDS\n    vec4 cloud = drawCloud(rayOrigin, rayDir,\n                           ellipsoidCenter, ellipsoidScale, v_slice, v_brightness);\n    if(cloud.w < 0.01) {\n        discard;\n    }\n    out_FragColor = cloud;\n#endif\n#endif\n}\n",ew="#ifdef INSTANCED\nin vec2 direction;\n#endif\nin vec4 positionHighAndScaleX;\nin vec4 positionLowAndScaleY;\nin vec4 packedAttribute0;\nin vec4 packedAttribute1;\nin vec4 color;\n\nout vec2 v_offset;\nout vec3 v_maximumSize;\nout vec4 v_color;\nout float v_slice;\nout float v_brightness;\n\nvoid main() {\n    // Unpack attributes.\n    vec3 positionHigh = positionHighAndScaleX.xyz;\n    vec3 positionLow = positionLowAndScaleY.xyz;\n    vec2 scale = vec2(positionHighAndScaleX.w, positionLowAndScaleY.w);\n\n    float show = packedAttribute0.x;\n    float brightness = packedAttribute0.y;\n    vec2 coordinates = packedAttribute0.wz;\n    vec3 maximumSize = packedAttribute1.xyz;\n    float slice = packedAttribute1.w;\n\n#ifdef INSTANCED\n    vec2 dir = direction;\n#else\n    vec2 dir = coordinates;\n#endif\n\n    vec2 offset = dir - vec2(0.5, 0.5);\n    vec2 scaledOffset = scale * offset;\n    vec4 p = czm_translateRelativeToEye(positionHigh, positionLow);\n    vec4 positionEC = czm_modelViewRelativeToEye * p;\n    positionEC.xy += scaledOffset;\n    \n    positionEC.xyz *= show;\n    gl_Position = czm_projection * positionEC;\n\n    v_offset = offset;\n    v_maximumSize = maximumSize;\n    v_color = color;\n    v_slice = slice;\n    v_brightness = brightness;\n}\n",tw="uniform vec3 u_noiseTextureDimensions;\nuniform float u_noiseDetail;\nuniform vec3 u_noiseOffset;\nin vec2 v_position;\n\nfloat wrap(float value, float rangeLength) {\n    if(value < 0.0) {\n        float absValue = abs(value);\n        float modValue = mod(absValue, rangeLength);\n        return mod(rangeLength - modValue, rangeLength);\n    }\n    return mod(value, rangeLength);\n}\n\nvec3 wrapVec(vec3 value, float rangeLength) {\n    return vec3(wrap(value.x, rangeLength),\n                wrap(value.y, rangeLength),\n                wrap(value.z, rangeLength));\n}\n\nvec3 random3(vec3 p) {\n    float dot1 = dot(p, vec3(127.1, 311.7, 932.8));\n    float dot2 = dot(p, vec3(269.5, 183.3, 421.4));\n    return fract(vec3(sin(dot1 - dot2), cos(dot1 * dot2), dot1 * dot2));\n}\n\n// Frequency corresponds to cell size.\n// The higher the frequency, the smaller the cell size.\nvec3 getWorleyCellPoint(vec3 centerCell, vec3 offset, float freq) {\n    float textureSliceWidth = u_noiseTextureDimensions.x;\n    vec3 cell = centerCell + offset;\n    cell = wrapVec(cell, textureSliceWidth / u_noiseDetail);\n    cell += floor(u_noiseOffset / u_noiseDetail);\n    vec3 p = offset + random3(cell);\n    return p;\n}\n\nfloat worleyNoise(vec3 p, float freq) {\n    vec3 centerCell = floor(p * freq);\n    vec3 pointInCell = fract(p * freq);\n    float shortestDistance = 1000.0;\n\n    for(float z = -1.0; z <= 1.0; z++) {\n        for(float y = -1.0; y <= 1.0; y++) {\n            for(float x = -1.0; x <= 1.0; x++) {\n                vec3 offset = vec3(x, y, z);\n                vec3 point = getWorleyCellPoint(centerCell, offset, freq);\n\n                float distance = length(pointInCell - point);\n                if(distance < shortestDistance) {\n                    shortestDistance = distance;\n                }\n            }\n        }\n    }\n\n    return shortestDistance;\n}\n\nconst float MAX_FBM_ITERATIONS = 10.0;\n\nfloat worleyFBMNoise(vec3 p, float octaves, float scale) {\n    float noise = 0.0;\n    float freq = 1.0;\n    float persistence = 0.625;\n    for(float i = 0.0; i < MAX_FBM_ITERATIONS; i++) {\n        if(i >= octaves) {\n            break;\n        }\n\n        noise += worleyNoise(p * scale, freq * scale) * persistence;\n        persistence *= 0.5;\n        freq *= 2.0;\n    }\n    return noise;\n}\n\nvoid main() {\n    float textureSliceWidth = u_noiseTextureDimensions.x;\n    float inverseNoiseTextureRows = u_noiseTextureDimensions.z;\n    float x = mod(v_position.x, textureSliceWidth);\n    float y = mod(v_position.y, textureSliceWidth);\n    float sliceRow = floor(v_position.y / textureSliceWidth);\n    float z = floor(v_position.x / textureSliceWidth) + sliceRow * inverseNoiseTextureRows * textureSliceWidth;\n\n    vec3 position = vec3(x, y, z);\n    position /= u_noiseDetail;\n    float worley0 = clamp(worleyFBMNoise(position, 3.0, 1.0), 0.0, 1.0);\n    float worley1 = clamp(worleyFBMNoise(position, 3.0, 2.0), 0.0, 1.0);\n    float worley2 = clamp(worleyFBMNoise(position, 3.0, 3.0), 0.0, 1.0);\n    out_FragColor = vec4(worley0, worley1, worley2, 1.0);\n}\n",iw="uniform vec3 u_noiseTextureDimensions;\nin vec2 position;\n\nout vec2 v_position;\n\nvoid main()\n{\n    gl_Position = vec4(position, 0.1, 1.0);\n\n    float textureSliceWidth = u_noiseTextureDimensions.x;\n    float noiseTextureRows = u_noiseTextureDimensions.y;\n    float inverseNoiseTextureRows = u_noiseTextureDimensions.z;\n    vec2 transformedPos = (position * 0.5) + vec2(0.5);\n    transformedPos *= textureSliceWidth;\n    transformedPos.x *= textureSliceWidth * inverseNoiseTextureRows;\n    transformedPos.y *= noiseTextureRows;\n    v_position = transformedPos;\n}\n";var nw=i(212597),rw=i(615954),ow=i(635582),sw=i(198709),aw=i(722856),lw=i(864248),cw=i(710434),Aw=i(77202),uw=i(559352),hw=i(437736),dw=i(689520),gw=i(805696),pw=i(691760),fw=i(423603),mw=i(208276),_w=i(510148),yw=i(291848),ww=i(78149),Cw=i(682091),Bw=i(749513),vw=i(632577),Ew=i(700241),bw=i(575513),Iw=i(57723),xw=i(814617),Sw=i(988617),Tw=i(275058),Mw=i(208898),Dw=i(710807),Pw=i(753543),Ow=i(488961),Rw=i(370298),kw=i(692352),Fw=i(143344),Lw=i(326453),Qw=i(789221),Nw=i(860139),Gw=i(40510),Vw=i(752123),Uw=i(154920),Yw=i(296312),Kw=i(747776),Hw=i(971532);const zw="\nin vec2 v_textureCoordinates;\n\nvoid main()\n{\n    czm_materialInput materialInput;\n    \n    materialInput.s = v_textureCoordinates.s;\n    materialInput.st = v_textureCoordinates;\n    materialInput.str = vec3(v_textureCoordinates, 0.0);\n    materialInput.normalEC = vec3(0.0, 0.0, -1.0);\n    \n    czm_material material = czm_getMaterial(materialInput);\n\n    out_FragColor = vec4(material.diffuse + material.emission, material.alpha);\n}\n";var qw=i(351014),Ww=i(566732),jw=i(953019),Jw=i(207828),Xw=i(418510),Zw=i(531573),$w=i(95146),eC=i(153662),tC=i(730839),iC=i(355540),nC=i(320475),rC=i(182744),oC=i(511517),sC=i(425438),aC=i(744671),lC=i(653565),cC=i(124547),AC=i(770103),uC=i(734814),hC=i(208836),dC=i(886626),gC=i(74006),pC=i(620297),fC=i(443383),mC=i(416882),_C=i(200646),yC=i(655979);const wC=new ie.A(1,1,1);function CC(e){e=e??wC,xe.A.defined("dimensions",e),xe.A.typeOf.number.greaterThanOrEquals("dimensions.x",e.x,0),xe.A.typeOf.number.greaterThanOrEquals("dimensions.y",e.y,0),xe.A.typeOf.number.greaterThanOrEquals("dimensions.z",e.z,0),this._dimensions=ie.A.clone(e)}Object.defineProperties(CC.prototype,{dimensions:{get:function(){return this._dimensions},set:function(e){xe.A.defined("value",e),xe.A.typeOf.number.greaterThanOrEquals("value.x",e.x,0),xe.A.typeOf.number.greaterThanOrEquals("value.y",e.y,0),xe.A.typeOf.number.greaterThanOrEquals("value.z",e.z,0),ie.A.clone(e,this._dimensions)}}});const BC=new ie.A;CC.prototype.emit=function(e){const t=this._dimensions,i=ie.A.multiplyByScalar(t,.5,BC),n=T.A.randomBetween(-i.x,i.x),r=T.A.randomBetween(-i.y,i.y),o=T.A.randomBetween(-i.z,i.z);e.position=ie.A.fromElements(n,r,o,e.position),e.velocity=ie.A.normalize(e.position,e.velocity)};const vC=CC;var EC=i(691302),bC=i(452663),IC=i(635577),xC=i(985888),SC=i(927181),TC=i(625224),MC=i(308695),DC=i(474751),PC=i(184483),OC=i(716750);function RC(){this.featurePropertiesDirty=!1}Object.defineProperties(RC.prototype,{featuresLength:{get:function(){S.A.throwInstantiationError()}},pointsLength:{get:function(){S.A.throwInstantiationError()}},trianglesLength:{get:function(){S.A.throwInstantiationError()}},geometryByteLength:{get:function(){S.A.throwInstantiationError()}},texturesByteLength:{get:function(){S.A.throwInstantiationError()}},batchTableByteLength:{get:function(){S.A.throwInstantiationError()}},innerContents:{get:function(){S.A.throwInstantiationError()}},ready:{get:function(){S.A.throwInstantiationError()}},tileset:{get:function(){S.A.throwInstantiationError()}},tile:{get:function(){S.A.throwInstantiationError()}},url:{get:function(){S.A.throwInstantiationError()}},batchTable:{get:function(){S.A.throwInstantiationError()}},metadata:{get:function(){S.A.throwInstantiationError()},set:function(e){S.A.throwInstantiationError()}},group:{get:function(){S.A.throwInstantiationError()},set:function(e){S.A.throwInstantiationError()}}}),RC.prototype.hasProperty=function(e,t){S.A.throwInstantiationError()},RC.prototype.getFeature=function(e){S.A.throwInstantiationError()},RC.prototype.applyDebugSettings=function(e,t){S.A.throwInstantiationError()},RC.prototype.applyStyle=function(e){S.A.throwInstantiationError()},RC.prototype.update=function(e,t){S.A.throwInstantiationError()},RC.prototype.pick=function(e,t,i){S.A.throwInstantiationError()},RC.prototype.isDestroyed=function(){S.A.throwInstantiationError()},RC.prototype.destroy=function(){S.A.throwInstantiationError()};const kC=RC;var FC=i(891846),LC=i(621065),QC=i(223702),NC=i(622569),GC=i(468741),VC=i(45679),UC=i(649413),YC=i(581010),KC=i(953677),HC=i(294023),zC=i(661314),qC=i(629606),WC=i(816968),jC=i(979830),JC=i(800859),XC=i(409211);function ZC(e){e=e??g.A.EMPTY_OBJECT,this._maximumSubtreeCount=e.maximumSubtreeCount??0,this._subtreeRequestCounter=0,this._queue=new Ip.A({comparator:ZC.comparator})}function $C(e,t){this.subtree=e,this.stamp=t}ZC.prototype.addSubtree=function(e){const t=new $C(e,this._subtreeRequestCounter);this._subtreeRequestCounter++,this._queue.insert(t);const i=e.implicitCoordinates;if(i.level>0){const e=i.getParentSubtreeCoordinates();if(void 0===this.find(e))throw new S.A("parent node needs to exist")}if(this._maximumSubtreeCount>0)for(;this._queue.length>this._maximumSubtreeCount&&this._queue.getMinimum()!==t;)this._queue.removeMinimum()},ZC.prototype.find=function(e){const t=this._queue,i=t.internalArray,n=t.length;for(let t=0;t<n;t++){const n=i[t],r=n.subtree.implicitCoordinates;if(e.isEqual(r))return n.subtree}},ZC.comparator=function(e,t){const i=e.subtree.implicitCoordinates,n=t.subtree.implicitCoordinates;return i.isAncestor(n)?1:n.isAncestor(i)?-1:e.stamp-t.stamp};const eB=ZC;var tB=i(410974),iB=i(834957),nB=i(165955),rB=i(374607),oB=i(192518),sB=i(872182),aB=i(491807),lB=i(574917),cB=i(304431);function AB(e){e=e??g.A.EMPTY_OBJECT;const{className:t,names:i,types:n,componentTypes:r,shape:o,dimensions:s,paddingBefore:a=ie.A.ZERO.clone(),paddingAfter:l=ie.A.ZERO.clone(),globalTransform:c=Gg.A.IDENTITY.clone(),shapeTransform:A=Gg.A.IDENTITY.clone(),minBounds:u,maxBounds:h,minimumValues:d,maximumValues:p,maximumTileCount:f}=e;xe.A.typeOf.string("className",t),xe.A.typeOf.object("names",i),xe.A.typeOf.object("types",n),xe.A.typeOf.object("componentTypes",r),xe.A.typeOf.string("shape",o),xe.A.typeOf.object("dimensions",s),this._shapeTransform=A,this._globalTransform=c,this._shape=o,this._minBounds=u,this._maxBounds=h,this._dimensions=s,this._paddingBefore=a,this._paddingAfter=l,this._className=t,this._names=i,this._types=n,this._componentTypes=r,this._metadataOrder=o===cB.A.ELLIPSOID?lB.A.Z_UP:lB.A.Y_UP,this._minimumValues=d,this._maximumValues=p,this._maximumTileCount=f,this._availableLevels=void 0,this._implicitTileset=void 0,this._subtreeCache=new eB}Object.defineProperties(AB.prototype,{globalTransform:{get:function(){return this._globalTransform}},shapeTransform:{get:function(){return this._shapeTransform}},shape:{get:function(){return this._shape}},minBounds:{get:function(){return this._minBounds}},maxBounds:{get:function(){return this._maxBounds}},dimensions:{get:function(){return this._dimensions}},paddingBefore:{get:function(){return this._paddingBefore}},paddingAfter:{get:function(){return this._paddingAfter}},className:{get:function(){return this._className}},names:{get:function(){return this._names}},types:{get:function(){return this._types}},componentTypes:{get:function(){return this._componentTypes}},metadataOrder:{get:function(){return this._metadataOrder}},minimumValues:{get:function(){return this._minimumValues}},maximumValues:{get:function(){return this._maximumValues}},maximumTileCount:{get:function(){return this._maximumTileCount}},availableLevels:{get:function(){return this._availableLevels}}}),AB.fromUrl=async function(e){xe.A.defined("url",e);const t=be.A.createIfNeeded(e),i=await t.fetchJson();!function(e){const t=e.root;if(!(0,p.A)(t.content))throw new Ie.A("Root must have content");if(!(0,JC.A)(t.content,"3DTILES_content_voxels"))throw new Ie.A("Root tile content must have 3DTILES_content_voxels extension");if(!(0,JC.A)(t,"3DTILES_implicit_tiling")&&!(0,p.A)(t.implicitTiling))throw new Ie.A("Root tile must have implicit tiling");if(!(0,p.A)(e.schema)&&!(0,p.A)(e.schemaUri)&&!(0,JC.A)(e,"3DTILES_metadata"))throw new Ie.A("Tileset must have a metadata schema")}(i);const n=function(e,t){const{schemaUri:i,schema:n}=e;return(0,p.A)(i)?sB.A.getSchemaLoader({resource:t.getDerivedResource({url:i})}):sB.A.getSchemaLoader({schema:n})}(i,t);await n.load();const{root:r}=i,o=(0,JC.A)(i,"3DTILES_metadata")?i.extensions["3DTILES_metadata"]:i,s=new jC.A({metadataJson:o,schema:n.schema}),a=r.content.extensions["3DTILES_content_voxels"],l=function(e,t){const{schema:i,statistics:n}=e,r=n?.classes[t],o=i.classes[t].properties,s=Object.entries(o).map(([e,t])=>{const{type:i,componentType:n}=t,o=r?.properties[e].min,s=r?.properties[e].max,a=rB.A.getComponentCount(i);return{id:e,type:i,componentType:n,minValue:dB(o,a),maxValue:dB(s,a)}}),a=s.map(e=>e.id),l=s.map(e=>e.type),c=s.map(e=>e.componentType),A=s.map(e=>e.minValue),u=s.map(e=>e.maxValue),h=A.some(p.A);return{className:t,names:a,types:l,componentTypes:c,minimumValues:h?A:void 0,maximumValues:h?u:void 0}}(s,a.class);Object.assign(l,function(e){const t=e.boundingVolume;if((0,p.A)(t.box))return function(e){const t=Cf.A.unpack(e),i=qt.A.getScale(t.halfAxes,uB),n=qt.A.getRotation(t.halfAxes,hB);return{shape:cB.A.BOX,minBounds:ie.A.negate(i,new ie.A),maxBounds:ie.A.clone(i),shapeTransform:Gg.A.fromRotationTranslation(n,t.center)}}(t.box);if((0,p.A)(t.region))return function(e){const t=e[0],i=e[1],n=e[2],r=e[3],o=e[4],s=e[5],a=Gg.A.fromScale(ce.A.WGS84.radii),l=new ie.A(t,i,o),c=new ie.A(n,r,s);return{shape:cB.A.ELLIPSOID,minBounds:l,maxBounds:c,shapeTransform:a}}(t.region);if((0,JC.A)(t,"3DTILES_bounding_volume_cylinder"))return function(e){const{minRadius:t,maxRadius:i,height:n,minAngle:r=-T.A.PI,maxAngle:o=T.A.PI,translation:s=[0,0,0],rotation:a=[0,0,0,1]}=e;xe.A.typeOf.number("minRadius",t),xe.A.typeOf.number("maxRadius",i),xe.A.typeOf.number("height",n),xe.A.typeOf.number("minAngle",r),xe.A.typeOf.number("maxAngle",o),xe.A.typeOf.object("translation",s),xe.A.typeOf.object("rotation",a);const l=-.5*n+s[2],c=.5*n+s[2],A=Gg.A.fromTranslationQuaternionRotationScale(ie.A.unpack(s),Be.A.unpack(a),ie.A.ONE);return{shape:cB.A.CYLINDER,minBounds:ie.A.fromElements(t,r,l),maxBounds:ie.A.fromElements(i,o,c),shapeTransform:A}}(t.extensions["3DTILES_bounding_volume_cylinder"]);throw new Ie.A("Only box, region and 3DTILES_bounding_volume_cylinder are supported in Cesium3DTilesVoxelProvider")}(r)),(0,p.A)(r.transform)?l.globalTransform=Gg.A.unpack(r.transform):l.globalTransform=Gg.A.clone(Gg.A.IDENTITY),l.dimensions=ie.A.unpack(a.dimensions),l.maximumTileCount=function(e){if((0,p.A)(e.tileset))return e.tileset.getPropertyBySemantic(nB.A.TILESET_TILE_COUNT)}(s),(0,p.A)(a.padding)&&(l.paddingBefore=ie.A.unpack(a.padding.before),l.paddingAfter=ie.A.unpack(a.padding.after));const c=new AB(l),A=new iB.A(t,r,n.schema);return c._implicitTileset=A,c._availableLevels=A.availableLevels,sB.A.unload(n),c};const uB=new ie.A,hB=new qt.A;function dB(e,t){if(!(0,p.A)(e))return;const i=Array.isArray(e)?e:[e];return Array.from({length:t},(e,t)=>i[t])}AB.prototype.requestData=async function(e){e=e??g.A.EMPTY_OBJECT;const{tileLevel:t=0,tileX:i=0,tileY:n=0,tileZ:r=0,keyframe:o=0}=e;if(0!==o)return Promise.reject("3D Tiles currently doesn't support time-dynamic data.");const s=this._implicitTileset,a=new tB.A({subdivisionScheme:s.subdivisionScheme,subtreeLevels:s.subtreeLevels,level:t,x:i,y:n,z:r}),l=a.isSubtreeRoot()&&a.level>0,c=l?a.getParentSubtreeCoordinates():a.getSubtreeCoordinates(),A=await async function(e,t){const i=e._implicitTileset,n=e._subtreeCache;let r=n.find(t);if((0,p.A)(r))return r;const o=i.subtreeUriTemplate.getDerivedResource({templateValues:t.getTemplateValues()}),s=i.baseResource.getDerivedResource({url:o.url}),a=await s.fetchArrayBuffer();if(r=n.find(t),(0,p.A)(r))return r;const l=(0,oB.A)(a);return r=await XC.A.fromSubtreeJson(s,l.jsonPayload,l.binaryPayload,i,t),n.addSubtree(r),r}(this,c);if(!(l?A.childSubtreeIsAvailableAtCoordinates:A.tileIsAvailableAtCoordinates).call(A,a))return Promise.reject(`Tile is not available at level ${t}, x ${i}, y ${n}, z ${r}.`);const{contentUriTemplates:u,baseResource:h}=s,d=u[0].getDerivedResource({templateValues:a.getTemplateValues()}),f=h.getDerivedResource({url:d.url});return aB.A.fromGltf(f)};const gB=AB;var pB=i(855927),fB=i(329554),mB=i(648117),_B=i(529755),yB=i(741740),wB=i(724812),CB=i(485760),BB=i(727541);function vB(e){e=e??1,xe.A.typeOf.number.greaterThan("radius",e,0),this._radius=e??1}Object.defineProperties(vB.prototype,{radius:{get:function(){return this._radius},set:function(e){xe.A.typeOf.number.greaterThan("value",e,0),this._radius=e}}}),vB.prototype.emit=function(e){const t=T.A.randomBetween(0,T.A.TWO_PI),i=T.A.randomBetween(0,this._radius),n=i*Math.cos(t),r=i*Math.sin(t);e.position=ie.A.fromElements(n,r,0,e.position),e.velocity=ie.A.clone(ie.A.UNIT_Z,e.velocity)};const EB=vB;var bB=i(627853),IB=i(23708),xB=i(711284),SB=i(506964),TB=i(348460);const MB={CUMULUS:0,validate:function(e){return e===MB.CUMULUS}},DB=Object.freeze(MB);function PB(e,t){if(e=e??g.A.EMPTY_OBJECT,this._show=e.show??!0,this._position=ie.A.clone(e.position??ie.A.ZERO),!(0,p.A)(e.scale)&&(0,p.A)(e.maximumSize))this._maximumSize=ie.A.clone(e.maximumSize),this._scale=new h.A(this._maximumSize.x,this._maximumSize.y);else{this._scale=h.A.clone(e.scale??new h.A(20,12));const t=new ie.A(this._scale.x,this._scale.y,Math.min(this._scale.x,this._scale.y)/1.5);this._maximumSize=ie.A.clone(e.maximumSize??t)}this._slice=e.slice??-1,this._color=d.A.clone(e.color??d.A.WHITE),this._brightness=e.brightness??1,this._cloudCollection=t,this._index=-1}const OB=PB.SHOW_INDEX=0,RB=PB.POSITION_INDEX=1,kB=PB.SCALE_INDEX=2,FB=PB.MAXIMUM_SIZE_INDEX=3,LB=PB.SLICE_INDEX=4,QB=PB.BRIGHTNESS_INDEX=5,NB=PB.COLOR_INDEX=6;function GB(e,t){const i=e._cloudCollection;(0,p.A)(i)&&(i._updateCloud(e,t),e._dirty=!0)}PB.NUMBER_OF_PROPERTIES=7,Object.defineProperties(PB.prototype,{show:{get:function(){return this._show},set:function(e){xe.A.typeOf.bool("value",e),this._show!==e&&(this._show=e,GB(this,OB))}},position:{get:function(){return this._position},set:function(e){xe.A.typeOf.object("value",e);const t=this._position;ie.A.equals(t,e)||(ie.A.clone(e,t),GB(this,RB))}},scale:{get:function(){return this._scale},set:function(e){xe.A.typeOf.object("value",e);const t=this._scale;h.A.equals(t,e)||(h.A.clone(e,t),GB(this,kB))}},maximumSize:{get:function(){return this._maximumSize},set:function(e){xe.A.typeOf.object("value",e);const t=this._maximumSize;ie.A.equals(t,e)||(ie.A.clone(e,t),GB(this,FB))}},color:{get:function(){return this._color},set:function(e){xe.A.typeOf.object("value",e);const t=this._color;d.A.equals(t,e)||(d.A.clone(e,t),GB(this,NB))}},slice:{get:function(){return this._slice},set:function(e){xe.A.typeOf.number("value",e),this._slice!==e&&(this._slice=e,GB(this,LB))}},brightness:{get:function(){return this._brightness},set:function(e){xe.A.typeOf.number("value",e),this._brightness!==e&&(this._brightness=e,GB(this,QB))}}}),PB.prototype._destroy=function(){this._cloudCollection=void 0};const VB=PB;let UB;const YB=new ie.A,KB={positionHighAndScaleX:0,positionLowAndScaleY:1,packedAttribute0:2,packedAttribute1:3,color:4},HB={direction:0,positionHighAndScaleX:1,positionLowAndScaleY:2,packedAttribute0:3,packedAttribute1:4,color:5},zB=VB.SHOW_INDEX,qB=VB.POSITION_INDEX,WB=VB.SCALE_INDEX,jB=VB.MAXIMUM_SIZE_INDEX,JB=VB.SLICE_INDEX,XB=VB.BRIGHTNESS_INDEX,ZB=VB.NUMBER_OF_PROPERTIES,$B=VB.COLOR_INDEX;function ev(e){e=e??g.A.EMPTY_OBJECT,this._clouds=[],this._cloudsToUpdate=[],this._cloudsToUpdateIndex=0,this._cloudsRemoved=!1,this._createVertexArray=!1,this._propertiesChanged=new Uint32Array(ZB),this._noiseTexture=void 0,this._textureSliceWidth=128,this._noiseTextureRows=4,this.noiseDetail=e.noiseDetail??16,this.noiseOffset=ie.A.clone(e.noiseOffset??ie.A.ZERO),this._loading=!1,this._ready=!1;const t=this;this._uniforms={u_noiseTexture:function(){return t._noiseTexture},u_noiseTextureDimensions:tv(t),u_noiseDetail:function(){return t.noiseDetail}},this._vaNoise=void 0,this._spNoise=void 0,this._spCreated=!1,this._sp=void 0,this._rs=void 0,this.show=e.show??!0,this._colorCommands=[],this.debugBillboards=e.debugBillboards??!1,this._compiledDebugBillboards=!1,this.debugEllipsoids=e.debugEllipsoids??!1,this._compiledDebugEllipsoids=!1}function tv(e){return function(){return YB.x=e._textureSliceWidth,YB.y=e._noiseTextureRows,YB.z=1/e._noiseTextureRows,YB}}function iv(e){const t=e.length;for(let i=0;i<t;++i)e[i]&&e[i]._destroy()}function nv(e){if(e._cloudsRemoved){e._cloudsRemoved=!1;const t=[],i=e._clouds,n=i.length;for(let e=0,r=0;e<n;++e){const n=i[e];(0,p.A)(n)&&(i._index=r++,t.push(n))}e._clouds=t}}Object.defineProperties(ev.prototype,{length:{get:function(){return nv(this),this._clouds.length}}}),ev.prototype.add=function(e){const t=(e=e??g.A.EMPTY_OBJECT).cloudType??DB.CUMULUS;if(!DB.validate(t))throw new S.A("invalid cloud type");let i;return t===DB.CUMULUS&&(i=new VB(e,this),i._index=this._clouds.length,this._clouds.push(i),this._createVertexArray=!0),i},ev.prototype.remove=function(e){return!!this.contains(e)&&(this._clouds[e._index]=void 0,this._cloudsRemoved=!0,this._createVertexArray=!0,e._destroy(),!0)},ev.prototype.removeAll=function(){iv(this._clouds),this._clouds=[],this._cloudsToUpdate=[],this._cloudsToUpdateIndex=0,this._cloudsRemoved=!1,this._createVertexArray=!0},ev.prototype._updateCloud=function(e,t){e._dirty||(this._cloudsToUpdate[this._cloudsToUpdateIndex++]=e),++this._propertiesChanged[t]},ev.prototype.contains=function(e){return(0,p.A)(e)&&e._cloudCollection===this},ev.prototype.get=function(e){return xe.A.typeOf.number("index",e),nv(this),this._clouds[e]};const rv=new Float32Array([-1,-1,1,-1,1,1,-1,1]),ov=new Uint16Array([0,1,2,0,2,3]);let sv;function av(e){let t=e.cache.cloudCollection_indexBufferBatched;if((0,p.A)(t))return t;const i=new Uint16Array(98298);for(let e=0,t=0;e<98298;e+=6,t+=4)i[e]=t,i[e+1]=t+1,i[e+2]=t+2,i[e+3]=t,i[e+4]=t+2,i[e+5]=t+3;return t=fd.A.createIndexBuffer({context:e,typedArray:i,usage:md.A.STATIC_DRAW,indexDatatype:yf.A.UNSIGNED_SHORT}),t.vertexArrayDestroyable=!1,e.cache.cloudCollection_indexBufferBatched=t,t}function lv(e){let t=e.cache.cloudCollection_indexBufferInstanced;return(0,p.A)(t)||(t=fd.A.createIndexBuffer({context:e,typedArray:new Uint16Array([0,1,2,0,2,3]),usage:md.A.STATIC_DRAW,indexDatatype:yf.A.UNSIGNED_SHORT}),t.vertexArrayDestroyable=!1,e.cache.cloudCollection_indexBufferInstanced=t),t}function cv(e){let t=e.cache.cloudCollection_vertexBufferInstanced;return(0,p.A)(t)||(t=fd.A.createVertexBuffer({context:e,typedArray:new Float32Array([0,0,1,0,1,1,0,1]),usage:md.A.STATIC_DRAW}),t.vertexArrayDestroyable=!1,e.cache.cloudCollection_vertexBufferInstanced=t),t}const Av=new Qp.A;function uv(e,t,i,n){let r;const o=i[UB.positionHighAndScaleX],s=i[UB.positionLowAndScaleY],a=n.position;Qp.A.fromCartesian(a,Av);const l=n.scale,c=Av.high,A=Av.low;e._instanced?(r=n._index,o(r,c.x,c.y,c.z,l.x),s(r,A.x,A.y,A.z,l.y)):(r=4*n._index,o(r+0,c.x,c.y,c.z,l.x),o(r+1,c.x,c.y,c.z,l.x),o(r+2,c.x,c.y,c.z,l.x),o(r+3,c.x,c.y,c.z,l.x),s(r+0,A.x,A.y,A.z,l.y),s(r+1,A.x,A.y,A.z,l.y),s(r+2,A.x,A.y,A.z,l.y),s(r+3,A.x,A.y,A.z,l.y))}function hv(e,t,i,n){let r;const o=i[UB.packedAttribute0],s=n.show,a=n.brightness;e._instanced?(r=n._index,o(r,s,a,0,0)):(r=4*n._index,o(r+0,s,a,0,0),o(r+1,s,a,1,0),o(r+2,s,a,1,1),o(r+3,s,a,0,1))}function dv(e,t,i,n){let r;const o=i[UB.packedAttribute1],s=n.maximumSize,a=n.slice;e._instanced?(r=n._index,o(r,s.x,s.y,s.z,a)):(r=4*n._index,o(r+0,s.x,s.y,s.z,a),o(r+1,s.x,s.y,s.z,a),o(r+2,s.x,s.y,s.z,a),o(r+3,s.x,s.y,s.z,a))}function gv(e,t,i,n){let r;const o=i[UB.color],s=n.color,a=d.A.floatToByte(s.red),l=d.A.floatToByte(s.green),c=d.A.floatToByte(s.blue),A=d.A.floatToByte(s.alpha);e._instanced?(r=n._index,o(r,a,l,c,A)):(r=4*n._index,o(r+0,a,l,c,A),o(r+1,a,l,c,A),o(r+2,a,l,c,A),o(r+3,a,l,c,A))}function pv(e,t,i,n){uv(e,0,i,n),hv(e,0,i,n),dv(e,0,i,n),gv(e,0,i,n)}const fv=[];ev.prototype.update=function(e){if(nv(this),!this.show)return;const t=this.debugBillboards||this.debugEllipsoids;this._ready=!!t||(0,p.A)(this._noiseTexture),this._ready||this._loading||t||function(e,t,i,n){const r=e,o=r._textureSliceWidth,s=r._noiseTextureRows;if(o/s<1||o%s!==0)throw new S.A("noiseTextureRows must evenly divide textureSliceWidth");const a=t.context;r._vaNoise=function(e){const t=fd.A.createVertexBuffer({context:e,typedArray:rv,usage:md.A.STATIC_DRAW}),i=fd.A.createIndexBuffer({context:e,typedArray:ov,usage:md.A.STATIC_DRAW,indexDatatype:yf.A.UNSIGNED_SHORT}),n=[{index:0,vertexBuffer:t,componentsPerAttribute:2,componentDatatype:lp.A.FLOAT}];return new rg.A({context:e,attributes:n,indexBuffer:i})}(a),r._spNoise=Vd.A.fromCache({context:a,vertexShaderSource:i,fragmentShaderSource:n,attributeLocations:{position:0}});const l=r.noiseDetail,c=r.noiseOffset;r._noiseTexture=new Hd.A({context:a,width:o*o/s,height:o*s,pixelDatatype:Pd.A.UNSIGNED_BYTE,pixelFormat:qd.A.RGBA,sampler:new Fd.A({wrapS:ig.A.REPEAT,wrapT:ig.A.REPEAT,minificationFilter:jd.A.NEAREST,magnificationFilter:Wd.A.NEAREST})});const A=new yd.A({vertexArray:r._vaNoise,shaderProgram:r._spNoise,outputTexture:r._noiseTexture,uniformMap:{u_noiseTextureDimensions:tv(r),u_noiseDetail:function(){return l},u_noiseOffset:function(){return c}},persists:!1,owner:e,postExecute:function(e){r._ready=!0,r._loading=!1}});t.commandList.push(A),r._loading=!0}(this,e,iw,tw),this._instanced=e.context.instancedArrays,UB=this._instanced?HB:KB,sv=this._instanced?lv:av;const i=this._clouds.length,n=this._cloudsToUpdate,r=this._cloudsToUpdateIndex;this._createVertexArray?function(e,t){const i=e,n=t.context;i._createVertexArray=!1,i._vaf=i._vaf&&i._vaf.destroy();const r=e._clouds,o=r.length;if(o>0){i._vaf=function(e,t,i){const n=[{index:UB.positionHighAndScaleX,componentsPerAttribute:4,componentDatatype:lp.A.FLOAT,usage:md.A.STATIC_DRAW},{index:UB.positionLowAndScaleY,componentsPerAttribute:4,componentDatatype:lp.A.FLOAT,usage:md.A.STATIC_DRAW},{index:UB.packedAttribute0,componentsPerAttribute:4,componentDatatype:lp.A.FLOAT,usage:md.A.STATIC_DRAW},{index:UB.packedAttribute1,componentsPerAttribute:4,componentDatatype:lp.A.FLOAT,usage:md.A.STATIC_DRAW},{index:UB.color,componentsPerAttribute:4,componentDatatype:lp.A.UNSIGNED_BYTE,normalize:!0,usage:md.A.STATIC_DRAW}];i&&n.push({index:UB.direction,componentsPerAttribute:2,componentDatatype:lp.A.FLOAT,vertexBuffer:cv(e)});const r=i?t:4*t;return new og.A(e,n,r,i)}(n,o,i._instanced);const t=i._vaf.writers;let s;for(s=0;s<o;++s)pv(e,0,t,r[s]);i._vaf.commit(sv(n))}}(this,e):r>0&&function(e,t){const i=t.context,n=e,r=n._clouds.length,o=n._cloudsToUpdate,s=n._cloudsToUpdateIndex,a=n._propertiesChanged,l=fv;l.length=0,(a[qB]||a[WB])&&l.push(uv),(a[zB]||a[XB])&&l.push(hv),(a[jB]||a[JB])&&l.push(dv),a[$B]&&l.push(gv);const c=l.length,A=n._vaf.writers;let u,h,d;if(s/r>.1){for(u=0;u<s;++u)for(h=o[u],h._dirty=!1,d=0;d<c;++d)l[d](e,t,A,h);n._vaf.commit(sv(i))}else{for(u=0;u<s;++u){for(h=o[u],h._dirty=!1,d=0;d<c;++d)l[d](e,t,A,h);n._instanced?n._vaf.subCommit(h._index,1):n._vaf.subCommit(4*h._index,4)}n._vaf.endSubCommits()}n._cloudsToUpdateIndex=0}(this,e),r>1.5*i&&(n.length=i),!(0,p.A)(this._vaf)||!(0,p.A)(this._vaf.va)||!this._ready&!t||(this._spCreated&&this.debugBillboards===this._compiledDebugBillboards&&this.debugEllipsoids===this._compiledDebugEllipsoids||function(e,t,i,n){const r=t.context,o=e,s=new Ud.A({defines:[],sources:[i]});o._instanced&&s.defines.push("INSTANCED");const a=new Ud.A({defines:[],sources:[n]});o.debugBillboards&&a.defines.push("DEBUG_BILLBOARDS"),o.debugEllipsoids&&a.defines.push("DEBUG_ELLIPSOIDS"),o._sp=Vd.A.replaceCache({context:r,shaderProgram:o._sp,vertexShaderSource:s,fragmentShaderSource:a,attributeLocations:UB}),o._rs=Od.A.fromCache({depthTest:{enabled:!0,func:ay.A.LESS},depthMask:!1,blending:_C.A.ALPHA_BLEND}),o._spCreated=!0,o._compiledDebugBillboards=o.debugBillboards,o._compiledDebugEllipsoids=o.debugEllipsoids}(this,e,ew,$y),function(e,t){const i=e,n=t.passes,r=i._uniforms,o=t.commandList;if(n.render){const t=i._colorCommands,n=i._vaf.va,s=n.length;t.length=s;for(let a=0;a<s;a++){let s=t[a];(0,p.A)(s)||(s=t[a]=new bd.A),s.pass=Md.A.TRANSLUCENT,s.owner=e,s.uniformMap=r,s.count=n[a].indicesCount,s.vertexArray=n[a].va,s.shaderProgram=i._sp,s.renderState=i._rs,i._instanced&&(s.count=6,s.instanceCount=i._clouds.length),o.push(s)}}}(this,e))},ev.prototype.isDestroyed=function(){return!1},ev.prototype.destroy=function(){return this._noiseTexture=this._noiseTexture&&this._noiseTexture.destroy(),this._sp=this._sp&&this._sp.destroy(),this._vaf=this._vaf&&this._vaf.destroy(),iv(this._clouds),(0,zd.A)(this)};const mv=ev;var _v=i(583511),yv=i(33138);const wv=T.A.toRadians(30);function Cv(e){this._angle=e??wv}Object.defineProperties(Cv.prototype,{angle:{get:function(){return this._angle},set:function(e){xe.A.typeOf.number("value",e),this._angle=e}}}),Cv.prototype.emit=function(e){const t=Math.tan(this._angle),i=T.A.randomBetween(0,T.A.TWO_PI),n=T.A.randomBetween(0,t),r=n*Math.cos(i),o=n*Math.sin(i);e.velocity=ie.A.fromElements(r,o,1,e.velocity),ie.A.normalize(e.velocity,e.velocity),e.position=ie.A.clone(ie.A.ZERO,e.position)};const Bv=Cv;var vv=i(35204),Ev=i(937069),bv=i(527083);function Iv(e){const t=(e=e??g.A.EMPTY_OBJECT).attributeName;let i=e.perInstanceAttribute;if(!(0,p.A)(t))throw new S.A("options.attributeName is required.");(0,p.A)(i)||(i=!1);let n=e.glslDatatype??"vec3";const r=`v_${t}`;let o;if("normal"===t||"tangent"===t||"bitangent"===t)o=`vec4 getColor() { return vec4((${r} + vec3(1.0)) * 0.5, 1.0); }\n`;else switch("st"===t&&(n="vec2"),n){case"float":o=`vec4 getColor() { return vec4(vec3(${r}), 1.0); }\n`;break;case"vec2":o=`vec4 getColor() { return vec4(${r}, 0.0, 1.0); }\n`;break;case"vec3":o=`vec4 getColor() { return vec4(${r}, 1.0); }\n`;break;case"vec4":o=`vec4 getColor() { return ${r}; }\n`;break;default:throw new S.A("options.glslDatatype must be float, vec2, vec3, or vec4.")}const s=`in vec3 position3DHigh;\nin vec3 position3DLow;\nin float batchId;\n${i?"":`in ${n} ${t};\n`}out ${n} ${r};\nvoid main()\n{\nvec4 p = czm_translateRelativeToEye(position3DHigh, position3DLow);\n${i?`${r} = czm_batchTable_${t}(batchId);\n`:`${r} = ${t};\n`}gl_Position = czm_modelViewProjectionRelativeToEye * p;\n}`,a=`in ${n} ${r};\n${o}\nvoid main()\n{\nout_FragColor = getColor();\n}`;this.material=void 0,this.translucent=e.translucent??!1,this._vertexShaderSource=e.vertexShaderSource??s,this._fragmentShaderSource=e.fragmentShaderSource??a,this._renderState=Jw.A.getDefaultRenderState(!1,!1,e.renderState),this._closed=e.closed??!1,this._attributeName=t,this._glslDatatype=n}Object.defineProperties(Iv.prototype,{vertexShaderSource:{get:function(){return this._vertexShaderSource}},fragmentShaderSource:{get:function(){return this._fragmentShaderSource}},renderState:{get:function(){return this._renderState}},closed:{get:function(){return this._closed}},attributeName:{get:function(){return this._attributeName}},glslDatatype:{get:function(){return this._glslDatatype}}}),Iv.prototype.getFragmentShaderSource=Jw.A.prototype.getFragmentShaderSource,Iv.prototype.isTranslucent=Jw.A.prototype.isTranslucent,Iv.prototype.getRenderState=Jw.A.prototype.getRenderState;const xv=Iv;var Sv=i(199744),Tv=i(809418),Mv=i(234957),Dv=i(842153);function Pv(e){e=e??g.A.EMPTY_OBJECT,this.length=e.length??1e7,this._length=void 0,this.width=e.width??2,this._width=void 0,this.show=e.show??!0,this.modelMatrix=Gg.A.clone(e.modelMatrix??Gg.A.IDENTITY),this._modelMatrix=new Gg.A,this.id=e.id,this._id=void 0,this._primitive=void 0}Pv.prototype.update=function(e){if(this.show){if(!(0,p.A)(this._primitive)||!Gg.A.equals(this._modelMatrix,this.modelMatrix)||this._length!==this.length||this._width!==this.width||this._id!==this.id){this._modelMatrix=Gg.A.clone(this.modelMatrix,this._modelMatrix),this._length=this.length,this._width=this.width,this._id=this.id,(0,p.A)(this._primitive)&&this._primitive.destroy(),0===this.modelMatrix[12]&&0===this.modelMatrix[13]&&0===this.modelMatrix[14]&&(this.modelMatrix[14]=.01);const e=new Xp.A({geometry:new Jm.A({positions:[ie.A.ZERO,ie.A.UNIT_X],width:this.width,vertexFormat:Mv.A.VERTEX_FORMAT,colors:[d.A.RED,d.A.RED],arcType:ee.A.NONE}),modelMatrix:Gg.A.multiplyByUniformScale(this.modelMatrix,this.length,new Gg.A),id:this.id,pickPrimitive:this}),t=new Xp.A({geometry:new Jm.A({positions:[ie.A.ZERO,ie.A.UNIT_Y],width:this.width,vertexFormat:Mv.A.VERTEX_FORMAT,colors:[d.A.GREEN,d.A.GREEN],arcType:ee.A.NONE}),modelMatrix:Gg.A.multiplyByUniformScale(this.modelMatrix,this.length,new Gg.A),id:this.id,pickPrimitive:this}),i=new Xp.A({geometry:new Jm.A({positions:[ie.A.ZERO,ie.A.UNIT_Z],width:this.width,vertexFormat:Mv.A.VERTEX_FORMAT,colors:[d.A.BLUE,d.A.BLUE],arcType:ee.A.NONE}),modelMatrix:Gg.A.multiplyByUniformScale(this.modelMatrix,this.length,new Gg.A),id:this.id,pickPrimitive:this});this._primitive=new Dv.A({geometryInstances:[e,t,i],appearance:new Mv.A,asynchronous:!1})}this._primitive.update(e)}},Pv.prototype.isDestroyed=function(){return!1},Pv.prototype.destroy=function(){return this._primitive=this._primitive&&this._primitive.destroy(),(0,zd.A)(this)};const Ov=Pv;var Rv=i(523721),kv=i(626355),Fv=i(384292),Lv=i(77191),Qv=i(489970),Nv=i(253478),Gv=i(836721),Vv=i(445848),Uv=i(226381),Yv=i(615557),Kv=i(168976);const Hv="in vec3 v_positionMC;\nin vec3 v_positionEC;\nin vec2 v_st;\n\nvoid main()\n{\n    czm_materialInput materialInput;\n\n    vec3 normalEC = normalize(czm_normal3D * czm_geodeticSurfaceNormal(v_positionMC, vec3(0.0), vec3(1.0)));\n#ifdef FACE_FORWARD\n    normalEC = faceforward(normalEC, vec3(0.0, 0.0, 1.0), -normalEC);\n#endif\n\n    materialInput.s = v_st.s;\n    materialInput.st = v_st;\n    materialInput.str = vec3(v_st, 0.0);\n\n    // Convert tangent space material normal to eye space\n    materialInput.normalEC = normalEC;\n    materialInput.tangentToEyeMatrix = czm_eastNorthUpToEyeCoordinates(v_positionMC, materialInput.normalEC);\n\n    // Convert view vector to world space\n    vec3 positionToEyeEC = -v_positionEC;\n    materialInput.positionToEyeEC = positionToEyeEC;\n\n    czm_material material = czm_getMaterial(materialInput);\n\n#ifdef FLAT\n    out_FragColor = vec4(material.diffuse + material.emission, material.alpha);\n#else\n    out_FragColor = czm_phong(normalize(positionToEyeEC), material, czm_lightDirectionEC);\n#endif\n}\n",zv="in vec3 position3DHigh;\nin vec3 position3DLow;\nin vec2 st;\nin float batchId;\n\nout vec3 v_positionMC;\nout vec3 v_positionEC;\nout vec2 v_st;\n\nvoid main()\n{\n    vec4 p = czm_computePosition();\n\n    v_positionMC = position3DHigh + position3DLow;           // position in model coordinates\n    v_positionEC = (czm_modelViewRelativeToEye * p).xyz;     // position in eye coordinates\n    v_st = st;\n\n    gl_Position = czm_modelViewProjectionRelativeToEye * p;\n}\n";var qv=i(608191);function Wv(e){const t=(e=e??g.A.EMPTY_OBJECT).translucent??!0,i=e.aboveGround??!1;this.material=(0,p.A)(e.material)?e.material:qv.A.fromType(qv.A.ColorType),this.translucent=e.translucent??!0,this._vertexShaderSource=e.vertexShaderSource??zv,this._fragmentShaderSource=e.fragmentShaderSource??Hv,this._renderState=Jw.A.getDefaultRenderState(t,!i,e.renderState),this._closed=!1,this._flat=e.flat??!1,this._faceForward=e.faceForward??i,this._aboveGround=i}Object.defineProperties(Wv.prototype,{vertexShaderSource:{get:function(){return this._vertexShaderSource}},fragmentShaderSource:{get:function(){return this._fragmentShaderSource}},renderState:{get:function(){return this._renderState}},closed:{get:function(){return this._closed}},vertexFormat:{get:function(){return Wv.VERTEX_FORMAT}},flat:{get:function(){return this._flat}},faceForward:{get:function(){return this._faceForward}},aboveGround:{get:function(){return this._aboveGround}}}),Wv.VERTEX_FORMAT=Xg.A.POSITION_AND_ST,Wv.prototype.getFragmentShaderSource=Jw.A.prototype.getFragmentShaderSource,Wv.prototype.isTranslucent=Jw.A.prototype.isTranslucent,Wv.prototype.getRenderState=Jw.A.prototype.getRenderState;const jv=Wv;var Jv=i(84269),Xv=i(470622),Zv=i(203576),$v=i(5244);function eE(e){if(!(0,p.A)(e)||!(0,p.A)(e.scene))throw new S.A("options.scene is required.");this._scene=e.scene,this.samplingWindow=e.samplingWindow??eE.defaultSettings.samplingWindow,this.quietPeriod=e.quietPeriod??eE.defaultSettings.quietPeriod,this.warmupPeriod=e.warmupPeriod??eE.defaultSettings.warmupPeriod,this.minimumFrameRateDuringWarmup=e.minimumFrameRateDuringWarmup??eE.defaultSettings.minimumFrameRateDuringWarmup,this.minimumFrameRateAfterWarmup=e.minimumFrameRateAfterWarmup??eE.defaultSettings.minimumFrameRateAfterWarmup,this._lowFrameRate=new f.A,this._nominalFrameRate=new f.A,this._frameTimes=[],this._needsQuietPeriod=!0,this._quietPeriodEndTime=0,this._warmupPeriodEndTime=0,this._frameRateIsLow=!1,this._lastFramesPerSecond=void 0,this._pauseCount=0;const t=this;this._preUpdateRemoveListener=this._scene.preUpdate.addEventListener(function(e,i){!function(e){if(e._pauseCount>0)return;const t=(0,vs.A)();if(e._needsQuietPeriod)e._needsQuietPeriod=!1,e._frameTimes.length=0,e._quietPeriodEndTime=t+e.quietPeriod/Q_.A.SECONDS_PER_MILLISECOND,e._warmupPeriodEndTime=e._quietPeriodEndTime+(e.warmupPeriod+e.samplingWindow)/Q_.A.SECONDS_PER_MILLISECOND;else if(t>=e._quietPeriodEndTime){e._frameTimes.push(t);const i=t-e.samplingWindow/Q_.A.SECONDS_PER_MILLISECOND;if(e._frameTimes.length>=2&&e._frameTimes[0]<=i){for(;e._frameTimes.length>=2&&e._frameTimes[1]<i;)e._frameTimes.shift();const n=(t-e._frameTimes[0])/(e._frameTimes.length-1);e._lastFramesPerSecond=1e3/n,n>1e3/(t>e._warmupPeriodEndTime?e.minimumFrameRateAfterWarmup:e.minimumFrameRateDuringWarmup)?e._frameRateIsLow||(e._frameRateIsLow=!0,e._needsQuietPeriod=!0,e.lowFrameRate.raiseEvent(e.scene,e._lastFramesPerSecond)):e._frameRateIsLow&&(e._frameRateIsLow=!1,e._needsQuietPeriod=!0,e.nominalFrameRate.raiseEvent(e.scene,e._lastFramesPerSecond))}}}(t)}),this._hiddenPropertyName=void 0!==document.hidden?"hidden":void 0!==document.mozHidden?"mozHidden":void 0!==document.msHidden?"msHidden":void 0!==document.webkitHidden?"webkitHidden":void 0;const i=void 0!==document.hidden?"visibilitychange":void 0!==document.mozHidden?"mozvisibilitychange":void 0!==document.msHidden?"msvisibilitychange":void 0!==document.webkitHidden?"webkitvisibilitychange":void 0;function n(){var e;e=t,document[e._hiddenPropertyName]?e.pause():e.unpause()}this._visibilityChangeRemoveListener=void 0,(0,p.A)(i)&&(document.addEventListener(i,n,!1),this._visibilityChangeRemoveListener=function(){document.removeEventListener(i,n,!1)})}eE.defaultSettings={samplingWindow:5,quietPeriod:2,warmupPeriod:5,minimumFrameRateDuringWarmup:4,minimumFrameRateAfterWarmup:8},eE.fromScene=function(e){if(!(0,p.A)(e))throw new S.A("scene is required.");return(0,p.A)(e._frameRateMonitor)&&!e._frameRateMonitor.isDestroyed()||(e._frameRateMonitor=new eE({scene:e})),e._frameRateMonitor},Object.defineProperties(eE.prototype,{scene:{get:function(){return this._scene}},lowFrameRate:{get:function(){return this._lowFrameRate}},nominalFrameRate:{get:function(){return this._nominalFrameRate}},lastFramesPerSecond:{get:function(){return this._lastFramesPerSecond}}}),eE.prototype.pause=function(){++this._pauseCount,1===this._pauseCount&&(this._frameTimes.length=0,this._lastFramesPerSecond=void 0)},eE.prototype.unpause=function(){--this._pauseCount,this._pauseCount<=0&&(this._pauseCount=0,this._needsQuietPeriod=!0)},eE.prototype.isDestroyed=function(){return!1},eE.prototype.destroy=function(){return this._preUpdateRemoveListener(),(0,p.A)(this._visibilityChangeRemoveListener)&&this._visibilityChangeRemoveListener(),(0,zd.A)(this)};const tE=eE;var iE=i(346400),nE=i(311664),rE=i(271845),oE=i(472360),sE=i(873536),aE=i(44706),lE=i(257601),cE=i(823064),AE=i(463823),uE=i(897741),hE=i(545880),dE=i(38867),gE=i(295550),pE=i(301947),fE=i(208375),mE=i(5105),_E=i(738375),yE=i(494820),wE=i(201783),CE=i(395989),BE=i(385618),vE=i(560710),EE=i(982504),bE=i(782556),IE=i(179006),xE=i(582998),SE=i(952575),TE=i(946240),ME=i(481890);function DE(){this._image=new Image}function PE(e){e=e??g.A.EMPTY_OBJECT,this._defaultAlpha=void 0,this._defaultNightAlpha=void 0,this._defaultDayAlpha=void 0,this._defaultBrightness=void 0,this._defaultContrast=void 0,this._defaultHue=void 0,this._defaultSaturation=void 0,this._defaultGamma=void 0,this._defaultMinificationFilter=void 0,this._defaultMagnificationFilter=void 0,this._tileDiscardPolicy=e.tileDiscardPolicy,this._tilingScheme=new hg.A({numberOfLevelZeroTilesX:2,numberOfLevelZeroTilesY:2,rectangle:new ve.A(-T.A.PI,-T.A.PI,T.A.PI,T.A.PI),ellipsoid:e.ellipsoid});let t=e.credit;"string"==typeof t&&(t=new ae.A(t)),this._credit=t,this._tileWidth=256,this._tileHeight=256,this._maximumLevel=23,(0,p.A)(this._tileDiscardPolicy)||(this._tileDiscardPolicy=new DE),this._errorEvent=new f.A}DE.prototype.isReady=function(){return!0},DE.prototype.shouldDiscardImage=function(e){return e===this._image},Object.defineProperties(PE.prototype,{url:{get:function(){return this._metadata.url}},proxy:{get:function(){return this._metadata.proxy}},tileWidth:{get:function(){return this._tileWidth}},tileHeight:{get:function(){return this._tileHeight}},maximumLevel:{get:function(){return this._maximumLevel}},minimumLevel:{get:function(){return 0}},tilingScheme:{get:function(){return this._tilingScheme}},rectangle:{get:function(){return this._tilingScheme.rectangle}},tileDiscardPolicy:{get:function(){return this._tileDiscardPolicy}},errorEvent:{get:function(){return this._errorEvent}},credit:{get:function(){return this._credit}},hasAlphaChannel:{get:function(){return!1}}}),PE.fromMetadata=function(e,t){if(xe.A.defined("metadata",e),!e.imageryPresent)throw new Ie.A(`The server ${e.url} doesn't have imagery`);const i=new PE(t);return i._metadata=e,i},PE.prototype.getTileCredits=function(e,t,i){const n=this._metadata,r=n.getTileInformation(e,t,i);if((0,p.A)(r)){const e=n.providers[r.imageryProvider];if((0,p.A)(e))return[e]}},PE.prototype.requestImage=function(e,t,i,n){const r=this._tileDiscardPolicy._image,o=this._metadata,s=_f.tileXYToQuadKey(e,t,i),a=o.getTileInformation(e,t,i);if(!(0,p.A)(a)){if(o.isValid(s)){const r=new pg.A({throttle:n.throttle,throttleByServer:n.throttleByServer,type:n.type,priorityFunction:n.priorityFunction});return void o.populateSubtree(e,t,i,r)}return Promise.resolve(r)}if(!a.hasImagery())return Promise.resolve(r);const l=function(e,t,i,n,r,o){const s=_f.tileXYToQuadKey(i,n,r);let a=t.imageryVersion;return a=(0,p.A)(a)&&a>0?a:1,e._metadata.resource.getDerivedResource({url:`flatfile?f1-0${s}-i.${a.toString()}`,request:o})}(this,a,e,t,i,n).fetchArrayBuffer();return(0,p.A)(l)?l.then(function(e){yy(o.key,e);let t,i=new Uint8Array(e);const n=o.protoImagery;if((0,p.A)(n)&&n||(t=function(e){const t="JFIF";if(e[6]===t.charCodeAt(0)&&e[7]===t.charCodeAt(1)&&e[8]===t.charCodeAt(2)&&e[9]===t.charCodeAt(3))return"image/jpeg";const i="PNG";return e[1]===i.charCodeAt(0)&&e[2]===i.charCodeAt(1)&&e[3]===i.charCodeAt(2)?"image/png":void 0}(i)),!(0,p.A)(t)&&(!(0,p.A)(n)||n)){const e=function(e){const t=nf.Reader.create(e),i=t.len,n={};for(;t.pos<i;){const e=t.uint32();let i;switch(e>>>3){case 1:n.imageType=t.uint32();break;case 2:n.imageData=t.bytes();break;case 3:n.alphaType=t.uint32();break;case 4:n.imageAlpha=t.bytes();break;case 5:if(i=n.copyrightIds,(0,p.A)(i)||(i=n.copyrightIds=[]),2==(7&e)){const e=t.uint32()+t.pos;for(;t.pos<e;)i.push(t.uint32())}else i.push(t.uint32());break;default:t.skipType(7&e)}}const r=n.imageType;if((0,p.A)(r))switch(r){case 0:n.imageType="image/jpeg";break;case 4:n.imageType="image/png";break;default:throw new Ie.A("GoogleEarthEnterpriseImageryProvider: Unsupported image type.")}const o=n.alphaType;return(0,p.A)(o)&&0!==o&&(console.log("GoogleEarthEnterpriseImageryProvider: External alpha not supported."),delete n.alphaType,delete n.imageAlpha),n}(i);t=e.imageType,i=e.imageData}return(0,p.A)(t)&&(0,p.A)(i)?(0,Oy.A)({uint8Array:i,format:t,flipY:!0}):r}):void 0},PE.prototype.pickFeatures=function(e,t,i,n,r){};const OE=PE;var RE=i(38300);const kE=new d.A(1,1,1,.4),FE=new d.A(0,1,0,.05),LE=new d.A(0,.5,0,.2);function QE(e){e=e??g.A.EMPTY_OBJECT,this._defaultAlpha=void 0,this._defaultNightAlpha=void 0,this._defaultDayAlpha=void 0,this._defaultBrightness=void 0,this._defaultContrast=void 0,this._defaultHue=void 0,this._defaultSaturation=void 0,this._defaultGamma=void 0,this._defaultMinificationFilter=void 0,this._defaultMagnificationFilter=void 0,this._tilingScheme=(0,p.A)(e.tilingScheme)?e.tilingScheme:new hg.A({ellipsoid:e.ellipsoid}),this._cells=e.cells??8,this._color=e.color??kE,this._glowColor=e.glowColor??FE,this._glowWidth=e.glowWidth??6,this._backgroundColor=e.backgroundColor??LE,this._errorEvent=new f.A,this._tileWidth=e.tileWidth??256,this._tileHeight=e.tileHeight??256,this._canvasSize=e.canvasSize??256,this._canvas=this._createGridCanvas()}Object.defineProperties(QE.prototype,{proxy:{get:function(){}},tileWidth:{get:function(){return this._tileWidth}},tileHeight:{get:function(){return this._tileHeight}},maximumLevel:{get:function(){}},minimumLevel:{get:function(){}},tilingScheme:{get:function(){return this._tilingScheme}},rectangle:{get:function(){return this._tilingScheme.rectangle}},tileDiscardPolicy:{get:function(){}},errorEvent:{get:function(){return this._errorEvent}},credit:{get:function(){}},hasAlphaChannel:{get:function(){return!0}}}),QE.prototype._drawGrid=function(e){const t=this._canvasSize;for(let i=0;i<=this._cells;++i){const n=1+i/this._cells*(t-1);e.moveTo(n,0),e.lineTo(n,t),e.moveTo(0,n),e.lineTo(t,n)}e.stroke()},QE.prototype._createGridCanvas=function(){const e=document.createElement("canvas");e.width=this._canvasSize,e.height=this._canvasSize;const t=this._canvasSize,i=e.getContext("2d"),n=this._backgroundColor.toCssColorString();i.fillStyle=n,i.fillRect(0,0,t,t);const r=this._glowColor.toCssColorString();i.strokeStyle=r,i.lineWidth=this._glowWidth,i.strokeRect(0,0,t,t),this._drawGrid(i),i.lineWidth=.5*this._glowWidth,i.strokeRect(0,0,t,t),this._drawGrid(i);const o=this._color.toCssColorString();return i.strokeStyle=o,i.lineWidth=2,i.strokeRect(0,0,t,t),i.lineWidth=1,this._drawGrid(i),e},QE.prototype.getTileCredits=function(e,t,i){},QE.prototype.requestImage=function(e,t,i,n){return Promise.resolve(this._canvas)},QE.prototype.pickFeatures=function(e,t,i,n,r){};const NE=QE;var GE=i(433052),VE=i(623e3),UE=i(834298);function YE(){}YE._maxDecodingConcurrency=Math.max(Np.A.hardwareConcurrency-1,1),YE._decodeTaskProcessor=new Af.A("decodeI3S",YE._maxDecodingConcurrency),YE._promise=void 0,YE.decode=async function(e,t,i,n,r){return xe.A.typeOf.string("url",e),xe.A.defined("defaultGeometrySchema",t),xe.A.defined("geometryData",i),(0,p.A)(YE._promise)||(YE._promise=async function(){if(await YE._decodeTaskProcessor.initWebAssemblyModule({wasmBinaryFile:"ThirdParty/draco_decoder.wasm"}))return YE._decodeTaskProcessor;throw new Ie.A("I3S decoder could not be initialized.")}()),YE._promise.then(function(o){const s=i._parent._data,a=i._parent._inverseRotationMatrix;let l=0,c=0,A=0;(0,p.A)(s.obb)?(l=s.obb.center[0],c=s.obb.center[1],A=s.obb.center[2]):(0,p.A)(s.mbs)&&(l=s.mbs[0],c=s.mbs[1],A=s.mbs[2]);const u=qt.A.fromRotationX(-T.A.PI_OVER_TWO),h=new qt.A;qt.A.multiply(u,a,h);const d=ne.A.fromDegrees(l,c,A),g=ce.A.WGS84.cartographicToCartesian(d),f={binaryData:i._data,featureData:(0,p.A)(n)&&(0,p.A)(n[0])?n[0].data:void 0,schema:t,bufferInfo:i._geometryBufferInfo,ellipsoidRadiiSquare:ce.A.WGS84.radiiSquared,url:e,geoidDataList:i._dataProvider._geoidDataList,cartographicCenter:d,cartesianCenter:g,parentRotation:h,enableFeatures:i._dataProvider.showFeatures,splitGeometryByColorTransparency:i._dataProvider.adjustMaterialAlphaMode,symbologyData:r,calculateNormals:i._dataProvider.calculateNormals};return o.scheduleTask(f)})};const KE=YE;function HE(e,t){this._parent=e,this._dataProvider=e._dataProvider,this._layer=e._layer,(0,p.A)(this._parent._nodeIndex)?this._resource=this._parent._layer.resource.getDerivedResource({url:`nodes/${this._parent._data.mesh.attribute.resource}/${t}`}):this._resource=this._parent.resource.getDerivedResource({url:t})}Object.defineProperties(HE.prototype,{resource:{get:function(){return this._resource}},data:{get:function(){return this._data}}}),HE.prototype.load=async function(){return this._data=await Qb.loadJson(this._resource),this._data};const zE=HE;function qE(e,t){this._storageInfo=t,this._parent=e,this._dataProvider=e._dataProvider,this._loadPromise=void 0;const i=`attributes/${t.key}/0`;(0,p.A)(this._parent._nodeIndex)?this._resource=this._parent._layer.resource.getDerivedResource({url:`nodes/${this._parent._data.mesh.attribute.resource}/${i}`}):this._resource=this._parent.resource.getDerivedResource({url:i})}function WE(e){return"UInt8"===e||"Int8"===e?1:"UInt16"===e||"Int16"===e?2:"UInt32"===e||"Int32"===e||"Oid32"===e||"Float32"===e?4:"UInt64"===e||"Int64"===e||"Float64"===e?8:0}function jE(e){return"String"===e?1:WE(e)}Object.defineProperties(qE.prototype,{resource:{get:function(){return this._resource}},header:{get:function(){return this._header}},values:{get:function(){if((0,p.A)(this._values)){if((0,p.A)(this._values.attributeValues))return this._values.attributeValues;if((0,p.A)(this._values.objectIds))return this._values.objectIds}return[]}},name:{get:function(){return this._storageInfo.name}}}),qE.prototype.load=function(){return(0,p.A)(this._loadPromise)||(this._loadPromise=async function(e){const t=await e._dataProvider._loadBinary(e._resource),i=new DataView(t);e._data=t,e._validateHeader(i);const n=e._parseHeader(i),r=e._getBodyOffset(n);e._validateBody(i,r),e._parseBody(i,r)}(this).catch(function(e){console.error(e)})),this._loadPromise},qE.prototype._parseValue=function(e,t,i){let n;if("UInt8"===t)n=e.getUint8(i),i+=1;else if("Int8"===t)n=e.getInt8(i),i+=1;else if("UInt16"===t)n=e.getUint16(i,!0),i+=2;else if("Int16"===t)n=e.getInt16(i,!0),i+=2;else if("UInt32"===t)n=e.getUint32(i,!0),i+=4;else if("Oid32"===t)n=e.getUint32(i,!0),i+=4;else if("Int32"===t)n=e.getInt32(i,!0),i+=4;else if("UInt64"===t){const t=e.getUint32(i,!0),r=e.getUint32(i+4,!0);n=t+Math.pow(2,32)*r,i+=8}else if("Int64"===t){const t=e.getUint32(i,!0),r=e.getUint32(i+4,!0);n=r<Math.pow(2,31)?t+Math.pow(2,32)*r:t+Math.pow(2,32)*(r-Math.pow(2,32)),i+=8}else"Float32"===t?(n=e.getFloat32(i,!0),i+=4):"Float64"===t?(n=e.getFloat64(i,!0),i+=8):"String"===t&&(n=String.fromCharCode(e.getUint8(i)),i+=1);return{value:n,offset:i}},qE.prototype._parseHeader=function(e){let t=0;this._header={};for(let i=0;i<this._storageInfo.header.length;i++){const n=this._storageInfo.header[i],r=this._parseValue(e,n.valueType,t);this._header[n.property]=r.value,t=r.offset}return t},qE.prototype._parseBody=function(e,t){this._values={};for(let i=0;i<this._storageInfo.ordering.length;i++){const n=this._storageInfo.ordering[i],r="ObjectIds"===n?"objectIds":n,o=this._storageInfo[r];if((0,p.A)(o)){this._values[r]=[];for(let i=0;i<this._header.count;++i)if("String"!==o.valueType){const i=this._parseValue(e,o.valueType,t);this._values[r].push(i.value),t=i.offset}else{const n=this._values.attributeByteCounts[i];let s="";for(let i=0;i<n;++i){const i=this._parseValue(e,o.valueType,t);0!==i.value.charCodeAt(0)&&(s+=i.value),t=i.offset}this._values[r].push(s)}}}},qE.prototype._getBodyOffset=function(e){let t=0;return(0,p.A)(this._storageInfo.attributeValues)?t=WE(this._storageInfo.attributeValues.valueType):(0,p.A)(this._storageInfo.objectIds)&&(t=WE(this._storageInfo.objectIds.valueType)),t>0?Math.ceil(e/t)*t:e},qE.prototype._validateHeader=function(e){let t=0;for(let e=0;e<this._storageInfo.header.length;e++)t+=jE(this._storageInfo.header[e].valueType);if(e.byteLength<t)throw new Ie.A(`Invalid attribute buffer size (field: ${this.name}, header: ${t}, actual: ${e.byteLength})`)},qE.prototype._validateBody=function(e,t){if(!(0,p.A)(this._header.count))throw new Ie.A(`Invalid attribute buffer (field: ${this.name}, count is missing)`);let i;for(let n=0;n<this._storageInfo.ordering.length&&t<e.byteLength;n++){const r=this._storageInfo.ordering[n],o="ObjectIds"===r?"objectIds":r,s=this._storageInfo[o];if(!(0,p.A)(s))throw new Ie.A(`Invalid attribute buffer (field: ${this.name}, ${o} is missing)`);if("String"!==s.valueType)"attributeByteCounts"===o&&(i=t),t+=WE(s.valueType)*this._header.count;else{if(!(0,p.A)(i))throw new Ie.A(`Invalid attribute buffer (field: ${this.name}, attributeByteCounts is missing)`);for(let n=0;n<this._header.count&&t<e.byteLength;++n){const n=this._parseValue(e,this._storageInfo.attributeByteCounts.valueType,i);t+=n.value,i=n.offset}}}if(e.byteLength<t)throw new Ie.A(`Invalid attribute buffer size (field: ${this.name}, expected: ${t}, actual: ${e.byteLength})`)};const JE=qE;function XE(e,t){const i=e._dataProvider,n=e._layer;let r;r=(0,p.A)(e._nodeIndex)?n.resource.getDerivedResource({url:`nodes/${e._data.mesh.geometry.resource}/${t}`}):e.resource.getDerivedResource({url:t}),this._parent=e,this._dataProvider=i,this._layer=n,this._resource=r,this._customAttributes=void 0}Object.defineProperties(XE.prototype,{resource:{get:function(){return this._resource}},data:{get:function(){return this._data}},customAttributes:{get:function(){return this._customAttributes}}}),XE.prototype.load=function(){const e=this;return this._dataProvider._loadBinary(this._resource).then(function(t){return e._data=t,t})};const ZE=new ie.A,$E=new ie.A,eb=new ie.A,tb=new ie.A,ib=new ie.A;function nb(e,t,i,n){const r=ie.A.subtract(n,i,ZE),o=ie.A.cross(r,ie.A.subtract(e,i,$E),tb),s=ie.A.cross(r,ie.A.subtract(t,i,eb),ib);return ie.A.dot(o,s)>=0}const rb=new ie.A,ob=new ie.A,sb=new ie.A,ab=new ie.A,lb=new ie.A,cb=new ie.A,Ab=new ie.A,ub=new ie.A,hb=new ie.A,db=new ie.A;function gb(e){const t=[],i=e.length;for(let n=0;n<i;n++)n<3?t.push(Yy(e[n])):t.push(e[n]);return t}XE.prototype.getClosestPointIndexOnTriangle=function(e,t,i){if((0,p.A)(this._customAttributes)&&(0,p.A)(this._customAttributes.positions)){const n=new ie.A(e,t,i);n.x-=this._customAttributes.cartesianCenter.x,n.y-=this._customAttributes.cartesianCenter.y,n.z-=this._customAttributes.cartesianCenter.z,qt.A.multiplyByVector(this._customAttributes.parentRotation,n,n);let r,o,s,a,l=Number.MAX_VALUE;const c=this._customAttributes.positions,A=this._customAttributes.indices;let u;u=(0,p.A)(A)?A.length:c.length/3;for(let e=0;e<u;e++){let t,i,u;(0,p.A)(A)?(t=A[e],i=A[e+1],u=A[e+2]):(t=3*e,i=3*e+1,u=3*e+2);const h=ie.A.fromElements(c[3*t],c[3*t+1],c[3*t+2],rb),d=ie.A.fromElements(c[3*i],c[3*i+1],c[3*i+2],ob),g=new ie.A(c[3*u],c[3*u+1],c[3*u+2],sb);if(!nb(n,h,d,g)||!nb(n,d,h,g)||!nb(n,g,h,d))continue;const f=ie.A.subtract(d,h,ab),m=ie.A.subtract(g,h,lb),_=ie.A.cross(f,m,cb);if(0===ie.A.magnitude(_))continue;const y=ie.A.normalize(_,Ab),w=ie.A.subtract(n,h,ub),C=Math.abs(ie.A.dot(w,y));if(C<l){l=C,r=e;const c=ie.A.magnitudeSquared(ie.A.subtract(n,h,w)),A=ie.A.magnitudeSquared(ie.A.subtract(n,d,hb)),p=ie.A.magnitudeSquared(ie.A.subtract(n,g,db));c<A&&c<p?(s=t,a=h,o=c):A<p?(s=i,a=d,o=A):(s=u,a=g,o=p)}}if((0,p.A)(r))return{index:s,distanceSquared:o,distance:Math.sqrt(o),queriedPosition:n,closestPosition:ie.A.clone(a)}}return{index:-1,distanceSquared:Number.Infinity,distance:Number.Infinity}},XE.prototype._generateGltf=function(e,t,i,n,r,o,s,a){let l,c={pbrMetallicRoughness:{metallicFactor:0},doubleSided:!0,name:"Material"},A=!1,u="";if((0,p.A)(this._parent._data.mesh)&&(0,p.A)(this._layer._data.materialDefinitions)){const e=this._parent._data.mesh.material.definition;if(e>=0&&e<this._layer._data.materialDefinitions.length){if(l=this._layer._data.materialDefinitions[e],c=l,(0,p.A)(c.pbrMetallicRoughness)&&(0,p.A)(c.pbrMetallicRoughness.baseColorTexture)){A=!0,c.pbrMetallicRoughness.baseColorTexture.index=0;let e="0";if((0,p.A)(this._layer._data.textureSetDefinitions))for(let t=0;t<this._layer._data.textureSetDefinitions.length;t++){const i=this._layer._data.textureSetDefinitions[t];for(let t=0;t<i.formats.length;t++){const n=i.formats[t];if("jpg"===n.format){e=n.name;break}}}(0,p.A)(this._parent._data.mesh)&&this._parent._data.mesh.material.resource>=0&&(u=this._layer.resource.getDerivedResource({url:`nodes/${this._parent._data.mesh.material.resource}/textures/${e}`}).url)}(0,p.A)(c.pbrMetallicRoughness)&&(0,p.A)(c.pbrMetallicRoughness.baseColorFactor)&&(c.pbrMetallicRoughness.baseColorFactor=gb(c.pbrMetallicRoughness.baseColorFactor)),(0,p.A)(c.emissiveFactor)&&(c.emissiveFactor=gb(c.emissiveFactor))}}else(0,p.A)(this._parent._data.textureData)&&(A=!0,u=this._parent.resource.getDerivedResource({url:`${this._parent._data.textureData[0].href}`}).url,c.pbrMetallicRoughness.baseColorTexture={index:0});(0,p.A)(c.alphaMode)&&(c.alphaMode=c.alphaMode.toUpperCase());let h=[],d=[],g=[];A&&(h=[{sampler:0,source:0}],d=[{uri:u}],g=[{magFilter:9729,minFilter:9986,wrapS:10497,wrapT:10497}]);const f=[],m=i.length;for(let e=0;e<m;e++){const t=i[e].primitives,n=t.length;for(let e=0;e<n;e++){const i=t[e];if((0,p.A)(i.material)){for(;i.material>=f.length;){const e=(0,ws.A)(c,!0);f.push(e)}const e=f[i.material];(0,p.A)(i.extra)&&i.extra.isTransparent?(0,p.A)(e.alphaMode)||(e.alphaMode="BLEND"):"BLEND"===e.alphaMode&&(e.alphaMode="OPAQUE")}}}return{scene:0,scenes:[{nodes:e}],nodes:t,meshes:i,buffers:n,bufferViews:r,accessors:o,materials:f,textures:h,images:d,samplers:g,asset:{version:"2.0"},extensions:s,extensionsUsed:a}};const pb=XE;function fb(e,t,i){let n,r,o,s;i?(n=0,r=e):(n=e._level+1,r=e._layer),"number"==typeof t?o=t:s=e.resource.getDerivedResource({url:`${t}/`}),this._parent=e,this._dataProvider=e._dataProvider,this._isRoot=i,this._level=n,this._layer=r,this._nodeIndex=o,this._resource=s,this._isLoading=!1,this._tile=void 0,this._data=void 0,this._geometryData=[],this._featureData=[],this._fields={},this._children=[],this._childrenReadyPromise=void 0,this._globalTransform=void 0,this._inverseGlobalTransform=void 0,this._inverseRotationMatrix=void 0,this._symbologyData=void 0}function mb(e,t){const i=new JE(e,t);return e._fields[t.name]=i,i.load()}function _b(e,t,i){if(!(0,p.A)(i.values)||0===i.values.length)return!1;const n=(0,p.A)(t)?t.values:[];let r;e<n.length&&(r=n[e]);let o=!1;for(let e=0;e<i.values.length;e++)if(i.values[e]===r){o=!0;break}return o}async function yb(e,t){const i=e._tile.content.batchTable;if((0,p.A)(i)&&i.featuresLength>0){i.setAllShow(!0);const t=await async function(e){const t=e._layer._filters,i=[];for(let n=0;n<t.length;n++){const r=e.loadField(t[n].name);i.push(r)}return await Promise.all(i),t}(e);if(t.length>0)for(let n=0;n<i.featuresLength;n++)for(let r=0;r<t.length;r++){const o=t[r];if(!_b(n,e._fields[o.name],o)){i.setShow(n,!1);break}}}t.show=!0}function wb(e,t,i,n){return n[e+t*i]}function Cb(e,t,i){const n=i.nativeExtent;let r=(e-n.west)/(n.east-n.west)*(i.width-1),o=(t-n.south)/(n.north-n.south)*(i.height-1);const s=Math.floor(r);let a=Math.floor(o);r-=s,o-=a;const l=s<i.width?s+1:s;let c=a<i.height?a+1:a;a=i.height-1-a,c=i.height-1-c;let A=(u=r,h=o,d=wb(s,a,i.width,i.buffer),g=wb(l,a,i.width,i.buffer),p=wb(s,c,i.width,i.buffer),f=wb(l,c,i.width,i.buffer),(d*(1-u)+g*u)*(1-h)+(p*(1-u)+f*u)*h);var u,h,d,g,p,f;return A=A*i.scale+i.offset,A}Object.defineProperties(fb.prototype,{resource:{get:function(){return this._resource}},layer:{get:function(){return this._layer}},parent:{get:function(){return this._parent}},children:{get:function(){return this._children}},geometryData:{get:function(){return this._geometryData}},featureData:{get:function(){return this._featureData}},fields:{get:function(){return this._fields}},tile:{get:function(){return this._tile}},data:{get:function(){return this._data}}}),fb.prototype.load=async function(){const e=this;function t(){if(!e._isRoot){const t=e._create3DTileDefinition();e._tile=new DC.A(e._layer._tileset,e._dataProvider.resource,t,e._parent._tile),e._tile._i3sNode=e}}if(!(0,p.A)(this._nodeIndex)){const i=await Qb.loadJson(this._resource);return e._data=i,void t()}const i=await this._layer._getNodeInNodePages(this._nodeIndex);let n;e._data=i,e._isRoot?n="nodes/root/":(0,p.A)(i.mesh)&&(n=`../${i.mesh.geometry.resource}/`),(0,p.A)(n)&&(0,p.A)(e._parent.resource)&&(e._resource=e._parent.resource.getDerivedResource({url:n})),t()},fb.prototype.loadFields=function(){const e=this._layer._data.attributeStorageInfo,t=[];if((0,p.A)(e))for(let i=0;i<e.length;i++){const n=e[i],r=this._fields[n.name];(0,p.A)(r)?t.push(r.load()):t.push(mb(this,n))}return Promise.all(t)},fb.prototype.loadField=function(e){xe.A.defined("name",e);const t=this._fields[e];if((0,p.A)(t))return t.load();const i=this._layer._data.attributeStorageInfo;if((0,p.A)(i))for(let t=0;t<i.length;t++){const n=i[t];if(n.name===e)return mb(this,n)}return Promise.resolve()},fb.prototype.getFieldsForPickedPosition=function(e){const t=this.geometryData[0];if(!(0,p.A)(t.customAttributes.featureIndex))return{};const i=t.getClosestPointIndexOnTriangle(e.x,e.y,e.z);if(-1===i.index||i.index>t.customAttributes.featureIndex.length)return{};const n=t.customAttributes.featureIndex[i.index];return this.getFieldsForFeature(n)},fb.prototype.getFieldsForFeature=function(e){const t={};for(const i in this.fields)if(this.fields.hasOwnProperty(i)){const n=this.fields[i];e>=0&&e<n.values.length&&(t[n.name]=n.values[e])}return t},fb.prototype._loadChildren=function(){const e=this;if((0,p.A)(this._childrenReadyPromise))return this._childrenReadyPromise;const t=[];if((0,p.A)(e._data.children))for(let i=0;i<e._data.children.length;i++){const n=e._data.children[i],r=new fb(e,n.href??n,!1);e._children.push(r),t.push(r.load())}return this._childrenReadyPromise=Promise.all(t).then(function(){for(let t=0;t<e._children.length;t++)e._tile.children.push(e._children[t]._tile)}),this._childrenReadyPromise},fb.prototype._loadGeometryData=function(){const e=[];if((0,p.A)(this._data.geometryData))for(let t=0;t<this._data.geometryData.length;t++){const i=new pb(this,this._data.geometryData[t].href);this._geometryData.push(i),e.push(i.load())}else if((0,p.A)(this._data.mesh)){const t=this._layer._findBestGeometryBuffers(this._data.mesh.geometry.definition,["position","uv0"]),i=`./geometries/${t.bufferIndex}/`,n=new pb(this,i);n._geometryDefinitions=t.definition,n._geometryBufferInfo=t.geometryBufferInfo,this._geometryData.push(n),e.push(n.load())}return Promise.all(e)},fb.prototype._loadFeatureData=function(){const e=[];if((0,p.A)(this._data.featureData))for(let t=0;t<this._data.featureData.length;t++){const i=new zE(this,this._data.featureData[t].href);this._featureData.push(i),e.push(i.load())}return Promise.all(e)},fb.prototype._clearGeometryData=function(){this._geometryData=[]},fb.prototype._create3DTileDefinition=function(){const e=this._data.obb,t=this._data.mbs;if(!(0,p.A)(e)&&!(0,p.A)(t))return void console.error("Failed to load I3S node. Bounding volume is required.");let i;if(i=(0,p.A)(e)?ne.A.fromDegrees(e.center[0],e.center[1],e.center[2]):ne.A.fromDegrees(t[0],t[1],t[2]),(0,p.A)(this._dataProvider._geoidDataList)&&(0,p.A)(i))for(let e=0;e<this._dataProvider._geoidDataList.length;e++){const t=this._dataProvider._geoidDataList[e],n=t.projection.project(i);if(n.x>t.nativeExtent.west&&n.x<t.nativeExtent.east&&n.y>t.nativeExtent.south&&n.y<t.nativeExtent.north){i.height+=Cb(n.x,n.y,t);break}}let n,r={},o=0;(0,p.A)(e)?(r={box:[0,0,0,e.halfSize[0],0,0,0,e.halfSize[1],0,0,0,e.halfSize[2]]},o=Math.max(Math.max(this._data.obb.halfSize[0],this._data.obb.halfSize[1]),this._data.obb.halfSize[2]),n=ce.A.WGS84.cartographicToCartesian(i)):(r={sphere:[0,0,0,t[3]]},n=ce.A.WGS84.cartographicToCartesian(i),o=this._data.mbs[3]),o*=2;let s=1/0;if((0,p.A)(this._data.lodThreshold))"maxScreenThresholdSQ"===this._layer._data.nodePages.lodSelectionMetricType?s=o/Math.sqrt(this._data.lodThreshold/(.25*Math.PI)):"maxScreenThreshold"===this._layer._data.nodePages.lodSelectionMetricType?s=o/this._data.lodThreshold:console.error("Invalid lodSelectionMetricType in Layer");else if((0,p.A)(this._data.lodSelection))for(let e=0;e<this._data.lodSelection.length;e++)"maxScreenThreshold"===this._data.lodSelection[e].metricType&&(s=o/this._data.lodSelection[e].maxError);s===1/0&&(s=1e5);const a=16*s,l=new bs.A(0,0,0);let c=Wt.A.headingPitchRollQuaternion(n,l);(0,p.A)(this._data.obb)&&(c=new Be.A(this._data.obb.quaternion[0],this._data.obb.quaternion[1],this._data.obb.quaternion[2],this._data.obb.quaternion[3]));const A=qt.A.fromQuaternion(c),u=qt.A.inverse(A,new qt.A),h=new Gg.A(A[0],A[1],A[2],0,A[3],A[4],A[5],0,A[6],A[7],A[8],0,n.x,n.y,n.z,1),d=Gg.A.inverse(h,new Gg.A),g=Gg.A.clone(h);(0,p.A)(this._parent._globalTransform)&&Gg.A.multiply(h,this._parent._inverseGlobalTransform,g),this._globalTransform=h,this._inverseGlobalTransform=d,this._inverseRotationMatrix=u;const f=[];for(let e=0;e<this._children.length;e++)f.push(this._children[e]._create3DTileDefinition());return{children:f,refine:"REPLACE",boundingVolume:r,transform:[g[0],g[4],g[8],g[12],g[1],g[5],g[9],g[13],g[2],g[6],g[10],g[14],g[3],g[7],g[11],g[15]],content:{uri:(0,p.A)(this._resource)?this._resource.url:void 0},geometricError:a}},fb.prototype._loadSymbology=async function(){!(0,p.A)(this._symbologyData)&&(0,p.A)(this._layer._symbology)&&(this._symbologyData=await this._layer._symbology._getSymbology(this))},fb.prototype._createContentURL=async function(){let e={scene:0,scenes:[{nodes:[0]}],nodes:[{name:"singleNode"}],meshes:[],buffers:[],bufferViews:[],accessors:[],materials:[],textures:[],images:[],samplers:[],asset:{version:"2.0"}};const t=[this._loadGeometryData()];if(this._dataProvider.legacyVersion16&&t.push(this._loadFeatureData()),await Promise.all(t),(0,p.A)(this._geometryData)&&this._geometryData.length>0){this._dataProvider._applySymbology&&await this._loadSymbology();const t=this._geometryData[0].resource.url,i=this._layer._data.store.defaultGeometrySchema,n=this._geometryData[0],r=await KE.decode(t,i,n,this._featureData[0],this._symbologyData);if(!(0,p.A)(r))return;e=n._generateGltf(r.meshData.nodesInScene,r.meshData.nodes,r.meshData.meshes,r.meshData.buffers,r.meshData.bufferViews,r.meshData.accessors,r.meshData.rootExtensions,r.meshData.extensionsUsed),this._geometryData[0]._customAttributes=r.meshData._customAttributes}const i=this._dataProvider._binarizeGltf(e),n=new Blob([i],{type:"application/binary"});return URL.createObjectURL(n)},fb.prototype._filterFeatures=function(){const e=[];for(let t=0;t<this._children.length;t++){const i=this._children[t]._filterFeatures();e.push(i)}const t=this._tile?.content?._model;if((0,p.A)(this._geometryData)&&this._geometryData.length>0&&(0,p.A)(t)&&t.ready){t.show=!1;const i=yb(this,t);e.push(i)}return Promise.all(e)},DC.A.prototype._hookedRequestContent=DC.A.prototype.requestContent,DC.A.prototype.requestContent=function(){if(!this.tileset._isI3STileSet)return this._hookedRequestContent();if(!this._isLoading){this._isLoading=!0;const e=this;return this._i3sNode._createContentURL().then(t=>{if((0,p.A)(t))return e._contentResource=new be.A({url:t}),e._hookedRequestContent();e._isLoading=!1}).then(t=>{const i=t?._model;return(0,p.A)(e._i3sNode._geometryData)&&e._i3sNode._geometryData.length>0&&(0,p.A)(i)&&(i.show=!1,i.readyEvent.addEventListener(()=>{yb(e._i3sNode,i)})),e._isLoading=!1,t})}},Object.defineProperties(DC.A.prototype,{i3sNode:{get:function(){return this._i3sNode}}});const Bb=fb;function vb(e){this._layer=e,this._defaultSymbology=void 0,this._valueFields=[],this._uniqueValueHash=void 0,this._classBreaksHash=void 0,this._parseLayerSymbology()}function Eb(e,t){const i=[];for(let t=0;t<e.length;t++){const n=d.A.byteToFloat(e[t]);t<3?i.push(Yy(n)):i.push(n)}return 3===i.length&&((0,p.A)(t)?i.push(1-t/100):i.push(1)),i}function bb(e,t){const i={edges:void 0,material:void 0};if((0,p.A)(e)&&(0,p.A)(e.symbolLayers))for(let n=0;n<e.symbolLayers.length;n++){const r=e.symbolLayers[n];if("Fill"===r.type){const e=r.edges,n=r.outline;if((0,p.A)(e)?(i.edges={},(0,p.A)(e.color)&&(i.edges.color=Eb(e.color,e.transparency))):(0,p.A)(n)&&(i.edges={},(0,p.A)(n.color)&&(i.edges.color=Eb(n.color,n.transparency))),!t){const e=r.material;(0,p.A)(e)&&(i.material={colorMixMode:e.colorMixMode},(0,p.A)(e.color)&&(i.material.color=Eb(e.color,e.transparency)))}break}}return i}function Ib(e,t,i,n){const r=t[i];if(n<r.length){const o=e[r[n]];return(0,p.A)(o)&&++i<t.length?Ib(o,t,i,n):o}}Object.defineProperties(vb.prototype,{defaultSymbology:{get:function(){return this._defaultSymbology}}}),vb.prototype._parseLayerSymbology=function(){const e=this._layer.data.drawingInfo;if((0,p.A)(e)&&(0,p.A)(e.renderer)){const t=this._layer.data.cachedDrawingInfo,i=(0,p.A)(t)&&!0===t.color,n=e.renderer;"simple"===n.type?this._defaultSymbology=bb(n.symbol,i):"uniqueValue"===n.type?(this._defaultSymbology=bb(n.defaultSymbol,i),this._valueFields.push(n.field1),(0,p.A)(n.field2)&&this._valueFields.push(n.field2),(0,p.A)(n.field3)&&this._valueFields.push(n.field3),this._uniqueValueHash=function(e,t){if((0,p.A)(e.uniqueValueGroups)){const i={};for(let n=0;n<e.uniqueValueGroups.length;n++){const r=e.uniqueValueGroups[n].classes;if((0,p.A)(r))for(let e=0;e<r.length;e++){const n=bb(r[e].symbol,t),o=r[e].values;for(let e=0;e<o.length;e++){const t=o[e];let r=i;for(let e=0;e<t.length;e++){const i=t[e];e===t.length-1?r[i]=n:((0,p.A)(r[i])||(r[i]={}),r=r[i])}}}}return i}if((0,p.A)(e.uniqueValueInfos)){const i={};for(let n=0;n<e.uniqueValueInfos.length;n++){const r=e.uniqueValueInfos[n];i[r.value]=bb(r.symbol,t)}return i}}(n,i)):"classBreaks"===n.type&&(this._defaultSymbology=bb(n.defaultSymbol,i),this._valueFields.push(n.field),this._classBreaksHash=function(e,t){if((0,p.A)(e.classBreakInfos)){const i=[...e.classBreakInfos];i.sort(function(e,t){return(e.classMaxValue??e.classMinValue)-(t.classMaxValue??t.classMinValue)});const n={ranges:[],symbols:[]};(0,p.A)(e.minValue)&&(n.ranges.push(e.minValue),n.symbols.push(void 0));for(let e=0;e<i.length;e++){const r=i[e];(0,p.A)(r.classMinValue)&&(0===n.ranges.length||r.classMinValue>n.ranges[n.ranges.length-1])&&(n.ranges.push(r.classMinValue),n.symbols.push(void 0)),(0,p.A)(r.classMaxValue)&&(0===n.ranges.length||r.classMaxValue>n.ranges[n.ranges.length-1])&&(n.ranges.push(r.classMaxValue),n.symbols.push(bb(r.symbol,t)))}return n.symbols.push(void 0),n}}(n,i))}},vb.prototype._getSymbology=async function(e){const t={default:this._defaultSymbology};if(this._valueFields.length>0){const i=[];for(let t=0;t<this._valueFields.length;t++)i.push(e.loadField(this._valueFields[t]));await Promise.all(i);const n=[];for(let t=0;t<this._valueFields.length;t++)n.push(e.fields[this._valueFields[t]].values);let r;if((0,p.A)(this._uniqueValueHash)?r=e=>Ib(this._uniqueValueHash,n,0,e):(0,p.A)(this._classBreaksHash)&&(r=e=>function(e,t,i){const n=t[i],r=function(e,t){let i=0,n=e.length;if(i<n)do{const r=i+n>>>1;e[r]<t?i=r+1:n=r}while(i<n);return i}(e.ranges,n);return e.symbols[r]}(this._classBreaksHash,n[0],e)),(0,p.A)(r)){const e=n[0];for(let i=0;i<e.length;i++){const e=r(i);(0,p.A)(e)&&(t[i]=e)}}}return t};const xb=vb;function Sb(e,t,i){this._dataProvider=e,this._parent=i,!(0,p.A)(t.href)&&(0,p.A)(t.id)&&(t.href=`layers/${t.id}`);const n=this._parent.resource.getUrlComponent();let r="";r=n.match(/layers\/\d/)?`${n}`.replace(/\/+$/,""):`${n}`.replace(/\/?$/,"/").concat(`${t.href}`),this._version=t.store.version;const o=this._version.split(".");this._majorVersion=parseInt(o[0]),this._minorVersion=o.length>1?parseInt(o[1]):0,this._resource=new be.A({url:r}),this._resource.setQueryParameters(this._dataProvider.resource.queryParameters),this._resource.appendForwardSlash(),this._data=t,this._rootNode=void 0,this._nodePages={},this._nodePageFetches={},this._extent=void 0,this._tileset=void 0,this._geometryDefinitions=void 0,this._filters=[],this._symbology=void 0,this._computeGeometryDefinitions(!0),this._computeExtent()}Object.defineProperties(Sb.prototype,{resource:{get:function(){return this._resource}},rootNode:{get:function(){return this._rootNode}},tileset:{get:function(){return this._tileset}},data:{get:function(){return this._data}},version:{get:function(){return this._version}},majorVersion:{get:function(){return this._majorVersion}},minorVersion:{get:function(){return this._minorVersion}},legacyVersion16:{get:function(){if((0,p.A)(this.version))return this.majorVersion<1||1===this.majorVersion&&this.minorVersion<=6}}}),Sb.prototype.load=async function(e){if(4326!==this._data.spatialReference.wkid)throw new Ie.A(`Unsupported spatial reference: ${this._data.spatialReference.wkid}`);if(this._dataProvider.applySymbology&&(this._symbology=new xb(this)),await this._dataProvider.loadGeoidData(),await this._loadRootNode(e),await this._create3DTileset(e),this._rootNode._tile=this._tileset._root,this._tileset._root._i3sNode=this._rootNode,this.legacyVersion16)return this._rootNode._loadChildren()},Sb.prototype._computeGeometryDefinitions=function(e){if(this._geometryDefinitions=[],(0,p.A)(this._data.geometryDefinitions))for(let t=0;t<this._data.geometryDefinitions.length;t++){const i=[],n=this._data.geometryDefinitions[t].geometryBuffers;for(let t=0;t<n.length;t++){const r=n[t],o=[];let s=!1;if((0,p.A)(r.compressedAttributes)&&e){s=!0;const e=r.compressedAttributes.attributes;for(let t=0;t<e.length;t++)o.push(e[t])}else for(const e in r)"offset"!==e&&o.push(e);i.push({compressed:s,attributes:o,index:n.indexOf(r)})}i.sort(function(e,t){return e.compressed&&!t.compressed?-1:!e.compressed&&t.compressed?1:e.attributes.length-t.attributes.length}),this._geometryDefinitions.push(i)}},Sb.prototype._findBestGeometryBuffers=function(e,t){const i=this._geometryDefinitions[e];if((0,p.A)(i)){for(let e=0;e<i.length;++e){const n=i[e];let r=!1;const o=n.attributes;for(let e=0;e<t.length;e++)if(!o.includes(t[e])){r=!0;break}if(!r)return{bufferIndex:n.index,definition:i,geometryBufferInfo:n}}if((0,p.A)(i[0]))return{bufferIndex:0,definition:i,geometryBufferInfo:i[0]}}},Sb.prototype._loadRootNode=function(e){if((0,p.A)(this._data.nodePages)){let e=0;(0,p.A)(this._data.nodePages.rootIndex)&&(e=this._data.nodePages.rootIndex),this._rootNode=new Bb(this,e,!0)}else this._rootNode=new Bb(this,this._data.store.rootNode,!0);return this._rootNode.load(e)},Sb.prototype._getNodeInNodePages=function(e){const t=Math.floor(e/this._data.nodePages.nodesPerPage),i=e%this._data.nodePages.nodesPerPage;return this._loadNodePage(t).then(function(e){return e.nodes[i]})},Sb._fetchJson=function(e){return e.fetchJson()},Sb.prototype._loadNodePage=function(e){const t=this;if(!(0,p.A)(this._nodePageFetches[e])){const i=this.resource.getDerivedResource({url:`nodepages/${e}/`}),n=Sb._fetchJson(i).then(function(i){return(0,p.A)(i.error)&&200!==i.error.code?Promise.reject(i.error):(t._nodePages[e]=i.nodes,i)});this._nodePageFetches[e]=n}return this._nodePageFetches[e]},Sb.prototype._computeExtent=function(){(0,p.A)(this._data.fullExtent)?this._extent=ve.A.fromDegrees(this._data.fullExtent.xmin,this._data.fullExtent.ymin,this._data.fullExtent.xmax,this._data.fullExtent.ymax):(0,p.A)(this._data.store.extent)&&(this._extent=ve.A.fromDegrees(this._data.store.extent[0],this._data.store.extent[1],this._data.store.extent[2],this._data.store.extent[3]))},Sb.prototype._create3DTileset=async function(e){const t={asset:{version:"1.0"},geometricError:Number.MAX_VALUE,root:this._rootNode._create3DTileDefinition()},i=new Blob([JSON.stringify(t)],{type:"application/json"}),n=URL.createObjectURL(i),r=this._symbology?.defaultSymbology?.edges?.color;(0,p.A)(r)&&!(0,p.A)(e?.outlineColor)&&((e=(0,p.A)(e)?(0,ws.A)(e):{}).outlineColor=d.A.fromCartesian4(Fg.A.fromArray(r))),this._tileset=await pB.A.fromUrl(n,e),this._tileset.show=this._parent.show,this._tileset._isI3STileSet=!0,this._tileset.tileUnload.addEventListener(function(e){e._i3sNode._clearGeometryData(),URL.revokeObjectURL(e._contentResource._url),e._contentResource=e._i3sNode.resource}),this._tileset.tileVisible.addEventListener(function(e){(0,p.A)(e._i3sNode)&&e._i3sNode._loadChildren()})},Sb.prototype._updateVisibility=function(){(0,p.A)(this._tileset)&&(this._tileset.show=this._parent.show)},Sb.prototype.filterByAttributes=function(e){this._filters=(0,p.A)(e)?(0,ws.A)(e,!0):[];const t=this._rootNode;return(0,p.A)(t)?t._filterFeatures():Promise.resolve()};const Tb=Sb;function Mb(e,t){this._dataProvider=e,this._resource=new be.A({url:t}),this._resource.setQueryParameters(e.resource.queryParameters),this._resource.appendForwardSlash()}Object.defineProperties(Mb.prototype,{resource:{get:function(){return this._resource}},data:{get:function(){return this._data}},names:{get:function(){const e=[],t=this._data.summary;if((0,p.A)(t))for(let i=0;i<t.length;++i)e.push(t[i].fieldName);return e}}}),Mb.prototype.load=async function(){return this._data=await Qb.loadJson(this._resource),this._data},Mb.prototype._getValues=function(e){const t=this._data.summary;if((0,p.A)(t))for(let i=0;i<t.length;++i){const n=t[i];if(n.fieldName===e)return(0,p.A)(n.mostFrequentValues)?[...n.mostFrequentValues]:[]}};const Db=Mb;function Pb(e,t,i){this._dataProvider=e,this._parent=t,this._data=i,this._name=i.name,this._modelName=i.modelName,this._visibility=i.visibility??!0,this._resource=void 0,this._sublayers=[],this._i3sLayers=[]}Object.defineProperties(Pb.prototype,{resource:{get:function(){return this._resource}},data:{get:function(){return this._data}},name:{get:function(){return this._name}},modelName:{get:function(){return this._modelName}},sublayers:{get:function(){return this._sublayers}},visibility:{get:function(){return this._visibility},set:function(e){if(xe.A.defined("value",e),this._visibility!==e){this._visibility=e;for(let e=0;e<this._i3sLayers.length;e++)this._i3sLayers[e]._updateVisibility()}}},show:{get:function(){return this._visibility&&this._parent.show}}}),Pb._fromData=async function(e,t,i,n){const r=new Pb(e,n,i);if("group"===r._data.layerType){const i=r._data.sublayers;if((0,p.A)(i)){const n=[];for(let o=0;o<i.length;o++){const s=Pb._fromData(e,t,i[o],r);n.push(s)}const o=await Promise.all(n);for(let e=0;e<o.length;e++){const t=o[e];r._sublayers.push(t),r._i3sLayers.push(...t._i3sLayers)}}}else if("3DObject"===r._data.layerType){const i=t.concat(`/sublayers/${r._data.id}`),n=new be.A({url:i});n.setQueryParameters(e.resource.queryParameters),n.appendForwardSlash(),r._resource=n;const o=await Qb.loadJson(r._resource),s=new Tb(e,o,r);r._i3sLayers.push(s)}else console.log(`${r._data.layerType} layer ${r._data.name} is skipped as not supported.`);return r};const Ob=Pb;var Rb=i(24827);function kb(e){e=e??g.A.EMPTY_OBJECT,this._name=e.name,this._show=e.show??!0,this._geoidTiledTerrainProvider=e.geoidTiledTerrainProvider,this._showFeatures=e.showFeatures??!1,this._adjustMaterialAlphaMode=e.adjustMaterialAlphaMode??!1,this._applySymbology=e.applySymbology??!1,this._calculateNormals=e.calculateNormals??!1,this._cesium3dTilesetOptions=e.cesium3dTilesetOptions??g.A.EMPTY_OBJECT,this._layers=[],this._sublayers=[],this._data=void 0,this._extent=void 0,this._geoidDataPromise=void 0,this._geoidDataList=void 0,this._decoderTaskProcessor=void 0,this._taskProcessorReadyPromise=void 0,this._attributeStatistics=[],this._layersExtent=[]}async function Fb(e,t,i){if("Building"===t.layerType){(0,p.A)(i.showFeatures)||(e._showFeatures=!0),(0,p.A)(i.adjustMaterialAlphaMode)||(e._adjustMaterialAlphaMode=!0),(0,p.A)(i.applySymbology)||(e._applySymbology=!0),(0,p.A)(i.calculateNormals)||(e._calculateNormals=!0);const n=function(e,t){const i=e.resource.getUrlComponent();let n="";return n=i.match(/layers\/\d/)?`${i}`.replace(/\/+$/,""):`${i}`.replace(/\/?$/,"/").concat(`layers/${t}`),n}(e,t.id);if((0,p.A)(t.sublayers)){const i=[];for(let r=0;r<t.sublayers.length;r++){const o=Ob._fromData(e,n,t.sublayers[r],e);i.push(o)}const r=await Promise.all(i);for(let t=0;t<r.length;t++){const i=r[t];e._sublayers.push(i),e._layers.push(...i._i3sLayers)}}if((0,p.A)(t.statisticsHRef)){const i=n.concat(`/${t.statisticsHRef}`),r=new Db(e,i);await r.load(),e._attributeStatistics.push(r)}if((0,p.A)(t.fullExtent)){const i=ve.A.fromDegrees(t.fullExtent.xmin,t.fullExtent.ymin,t.fullExtent.xmax,t.fullExtent.ymax);e._layersExtent.push(i)}}else if("3DObject"===t.layerType||"IntegratedMesh"===t.layerType){(0,p.A)(i.calculateNormals)||(0,p.A)(t.textureSetDefinitions)||(e._calculateNormals=!0);const n=new Tb(e,t,e);e._layers.push(n),(0,p.A)(n._extent)&&e._layersExtent.push(n._extent)}else console.log(`${t.layerType} layer ${t.name} is skipped as not supported.`)}Object.defineProperties(kb.prototype,{name:{get:function(){return this._name}},show:{get:function(){return this._show},set:function(e){if(xe.A.defined("value",e),this._show!==e){this._show=e;for(let e=0;e<this._layers.length;e++)this._layers[e]._updateVisibility()}}},geoidTiledTerrainProvider:{get:function(){return this._geoidTiledTerrainProvider}},layers:{get:function(){return this._layers}},sublayers:{get:function(){return this._sublayers}},data:{get:function(){return this._data}},extent:{get:function(){return this._extent}},resource:{get:function(){return this._resource}},showFeatures:{get:function(){return this._showFeatures}},adjustMaterialAlphaMode:{get:function(){return this._adjustMaterialAlphaMode}},applySymbology:{get:function(){return this._applySymbology}},calculateNormals:{get:function(){return this._calculateNormals}}}),kb.prototype.destroy=function(){for(let e=0;e<this._layers.length;e++)(0,p.A)(this._layers[e]._tileset)&&this._layers[e]._tileset.destroy();return(0,zd.A)(this)},kb.prototype.isDestroyed=function(){return!1},kb.prototype.update=function(e){for(let t=0;t<this._layers.length;t++)(0,p.A)(this._layers[t]._tileset)&&this._layers[t]._tileset.update(e)},kb.prototype.prePassesUpdate=function(e){for(let t=0;t<this._layers.length;t++)(0,p.A)(this._layers[t]._tileset)&&this._layers[t]._tileset.prePassesUpdate(e)},kb.prototype.postPassesUpdate=function(e){for(let t=0;t<this._layers.length;t++)(0,p.A)(this._layers[t]._tileset)&&this._layers[t]._tileset.postPassesUpdate(e)},kb.prototype.updateForPass=function(e,t){for(let i=0;i<this._layers.length;i++)(0,p.A)(this._layers[i]._tileset)&&this._layers[i]._tileset.updateForPass(e,t)},kb.fromUrl=async function(e,t){xe.A.defined("url",e),t=t??g.A.EMPTY_OBJECT;const i=be.A.createIfNeeded(e);i.setQueryParameters({f:"pjson"},!0);const n=await kb.loadJson(i),r=new kb(t);if(r._resource=i,r._data=n,(0,p.A)(n.layers)){const e=[];for(let i=0;i<n.layers.length;i++){const o=Fb(r,n.layers[i],t);e.push(o)}await Promise.all(e)}else await Fb(r,n,t);r._computeExtent();const o=[];for(let e=0;e<r._layers.length;e++)o.push(r._layers[e].load(t.cesium3dTilesetOptions));return await Promise.all(o),r},kb._fetchJson=function(e){return e.fetchJson()},kb.loadJson=async function(e){const t=await kb._fetchJson(e);if((0,p.A)(t.error)){if(console.error("Failed to fetch I3S ",e.url),(0,p.A)(t.error.message)&&console.error(t.error.message),(0,p.A)(t.error.details))for(let e=0;e<t.error.details.length;e++)console.log(t.error.details[e]);throw new Ie.A(t.error)}return t},kb.prototype._loadBinary=async function(e){const t=await e.fetchArrayBuffer();if(t.byteLength>0&&new Uint8Array(t)[0]==="{".charCodeAt(0)&&(new TextDecoder).decode(t).includes("404"))throw new Ie.A(`Failed to load binary: ${e.url}`);return t},kb.prototype._binarizeGltf=function(e){const t=(new TextEncoder).encode(JSON.stringify(e)),i=new Uint8Array(t.byteLength+20),n={magic:new Uint8Array(i.buffer,0,4),version:new Uint32Array(i.buffer,4,1),length:new Uint32Array(i.buffer,8,1),chunkLength:new Uint32Array(i.buffer,12,1),chunkType:new Uint32Array(i.buffer,16,1),chunkData:new Uint8Array(i.buffer,20,t.byteLength)};return n.magic[0]="g".charCodeAt(),n.magic[1]="l".charCodeAt(),n.magic[2]="T".charCodeAt(),n.magic[3]="F".charCodeAt(),n.version[0]=2,n.length[0]=i.byteLength,n.chunkLength[0]=t.byteLength,n.chunkType[0]=1313821514,n.chunkData.set(t),i};const Lb=new h.A;kb.prototype.loadGeoidData=async function(){return(0,p.A)(this._geoidDataPromise)||(this._geoidDataPromise=async function(e){const t=e._geoidTiledTerrainProvider;if((0,p.A)(t))try{const i=await function(e,t){const i=e.tilingScheme,n=[],r={},o=e._lodCount,s=ne.A.fromRadians(t.west,t.north),a=ne.A.fromRadians(t.east,t.south),l=i.positionToTileXY(s,o),c=i.positionToTileXY(a,o);for(let t=l.x;t<=c.x;t++)for(let s=l.y;s<=c.y;s++){const a=h.A.fromElements(t,s,Lb),l=a.toString();if(!r.hasOwnProperty(l)){const t={x:a.x,y:a.y,level:o,tilingScheme:i,terrainProvider:e,positions:[]};r[l]=t,n.push(t)}}const A=[];for(let e=0;e<n.length;++e){const t=n[e],i=t.terrainProvider.requestTileGeometry(t.x,t.y,t.level);A.push(i)}return Promise.all(A).then(function(e){const t=[];for(let r=0;r<e.length;r++){const o={tilingScheme:i,x:n[r].x,y:n[r].y,level:n[r].level},s=e[r];let a="Geographic";i._projection instanceof ly.A&&(a="WebMercator");const l={projectionType:a,projection:i._projection,nativeExtent:i.tileXYToNativeRectangle(o.x,o.y,o.level),height:s._height,width:s._width,scale:s._structure.heightScale,offset:s._structure.heightOffset};if(s._encoding===dg.A.LERC){const e=Rb.decode(s._buffer);l.buffer=e.pixels[0]}else l.buffer=s._buffer;t.push(l)}return t})}(t,e._extent);e._geoidDataList=i}catch(e){console.log("Error retrieving Geoid Terrain tiles - no geoid conversion will be performed.")}}(this)),this._geoidDataPromise},kb.prototype._computeExtent=function(){let e;for(let t=0;t<this._layersExtent.length;t++){const i=this._layersExtent[t];(0,p.A)(e)?ve.A.union(e,i,e):e=ve.A.clone(i)}this._extent=e},kb.prototype.getAttributeNames=function(){const e=[];for(let t=0;t<this._attributeStatistics.length;++t)e.push(...this._attributeStatistics[t].names);return e},kb.prototype.getAttributeValues=function(e){xe.A.defined("name",e);for(let t=0;t<this._attributeStatistics.length;++t){const i=this._attributeStatistics[t]._getValues(e);if((0,p.A)(i))return i}return[]},kb.prototype.filterByAttributes=function(e){const t=[];for(let i=0;i<this._layers.length;i++){const n=this._layers[i].filterByAttributes(e);t.push(n)}return Promise.all(t)};const Qb=kb;var Nb=i(680278);const Gb={createTilesetFromIModelId:async function({iModelId:e,changesetId:t,tilesetOptions:i}){const{exports:n}=await om.getExports(e,t);if(n.length>0&&n.every(e=>e.status===om.ExportStatus.Invalid))throw new Ie.A(`All exports for this iModel are Invalid: ${e}`);const r=n.find(e=>e.status===om.ExportStatus.Complete);if(!(0,p.A)(r))return;const o=new URL(r._links.mesh.href);o.pathname=`${o.pathname}/tileset.json`;const s=o.toString(),a=new be.A({url:s});return pB.A.fromUrl(a,i)},createTilesetForRealityDataId:async function({iTwinId:e,realityDataId:t,type:i,rootDocument:n,tilesetOptions:r}){if(xe.A.typeOf.string("iTwinId",e),xe.A.typeOf.string("realityDataId",t),(0,p.A)(i)&&xe.A.typeOf.string("type",i),(0,p.A)(n)&&xe.A.typeOf.string("rootDocument",n),!(0,p.A)(i)||!(0,p.A)(n)){const r=await om.getRealityDataMetadata(e,t);n=r.rootDocument,i=r.type}if(![om.RealityDataType.Cesium3DTiles,om.RealityDataType.PNTS,om.RealityDataType.RealityMesh3DTiles,om.RealityDataType.Terrain3DTiles].includes(i))throw new Ie.A(`Reality data type is not a mesh type: ${i}`);const o=await om.getRealityDataURL(e,t,n),s={maximumScreenSpaceError:4,...r};return pB.A.fromUrl(o,s)},createDataSourceForRealityDataId:async function({iTwinId:e,realityDataId:t,type:i,rootDocument:n}){if(xe.A.typeOf.string("iTwinId",e),xe.A.typeOf.string("realityDataId",t),(0,p.A)(i)&&xe.A.typeOf.string("type",i),(0,p.A)(n)&&xe.A.typeOf.string("rootDocument",n),!(0,p.A)(i)||!(0,p.A)(n)){const r=await om.getRealityDataMetadata(e,t);n=r.rootDocument,i=r.type}if(![om.RealityDataType.KML,om.RealityDataType.GeoJSON].includes(i))throw new Ie.A(`Reality data type is not a data source type: ${i}`);const r=await om.getRealityDataURL(e,t,n);return i===om.RealityDataType.GeoJSON?an.A.load(r):ph.load(r)},loadGeospatialFeatures:async function({iTwinId:e,collectionId:t,limit:i}){if(xe.A.typeOf.string("iTwinId",e),xe.A.typeOf.string("collectionId",t),(0,p.A)(i)&&(xe.A.typeOf.number("limit",i),xe.A.typeOf.number.lessThanOrEquals("limit",i,1e4),xe.A.typeOf.number.greaterThanOrEquals("limit",i,1)),!(0,p.A)(om.defaultAccessToken)&&!(0,p.A)(om.defaultShareKey))throw new S.A("Must set ITwinPlatform.defaultAccessToken or ITwinPlatform.defaultShareKey first");const n=i??1e4,r=`${om.apiEndpoint}geospatial-features/itwins/${e}/ogc/collections/${t}/items`,o=new be.A({url:r,headers:{Authorization:om._getAuthorizationHeader(),Accept:"application/vnd.bentley.itwin-platform.v1+json"},queryParameters:{limit:n,client:"CesiumJS"}});return an.A.load(o)}};var Vb=i(208198),Ub=i(17656),Yb=i(451227),Kb=i(869327),Hb=i(789989),zb=i(553909),qb=i(921243),Wb=i(961965),jb=i(1235),Jb=i(829513),Xb=i(586067),Zb=i(123314),$b=i(866857),eI=i(819598),tI=i(670549),iI=i(231097),nI=i(647474),rI=i(666203),oI=i(784749),sI=i(301866),aI=i(566798),lI=i(465674);function cI(){}Object.defineProperties(cI.prototype,{color:{get:S.A.throwInstantiationError},intensity:{get:S.A.throwInstantiationError}});const AI=cI;var uI=i(77879),hI=i(847072),dI=i(66458);const gI=/\/$/,pI=new ae.A('&copy; <a href="https://www.mapbox.com/about/maps/">Mapbox</a> &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <strong><a href="https://www.mapbox.com/map-feedback/">Improve this map</a></strong>');function fI(e){const t=(e=e??g.A.EMPTY_OBJECT).styleId;if(!(0,p.A)(t))throw new S.A("options.styleId is required.");const i=e.accessToken;if(!(0,p.A)(i))throw new S.A("options.accessToken is required.");this._defaultAlpha=void 0,this._defaultNightAlpha=void 0,this._defaultDayAlpha=void 0,this._defaultBrightness=void 0,this._defaultContrast=void 0,this._defaultHue=void 0,this._defaultSaturation=void 0,this._defaultGamma=void 0,this._defaultMinificationFilter=void 0,this._defaultMagnificationFilter=void 0;const n=be.A.createIfNeeded(e.url??"https://api.mapbox.com/styles/v1/");this._styleId=t,this._accessToken=i;const r=e.tilesize??512;this._tilesize=r;const o=e.username??"mapbox";this._username=o;const s=(0,p.A)(e.scaleFactor)?"@2x":"";let a,l=n.getUrlComponent();gI.test(l)||(l+="/"),l+=`${this._username}/${t}/tiles/${this._tilesize}/{z}/{x}/{y}${s}`,n.url=l,n.setQueryParameters({access_token:i}),(0,p.A)(e.credit)?(a=e.credit,"string"==typeof a&&(a=new ae.A(a))):a=pI,this._resource=n,this._imageryProvider=new dI.A({url:n,credit:a,ellipsoid:e.ellipsoid,minimumLevel:e.minimumLevel,maximumLevel:e.maximumLevel,rectangle:e.rectangle})}Object.defineProperties(fI.prototype,{url:{get:function(){return this._imageryProvider.url}},rectangle:{get:function(){return this._imageryProvider.rectangle}},tileWidth:{get:function(){return this._imageryProvider.tileWidth}},tileHeight:{get:function(){return this._imageryProvider.tileHeight}},maximumLevel:{get:function(){return this._imageryProvider.maximumLevel}},minimumLevel:{get:function(){return this._imageryProvider.minimumLevel}},tilingScheme:{get:function(){return this._imageryProvider.tilingScheme}},tileDiscardPolicy:{get:function(){return this._imageryProvider.tileDiscardPolicy}},errorEvent:{get:function(){return this._imageryProvider.errorEvent}},credit:{get:function(){return this._imageryProvider.credit}},proxy:{get:function(){return this._imageryProvider.proxy}},hasAlphaChannel:{get:function(){return this._imageryProvider.hasAlphaChannel}}}),fI.prototype.getTileCredits=function(e,t,i){},fI.prototype.requestImage=function(e,t,i,n){return this._imageryProvider.requestImage(e,t,i,n)},fI.prototype.pickFeatures=function(e,t,i,n,r){return this._imageryProvider.pickFeatures(e,t,i,n,r)},fI._defaultCredit=pI;const mI=fI;var _I=i(551549),yI=i(866109),wI=i(32335),CI=i(343674),BI=i(568748),vI=i(965976),EI=i(266262),bI=i(901717),II=i(658036),xI=i(4024),SI=i(729295),TI=i(874403),MI=i(140182),DI=i(598361),PI=i(304686),OI=i(995537),RI=i(534095),kI=i(409816),FI=i(952392),LI=i(433184),QI=i(566334),NI=i(736125);const GI=new h.A(1,1);function VI(e){e=e??g.A.EMPTY_OBJECT,this.mass=e.mass??1,this.position=ie.A.clone(e.position??ie.A.ZERO),this.velocity=ie.A.clone(e.velocity??ie.A.ZERO),this.life=e.life??Number.MAX_VALUE,this.image=e.image,this.startColor=d.A.clone(e.startColor??d.A.WHITE),this.endColor=d.A.clone(e.endColor??d.A.WHITE),this.startScale=e.startScale??1,this.endScale=e.endScale??1,this.imageSize=h.A.clone(e.imageSize??GI),this._age=0,this._normalizedAge=0,this._billboard=void 0}Object.defineProperties(VI.prototype,{age:{get:function(){return this._age}},normalizedAge:{get:function(){return this._normalizedAge}}});const UI=new ie.A;VI.prototype.update=function(e,t){return ie.A.multiplyByScalar(this.velocity,e,UI),ie.A.add(this.position,UI,this.position),(0,p.A)(t)&&t(this,e),this._age+=e,this.life===Number.MAX_VALUE?this._normalizedAge=0:this._normalizedAge=this._age/this.life,this._age<=this.life};const YI=VI;function KI(e){e=e??g.A.EMPTY_OBJECT,this.time=e.time??0,this.minimum=e.minimum??0,this.maximum=e.maximum??50,this._complete=!1}Object.defineProperties(KI.prototype,{complete:{get:function(){return this._complete}}});const HI=KI;function zI(e){throw new S.A("This type should not be instantiated directly.  Instead, use BoxEmitter, CircleEmitter, ConeEmitter or SphereEmitter.")}zI.prototype.emit=function(e){S.A.throwInstantiationError()};const qI=zI,WI=new h.A(1,1);function jI(e){e=e??g.A.EMPTY_OBJECT,this.show=e.show??!0,this.updateCallback=e.updateCallback,this.loop=e.loop??!0,this.image=e.image??void 0;let t=e.emitter;(0,p.A)(t)||(t=new EB(.5)),this._emitter=t,this._bursts=e.bursts,this._modelMatrix=Gg.A.clone(e.modelMatrix??Gg.A.IDENTITY),this._emitterModelMatrix=Gg.A.clone(e.emitterModelMatrix??Gg.A.IDENTITY),this._matrixDirty=!0,this._combinedMatrix=new Gg.A,this._startColor=d.A.clone(e.color??e.startColor??d.A.WHITE),this._endColor=d.A.clone(e.color??e.endColor??d.A.WHITE),this._startScale=e.scale??e.startScale??1,this._endScale=e.scale??e.endScale??1,this._emissionRate=e.emissionRate??5,this._minimumSpeed=e.speed??e.minimumSpeed??1,this._maximumSpeed=e.speed??e.maximumSpeed??1,this._minimumParticleLife=e.particleLife??e.minimumParticleLife??5,this._maximumParticleLife=e.particleLife??e.maximumParticleLife??5,this._minimumMass=e.mass??e.minimumMass??1,this._maximumMass=e.mass??e.maximumMass??1,this._minimumImageSize=h.A.clone(e.imageSize??e.minimumImageSize??WI),this._maximumImageSize=h.A.clone(e.imageSize??e.maximumImageSize??WI),this._sizeInMeters=e.sizeInMeters??!1,this._lifetime=e.lifetime??Number.MAX_VALUE,this._billboardCollection=void 0,this._particles=[],this._particlePool=[],this._previousTime=void 0,this._currentTime=0,this._carryOver=0,this._complete=new f.A,this._isComplete=!1,this._updateParticlePool=!0,this._particleEstimate=0}function JI(e){let t=e._particlePool.pop();return(0,p.A)(t)||(t=new YI),t}function XI(e,t){e._particlePool.push(t)}function ZI(e){(0,p.A)(e._billboard)&&(e._billboard.show=!1)}function $I(e,t){let i=t._billboard;(0,p.A)(i)||(i=t._billboard=e._billboardCollection.add({image:t.image})),i.width=t.imageSize.x,i.height=t.imageSize.y,i.position=t.position,i.sizeInMeters=e.sizeInMeters,i.show=!0;const n=T.A.lerp(t.startColor.red,t.endColor.red,t.normalizedAge),r=T.A.lerp(t.startColor.green,t.endColor.green,t.normalizedAge),o=T.A.lerp(t.startColor.blue,t.endColor.blue,t.normalizedAge),s=T.A.lerp(t.startColor.alpha,t.endColor.alpha,t.normalizedAge);i.color=new d.A(n,r,o,s),i.scale=T.A.lerp(t.startScale,t.endScale,t.normalizedAge)}function ex(e,t){t.startColor=d.A.clone(e._startColor,t.startColor),t.endColor=d.A.clone(e._endColor,t.endColor),t.startScale=e._startScale,t.endScale=e._endScale,t.image=e.image,t.life=T.A.randomBetween(e._minimumParticleLife,e._maximumParticleLife),t.mass=T.A.randomBetween(e._minimumMass,e._maximumMass),t.imageSize.x=T.A.randomBetween(e._minimumImageSize.x,e._maximumImageSize.x),t.imageSize.y=T.A.randomBetween(e._minimumImageSize.y,e._maximumImageSize.y),t._normalizedAge=0,t._age=0;const i=T.A.randomBetween(e._minimumSpeed,e._maximumSpeed);ie.A.multiplyByScalar(t.velocity,i,t.velocity),e._particles.push(t)}Object.defineProperties(jI.prototype,{emitter:{get:function(){return this._emitter},set:function(e){xe.A.defined("value",e),this._emitter=e}},bursts:{get:function(){return this._bursts},set:function(e){this._bursts=e,this._updateParticlePool=!0}},modelMatrix:{get:function(){return this._modelMatrix},set:function(e){xe.A.defined("value",e),this._matrixDirty=this._matrixDirty||!Gg.A.equals(this._modelMatrix,e),Gg.A.clone(e,this._modelMatrix)}},emitterModelMatrix:{get:function(){return this._emitterModelMatrix},set:function(e){xe.A.defined("value",e),this._matrixDirty=this._matrixDirty||!Gg.A.equals(this._emitterModelMatrix,e),Gg.A.clone(e,this._emitterModelMatrix)}},startColor:{get:function(){return this._startColor},set:function(e){xe.A.defined("value",e),d.A.clone(e,this._startColor)}},endColor:{get:function(){return this._endColor},set:function(e){xe.A.defined("value",e),d.A.clone(e,this._endColor)}},startScale:{get:function(){return this._startScale},set:function(e){xe.A.typeOf.number.greaterThanOrEquals("value",e,0),this._startScale=e}},endScale:{get:function(){return this._endScale},set:function(e){xe.A.typeOf.number.greaterThanOrEquals("value",e,0),this._endScale=e}},emissionRate:{get:function(){return this._emissionRate},set:function(e){xe.A.typeOf.number.greaterThanOrEquals("value",e,0),this._emissionRate=e,this._updateParticlePool=!0}},minimumSpeed:{get:function(){return this._minimumSpeed},set:function(e){xe.A.typeOf.number.greaterThanOrEquals("value",e,0),this._minimumSpeed=e}},maximumSpeed:{get:function(){return this._maximumSpeed},set:function(e){xe.A.typeOf.number.greaterThanOrEquals("value",e,0),this._maximumSpeed=e}},minimumParticleLife:{get:function(){return this._minimumParticleLife},set:function(e){xe.A.typeOf.number.greaterThanOrEquals("value",e,0),this._minimumParticleLife=e}},maximumParticleLife:{get:function(){return this._maximumParticleLife},set:function(e){xe.A.typeOf.number.greaterThanOrEquals("value",e,0),this._maximumParticleLife=e,this._updateParticlePool=!0}},minimumMass:{get:function(){return this._minimumMass},set:function(e){xe.A.typeOf.number.greaterThanOrEquals("value",e,0),this._minimumMass=e}},maximumMass:{get:function(){return this._maximumMass},set:function(e){xe.A.typeOf.number.greaterThanOrEquals("value",e,0),this._maximumMass=e}},minimumImageSize:{get:function(){return this._minimumImageSize},set:function(e){xe.A.typeOf.object("value",e),xe.A.typeOf.number.greaterThanOrEquals("value.x",e.x,0),xe.A.typeOf.number.greaterThanOrEquals("value.y",e.y,0),this._minimumImageSize=e}},maximumImageSize:{get:function(){return this._maximumImageSize},set:function(e){xe.A.typeOf.object("value",e),xe.A.typeOf.number.greaterThanOrEquals("value.x",e.x,0),xe.A.typeOf.number.greaterThanOrEquals("value.y",e.y,0),this._maximumImageSize=e}},sizeInMeters:{get:function(){return this._sizeInMeters},set:function(e){xe.A.typeOf.bool("value",e),this._sizeInMeters=e}},lifetime:{get:function(){return this._lifetime},set:function(e){xe.A.typeOf.number.greaterThanOrEquals("value",e,0),this._lifetime=e}},complete:{get:function(){return this._complete}},isComplete:{get:function(){return this._isComplete}}});const tx=new ie.A;jI.prototype.update=function(e){if(!this.show)return;(0,p.A)(this._billboardCollection)||(this._billboardCollection=new AC.A),this._updateParticlePool&&(function(e){const t=e._emissionRate,i=e._maximumParticleLife;let n=0;const r=e._bursts;if((0,p.A)(r)){const e=r.length;for(let t=0;t<e;++t)n+=r[t].maximum}const o=e._billboardCollection,s=e.image,a=Math.ceil(t*i+n),l=e._particles,c=e._particlePool,A=Math.max(a-l.length-c.length,0);for(let e=0;e<A;++e){const e=new YI;e._billboard=o.add({image:s,show:!1}),c.push(e)}e._particleEstimate=a}(this),this._updateParticlePool=!1);let t=0;this._previousTime&&(t=m.A.secondsDifference(e.time,this._previousTime)),t<0&&(t=0);const i=this._particles,n=this._emitter,r=this.updateCallback;let o,s,a=i.length;for(o=0;o<a;++o)s=i[o],s.update(t,r)?$I(this,s):(ZI(s),XI(this,s),i[o]=i[a-1],--o,--a);i.length=a;const l=function(e,t){if(e._isComplete)return 0;const i=(t=T.A.mod(t,e._lifetime))*e._emissionRate;let n=Math.floor(i);if(e._carryOver+=i-n,e._carryOver>1&&(n++,e._carryOver-=1),(0,p.A)(e.bursts)){const t=e.bursts.length;for(let i=0;i<t;i++){const t=e.bursts[i],r=e._currentTime;(0,p.A)(t)&&!t._complete&&r>t.time&&(n+=T.A.randomBetween(t.minimum,t.maximum),t._complete=!0)}}return n}(this,t);if(l>0&&(0,p.A)(n)){this._matrixDirty&&(this._combinedMatrix=Gg.A.multiply(this.modelMatrix,this.emitterModelMatrix,this._combinedMatrix),this._matrixDirty=!1);const e=this._combinedMatrix;for(o=0;o<l;o++)s=JI(this),this._emitter.emit(s),ie.A.add(s.position,s.velocity,tx),Gg.A.multiplyByPoint(e,tx,tx),s.position=Gg.A.multiplyByPoint(e,s.position,s.position),ie.A.subtract(tx,s.position,s.velocity),ie.A.normalize(s.velocity,s.velocity),ex(this,s),$I(this,s)}if(this._billboardCollection.update(e),this._previousTime=m.A.clone(e.time,this._previousTime),this._currentTime+=t,this._lifetime!==Number.MAX_VALUE&&this._currentTime>this._lifetime)if(this.loop){if(this._currentTime=T.A.mod(this._currentTime,this._lifetime),this.bursts){const e=this.bursts.length;for(o=0;o<e;o++)this.bursts[o]._complete=!1}}else this._isComplete=!0,this._complete.raiseEvent(this);e.frameNumber%120==0&&function(e){const t=e._particles,i=e._particlePool,n=e._billboardCollection,r=t.length,o=i.length,s=e._particleEstimate,a=o-Math.max(s-r-o,0);for(let e=a;e<o;++e){const t=i[e];n.remove(t._billboard)}i.length=a}(this)},jI.prototype.isDestroyed=function(){return!1},jI.prototype.destroy=function(){return this._billboardCollection=this._billboardCollection&&this._billboardCollection.destroy(),(0,zd.A)(this)};const ix=jI;var nx=i(612123),rx=i(467302),ox=i(670270),sx=i(425415),ax=i(981152),lx=i(842623),cx=i(878471),Ax=i(679854),ux=i(259069),hx=i(534135),dx=i(929771),gx=i(520853),px=i(24013),fx=i(154622),mx=i(891674),_x=i(920757),yx=i(421549),wx=i(201733),Cx=i(517290),Bx=i(380590),vx=i(339600),Ex=i(922990),bx=i(493721),Ix=i(289758),xx=i(632791),Sx=i(871160),Tx=i(828847),Mx=i(663386),Dx=i(287659),Px=i(105792),Ox=i(875037),Rx=i(1229),kx=i(798732),Fx=i(67521),Lx=i(980840);function Qx(){S.A.throwInstantiationError()}Qx.computeDefaultLevelZeroMaximumGeometricError=function(e){return 2*e.ellipsoid.maximumRadius*Math.PI*.25/(65*e.getNumberOfXTilesAtLevel(0))},Object.defineProperties(Qx.prototype,{quadtree:{get:S.A.throwInstantiationError,set:S.A.throwInstantiationError},tilingScheme:{get:S.A.throwInstantiationError},errorEvent:{get:S.A.throwInstantiationError}}),Qx.prototype.update=S.A.throwInstantiationError,Qx.prototype.beginUpdate=S.A.throwInstantiationError,Qx.prototype.endUpdate=S.A.throwInstantiationError,Qx.prototype.getLevelMaximumGeometricError=S.A.throwInstantiationError,Qx.prototype.loadTile=S.A.throwInstantiationError,Qx.prototype.computeTileVisibility=S.A.throwInstantiationError,Qx.prototype.showTileThisFrame=S.A.throwInstantiationError,Qx.prototype.computeDistanceToTile=S.A.throwInstantiationError,Qx.prototype.isDestroyed=S.A.throwInstantiationError,Qx.prototype.destroy=S.A.throwInstantiationError;const Nx=Qx;var Gx=i(147795),Vx=i(366165),Ux=i(569445),Yx=i(48660),Kx=i(589834),Hx=i(464088),zx=i(413285),qx=i(78173),Wx=i(619872),jx=i(373749),Jx=i(681750),Xx=i(33559),Zx=i(395250),$x=i(556541),eS=i(920685),tS=i(148784),iS=i(533872),nS=i(126797);function rS(e){e=e??1,xe.A.typeOf.number.greaterThan("radius",e,0),this._radius=e??1}Object.defineProperties(rS.prototype,{radius:{get:function(){return this._radius},set:function(e){xe.A.typeOf.number.greaterThan("value",e,0),this._radius=e}}}),rS.prototype.emit=function(e){const t=T.A.randomBetween(0,T.A.TWO_PI),i=T.A.randomBetween(0,T.A.PI),n=T.A.randomBetween(0,this._radius),r=n*Math.cos(t)*Math.sin(i),o=n*Math.sin(t)*Math.sin(i),s=n*Math.cos(i);e.position=ie.A.fromElements(r,o,s,e.position),e.velocity=ie.A.normalize(e.position,e.velocity)};const oS=rS;var sS=i(913419),aS=i(992881),lS=i(938987),cS=i(896464),AS=i(138151),uS=i(590732);function hS(){}hS.prototype.evaluate=function(e,t){S.A.throwInstantiationError()},hS.prototype.evaluateColor=function(e,t){S.A.throwInstantiationError()},hS.prototype.getShaderFunction=function(e,t,i,n){S.A.throwInstantiationError()},hS.prototype.getVariables=function(){S.A.throwInstantiationError()};const dS=hS;var gS=i(874818),pS=i(205672),fS=i(380983),mS=i(768213),_S=i(557417),yS=i(640809),wS=i(71160),CS=i(413690),BS=i(224159),vS=i(315747);function ES(){}ES.prototype.boundingVolume=void 0,ES.prototype.boundingSphere=void 0,ES.prototype.distanceToCamera=function(e){S.A.throwInstantiationError()},ES.prototype.intersectPlane=function(e){S.A.throwInstantiationError()},ES.prototype.createDebugVolume=function(e){S.A.throwInstantiationError()};const bS=ES;function IS(e){e=e??g.A.EMPTY_OBJECT,this._tilingScheme=(0,p.A)(e.tilingScheme)?e.tilingScheme:new hg.A({ellipsoid:e.ellipsoid}),this._color=e.color??d.A.YELLOW,this._errorEvent=new f.A,this._tileWidth=e.tileWidth??256,this._tileHeight=e.tileHeight??256,this._defaultAlpha=void 0,this._defaultNightAlpha=void 0,this._defaultDayAlpha=void 0,this._defaultBrightness=void 0,this._defaultContrast=void 0,this._defaultHue=void 0,this._defaultSaturation=void 0,this._defaultGamma=void 0,this._defaultMinificationFilter=void 0,this._defaultMagnificationFilter=void 0}Object.defineProperties(IS.prototype,{proxy:{get:function(){}},tileWidth:{get:function(){return this._tileWidth}},tileHeight:{get:function(){return this._tileHeight}},maximumLevel:{get:function(){}},minimumLevel:{get:function(){}},tilingScheme:{get:function(){return this._tilingScheme}},rectangle:{get:function(){return this._tilingScheme.rectangle}},tileDiscardPolicy:{get:function(){}},errorEvent:{get:function(){return this._errorEvent}},credit:{get:function(){}},hasAlphaChannel:{get:function(){return!0}}}),IS.prototype.getTileCredits=function(e,t,i){},IS.prototype.requestImage=function(e,t,i,n){const r=document.createElement("canvas");r.width=256,r.height=256;const o=r.getContext("2d"),s=this._color.toCssColorString();return o.strokeStyle=s,o.lineWidth=2,o.strokeRect(1,1,255,255),o.font="bold 25px Arial",o.textAlign="center",o.fillStyle=s,o.fillText(`L: ${i}`,124,86),o.fillText(`X: ${e}`,124,136),o.fillText(`Y: ${t}`,124,186),Promise.resolve(r)},IS.prototype.pickFeatures=function(e,t,i,n,r){};const xS=IS;function SS(e){S.A.throwInstantiationError()}SS.prototype.isReady=S.A.throwInstantiationError,SS.prototype.shouldDiscardImage=S.A.throwInstantiationError;const TS=SS;var MS=i(976092),DS=i(829670),PS=i(335859),OS=i(11745),RS=i(271101),kS=i(960847);const FS=Object.freeze({START:0,LOADING:1,READY:2,UPSAMPLED_ONLY:3});var LS=i(323314),QS=i(751069),NS=i(99520),GS=i(972757),VS=i(639475),US=i(440463),YS=i(584247),KS=i(28940),HS=i(308521),zS=i(868897),qS=i(301350),WS=i(601165),jS=i(566453),JS=i(953681),XS=i(471293),ZS=i(595826),$S=i(342767);function eT(e,t){this.show=!0,(0,p.A)(e)||(e=new te.A),this.rectangle=te.A.clone(e),(0,p.A)(t)||(t=qv.A.fromType(qv.A.ColorType,{color:new d.A(1,1,1,1)})),this.material=t,this._material=void 0,this._overlayCommand=void 0,this._rs=void 0}eT.prototype.update=function(e){if(!this.show)return;if(!(0,p.A)(this.material))throw new S.A("this.material must be defined.");if(!(0,p.A)(this.rectangle))throw new S.A("this.rectangle must be defined.");const t=this._rs;if((0,p.A)(t)&&te.A.equals(t.viewport,this.rectangle)||(this._rs=Od.A.fromCache({blending:_C.A.ALPHA_BLEND,viewport:this.rectangle})),e.passes.render){const t=e.context;if(this._material!==this.material||!(0,p.A)(this._overlayCommand)){this._material=this.material,(0,p.A)(this._overlayCommand)&&this._overlayCommand.shaderProgram.destroy();const e=new Ud.A({sources:[this._material.shaderSource,zw]});this._overlayCommand=t.createViewportQuadCommand(e,{renderState:this._rs,uniformMap:this._material._uniforms,owner:this}),this._overlayCommand.pass=Md.A.OVERLAY}this._material.update(t),this._overlayCommand.renderState=this._rs,this._overlayCommand.uniformMap=this._material._uniforms,e.commandList.push(this._overlayCommand)}},eT.prototype.isDestroyed=function(){return!1},eT.prototype.destroy=function(){return(0,p.A)(this._overlayCommand)&&(this._overlayCommand.shaderProgram=this._overlayCommand.shaderProgram&&this._overlayCommand.shaderProgram.destroy()),(0,zd.A)(this)};const tT=eT;var iT=i(719733),nT=i(204758),rT=i(879152),oT=i(823345),sT=i(2930),aT=i(450339);function lT(){S.A.throwInstantiationError()}Object.defineProperties(lT.prototype,{globalTransform:{get:S.A.throwInstantiationError},shapeTransform:{get:S.A.throwInstantiationError},shape:{get:S.A.throwInstantiationError},minBounds:{get:S.A.throwInstantiationError},maxBounds:{get:S.A.throwInstantiationError},dimensions:{get:S.A.throwInstantiationError},paddingBefore:{get:S.A.throwInstantiationError},paddingAfter:{get:S.A.throwInstantiationError},names:{get:S.A.throwInstantiationError},types:{get:S.A.throwInstantiationError},componentTypes:{get:S.A.throwInstantiationError},minimumValues:{get:S.A.throwInstantiationError},maximumValues:{get:S.A.throwInstantiationError},maximumTileCount:{get:S.A.throwInstantiationError},availableLevels:{get:S.A.throwInstantiationError},keyframeCount:{get:S.A.throwInstantiationError},timeIntervalCollection:{get:S.A.throwInstantiationError}}),lT.prototype.requestData=function(e){S.A.throwInstantiationError()};const cT=lT;var AT=i(618291);function uT(){S.A.throwInstantiationError()}Object.defineProperties(uT.prototype,{orientedBoundingBox:{get:S.A.throwInstantiationError},boundingSphere:{get:S.A.throwInstantiationError},boundTransform:{get:S.A.throwInstantiationError},shapeTransform:{get:S.A.throwInstantiationError},shaderUniforms:{get:S.A.throwInstantiationError},shaderDefines:{get:S.A.throwInstantiationError},shaderMaximumIntersectionsLength:{get:S.A.throwInstantiationError}}),uT.prototype.update=S.A.throwInstantiationError,uT.prototype.updateViewTransforms=S.A.throwInstantiationError,uT.prototype.convertLocalToShapeUvSpace=S.A.throwInstantiationError,uT.prototype.computeOrientedBoundingBoxForTile=S.A.throwInstantiationError,uT.prototype.computeOrientedBoundingBoxForSample=S.A.throwInstantiationError,uT.DefaultMinBounds=S.A.throwInstantiationError,uT.DefaultMaxBounds=S.A.throwInstantiationError;const hT=uT;var dT=i(307452),gT=i(762270),pT=i(32706),fT=i(593054),mT=i(849750),_T=i(883734);const yT=new d.A,wT=new d.A,CT=new d.A,BT=new d.A,vT=new Fg.A,ET=new Uint8Array(4);function bT(e,t,i,n){const r=t.height===i.height?0:(e-t.height)/(i.height-t.height);return d.A.lerp(t.color,i.color,r,n)}function IT(e,t){return{height:e,color:d.A.clone(t)}}function xT(e){return(e=(e=e.filter(function(e,t,i){const n=t>0,r=t<i.length-1,o=!n||e.height===i[t-1].height,s=!r||e.height===i[t+1].height;return!o||!s})).filter(function(e,t,i){const n=t>0,r=t<i.length-1,o=!!n&&d.A.equals(e.color,i[t-1].color),s=!!r&&d.A.equals(e.color,i[t+1].color);return!o||!s})).filter(function(e,t,i){const n=t>0,r=!!n&&d.A.equals(e.color,i[t-1].color),o=!n||e.height===i[t-1].height;return!r||!o})}function ST(e){const{scene:t,layers:i}=e??g.A.EMPTY_OBJECT;xe.A.typeOf.object("options.scene",t),xe.A.defined("options.layers",i),xe.A.typeOf.number.greaterThan("options.layers.length",i.length,0);const{context:n}=t,r=function(e){const t=function(e){let t,i;const n=[],r=e.length;for(t=0;t<r;t++){const r=e[t],o=r.entries,s=o.length;if(!Array.isArray(o)||0===s)throw new S.A("entries must be an array with size > 0.");let a=[];for(i=0;i<s;i++){const e=o[i];if(!(0,p.A)(e.height))throw new S.A("entry requires a height.");if(!(0,p.A)(e.color))throw new S.A("entry requires a color.");const t=T.A.clamp(e.height,ST._minimumHeight,ST._maximumHeight),n=d.A.clone(e.color,yT);n.red*=n.alpha,n.green*=n.alpha,n.blue*=n.alpha,a.push(IT(t,n))}let l=!0,c=!0;for(i=0;i<s-1;i++){const e=a[i+0],t=a[i+1];l=l&&e.height<=t.height,c=c&&e.height>=t.height}c?a=a.reverse():l||(0,ky.A)(a,function(e,t){return T.A.sign(e.height-t.height)});let A=r.extendDownwards??!1,u=r.extendUpwards??!1;1!==a.length||A||u||(A=!0,u=!0),A&&a.splice(0,0,IT(ST._minimumHeight,a[0].color)),u&&a.splice(a.length,0,IT(ST._maximumHeight,a[a.length-1].color)),a=xT(a),n.push(a)}return n}(e);let i,n=[],r=[];function o(e,t){n.push(IT(e,t))}function s(e,t,i){let n=d.A.multiplyByScalar(i,1-t.alpha,BT);n=d.A.add(n,t,n),o(e,n)}const a=t.length;for(i=0;i<a;i++){const e=t[i];let a=0,l=0;r=n,n=[];const c=e.length,A=r.length;for(;a<c||l<A;){const t=a<c?e[a]:void 0,i=a>0?e[a-1]:void 0,n=a<c-1?e[a+1]:void 0,u=l<A?r[l]:void 0,h=l>0?r[l-1]:void 0,d=l<A-1?r[l+1]:void 0;if((0,p.A)(t)&&(0,p.A)(u)&&t.height===u.height){const e=(0,p.A)(d)&&u.height===d.height,r=!(0,p.A)(h),c=!(0,p.A)(d),A=(0,p.A)(n)&&t.height===n.height,g=!(0,p.A)(i),f=!(0,p.A)(n);e?A?(s(t.height,t.color,u.color),s(t.height,n.color,d.color)):g?(o(t.height,u.color),s(t.height,t.color,d.color)):f?(s(t.height,t.color,u.color),o(t.height,d.color)):(s(t.height,t.color,u.color),s(t.height,t.color,d.color)):r?A?(o(t.height,t.color),s(t.height,n.color,u.color)):f?(o(t.height,t.color),o(t.height,u.color)):(g||o(t.height,t.color),s(t.height,t.color,u.color)):c?A?(s(t.height,t.color,u.color),o(t.height,n.color)):g?(o(t.height,u.color),o(t.height,t.color)):f?s(t.height,t.color,u.color):(s(t.height,t.color,u.color),o(t.height,t.color)):A?(s(t.height,t.color,u.color),s(t.height,n.color,u.color)):g?(o(t.height,u.color),s(t.height,t.color,u.color)):f?(s(t.height,t.color,u.color),o(t.height,u.color)):s(t.height,t.color,u.color),a+=A?2:1,l+=e?2:1}else if((0,p.A)(t)&&(0,p.A)(u)&&(0,p.A)(h)&&t.height<u.height){const e=bT(t.height,h,u,CT);(0,p.A)(i)?(0,p.A)(n)?s(t.height,t.color,e):(s(t.height,t.color,e),o(t.height,e)):(o(t.height,e),s(t.height,t.color,e)),a++}else if((0,p.A)(u)&&(0,p.A)(t)&&(0,p.A)(i)&&u.height<t.height){const e=bT(u.height,i,t,wT);(0,p.A)(h)?(0,p.A)(d)?s(u.height,e,u.color):(s(u.height,e,u.color),o(u.height,e)):(o(u.height,e),s(u.height,e,u.color)),l++}else(0,p.A)(t)&&(!(0,p.A)(u)||t.height<u.height)?(!(0,p.A)(u)||(0,p.A)(h)||(0,p.A)(n)?((0,p.A)(u)||!(0,p.A)(h)||(0,p.A)(i)||(o(h.height,ST._emptyColor),o(t.height,ST._emptyColor)),o(t.height,t.color)):(o(t.height,t.color),o(t.height,ST._emptyColor),o(u.height,ST._emptyColor)),a++):(0,p.A)(u)&&(!(0,p.A)(t)||u.height<t.height)&&(o(u.height,u.color),l++)}}return xT(n)}(i),o=r.length;let s,a,l;if(ST._useFloatTexture(n)){a=Pd.A.FLOAT,l=n.webgl2?qd.A.RED:qd.A.LUMINANCE,s=new Float32Array(o);for(let e=0;e<o;e++)s[e]=r[e].height}else{a=Pd.A.UNSIGNED_BYTE,l=qd.A.RGBA,s=new Uint8Array(4*o);for(let e=0;e<o;e++)Fg.A.packFloat(r[e].height,vT),Fg.A.pack(vT,s,4*e)}const c=Hd.A.create({context:n,pixelFormat:l,pixelDatatype:a,source:{arrayBufferView:s,width:o,height:1},sampler:new Fd.A({wrapS:ig.A.CLAMP_TO_EDGE,wrapT:ig.A.CLAMP_TO_EDGE,minificationFilter:jd.A.NEAREST,magnificationFilter:Wd.A.NEAREST})}),A=new Uint8Array(4*o);for(let e=0;e<o;e++)r[e].color.toBytes(ET),A[4*e+0]=ET[0],A[4*e+1]=ET[1],A[4*e+2]=ET[2],A[4*e+3]=ET[3];const u=Hd.A.create({context:n,pixelFormat:qd.A.RGBA,pixelDatatype:Pd.A.UNSIGNED_BYTE,source:{arrayBufferView:A,width:o,height:1},sampler:new Fd.A({wrapS:ig.A.CLAMP_TO_EDGE,wrapT:ig.A.CLAMP_TO_EDGE,minificationFilter:jd.A.LINEAR,magnificationFilter:Wd.A.LINEAR})});return qv.A.fromType("ElevationBand",{heights:c,colors:u})}ST._useFloatTexture=function(e){return e.floatingPointTexture},ST._maximumHeight=5906376425472,ST._minimumHeight=-5906376425472,ST._emptyColor=new d.A(0,0,0,0);const TT=ST,MT={},DT=async function(e,t){(t=t??{}).cacheBytes=t.cacheBytes??1610612736,t.maximumCacheOverflowBytes=t.maximumCacheOverflowBytes??1073741824,t.enableCollision=t.enableCollision??!0,e=e??g.A.EMPTY_OBJECT,xe.A.typeOf.object("apiOptions",e),e.onlyUsingWithGoogleGeocoder||(0,xs.A)("google-tiles-with-google-geocoder","Only the Google geocoder can be used with Google Photorealistic 3D Tiles.  Set the `geocode` property of Viewer constructor options.  You can set additionalOptions.onlyUsingWithGoogleGeocoder to hide this warning once you have configured the geocoder.");const i=e.key??Zf.A.defaultApiKey;if(!(0,p.A)(i))return async function(e){const t=2275207;let i=MT[2275207];(0,p.A)(i)||(i=wm.A.fromAssetId(t),MT[2275207]=i);const n=await i;return pB.A.fromUrl(n,e)}(t);let n;const r=Zf.A.getDefaultCredit();(0,p.A)(r)&&(n=[r]);const o=new be.A({url:`${Zf.A.mapTilesApiEndpoint}v1/3dtiles/root.json`,queryParameters:{key:i},credits:n});return pB.A.fromUrl(o,t)},PT=async function(e){const t=await pB.A.fromIonAssetId(96188,e);let i=(e=e??g.A.EMPTY_OBJECT).style;if(!(0,p.A)(i)){const t=(e.defaultColor??d.A.WHITE).toCssColorString();i=new qC.A({color:`Boolean(\${feature['cesium#color']}) ? color(\${feature['cesium#color']}) : ${t}`})}return t.style=i,t},OT=function(e){const t=[];let i=(e=e??g.A.EMPTY_OBJECT).geometry;if(!(0,p.A)(i))throw new S.A("options.geometry is required.");(0,p.A)(i.attributes)&&(0,p.A)(i.primitiveType)||(i=i.constructor.createGeometry(i));const n=i.attributes,r=Gg.A.clone(e.modelMatrix??Gg.A.IDENTITY),o=e.length??1e4;if((0,p.A)(n.normal)&&t.push(new Xp.A({geometry:ef.A.createLineSegmentsForVectors(i,"normal",o),attributes:{color:new ap.A(1,0,0,1)},modelMatrix:r})),(0,p.A)(n.tangent)&&t.push(new Xp.A({geometry:ef.A.createLineSegmentsForVectors(i,"tangent",o),attributes:{color:new ap.A(0,1,0,1)},modelMatrix:r})),(0,p.A)(n.bitangent)&&t.push(new Xp.A({geometry:ef.A.createLineSegmentsForVectors(i,"bitangent",o),attributes:{color:new ap.A(0,0,1,1)},modelMatrix:r})),t.length>0)return new Dv.A({asynchronous:!1,geometryInstances:t,appearance:new nx.A({flat:!0,translucent:!1})})};var RT=i(655028),kT=i(635649),FT=i(217543),LT=i(961624),QT=i(351554),NT=i(245329),GT=i(796170),VT=i(63267),UT=i(772796),YT=i(201052),KT=i(115959),HT=i(4471),zT=i(613161),qT=i(16620),WT=i(301005),jT=i(980509),JT=i(291192),XT=i(149800),ZT=i(495702),$T=i(328326),eM=i(857831),tM=i(537335),iM=i(692608),nM=i(438376),rM=i(64137),oM=i(373785),sM=i(2218),aM=i(239942),lM=i(980360),cM=i(874099),AM=i(360069),uM=i(70966),hM=i(21561),dM=i(831373),gM=i(375916),pM=i(76846),fM=i(320441),mM=i(830539),_M=i(227798),yM=i(207131),wM=i(889216),CM=i(865114),BM=i(256773),vM=i(807783),EM=i(551672),bM=i(733185),IM=i(50937),xM=i(390249),SM=i(759889),TM=i(726401),MM=i(58747),DM=i(181163),PM=i(625322),OM=i(204410),RM=i(896077),kM=i(575581),FM=i(490129),LM=i(75899),QM=i(295673),NM=i(370988),GM=i(419421),VM=i(563402),UM=i(143938),YM=i(801202),KM=i(403139),HM=i(521791),zM=i(212143),qM=i(325161),WM=i(261126),jM=i(221334),JM=i(980678),XM=i(768601),ZM=i(501782),$M=i(828077),eD=i(7562),tD=i(34274),iD=i(494098),nD=i(443045),rD=i(40640),oD=i(323745),sD=i(752925),aD=i(249550),lD=i(365559),cD=i(427139),AD=i(844644),uD=i(638943),hD=i(732156),dD=i(377126),gD=i(279291),pD=i(547146),fD=i(934993),mD=i(712957);const _D="uniform sampler2D u_depthTexture;\n\nin vec2 v_textureCoordinates;\n\nvoid main()\n{\n    float z_window = czm_unpackDepth(texture(u_depthTexture, v_textureCoordinates));\n    z_window = czm_reverseLogDepth(z_window);\n    float n_range = czm_depthRange.near;\n    float f_range = czm_depthRange.far;\n    float z_ndc = (2.0 * z_window - n_range - f_range) / (f_range - n_range);\n    float scale = pow(z_ndc * 0.5 + 0.5, 8.0);\n    out_FragColor = vec4(mix(vec3(0.0), vec3(1.0), scale), 1.0);\n}\n";var yD=i(388241),wD=i(780953),CD=i(347961),BD=i(602142),vD=i(947709),ED=i(724355),bD=i(573311),ID=i(90979),xD=i(307386),SD=i(537070),TD=i(812178),MD=i(951834),DD=i(382743),PD=i(186930),OD=i(864393),RD=i(189670),kD=i(485326),FD=i(755774),LD=i(808581),QD=i(741641),ND=i(418816),GD=i(195987),VD=i(940702),UD=i(791533),YD=i(677101),KD=i(305725),HD=i(62309),zD=i(92810),qD=i(477089),WD=i(133240),jD=i(724447),JD=i(267047),XD=i(84334),ZD=i(114098),$D=i(865980),eP=i(155463),tP=i(839078),iP=i(464335),nP=i(534702),rP=i(614480),oP=i(884137),sP=i(494490),aP=i(137261),lP=i(512286),cP=i(578283),AP=i(166479),uP=i(495331),hP=i(277315),dP=i(899557),gP=i(330483),pP=i(94334),fP=i(913081),mP=i(493435),_P=i(19120),yP=i(538198),wP=i(802227),CP=i(186919),BP=i(212642),vP=i(503631),EP=i(899700),bP=i(662274),IP=i(106430),xP=i(212525),SP=i(381508),TP=i(747680),MP=i(13916),DP=i(598073),PP=i(66502),OP=i(320578),RP=i(521032),kP=i(3282),FP=i(509830),LP=i(890692),QP=i(577847),NP=i(610084),GP=i(391648),VP=i(281810),UP=i(10803),YP=i(817082),KP=i(736355),HP=i(193497),zP=i(963564),qP=i(64389),WP=i(623379),jP=i(224975),JP=i(56241),XP=i(156621),ZP=i(275670),$P=i(4773),eO=i(41358),tO=i(647478),iO=i(303036),nO=i(855692),rO=i(542614),oO=i(270316),sO=i(652259),aO=i(242893),lO=i(947129),cO=i(701111),AO=i(112497),uO=i(127329),hO=i(657685),dO=i(922167),gO=i(17728),pO=i(949020),fO=i(136426),mO=i(885251),_O=i(850210),yO=i(814071),wO=i(746761),CO=i(496854),BO=i(566258),vO=i(650884),EO=i(226827),bO=i(471147),IO=i(163010),xO=i(604883),SO=i(799395),TO=i(601945),MO=i(31908),DO=i(752709),PO=i(623524),OO=i(366413),RO=i(214666),kO=i(531218),FO=i(252843),LO=i(391852),QO=i(456727),NO=i(942836),GO=i(821174);const VO=function(e){e=e??g.A.EMPTY_OBJECT;const t=(0,p.A)(e.typedArray);if(t===(0,p.A)(e.url))throw new S.A("exactly one of options.typedArray, options.url must be defined");if(t&&(!(0,p.A)(e.width)||!(0,p.A)(e.height)))throw new S.A("options.width and options.height are required when options.typedArray is defined");this.typedArray=e.typedArray,this.width=e.width,this.height=e.height,this.pixelFormat=e.pixelFormat??qd.A.RGBA,this.pixelDatatype=e.pixelDatatype??Pd.A.UNSIGNED_BYTE;let i=e.url;"string"==typeof i&&(i=be.A.createIfNeeded(i)),this.resource=i;const n=e.repeat??1?ig.A.REPEAT:ig.A.CLAMP_TO_EDGE;this.sampler=new Fd.A({wrapS:n,wrapT:n,minificationFilter:e.minificationFilter,magnificationFilter:e.magnificationFilter,maximumAnisotropy:e.maximumAnisotropy})};var UO=i(807048),YO=i(671098);const KO=Object.freeze({FLOAT:"float",VEC2:"vec2",VEC3:"vec3",VEC4:"vec4",MAT2:"mat2",MAT3:"mat3",MAT4:"mat4"});var HO=i(641882),zO=i(6214),qO=i(965020),WO=i(433175),jO=i(779548),JO=i(945363),XO=i(575190),ZO=i(703381),$O=i(960352),eR=i(550071),tR=i(291146),iR=i(680633),nR=i(751418),rR=i(616053),oR=i(509473),sR=i(54754),aR=i(484374),lR=i(673089),cR=i(178303),AR=i(658594),uR=i(228970),hR=i(135869),dR=i(517382),gR=i(538496),pR=i(747543),fR=i(317374),mR=i(884252),_R=i(485806),yR=i(903149),wR=i(601995),CR=i(552111),BR=i(154487),vR=i(856253),ER=i(685879),bR=i(570941),IR=i(819888),xR=i(656328),SR=i(915065),TR=i(564363),MR=i(300255),DR=i(658169),PR=i(820965),OR=i(30284),RR=i(851714),kR=i(423340),FR=i(416407),LR=i(171037),QR=i(41715),NR=i(229806),GR=i(731759),VR=i(106245),UR=i(638211),YR=i(702673),KR=i(461091),HR=i(187411),zR=i(812499),qR=i(498386),WR=i(264968),jR=i(668784),JR=i(990227),XR=i(922956),ZR=i(981767),$R=i(413799),ek=i(919085),tk=i(892987),ik=i(498969),nk=i(505559),rk=i(436749),ok=i(641179),sk=i(68787),ak=i(803270),lk=i(225424),ck=i(441786),Ak=i(865459),uk=i(269453),hk=i(817515),dk=i(240790),gk=i(12624),pk=i(13500),fk=i(943703),mk=i(915493),_k=i(493458),yk=i(820789),wk=i(565274),Ck=i(247408),Bk=i(177627),vk=i(624782),Ek=i(195814),bk=i(9102),Ik=i(534173),xk=i(348941),Sk=i(431443),Tk=i(448358),Mk=i(633899),Dk=i(393597),Pk=i(293367),Ok=i(31862),Rk=i(610675),kk=i(160958),Fk=i(21038),Lk=i(363063),Qk=i(973717),Nk=i(254805),Gk=i(548051),Vk=i(191195),Uk=i(738340),Yk=i(674794),Kk=i(584312),Hk=i(428395),zk=i(696042),qk=i(820121),Wk=i(147769),jk=i(394839),Jk=i(932901),Xk=i(527105),Zk=i(916117),$k=i(755541),eF=i(463540),tF=i(199494),iF=i(82914),nF=i(568758),rF=i(562348),oF=i(19687),sF=i(501738),aF=i(660164),lF=i(480262),cF=i(608860),AF=i(980902),uF=i(367309),hF=i(880691),dF=i(648777),gF=i(231511),pF=i(293752),fF=i(617172),mF=i(169513),_F=i(720547),yF=i(584783),wF=i(10451),CF=i(237688),BF=i(322556),vF=i(593920),EF=i(316923),bF=i(882209),IF=i(659282),xF=i(912726),SF=i(893828),TF=i(47367),MF=i(714574);const DF=Object.freeze({SIGX:"SIGX",SIGY:"SIGY",SIGZ:"SIGZ",VARX:"VARX",VARY:"VARY",VARZ:"VARZ",SIGR:"VARZ"});var PF=i(858288),OF=i(453056),RF=i(844833);const kF=function(e){return self.onmessage=async function({data:t}){const i=[],n={id:t.id,result:void 0,error:void 0};self.CESIUM_BASE_URL=t.baseUrl;try{const r=await e(t.parameters,i);n.result=r}catch(e){e instanceof Error?n.error={name:e.name,message:e.message,stack:e.stack}:n.error=e}t.canTransferArrayBuffer||(i.length=0);try{postMessage(n,i)}catch(e){n.result=void 0,n.error=`postMessage failed with error: ${(0,By.A)(e)}\n  with responseMessage: ${JSON.stringify(n)}`,postMessage(n)}},self.onmessageerror=function(e){postMessage({id:e.data?.id,error:`postMessage failed with error: ${JSON.stringify(e)}`})},self};var FF=i(112306);const LF=function(){this.canExecute=void 0,this.beforeExecute=void 0,this.afterExecute=void 0,S.A.throwInstantiationError()},QF={createCheckbox:function(e,t,i){xe.A.typeOf.string("labelText",e),xe.A.typeOf.string("checkedBinding",t);const n=document.createElement("div"),r=document.createElement("label"),o=document.createElement("input");o.type="checkbox";let s=`checked: ${t}`;return(0,p.A)(i)&&(s+=`, enable: ${i}`),o.setAttribute("data-bind",s),r.appendChild(o),r.appendChild(document.createTextNode(e)),n.appendChild(r),n},createSection:function(e,t,i,n){xe.A.defined("panel",e),xe.A.typeOf.string("headerText",t),xe.A.typeOf.string("sectionVisibleBinding",i),xe.A.typeOf.string("toggleSectionVisibilityBinding",n);const r=document.createElement("div");r.className="cesium-cesiumInspector-section",r.setAttribute("data-bind",`css: { "cesium-cesiumInspector-section-collapsed": !${i} }`),e.appendChild(r);const o=document.createElement("h3");o.className="cesium-cesiumInspector-sectionHeader",o.appendChild(document.createTextNode(t)),o.setAttribute("data-bind",`click: ${n}`),r.appendChild(o);const s=document.createElement("div");return s.className="cesium-cesiumInspector-sectionContent",r.appendChild(s),s},createRangeInput:function(e,t,i,n,r,o){xe.A.typeOf.string("rangeText",e),xe.A.typeOf.string("sliderValueBinding",t),xe.A.typeOf.number("min",i),xe.A.typeOf.number("max",n),o=o??t;const s=document.createElement("input");s.setAttribute("data-bind",`value: ${o}`),s.type="number";const a=document.createElement("input");a.type="range",a.min=i,a.max=n,a.step=r??"any",a.setAttribute("data-bind",`valueUpdate: "input", value: ${t}`);const l=document.createElement("div");l.appendChild(a);const c=document.createElement("div");return c.className="cesium-cesiumInspector-slider",c.appendChild(document.createTextNode(e)),c.appendChild(s),c.appendChild(l),c},createRangeInputWithDynamicMinMax:function(e,t,i,n){xe.A.typeOf.string("rangeText",e),xe.A.typeOf.string("sliderValueBinding",t),n=n??t;const r=document.createElement("input");r.setAttribute("data-bind",`value: ${n}`),r.type="number";const o=document.createElement("input");o.type="range",o.step=i??"any",o.setAttribute("data-bind",`valueUpdate: "input", value: ${t}, attr: { min: ${t}Min, max: ${t}Max }`);const s=document.createElement("div");s.appendChild(o);const a=document.createElement("div");return a.className="cesium-cesiumInspector-slider",a.appendChild(document.createTextNode(e)),a.appendChild(r),a.appendChild(s),a},createButton:function(e,t,i){xe.A.typeOf.string("buttonText",e),xe.A.typeOf.string("clickedBinding",t);const n=document.createElement("button");n.type="button",n.textContent=e,n.className="cesium-cesiumInspector-pickButton";let r=`click: ${t}`;return(0,p.A)(i)&&(r+=`, css: {"cesium-cesiumInspector-pickButtonHighlight" : ${i}}`),n.setAttribute("data-bind",r),n}};var NF=i(677854),GF=i(798518),VF=i(277441),UF=i(618168),YF=i(338863),KF=i(806441),HF=i(622463),zF=i(93017),qF=i(687194),WF=i(714018),jF=i(177647),JF=i(914684);function XF(e,t){t?e._eventHandler.setInputAction(function(t){const i=e._scene.pick(t.endPosition);(0,p.A)(i)&&i.primitive instanceof pB.A&&(e.tileset=i.primitive)},m_.A.MOUSE_MOVE):(e._eventHandler.removeInputAction(m_.A.MOUSE_MOVE),e.picking=e.picking)}const ZF={maximumFractionDigits:3};function $F(e){const t=e/1048576;return t<1?t.toLocaleString(void 0,ZF):Math.round(t).toLocaleString()}function eL(e,t){if(!(0,p.A)(e))return"";const i=t?e._statisticsPerPass[YC.A.PICK]:e._statisticsPerPass[YC.A.RENDER];let n='<ul class="cesium-cesiumInspector-statistics">';return n+=`<li><strong>Visited: </strong>${i.visited.toLocaleString()}</li><li><strong>Selected: </strong>${i.selected.toLocaleString()}</li><li><strong>Commands: </strong>${i.numberOfCommands.toLocaleString()}</li>`,n+="</ul>",t||(n+='<ul class="cesium-cesiumInspector-statistics">',n+=`<li><strong>Requests: </strong>${i.numberOfPendingRequests.toLocaleString()}</li><li><strong>Attempted: </strong>${i.numberOfAttemptedRequests.toLocaleString()}</li><li><strong>Processing: </strong>${i.numberOfTilesProcessing.toLocaleString()}</li><li><strong>Content Ready: </strong>${i.numberOfTilesWithContentReady.toLocaleString()}</li><li><strong>Total: </strong>${i.numberOfTilesTotal.toLocaleString()}</li>`,n+="</ul>",n+='<ul class="cesium-cesiumInspector-statistics">',n+=`<li><strong>Features Selected: </strong>${i.numberOfFeaturesSelected.toLocaleString()}</li><li><strong>Features Loaded: </strong>${i.numberOfFeaturesLoaded.toLocaleString()}</li><li><strong>Points Selected: </strong>${i.numberOfPointsSelected.toLocaleString()}</li><li><strong>Points Loaded: </strong>${i.numberOfPointsLoaded.toLocaleString()}</li><li><strong>Triangles Selected: </strong>${i.numberOfTrianglesSelected.toLocaleString()}</li>`,n+="</ul>",n+='<ul class="cesium-cesiumInspector-statistics">',n+=`<li><strong>Tiles styled: </strong>${i.numberOfTilesStyled.toLocaleString()}</li><li><strong>Features styled: </strong>${i.numberOfFeaturesStyled.toLocaleString()}</li>`,n+="</ul>",n+='<ul class="cesium-cesiumInspector-statistics">',n+=`<li><strong>Children Union Culled: </strong>${i.numberOfTilesCulledWithChildrenUnion.toLocaleString()}</li>`,n+="</ul>",n+='<ul class="cesium-cesiumInspector-statistics">',n+=`<li><strong>Geometry Memory (MB): </strong>${$F(i.geometryByteLength)}</li><li><strong>Texture Memory (MB): </strong>${$F(i.texturesByteLength)}</li><li><strong>Batch Table Memory (MB): </strong>${$F(i.batchTableByteLength)}</li>`,n+="</ul>"),n}function tL(){const e=sB.A.statistics;return`\n  <ul class="cesium-cesiumInspector-statistics">\n    <li><strong>Geometry Memory (MB): </strong>${$F(e.geometryByteLength)}</li>\n    <li><strong>Texture Memory (MB): </strong>${$F(e.texturesByteLength)}</li>\n  </ul>\n  `}const iL=[{text:"Highlight",value:OC.A.HIGHLIGHT},{text:"Replace",value:OC.A.REPLACE},{text:"Mix",value:OC.A.MIX}],nL=new d.A(1,1,0,.4),rL=new d.A,oL=new d.A;function sL(e,t){xe.A.typeOf.object("scene",e),xe.A.typeOf.object("performanceContainer",t);const i=this,n=e.canvas;this._eventHandler=new f_.A(n),this._scene=e,this._performanceContainer=t,this._canvas=n,this._performanceDisplay=new rx.A({container:t}),this._statisticsText="",this._pickStatisticsText="",this._resourceCacheStatisticsText="",this._editorError="",this.performance=!1,this.showStatistics=!0,this.showPickStatistics=!0,this.showResourceCacheStatistics=!1,this.inspectorVisible=!0,this.tilesetVisible=!1,this.displayVisible=!1,this.updateVisible=!1,this.loggingVisible=!1,this.styleVisible=!1,this.tileDebugLabelsVisible=!1,this.optimizationVisible=!1,this.styleString="{}",this.hasEnabledWireframe=!1,this._tileset=void 0,this._feature=void 0,this._tile=void 0,JF.A.track(this,["performance","inspectorVisible","_statisticsText","_pickStatisticsText","_resourceCacheStatisticsText","_editorError","showPickStatistics","showStatistics","showResourceCacheStatistics","tilesetVisible","displayVisible","updateVisible","loggingVisible","styleVisible","optimizationVisible","tileDebugLabelsVisible","styleString","_feature","_tile","_tileset","hasEnabledWireframe"]),this._properties=JF.A.observable({}),this.properties=[],JF.A.defineProperty(this,"properties",function(){const e=[],t=i._properties();for(const i in t)t.hasOwnProperty(i)&&e.push(i);return e});const r=JF.A.observable();JF.A.defineProperty(this,"dynamicScreenSpaceError",{get:function(){return r()},set:function(e){r(e),(0,p.A)(i._tileset)&&(i._tileset.dynamicScreenSpaceError=e)}}),this.dynamicScreenSpaceError=!1;const o=JF.A.observable();JF.A.defineProperty(this,"colorBlendMode",{get:function(){return o()},set:function(e){o(e),(0,p.A)(i._tileset)&&(i._tileset.colorBlendMode=e,i._scene.requestRender())}}),this.colorBlendMode=OC.A.HIGHLIGHT;const s=JF.A.observable(),a=JF.A.observable();JF.A.defineProperty(this,"picking",{get:function(){return a()},set:function(t){a(t),t?i._eventHandler.setInputAction(function(t){const n=e.pick(t.endPosition);if(n instanceof NC.A?(i.feature=n,i.tile=n.content.tile):(0,p.A)(n)&&(0,p.A)(n.content)?(i.feature=void 0,i.tile=n.content.tile):(i.feature=void 0,i.tile=void 0),(0,p.A)(i._tileset)){if(s&&(0,p.A)(n)&&(0,p.A)(n.content)){let r;e.pickPositionSupported&&(r=e.pickPosition(t.endPosition),(0,p.A)(r)&&(i._tileset.debugPickPosition=r)),i._tileset.debugPickedTile=n.content.tile}else i._tileset.debugPickedTile=void 0;i._scene.requestRender()}},m_.A.MOUSE_MOVE):(i.feature=void 0,i.tile=void 0,i._eventHandler.removeInputAction(m_.A.MOUSE_MOVE))}}),this.picking=!0;const l=JF.A.observable();JF.A.defineProperty(this,"colorize",{get:function(){return l()},set:function(e){l(e),(0,p.A)(i._tileset)&&(i._tileset.debugColorizeTiles=e,i._scene.requestRender())}}),this.colorize=!1;const c=JF.A.observable();JF.A.defineProperty(this,"wireframe",{get:function(){return c()},set:function(e){c(e),(0,p.A)(i._tileset)&&(i._tileset.debugWireframe=e,i._scene.requestRender())}}),this.wireframe=!1;const A=JF.A.observable();JF.A.defineProperty(this,"showBoundingVolumes",{get:function(){return A()},set:function(e){A(e),(0,p.A)(i._tileset)&&(i._tileset.debugShowBoundingVolume=e,i._scene.requestRender())}}),this.showBoundingVolumes=!1;const u=JF.A.observable();JF.A.defineProperty(this,"showContentBoundingVolumes",{get:function(){return u()},set:function(e){u(e),(0,p.A)(i._tileset)&&(i._tileset.debugShowContentBoundingVolume=e,i._scene.requestRender())}}),this.showContentBoundingVolumes=!1;const h=JF.A.observable();JF.A.defineProperty(this,"showRequestVolumes",{get:function(){return h()},set:function(e){h(e),(0,p.A)(i._tileset)&&(i._tileset.debugShowViewerRequestVolume=e,i._scene.requestRender())}}),this.showRequestVolumes=!1;const d=JF.A.observable();JF.A.defineProperty(this,"freezeFrame",{get:function(){return d()},set:function(e){d(e),(0,p.A)(i._tileset)&&(i._tileset.debugFreezeFrame=e,i._scene.debugShowFrustumPlanes=e,i._scene.requestRender())}}),this.freezeFrame=!1,JF.A.defineProperty(this,"showOnlyPickedTileDebugLabel",{get:function(){return s()},set:function(e){s(e),(0,p.A)(i._tileset)&&(i._tileset.debugPickedTileLabelOnly=e,i._scene.requestRender())}}),this.showOnlyPickedTileDebugLabel=!1;const g=JF.A.observable();JF.A.defineProperty(this,"showGeometricError",{get:function(){return g()},set:function(e){g(e),(0,p.A)(i._tileset)&&(i._tileset.debugShowGeometricError=e,i._scene.requestRender())}}),this.showGeometricError=!1;const f=JF.A.observable();JF.A.defineProperty(this,"showRenderingStatistics",{get:function(){return f()},set:function(e){f(e),(0,p.A)(i._tileset)&&(i._tileset.debugShowRenderingStatistics=e,i._scene.requestRender())}}),this.showRenderingStatistics=!1;const m=JF.A.observable();JF.A.defineProperty(this,"showMemoryUsage",{get:function(){return m()},set:function(e){m(e),(0,p.A)(i._tileset)&&(i._tileset.debugShowMemoryUsage=e,i._scene.requestRender())}}),this.showMemoryUsage=!1;const _=JF.A.observable();JF.A.defineProperty(this,"showUrl",{get:function(){return _()},set:function(e){_(e),(0,p.A)(i._tileset)&&(i._tileset.debugShowUrl=e,i._scene.requestRender())}}),this.showUrl=!1;const y=JF.A.observable();JF.A.defineProperty(this,"maximumScreenSpaceError",{get:function(){return y()},set:function(e){e=Number(e),isNaN(e)||(y(e),(0,p.A)(i._tileset)&&(i._tileset.maximumScreenSpaceError=e))}}),this.maximumScreenSpaceError=16;const w=JF.A.observable();JF.A.defineProperty(this,"dynamicScreenSpaceErrorDensity",{get:function(){return w()},set:function(e){e=Number(e),isNaN(e)||(w(e),(0,p.A)(i._tileset)&&(i._tileset.dynamicScreenSpaceErrorDensity=e))}}),this.dynamicScreenSpaceErrorDensity=2e-4,this.dynamicScreenSpaceErrorDensitySliderValue=void 0,JF.A.defineProperty(this,"dynamicScreenSpaceErrorDensitySliderValue",{get:function(){return Math.pow(w(),1/6)},set:function(e){const t=Math.pow(e,6);w(t),(0,p.A)(i._tileset)&&(i._tileset.dynamicScreenSpaceErrorDensity=t)}});const C=JF.A.observable();JF.A.defineProperty(this,"dynamicScreenSpaceErrorFactor",{get:function(){return C()},set:function(e){e=Number(e),isNaN(e)||(C(e),(0,p.A)(i._tileset)&&(i._tileset.dynamicScreenSpaceErrorFactor=e))}}),this.dynamicScreenSpaceErrorFactor=24;const B=(v=this,function(e){const t=v._scene.pick(e.position);(0,p.A)(t)&&t.primitive instanceof pB.A&&(v.tileset=t.primitive),v.pickActive=!1});var v;const E=JF.A.observable();JF.A.defineProperty(this,"pickActive",{get:function(){return E()},set:function(e){E(e),e?i._eventHandler.setInputAction(B,m_.A.LEFT_CLICK):i._eventHandler.removeInputAction(m_.A.LEFT_CLICK)}});const b=JF.A.observable();JF.A.defineProperty(this,"pointCloudShading",{get:function(){return b()},set:function(e){b(e),(0,p.A)(i._tileset)&&(i._tileset.pointCloudShading.attenuation=e)}}),this.pointCloudShading=!1;const I=JF.A.observable();JF.A.defineProperty(this,"geometricErrorScale",{get:function(){return I()},set:function(e){e=Number(e),isNaN(e)||(I(e),(0,p.A)(i._tileset)&&(i._tileset.pointCloudShading.geometricErrorScale=e))}}),this.geometricErrorScale=1;const x=JF.A.observable();JF.A.defineProperty(this,"maximumAttenuation",{get:function(){return x()},set:function(e){e=Number(e),isNaN(e)||(x(e),(0,p.A)(i._tileset)&&(i._tileset.pointCloudShading.maximumAttenuation=0===e?void 0:e))}}),this.maximumAttenuation=0;const S=JF.A.observable();JF.A.defineProperty(this,"baseResolution",{get:function(){return S()},set:function(e){e=Number(e),isNaN(e)||(S(e),(0,p.A)(i._tileset)&&(i._tileset.pointCloudShading.baseResolution=0===e?void 0:e))}}),this.baseResolution=0;const T=JF.A.observable();JF.A.defineProperty(this,"eyeDomeLighting",{get:function(){return T()},set:function(e){T(e),(0,p.A)(i._tileset)&&(i._tileset.pointCloudShading.eyeDomeLighting=e)}}),this.eyeDomeLighting=!1;const M=JF.A.observable();JF.A.defineProperty(this,"eyeDomeLightingStrength",{get:function(){return M()},set:function(e){e=Number(e),isNaN(e)||(M(e),(0,p.A)(i._tileset)&&(i._tileset.pointCloudShading.eyeDomeLightingStrength=e))}}),this.eyeDomeLightingStrength=1;const D=JF.A.observable();JF.A.defineProperty(this,"eyeDomeLightingRadius",{get:function(){return D()},set:function(e){e=Number(e),isNaN(e)||(D(e),(0,p.A)(i._tileset)&&(i._tileset.pointCloudShading.eyeDomeLightingRadius=e))}}),this.eyeDomeLightingRadius=1,this.pickActive=!1;const P=JF.A.observable();JF.A.defineProperty(this,"skipLevelOfDetail",{get:function(){return P()},set:function(e){P(e),(0,p.A)(i._tileset)&&(i._tileset.skipLevelOfDetail=e)}}),this.skipLevelOfDetail=!0;const O=JF.A.observable();JF.A.defineProperty(this,"skipScreenSpaceErrorFactor",{get:function(){return O()},set:function(e){e=Number(e),isNaN(e)||(O(e),(0,p.A)(i._tileset)&&(i._tileset.skipScreenSpaceErrorFactor=e))}}),this.skipScreenSpaceErrorFactor=16;const R=JF.A.observable();JF.A.defineProperty(this,"baseScreenSpaceError",{get:function(){return R()},set:function(e){e=Number(e),isNaN(e)||(R(e),(0,p.A)(i._tileset)&&(i._tileset.baseScreenSpaceError=e))}}),this.baseScreenSpaceError=1024;const k=JF.A.observable();JF.A.defineProperty(this,"skipLevels",{get:function(){return k()},set:function(e){e=Number(e),isNaN(e)||(k(e),(0,p.A)(i._tileset)&&(i._tileset.skipLevels=e))}}),this.skipLevels=1;const F=JF.A.observable();JF.A.defineProperty(this,"immediatelyLoadDesiredLevelOfDetail",{get:function(){return F()},set:function(e){F(e),(0,p.A)(i._tileset)&&(i._tileset.immediatelyLoadDesiredLevelOfDetail=e)}}),this.immediatelyLoadDesiredLevelOfDetail=!1;const L=JF.A.observable();JF.A.defineProperty(this,"loadSiblings",{get:function(){return L()},set:function(e){L(e),(0,p.A)(i._tileset)&&(i._tileset.loadSiblings=e)}}),this.loadSiblings=!1,this._style=void 0,this._shouldStyle=!1,this._definedProperties=["properties","dynamicScreenSpaceError","colorBlendMode","picking","colorize","wireframe","showBoundingVolumes","showContentBoundingVolumes","showRequestVolumes","freezeFrame","maximumScreenSpaceError","dynamicScreenSpaceErrorDensity","baseScreenSpaceError","skipScreenSpaceErrorFactor","skipLevelOfDetail","skipLevels","immediatelyLoadDesiredLevelOfDetail","loadSiblings","dynamicScreenSpaceErrorDensitySliderValue","dynamicScreenSpaceErrorFactor","pickActive","showOnlyPickedTileDebugLabel","showGeometricError","showRenderingStatistics","showMemoryUsage","showUrl","pointCloudShading","geometricErrorScale","maximumAttenuation","baseResolution","eyeDomeLighting","eyeDomeLightingStrength","eyeDomeLightingRadius"],this._removePostRenderEvent=e.postRender.addEventListener(function(){i._update()}),(0,p.A)(this._tileset)||XF(this,!0)}function aL(e){if(!(0,p.A)(e))return!1;if(e.featuresLength>0)return!0;const t=e.innerContents;if((0,p.A)(t)){const e=t.length;for(let i=0;i<e;++i)if(!aL(t[i]))return!1;return!0}return!1}Object.defineProperties(sL.prototype,{scene:{get:function(){return this._scene}},performanceContainer:{get:function(){return this._performanceContainer}},statisticsText:{get:function(){return this._statisticsText}},pickStatisticsText:{get:function(){return this._pickStatisticsText}},resourceCacheStatisticsText:{get:function(){return this._resourceCacheStatisticsText}},colorBlendModes:{get:function(){return iL}},editorError:{get:function(){return this._editorError}},tileset:{get:function(){return this._tileset},set:function(e){if(this._tileset=e,this._style=void 0,this.styleString="{}",this.feature=void 0,this.tile=void 0,(0,p.A)(e)){this._properties(e.properties);const t=["colorize","wireframe","showBoundingVolumes","showContentBoundingVolumes","showRequestVolumes","freezeFrame","showOnlyPickedTileDebugLabel","showGeometricError","showRenderingStatistics","showMemoryUsage","showUrl"],i=t.length;for(let e=0;e<i;++e){const i=t[e];this[i]=this[i]}this.maximumScreenSpaceError=e.maximumScreenSpaceError,this.dynamicScreenSpaceError=e.dynamicScreenSpaceError,this.dynamicScreenSpaceErrorDensity=e.dynamicScreenSpaceErrorDensity,this.dynamicScreenSpaceErrorFactor=e.dynamicScreenSpaceErrorFactor,this.colorBlendMode=e.colorBlendMode,this.skipLevelOfDetail=e.skipLevelOfDetail,this.skipScreenSpaceErrorFactor=e.skipScreenSpaceErrorFactor,this.baseScreenSpaceError=e.baseScreenSpaceError,this.skipLevels=e.skipLevels,this.immediatelyLoadDesiredLevelOfDetail=e.immediatelyLoadDesiredLevelOfDetail,this.loadSiblings=e.loadSiblings,this.hasEnabledWireframe=e._enableDebugWireframe;const n=e.pointCloudShading;this.pointCloudShading=n.attenuation,this.geometricErrorScale=n.geometricErrorScale,this.maximumAttenuation=n.maximumAttenuation?n.maximumAttenuation:0,this.baseResolution=n.baseResolution?n.baseResolution:0,this.eyeDomeLighting=n.eyeDomeLighting,this.eyeDomeLightingStrength=n.eyeDomeLightingStrength,this.eyeDomeLightingRadius=n.eyeDomeLightingRadius,this._scene.requestRender()}else this._properties({});this._statisticsText=eL(e,!1),this._pickStatisticsText=eL(e,!0),this._resourceCacheStatisticsText=tL(),XF(this,!1)}},feature:{get:function(){return this._feature},set:function(e){if(this._feature===e)return;const t=this._feature;(0,p.A)(t)&&!t.content.isDestroyed()&&(!this.colorize&&(0,p.A)(this._style)?t.color=(0,p.A)(this._style.color)?this._style.color.evaluateColor(t,rL):d.A.WHITE:t.color=oL,this._scene.requestRender()),(0,p.A)(e)&&(d.A.clone(e.color,oL),e.color=nL,this._scene.requestRender()),this._feature=e}},tile:{get:function(){return this._tile},set:function(e){if(this._tile===e)return;const t=this._tile;!(0,p.A)(t)||t.isDestroyed()||aL(t.content)||(t.color=oL,this._scene.requestRender()),(0,p.A)(e)&&!aL(e.content)&&(d.A.clone(e.color,oL),e.color=nL,this._scene.requestRender()),this._tile=e}}}),sL.prototype.togglePickTileset=function(){this.pickActive=!this.pickActive},sL.prototype.toggleInspector=function(){this.inspectorVisible=!this.inspectorVisible},sL.prototype.toggleTileset=function(){this.tilesetVisible=!this.tilesetVisible},sL.prototype.toggleDisplay=function(){this.displayVisible=!this.displayVisible},sL.prototype.toggleUpdate=function(){this.updateVisible=!this.updateVisible},sL.prototype.toggleLogging=function(){this.loggingVisible=!this.loggingVisible},sL.prototype.toggleStyle=function(){this.styleVisible=!this.styleVisible},sL.prototype.toggleTileDebugLabels=function(){this.tileDebugLabelsVisible=!this.tileDebugLabelsVisible},sL.prototype.toggleOptimization=function(){this.optimizationVisible=!this.optimizationVisible},sL.prototype.trimTilesCache=function(){(0,p.A)(this._tileset)&&this._tileset.trimLoadedTiles()},sL.prototype.compileStyle=function(){const e=this._tileset;if((0,p.A)(e)&&this.styleString!==JSON.stringify(e.style)){this._editorError="";try{0===this.styleString.length&&(this.styleString="{}"),this._style=new qC.A(JSON.parse(this.styleString)),this._shouldStyle=!0,this._scene.requestRender()}catch(e){this._editorError=e.toString()}this.feature=this._feature,this.tile=this._tile}},sL.prototype.styleEditorKeyPress=function(e,t){if(9===t.keyCode){t.preventDefault();const e=t.target,i=e.selectionStart,n=e.selectionEnd;let r=n;const o=e.value.slice(i,n).split("\n"),s=o.length;let a;if(t.shiftKey)for(a=0;a<s;++a)" "===o[a][0]&&(" "===o[a][1]?(o[a]=o[a].substr(2),r-=2):(o[a]=o[a].substr(1),r-=1));else for(a=0;a<s;++a)o[a]=`  ${o[a]}`,r+=2;const l=o.join("\n");e.value=e.value.slice(0,i)+l+e.value.slice(n),e.selectionStart=i!==n?i:r,e.selectionEnd=r}else!t.ctrlKey||10!==t.keyCode&&13!==t.keyCode||this.compileStyle();return!0},sL.prototype._update=function(){const e=this._tileset;if(this.performance&&this._performanceDisplay.update(),(0,p.A)(e)){if(e.isDestroyed())return this.tile=void 0,this.feature=void 0,void(this.tileset=void 0);const t=e.style;this._style!==e.style&&(this._shouldStyle?(e.style=this._style,this._shouldStyle=!1):(this._style=t,this.styleString=JSON.stringify(t.style,null,"  ")))}this.showStatistics&&(this._statisticsText=eL(e,!1),this._pickStatisticsText=eL(e,!0),this._resourceCacheStatisticsText=tL())},sL.prototype.isDestroyed=function(){return!1},sL.prototype.destroy=function(){this._eventHandler.destroy(),this._removePostRenderEvent();const e=this;return this._definedProperties.forEach(function(t){JF.A.getObservable(e,t).dispose()}),(0,zd.A)(this)},sL.getStatistics=eL;const lL=sL;function cL(e,t){xe.A.defined("container",e),xe.A.typeOf.object("scene",t),e=(0,NA.A)(e);const i=document.createElement("div"),n=document.createElement("div");n.setAttribute("data-bind","visible: performance");const r=new lL(t,n);this._viewModel=r,this._container=e,this._element=i;const o=document.createElement("div");o.textContent="3D Tiles Inspector",o.className="cesium-cesiumInspector-button",o.setAttribute("data-bind","click: toggleInspector"),i.appendChild(o),i.className="cesium-cesiumInspector cesium-3DTilesInspector",i.setAttribute("data-bind",'css: { "cesium-cesiumInspector-visible" : inspectorVisible, "cesium-cesiumInspector-hidden" : !inspectorVisible}'),e.appendChild(i);const s=document.createElement("div");s.className="cesium-cesiumInspector-dropDown",i.appendChild(s);const a=QF.createSection,l=QF.createCheckbox,c=QF.createRangeInput,A=QF.createButton,u=a(s,"Tileset","tilesetVisible","toggleTileset"),h=a(s,"Display","displayVisible","toggleDisplay"),d=a(s,"Update","updateVisible","toggleUpdate"),g=a(s,"Logging","loggingVisible","toggleLogging"),p=a(s,"Tile Debug Labels","tileDebugLabelsVisible","toggleTileDebugLabels"),f=a(s,"Style","styleVisible","toggleStyle"),m=a(s,"Optimization","optimizationVisible","toggleOptimization"),_=document.createElement("div");_.className="field-group";const y=document.createElement("label");y.className="field-label",y.appendChild(document.createTextNode("Properties: "));const w=document.createElement("div");w.setAttribute("data-bind","text: properties"),_.appendChild(y),_.appendChild(w),u.appendChild(_),u.appendChild(A("Pick Tileset","togglePickTileset","pickActive")),u.appendChild(A("Trim Tiles Cache","trimTilesCache")),u.appendChild(l("Enable Picking","picking")),h.appendChild(l("Colorize","colorize"));const C=h.appendChild(l("Wireframe","wireframe","_tileset === undefined || hasEnabledWireframe")),B=document.createElement("p");B.setAttribute("data-bind","visible: _tileset !== undefined && !hasEnabledWireframe"),B.setAttribute("class","cesium-3DTilesInspector-disabledElementsInfo"),B.innerText="Set enableDebugWireframe to true in the tileset constructor to enable this option.",C.appendChild(B),h.appendChild(l("Bounding Volumes","showBoundingVolumes")),h.appendChild(l("Content Volumes","showContentBoundingVolumes")),h.appendChild(l("Request Volumes","showRequestVolumes")),h.appendChild(l("Point Cloud Shading","pointCloudShading"));const v=document.createElement("div");v.setAttribute("data-bind","visible: pointCloudShading"),v.appendChild(c("Geometric Error Scale","geometricErrorScale",0,2,.01)),v.appendChild(c("Maximum Attenuation","maximumAttenuation",0,32,1)),v.appendChild(c("Base Resolution","baseResolution",0,1,.01)),v.appendChild(l("Eye Dome Lighting (EDL)","eyeDomeLighting")),h.appendChild(v);const E=document.createElement("div");E.setAttribute("data-bind","visible: eyeDomeLighting"),E.appendChild(c("EDL Strength","eyeDomeLightingStrength",0,2,.1)),E.appendChild(c("EDL Radius","eyeDomeLightingRadius",0,4,.1)),v.appendChild(E),d.appendChild(l("Freeze Frame","freezeFrame")),d.appendChild(l("Dynamic Screen Space Error","dynamicScreenSpaceError"));const b=document.createElement("div");b.appendChild(c("Maximum Screen Space Error","maximumScreenSpaceError",0,128,1)),d.appendChild(b);const I=document.createElement("div");I.setAttribute("data-bind","visible: dynamicScreenSpaceError"),I.appendChild(c("Screen Space Error Density","dynamicScreenSpaceErrorDensitySliderValue",0,1,.005,"dynamicScreenSpaceErrorDensity")),I.appendChild(c("Screen Space Error Factor","dynamicScreenSpaceErrorFactor",1,32,.1)),d.appendChild(I),g.appendChild(l("Performance","performance")),g.appendChild(n),g.appendChild(l("Statistics","showStatistics"));const x=document.createElement("div");x.className="cesium-3dTilesInspector-statistics",x.setAttribute("data-bind","html: statisticsText, visible: showStatistics"),g.appendChild(x),g.appendChild(l("Pick Statistics","showPickStatistics"));const S=document.createElement("div");S.className="cesium-3dTilesInspector-statistics",S.setAttribute("data-bind","html: pickStatisticsText, visible: showPickStatistics"),g.appendChild(S),g.appendChild(l("Resource Cache Statistics","showResourceCacheStatistics"));const T=document.createElement("div");T.className="cesium-3dTilesInspector-statistics",T.setAttribute("data-bind","html: resourceCacheStatisticsText, visible: showResourceCacheStatistics"),g.appendChild(T);const M=document.createElement("div");f.appendChild(M),M.appendChild(document.createTextNode("Color Blend Mode: "));const D=document.createElement("select");D.setAttribute("data-bind",'options: colorBlendModes, optionsText: "text", optionsValue: "value", value: colorBlendMode'),M.appendChild(D);const P=document.createElement("textarea");P.setAttribute("data-bind","textInput: styleString, event: { keydown: styleEditorKeyPress }"),M.className="cesium-cesiumInspector-styleEditor",M.appendChild(P);const O=A("Compile (Ctrl+Enter)","compileStyle");M.appendChild(O);const R=document.createElement("div");R.className="cesium-cesiumInspector-error",R.setAttribute("data-bind","text: editorError"),M.appendChild(R),p.appendChild(l("Show Picked Only","showOnlyPickedTileDebugLabel")),p.appendChild(l("Geometric Error","showGeometricError")),p.appendChild(l("Rendering Statistics","showRenderingStatistics")),p.appendChild(l("Memory Usage (MB)","showMemoryUsage")),p.appendChild(l("Url","showUrl")),m.appendChild(l("Skip Tile LODs","skipLevelOfDetail"));const k=document.createElement("div");k.appendChild(c("Skip SSE Factor","skipScreenSpaceErrorFactor",1,50,1)),m.appendChild(k);const F=document.createElement("div");F.appendChild(c("SSE before skipping LOD","baseScreenSpaceError",0,4096,1)),m.appendChild(F);const L=document.createElement("div");L.appendChild(c("Min. levels to skip","skipLevels",0,10,1)),m.appendChild(L),m.appendChild(l("Load only tiles that meet the max SSE.","immediatelyLoadDesiredLevelOfDetail")),m.appendChild(l("Load siblings of visible tiles","loadSiblings")),JF.A.applyBindings(r,i)}Object.defineProperties(cL.prototype,{container:{get:function(){return this._container}},viewModel:{get:function(){return this._viewModel}}}),cL.prototype.isDestroyed=function(){return!1},cL.prototype.destroy=function(){return JF.A.cleanNode(this._element),this._container.removeChild(this._element),this.viewModel.destroy(),(0,zd.A)(this)};const AL=cL;function uL(e,t,i){let n=Math.min(i,t);return n=Math.max(n,e),n}const hL=new l_.A,dL=new ie.A;function gL(e,t){if(!(0,p.A)(e))throw new S.A("scene is required");if(!(0,p.A)(t))throw new S.A("performanceContainer is required");const i=this,n=e.canvas,r=new f_.A(n);this._eventHandler=r,this._scene=e,this._canvas=n,this._primitive=void 0,this._tile=void 0,this._modelMatrixPrimitive=void 0,this._performanceDisplay=void 0,this._performanceContainer=t;const o=this._scene.globe;let s;function a(e){const t=i._scene.pick({x:e.position.x,y:e.position.y});(0,p.A)(t)&&(i.primitive=(0,p.A)(t.collection)?t.collection:t.primitive),i._scene.requestRender(),i.pickPrimitiveActive=!1}function l(e){let t;const n=o.ellipsoid,r=i._scene.camera.getPickRay(e.position,hL),s=o.pick(r,i._scene,dL);if((0,p.A)(s)){const e=n.cartesianToCartographic(s),i=o._surface.tileProvider._tilesToRenderByTextureCount;for(let n=0;!t&&n<i.length;++n){const r=i[n];if((0,p.A)(r))for(let i=0;!t&&i<r.length;++i){const n=r[i];ve.A.contains(n.rectangle,e)&&(t=n)}}}i.tile=t,i.pickTileActive=!1}o.depthTestAgainstTerrain=!0,this.frustums=!1,this.frustumPlanes=!1,this.performance=!1,this.shaderCacheText="",this.primitiveBoundingSphere=!1,this.primitiveReferenceFrame=!1,this.filterPrimitive=!1,this.tileBoundingSphere=!1,this.filterTile=!1,this.wireframe=!1,this.depthFrustum=1,this._numberOfFrustums=1,this.suspendUpdates=!1,this.tileCoordinates=!1,this.frustumStatisticText=!1,this.tileText="",this.hasPickedPrimitive=!1,this.hasPickedTile=!1,this.pickPrimitiveActive=!1,this.pickTileActive=!1,this.dropDownVisible=!0,this.generalVisible=!0,this.primitivesVisible=!1,this.terrainVisible=!1,this.depthFrustumText="",JF.A.track(this,["frustums","frustumPlanes","performance","shaderCacheText","primitiveBoundingSphere","primitiveReferenceFrame","filterPrimitive","tileBoundingSphere","filterTile","wireframe","depthFrustum","suspendUpdates","tileCoordinates","frustumStatisticText","tileText","hasPickedPrimitive","hasPickedTile","pickPrimitiveActive","pickTileActive","dropDownVisible","generalVisible","primitivesVisible","terrainVisible","depthFrustumText"]),this._toggleDropDown=(0,VF.A)(function(){i.dropDownVisible=!i.dropDownVisible}),this._toggleGeneral=(0,VF.A)(function(){i.generalVisible=!i.generalVisible}),this._togglePrimitives=(0,VF.A)(function(){i.primitivesVisible=!i.primitivesVisible}),this._toggleTerrain=(0,VF.A)(function(){i.terrainVisible=!i.terrainVisible}),this._frustumsSubscription=JF.A.getObservable(this,"frustums").subscribe(function(e){i._scene.debugShowFrustums=e,i._scene.requestRender()}),this._frustumPlanesSubscription=JF.A.getObservable(this,"frustumPlanes").subscribe(function(e){i._scene.debugShowFrustumPlanes=e,i._scene.requestRender()}),this._performanceSubscription=JF.A.getObservable(this,"performance").subscribe(function(e){e?i._performanceDisplay=new rx.A({container:i._performanceContainer}):i._performanceContainer.innerHTML=""}),this._showPrimitiveBoundingSphere=(0,VF.A)(function(){return i._primitive.debugShowBoundingVolume=i.primitiveBoundingSphere,i._scene.requestRender(),!0}),this._primitiveBoundingSphereSubscription=JF.A.getObservable(this,"primitiveBoundingSphere").subscribe(function(){i._showPrimitiveBoundingSphere()}),this._showPrimitiveReferenceFrame=(0,VF.A)(function(){if(i.primitiveReferenceFrame){const e=i._primitive.modelMatrix;i._modelMatrixPrimitive=new Ov({modelMatrix:e}),i._scene.primitives.add(i._modelMatrixPrimitive)}else(0,p.A)(i._modelMatrixPrimitive)&&(i._scene.primitives.remove(i._modelMatrixPrimitive),i._modelMatrixPrimitive=void 0);return i._scene.requestRender(),!0}),this._primitiveReferenceFrameSubscription=JF.A.getObservable(this,"primitiveReferenceFrame").subscribe(function(){i._showPrimitiveReferenceFrame()}),this._doFilterPrimitive=(0,VF.A)(function(){return i.filterPrimitive?i._scene.debugCommandFilter=function(e){return!(!(0,p.A)(i._modelMatrixPrimitive)||e.owner!==i._modelMatrixPrimitive._primitive)||!!(0,p.A)(i._primitive)&&(e.owner===i._primitive||e.owner===i._primitive._billboardCollection||e.owner.primitive===i._primitive)}:i._scene.debugCommandFilter=void 0,!0}),this._filterPrimitiveSubscription=JF.A.getObservable(this,"filterPrimitive").subscribe(function(){i._doFilterPrimitive(),i._scene.requestRender()}),this._wireframeSubscription=JF.A.getObservable(this,"wireframe").subscribe(function(e){o._surface.tileProvider._debug.wireframe=e,i._scene.requestRender()}),this._depthFrustumSubscription=JF.A.getObservable(this,"depthFrustum").subscribe(function(e){i._scene.debugShowDepthFrustum=e,i._scene.requestRender()}),this._incrementDepthFrustum=(0,VF.A)(function(){const e=i.depthFrustum+1;return i.depthFrustum=uL(1,i._numberOfFrustums,e),i._scene.requestRender(),!0}),this._decrementDepthFrustum=(0,VF.A)(function(){const e=i.depthFrustum-1;return i.depthFrustum=uL(1,i._numberOfFrustums,e),i._scene.requestRender(),!0}),this._suspendUpdatesSubscription=JF.A.getObservable(this,"suspendUpdates").subscribe(function(e){o._surface._debug.suspendLodUpdate=e,e||(i.filterTile=!1)}),this._showTileCoordinates=(0,VF.A)(function(){return i.tileCoordinates&&!(0,p.A)(s)?s=e.imageryLayers.addImageryProvider(new xS({tilingScheme:e.terrainProvider.tilingScheme})):!i.tileCoordinates&&(0,p.A)(s)&&(e.imageryLayers.remove(s),s=void 0),!0}),this._tileCoordinatesSubscription=JF.A.getObservable(this,"tileCoordinates").subscribe(function(){i._showTileCoordinates(),i._scene.requestRender()}),this._tileBoundingSphereSubscription=JF.A.getObservable(this,"tileBoundingSphere").subscribe(function(){i._showTileBoundingSphere(),i._scene.requestRender()}),this._showTileBoundingSphere=(0,VF.A)(function(){return i.tileBoundingSphere?o._surface.tileProvider._debug.boundingSphereTile=i._tile:o._surface.tileProvider._debug.boundingSphereTile=void 0,i._scene.requestRender(),!0}),this._doFilterTile=(0,VF.A)(function(){return i.filterTile?(i.suspendUpdates=!0,o._surface._tilesToRender=[],(0,p.A)(i._tile)&&i._tile.renderable&&o._surface._tilesToRender.push(i._tile)):i.suspendUpdates=!1,!0}),this._filterTileSubscription=JF.A.getObservable(this,"filterTile").subscribe(function(){i.doFilterTile(),i._scene.requestRender()}),this._pickPrimitive=(0,VF.A)(function(){i.pickPrimitiveActive=!i.pickPrimitiveActive}),this._pickPrimitiveActiveSubscription=JF.A.getObservable(this,"pickPrimitiveActive").subscribe(function(e){e?r.setInputAction(a,m_.A.LEFT_CLICK):r.removeInputAction(m_.A.LEFT_CLICK)}),this._pickTile=(0,VF.A)(function(){i.pickTileActive=!i.pickTileActive}),this._pickTileActiveSubscription=JF.A.getObservable(this,"pickTileActive").subscribe(function(e){e?r.setInputAction(l,m_.A.LEFT_CLICK):r.removeInputAction(m_.A.LEFT_CLICK)}),this._removePostRenderEvent=e.postRender.addEventListener(function(){i._update()})}Object.defineProperties(gL.prototype,{scene:{get:function(){return this._scene}},performanceContainer:{get:function(){return this._performanceContainer}},toggleDropDown:{get:function(){return this._toggleDropDown}},showPrimitiveBoundingSphere:{get:function(){return this._showPrimitiveBoundingSphere}},showPrimitiveReferenceFrame:{get:function(){return this._showPrimitiveReferenceFrame}},doFilterPrimitive:{get:function(){return this._doFilterPrimitive}},incrementDepthFrustum:{get:function(){return this._incrementDepthFrustum}},decrementDepthFrustum:{get:function(){return this._decrementDepthFrustum}},showTileCoordinates:{get:function(){return this._showTileCoordinates}},showTileBoundingSphere:{get:function(){return this._showTileBoundingSphere}},doFilterTile:{get:function(){return this._doFilterTile}},toggleGeneral:{get:function(){return this._toggleGeneral}},togglePrimitives:{get:function(){return this._togglePrimitives}},toggleTerrain:{get:function(){return this._toggleTerrain}},pickPrimitive:{get:function(){return this._pickPrimitive}},pickTile:{get:function(){return this._pickTile}},selectParent:{get:function(){const e=this;return(0,VF.A)(function(){e.tile=e.tile.parent})}},selectNW:{get:function(){const e=this;return(0,VF.A)(function(){e.tile=e.tile.northwestChild})}},selectNE:{get:function(){const e=this;return(0,VF.A)(function(){e.tile=e.tile.northeastChild})}},selectSW:{get:function(){const e=this;return(0,VF.A)(function(){e.tile=e.tile.southwestChild})}},selectSE:{get:function(){const e=this;return(0,VF.A)(function(){e.tile=e.tile.southeastChild})}},primitive:{get:function(){return this._primitive},set:function(e){const t=this._primitive;e!==t&&(this.hasPickedPrimitive=!0,(0,p.A)(t)&&(t.debugShowBoundingVolume=!1),this._scene.debugCommandFilter=void 0,(0,p.A)(this._modelMatrixPrimitive)&&(this._scene.primitives.remove(this._modelMatrixPrimitive),this._modelMatrixPrimitive=void 0),this._primitive=e,e.show=!1,setTimeout(function(){e.show=!0},50),this.showPrimitiveBoundingSphere(),this.showPrimitiveReferenceFrame(),this.doFilterPrimitive())}},tile:{get:function(){return this._tile},set:function(e){if((0,p.A)(e)){if(this.hasPickedTile=!0,e!==this._tile){this.tileText=`L: ${e.level} X: ${e.x} Y: ${e.y}`,this.tileText+=`<br>SW corner: ${e.rectangle.west}, ${e.rectangle.south}`,this.tileText+=`<br>NE corner: ${e.rectangle.east}, ${e.rectangle.north}`;const t=e.data;(0,p.A)(t)&&(0,p.A)(t.tileBoundingRegion)?this.tileText+=`<br>Min: ${t.tileBoundingRegion.minimumHeight} Max: ${t.tileBoundingRegion.maximumHeight}`:this.tileText+="<br>(Tile is not loaded)"}this._tile=e,this.showTileBoundingSphere(),this.doFilterTile()}else this.hasPickedTile=!1,this._tile=void 0}}}),gL.prototype._update=function(){this.frustums&&(this.frustumStatisticText=function(e){let t;if((0,p.A)(e)){t="Command Statistics";const i=e.commandsInFrustums;for(const e in i)if(i.hasOwnProperty(e)){let n,r=parseInt(e,10);if(7===r)n="1, 2 and 3";else{const e=[];for(let t=2;t>=0;t--){const i=Math.pow(2,t);r>=i&&(e.push(t+1),r-=i)}n=e.reverse().join(" and ")}t+=`<br>&nbsp;&nbsp;&nbsp;&nbsp;${i[e]} in frustum ${n}`}t+=`<br>Total: ${e.totalCommands}`}return t}(this._scene.debugFrustumStatistics));const e=this._scene.numberOfFrustums;this._numberOfFrustums=e,this.depthFrustum=uL(1,e,this.depthFrustum),this.depthFrustumText=`${this.depthFrustum} of ${e}`,this.performance&&this._performanceDisplay.update(),this.primitiveReferenceFrame&&(this._modelMatrixPrimitive.modelMatrix=this._primitive.modelMatrix),this.shaderCacheText=`Cached shaders: ${this._scene.context.shaderCache.numberOfShaders}`},gL.prototype.isDestroyed=function(){return!1},gL.prototype.destroy=function(){return this._eventHandler.destroy(),this._removePostRenderEvent(),this._frustumsSubscription.dispose(),this._frustumPlanesSubscription.dispose(),this._performanceSubscription.dispose(),this._primitiveBoundingSphereSubscription.dispose(),this._primitiveReferenceFrameSubscription.dispose(),this._filterPrimitiveSubscription.dispose(),this._wireframeSubscription.dispose(),this._depthFrustumSubscription.dispose(),this._suspendUpdatesSubscription.dispose(),this._tileCoordinatesSubscription.dispose(),this._tileBoundingSphereSubscription.dispose(),this._filterTileSubscription.dispose(),this._pickPrimitiveActiveSubscription.dispose(),this._pickTileActiveSubscription.dispose(),(0,zd.A)(this)};const pL=gL;function fL(e,t){if(!(0,p.A)(e))throw new S.A("container is required.");if(!(0,p.A)(t))throw new S.A("scene is required.");e=(0,NA.A)(e);const i=document.createElement("div"),n=new pL(t,i);this._viewModel=n,this._container=e;const r=document.createElement("div");this._element=r;const o=document.createElement("div");o.textContent="Cesium Inspector",o.className="cesium-cesiumInspector-button",o.setAttribute("data-bind","click: toggleDropDown"),r.appendChild(o),r.className="cesium-cesiumInspector",r.setAttribute("data-bind",'css: { "cesium-cesiumInspector-visible" : dropDownVisible, "cesium-cesiumInspector-hidden" : !dropDownVisible }'),e.appendChild(this._element);const s=document.createElement("div");s.className="cesium-cesiumInspector-dropDown",r.appendChild(s);const a=QF.createSection,l=QF.createCheckbox,c=a(s,"General","generalVisible","toggleGeneral"),A=l("Show Frustums","frustums"),u=document.createElement("div");u.className="cesium-cesiumInspector-frustumStatistics",u.setAttribute("data-bind","visible: frustums, html: frustumStatisticText"),A.appendChild(u),c.appendChild(A),c.appendChild(l("Show Frustum Planes","frustumPlanes")),c.appendChild(l("Performance Display","performance")),i.className="cesium-cesiumInspector-performanceDisplay",c.appendChild(i);const h=document.createElement("div");h.className="cesium-cesiumInspector-shaderCache",h.setAttribute("data-bind","html: shaderCacheText"),c.appendChild(h);const d=document.createElement("div");c.appendChild(d);const g=document.createElement("span");g.setAttribute("data-bind",'html: "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Frustum:"'),d.appendChild(g);const f=document.createElement("span");f.setAttribute("data-bind","text: depthFrustumText"),d.appendChild(f);const m=document.createElement("input");m.type="button",m.value="-",m.className="cesium-cesiumInspector-pickButton",m.setAttribute("data-bind","click: decrementDepthFrustum"),d.appendChild(m);const _=document.createElement("input");_.type="button",_.value="+",_.className="cesium-cesiumInspector-pickButton",_.setAttribute("data-bind","click: incrementDepthFrustum"),d.appendChild(_);const y=a(s,"Primitives","primitivesVisible","togglePrimitives"),w=document.createElement("div");w.className="cesium-cesiumInspector-pickSection",y.appendChild(w);const C=document.createElement("input");C.type="button",C.value="Pick a primitive",C.className="cesium-cesiumInspector-pickButton",C.setAttribute("data-bind",'css: {"cesium-cesiumInspector-pickButtonHighlight" : pickPrimitiveActive}, click: pickPrimitive');let B=document.createElement("div");B.className="cesium-cesiumInspector-center",B.appendChild(C),w.appendChild(B),w.appendChild(l("Show bounding sphere","primitiveBoundingSphere","hasPickedPrimitive")),w.appendChild(l("Show reference frame","primitiveReferenceFrame","hasPickedPrimitive")),this._primitiveOnly=l("Show only selected","filterPrimitive","hasPickedPrimitive"),w.appendChild(this._primitiveOnly);const v=a(s,"Terrain","terrainVisible","toggleTerrain"),E=document.createElement("div");E.className="cesium-cesiumInspector-pickSection",v.appendChild(E);const b=document.createElement("input");b.type="button",b.value="Pick a tile",b.className="cesium-cesiumInspector-pickButton",b.setAttribute("data-bind",'css: {"cesium-cesiumInspector-pickButtonHighlight" : pickTileActive}, click: pickTile'),B=document.createElement("div"),B.appendChild(b),B.className="cesium-cesiumInspector-center",E.appendChild(B);const I=document.createElement("div");E.appendChild(I);const x=document.createElement("input");x.type="button",x.value="Parent",x.className="cesium-cesiumInspector-pickButton",x.setAttribute("data-bind","click: selectParent");const T=document.createElement("input");T.type="button",T.value="NW",T.className="cesium-cesiumInspector-pickButton",T.setAttribute("data-bind","click: selectNW");const M=document.createElement("input");M.type="button",M.value="NE",M.className="cesium-cesiumInspector-pickButton",M.setAttribute("data-bind","click: selectNE");const D=document.createElement("input");D.type="button",D.value="SW",D.className="cesium-cesiumInspector-pickButton",D.setAttribute("data-bind","click: selectSW");const P=document.createElement("input");P.type="button",P.value="SE",P.className="cesium-cesiumInspector-pickButton",P.setAttribute("data-bind","click: selectSE");const O=document.createElement("div");O.className="cesium-cesiumInspector-tileText",I.className="cesium-cesiumInspector-frustumStatistics",I.appendChild(O),I.setAttribute("data-bind","visible: hasPickedTile"),O.setAttribute("data-bind","html: tileText");const R=document.createElement("div");R.className="cesium-cesiumInspector-relativeText",R.textContent="Select relative:",I.appendChild(R);const k=document.createElement("table"),F=document.createElement("tr"),L=document.createElement("tr"),Q=document.createElement("td");Q.appendChild(x);const N=document.createElement("td");N.appendChild(T);const G=document.createElement("td");G.appendChild(M),F.appendChild(Q),F.appendChild(N),F.appendChild(G);const V=document.createElement("td"),U=document.createElement("td");U.appendChild(D);const Y=document.createElement("td");Y.appendChild(P),L.appendChild(V),L.appendChild(U),L.appendChild(Y),k.appendChild(F),k.appendChild(L),I.appendChild(k),E.appendChild(l("Show bounding volume","tileBoundingSphere","hasPickedTile")),E.appendChild(l("Show only selected","filterTile","hasPickedTile")),v.appendChild(l("Wireframe","wireframe")),v.appendChild(l("Suspend LOD update","suspendUpdates")),v.appendChild(l("Show tile coordinates","tileCoordinates")),JF.A.applyBindings(n,this._element)}Object.defineProperties(fL.prototype,{container:{get:function(){return this._container}},viewModel:{get:function(){return this._viewModel}}}),fL.prototype.isDestroyed=function(){return!1},fL.prototype.destroy=function(){return JF.A.cleanNode(this._element),this._container.removeChild(this._element),this.viewModel.destroy(),(0,zd.A)(this)};const mL=fL;var _L=i(877987),yL=i(377909),wL=i(413369),CL=i(300347),BL=i(217263),vL=i(863529);function EL(e,t){t.currentTarget.parentElement.parentElement.querySelector(`#${e.name}-expander`).classList.toggle("active"),t.currentTarget.textContent="+"===t.currentTarget.textContent?"-":"+"}function bL(e,t){JF.A.track(e);for(let i=0;i<e.sublayers.length;i++)bL(e.sublayers[i],t)}function IL(e){return"FullModel"===e.modelName}function xL(e){return"Overview"===e.modelName}function SL(e){return xL(e)||IL(e)}function TL(e,t){if(SL(e)){e.visibility=!1;for(let t=0;t<e.sublayers.length;t++)e.sublayers[t].visibility=!0;const i={name:e.name,modelName:e.modelName,disable:JF.A.observable(!1),index:t.sublayers.length};return t.topLayers.push(i),t.sublayers.push(e),i}}const ML=function(e){const t=this;this.levels=[],this.viewModel={sublayers:[],levels:this.levels,currentLevel:JF.A.observable(),selectedLevel:"All",topLayers:[{name:"Select a layer to explore...",disable:JF.A.observable(!0),index:-1}],currentLayer:JF.A.observable(),expandClickHandler:EL,setOptionDisable:function(e,t){JF.A.applyBindingsToNode(e,{disable:t.disable},t)},defaultLayer:void 0},this.viewModel.currentLayer.subscribe(function(e){!function(e,t){if(SL(e)){t.sublayers.forEach(e=>e.visibility=!1),t.sublayers[e.index].visibility=!0;const i=document.getElementById("bsl-wrapper");IL(e)?(t.currentLevel=t.selectedLevel,i.style.display="block"):(t.selectedLevel=t.currentLevel,t.currentLevel="All",i.style.display="none")}}(e,t.viewModel)});const i=e.sublayers;for(let e=0;e<i.length;e++){bL(i[e],this.viewModel);const t=TL(i[e],this.viewModel);(0,p.A)(t)&&(xL(t)||!(0,p.A)(this.viewModel.defaultLayer)&&IL(t))&&(this.viewModel.defaultLayer=t)}if(1===this.viewModel.topLayers.length&&i.length>0){e.show=!1;const t={name:"Full Model",modelName:"FullModel",visibility:e.show,sublayers:e.sublayers};this.viewModel.defaultLayer=TL(t,this.viewModel),this.viewModel.currentLayer.subscribe(function(t){e.show=IL(t)})}else 1===this.viewModel.topLayers.length&&(this.viewModel.topLayers[0].name="Building layers not found");return async function(e,t){try{const i=e.getAttributeNames();for(let n=0;n<i.length;n++)if("BldgLevel"===i[n]){const r=e.getAttributeValues(i[n]);for(let e=0;e<r.length;e++)t.push(r[e])}t.sort((e,t)=>e-t),t.unshift("All")}catch(e){console.log(`There was an error getting attributes: ${e}`)}}(e,this.levels),this.viewModel.currentLevel.subscribe(function(t){"All"!==t?e.filterByAttributes([{name:"BldgLevel",values:[t]}]):e.filterByAttributes()}),this.viewModel},DL=function(e,t){const i=document.getElementById(e);xe.A.defined("container",i),xe.A.defined("i3sProvider",t);const n=document.createElement("div");n.classList.add("cesium-viewer-i3s-explorer"),n.innerHTML='\n        <h3>Building explorer</h3>\n        <select\n          data-bind="options: topLayers, optionsText: \'name\', optionsAfterRender: setOptionDisable, value: currentLayer"\n        ></select>\n        <div id="bsl-wrapper">\n          <h3>Select Level</h3>\n          <select data-bind="options: levels, value: currentLevel"></select>\n          <h3>Disciplines & Categories</h3>\n          <ul class="layersList" data-bind="foreach: sublayers">\n            <ul class="layersList" data-bind="foreach: sublayers.sort(function (l, r) { return l.name.localeCompare(r.name) })">\n              <li>\n                <div class="li-wrapper">\n                  <span\n                    class="expandItem"\n                    data-bind="click: $root.expandClickHandler"\n                    >+</span\n                  >\n                  <input\n                    type="checkbox"\n                    data-bind="checked: visibility, valueUpdate: \'input\', attr: { id: name}"\n                  />\n                  <label data-bind="attr: { for: name}">\n                    <span data-bind="text: name"></span>\n                  </label>\n                </div>\n                <ul class="nested" data-bind="attr: { id: name + \'-expander\'}">\n                  <li data-bind="foreach: sublayers.sort(function (l, r) { return l.name.localeCompare(r.name) })">\n                    <div class="li-wrapper">\n                      <input\n                        type="checkbox"\n                        data-bind="checked: visibility, valueUpdate: \'input\', attr: { id: name}"\n                      />\n                      <label data-bind="attr: { for: name}">\n                        <span data-bind="text: name"></span>\n                      </label>\n                    </div>\n                  </li>\n                </ul>\n              </li>\n            </ul>\n          </ul>\n        </div>',i.appendChild(n);const r=new ML(t);JF.A.track(r),JF.A.applyBindings(r,i),(0,p.A)(r.defaultLayer)&&(r.currentLayer=r.defaultLayer)};var PL=i(506527),OL=i(504377),RL=i(221899),kL=i(720749);function FL(e){if(!(0,p.A)(e)||!(0,p.A)(e.scene))throw new S.A("options.scene is required.");this._scene=e.scene,this.lowFrameRateMessage=e.lowFrameRateMessage??"This application appears to be performing poorly on your system.  Please try using a different web browser or updating your video drivers.",this.lowFrameRateMessageDismissed=!1,this.showingLowFrameRateMessage=!1,JF.A.track(this,["lowFrameRateMessage","lowFrameRateMessageDismissed","showingLowFrameRateMessage"]);const t=this;this._dismissMessage=(0,VF.A)(function(){t.showingLowFrameRateMessage=!1,t.lowFrameRateMessageDismissed=!0});const i=tE.fromScene(e.scene);this._unsubscribeLowFrameRate=i.lowFrameRate.addEventListener(function(){t.lowFrameRateMessageDismissed||(t.showingLowFrameRateMessage=!0)}),this._unsubscribeNominalFrameRate=i.nominalFrameRate.addEventListener(function(){t.showingLowFrameRateMessage=!1})}Object.defineProperties(FL.prototype,{scene:{get:function(){return this._scene}},dismissMessage:{get:function(){return this._dismissMessage}}}),FL.prototype.destroy=function(){return this._unsubscribeLowFrameRate(),this._unsubscribeNominalFrameRate(),(0,zd.A)(this)};const LL=FL;function QL(e){if(!(0,p.A)(e)||!(0,p.A)(e.container))throw new S.A("options.container is required.");if(!(0,p.A)(e.scene))throw new S.A("options.scene is required.");const t=(0,NA.A)(e.container),i=new LL(e),n=document.createElement("div");n.className="cesium-performance-watchdog-message-area",n.setAttribute("data-bind","visible: showingLowFrameRateMessage");const r=document.createElement("button");r.setAttribute("type","button"),r.className="cesium-performance-watchdog-message-dismiss",r.innerHTML="&times;",r.setAttribute("data-bind","click: dismissMessage"),n.appendChild(r);const o=document.createElement("div");o.className="cesium-performance-watchdog-message",o.setAttribute("data-bind","html: lowFrameRateMessage"),n.appendChild(o),t.appendChild(n),JF.A.applyBindings(i,n),this._container=t,this._viewModel=i,this._element=n}Object.defineProperties(QL.prototype,{container:{get:function(){return this._container}},viewModel:{get:function(){return this._viewModel}}}),QL.prototype.isDestroyed=function(){return!1},QL.prototype.destroy=function(){return this._viewModel.destroy(),JF.A.cleanNode(this._element),this._container.removeChild(this._element),(0,zd.A)(this)};const NL=QL;var GL=i(72211),VL=i(522437),UL=i(288823),YL=i(828033),KL=i(585820),HL=i(956009),zL=i(973292),qL=i(595394),WL=i(544835),jL=i(273578),JL=i(249944),XL=i(674221),ZL=i(316375),$L=i(123905);const eQ=function(e){xe.A.typeOf.object("viewer",e);const t=document.createElement("div");t.className="cesium-viewer-cesium3DTilesInspectorContainer",e.container.appendChild(t);const i=new AL(t,e.scene);Object.defineProperties(e,{cesium3DTilesInspector:{get:function(){return i}}})},tQ=function(e){if(!(0,p.A)(e))throw new S.A("viewer is required.");const t=document.createElement("div");t.className="cesium-viewer-cesiumInspectorContainer",e.container.appendChild(t);const i=new mL(t,e.scene);Object.defineProperties(e,{cesiumInspector:{get:function(){return i}}})};function iQ(e){e.stopPropagation(),e.preventDefault()}function nQ(e,t){const i=e;(0,p.A)(i)&&(i.removeEventListener("drop",t,!1),i.removeEventListener("dragenter",iQ,!1),i.removeEventListener("dragover",iQ,!1),i.removeEventListener("dragexit",iQ,!1))}function rQ(e,t){e.addEventListener("drop",t,!1),e.addEventListener("dragenter",iQ,!1),e.addEventListener("dragover",iQ,!1),e.addEventListener("dragexit",iQ,!1)}function oQ(e,t,i,n){const r=e.scene;return function(o){const s=t.name;try{let a;if(/\.czml$/i.test(s))a=Zi.load(JSON.parse(o.target.result),{sourceUri:s});else if(/\.geojson$/i.test(s)||/\.json$/i.test(s)||/\.topojson$/i.test(s))a=an.A.load(JSON.parse(o.target.result),{sourceUri:s,clampToGround:n});else if(/\.(kml|kmz)$/i.test(s))a=ph.load(t,{sourceUri:s,proxy:i,camera:r.camera,canvas:r.canvas,clampToGround:n,screenOverlayContainer:e.container});else{if(!/\.gpx$/i.test(s))return void e.dropError.raiseEvent(e,s,`Unrecognized file: ${s}`);a=ps.load(t,{sourceUri:s,proxy:i})}(0,p.A)(a)&&e.dataSources.add(a).then(function(t){e.flyToOnDrop&&e.flyTo(t)}).catch(function(t){e.dropError.raiseEvent(e,s,t)})}catch(t){e.dropError.raiseEvent(e,s,t)}}}function sQ(e,t){return function(i){e.dropError.raiseEvent(e,t.name,i.target.error)}}const aQ=function(e,t){if(!(0,p.A)(e))throw new S.A("viewer is required.");if(e.hasOwnProperty("dropTarget"))throw new S.A("dropTarget is already defined by another mixin.");if(e.hasOwnProperty("dropEnabled"))throw new S.A("dropEnabled is already defined by another mixin.");if(e.hasOwnProperty("dropError"))throw new S.A("dropError is already defined by another mixin.");if(e.hasOwnProperty("clearOnDrop"))throw new S.A("clearOnDrop is already defined by another mixin.");if(e.hasOwnProperty("flyToOnDrop"))throw new S.A("flyToOnDrop is already defined by another mixin.");t=t??g.A.EMPTY_OBJECT;let i=!0,n=t.flyToOnDrop??!0;const r=new f.A;let o=t.clearOnDrop??!0,s=t.dropTarget??e.container,a=t.clampToGround??!0,l=t.proxy;function c(t){iQ(t),o&&(e.entities.removeAll(),e.dataSources.removeAll());const i=t.dataTransfer.files,n=i.length;for(let t=0;t<n;t++){const n=i[t],r=new FileReader;r.onload=oQ(e,n,l,a),r.onerror=sQ(e,n),r.readAsText(n)}}s=(0,NA.A)(s),Object.defineProperties(e,{dropTarget:{get:function(){return s},set:function(e){if(!(0,p.A)(e))throw new S.A("value is required.");nQ(s,c),s=e,rQ(s,c)}},dropEnabled:{get:function(){return i},set:function(e){e!==i&&(e?rQ(s,c):nQ(s,c),i=e)}},dropError:{get:function(){return r}},clearOnDrop:{get:function(){return o},set:function(e){o=e}},flyToOnDrop:{get:function(){return n},set:function(e){n=e}},proxy:{get:function(){return l},set:function(e){l=e}},clampToGround:{get:function(){return a},set:function(e){a=e}}}),rQ(s,c),e.destroy=zy(e,e.destroy,function(){e.dropEnabled=!1}),e._handleDrop=c},lQ=function(e,t){if(!(0,p.A)(e))throw new S.A("viewer is required.");t=t??g.A.EMPTY_OBJECT;const i=new NL({scene:e.scene,container:e.bottomContainer,lowFrameRateMessage:t.lowFrameRateMessage});Object.defineProperties(e,{performanceWatchdog:{get:function(){return i}}})};function cQ(e){const t=e.split("\n");let i;for(i=0;i<t.length&&!t[i].match(/\S/);i++);if(i===t.length)return"";let n="";const r=/^\s*/,o=t[i].match(r)[0].length;for(let e=i;e<t.length;e++){let i=t[e];i.match(r)[0].length>=o&&(i=i.slice(o)),n+=`${i}\n`}return n}function AQ(e){xe.A.typeOf.object("scene",e),this._scene=e,this._voxelPrimitive=void 0,this._customShaderCompilationRemoveCallback=void 0,this._definedProperties=[],this._getPrimitiveFunctions=[],this._modelMatrixReady=!1;const t=this;function i(i){const{name:n,initialValue:r}=i;t._definedProperties.push(n);let o=i.setPrimitiveFunction;!0===o&&(o=function(e){t._voxelPrimitive[n]=e});let s=i.getPrimitiveFunction;!0===s&&(s=function(){t[n]=t._voxelPrimitive[n]}),(0,p.A)(s)&&t._getPrimitiveFunctions.push(s);const a=JF.A.observable();return JF.A.defineProperty(t,n,{get:function(){return a()},set:function(i){"number"==typeof r&&"string"==typeof i&&(i=Number(i),isNaN(i)&&(i=r)),"boolean"==typeof r&&"number"==typeof i&&(i=1===i),a(i),(0,p.A)(o)&&(0,p.A)(t._voxelPrimitive)&&(o(i),e.requestRender())}}),t[n]=r,a}function n(e,i){return function(n){const r=t._voxelPrimitive[e].clone();r[i]=n,t._voxelPrimitive[e]=r}}i({name:"inspectorVisible",initialValue:!0}),i({name:"displayVisible",initialValue:!1}),i({name:"transformVisible",initialValue:!1}),i({name:"boundsVisible",initialValue:!1}),i({name:"clippingVisible",initialValue:!1}),i({name:"shaderVisible",initialValue:!1}),i({name:"shaderString",initialValue:"",getPrimitiveFunction:function(){const e=t._voxelPrimitive.customShader.fragmentShaderText;t.shaderString=cQ(e)}}),i({name:"shaderCompilationMessage",initialValue:""}),i({name:"shaderCompilationSuccess",initialValue:!0}),i({name:"depthTest",initialValue:!1,setPrimitiveFunction:!0,getPrimitiveFunction:!0}),i({name:"show",initialValue:!0,setPrimitiveFunction:!0,getPrimitiveFunction:!0}),i({name:"disableUpdate",initialValue:!1,setPrimitiveFunction:!0,getPrimitiveFunction:!0}),i({name:"debugDraw",initialValue:!1,setPrimitiveFunction:!0,getPrimitiveFunction:!0}),i({name:"jitter",initialValue:!0,setPrimitiveFunction:!0,getPrimitiveFunction:!0}),i({name:"nearestSampling",initialValue:!0,setPrimitiveFunction:!0,getPrimitiveFunction:!0}),i({name:"screenSpaceError",initialValue:4,setPrimitiveFunction:!0,getPrimitiveFunction:!0}),i({name:"stepSize",initialValue:1,setPrimitiveFunction:!0,getPrimitiveFunction:!0}),i({name:"shapeIsBox",getPrimitiveFunction:function(){const e=t._voxelPrimitive.shape;t.shapeIsBox=e===cB.A.BOX}}),i({name:"shapeIsEllipsoid",getPrimitiveFunction:function(){const e=t._voxelPrimitive.shape;t.shapeIsEllipsoid=e===cB.A.ELLIPSOID}}),i({name:"shapeIsCylinder",getPrimitiveFunction:function(){const e=t._voxelPrimitive.shape;t.shapeIsCylinder=e===cB.A.CYLINDER}}),i({name:"clippingBoxMaxXMin",initialValue:0,getPrimitiveFunction:function(){t.clippingBoxMaxXMin=t._voxelPrimitive.minBounds.x}}),i({name:"clippingBoxMaxXMax",initialValue:1,getPrimitiveFunction:function(){t.clippingBoxMaxXMax=t._voxelPrimitive.maxBounds.x}}),i({name:"clippingBoxMaxX",initialValue:0,setPrimitiveFunction:n("maxClippingBounds","x"),getPrimitiveFunction:function(){t.clippingBoxMaxX=t._voxelPrimitive.maxClippingBounds.x}}),i({name:"clippingBoxMinXMin",initialValue:0,getPrimitiveFunction:function(){t.clippingBoxMinXMin=t._voxelPrimitive.minBounds.x}}),i({name:"clippingBoxMinXMax",initialValue:1,getPrimitiveFunction:function(){t.clippingBoxMinXMax=t._voxelPrimitive.maxBounds.x}}),i({name:"clippingBoxMinX",initialValue:0,setPrimitiveFunction:n("minClippingBounds","x"),getPrimitiveFunction:function(){t.clippingBoxMinX=t._voxelPrimitive.minClippingBounds.x}}),i({name:"clippingBoxMaxYMin",initialValue:0,getPrimitiveFunction:function(){t.clippingBoxMaxYMin=t._voxelPrimitive.minBounds.y}}),i({name:"clippingBoxMaxYMax",initialValue:1,getPrimitiveFunction:function(){t.clippingBoxMaxYMax=t._voxelPrimitive.maxBounds.y}}),i({name:"clippingBoxMaxY",initialValue:0,setPrimitiveFunction:n("maxClippingBounds","y"),getPrimitiveFunction:function(){t.clippingBoxMaxY=t._voxelPrimitive.maxClippingBounds.y}}),i({name:"clippingBoxMinYMin",initialValue:0,getPrimitiveFunction:function(){t.clippingBoxMinYMin=t._voxelPrimitive.minBounds.y}}),i({name:"clippingBoxMinYMax",initialValue:1,getPrimitiveFunction:function(){t.clippingBoxMinYMax=t._voxelPrimitive.maxBounds.y}}),i({name:"clippingBoxMinY",initialValue:0,setPrimitiveFunction:n("minClippingBounds","y"),getPrimitiveFunction:function(){t.clippingBoxMinY=t._voxelPrimitive.minClippingBounds.y}}),i({name:"clippingBoxMaxZMin",initialValue:0,getPrimitiveFunction:function(){t.clippingBoxMaxZMin=t._voxelPrimitive.minBounds.z}}),i({name:"clippingBoxMaxZMax",initialValue:1,getPrimitiveFunction:function(){t.clippingBoxMaxZMax=t._voxelPrimitive.maxBounds.z}}),i({name:"clippingBoxMaxZ",initialValue:0,setPrimitiveFunction:n("maxClippingBounds","z"),getPrimitiveFunction:function(){t.clippingBoxMaxZ=t._voxelPrimitive.maxClippingBounds.z}}),i({name:"clippingBoxMinZMin",initialValue:0,getPrimitiveFunction:function(){t.clippingBoxMinZMin=t._voxelPrimitive.minBounds.z}}),i({name:"clippingBoxMinZMax",initialValue:1,getPrimitiveFunction:function(){t.clippingBoxMinZMax=t._voxelPrimitive.maxBounds.z}}),i({name:"clippingBoxMinZ",initialValue:0,setPrimitiveFunction:n("minClippingBounds","z"),getPrimitiveFunction:function(){t.clippingBoxMinZ=t._voxelPrimitive.minClippingBounds.z}}),i({name:"clippingEllipsoidMaxLongitudeMin",initialValue:-T.A.PI,getPrimitiveFunction:function(){t.clippingEllipsoidMaxLongitudeMin=t._voxelPrimitive.minBounds.x}}),i({name:"clippingEllipsoidMaxLongitudeMax",initialValue:T.A.PI,getPrimitiveFunction:function(){t.clippingEllipsoidMaxLongitudeMax=t._voxelPrimitive.maxBounds.x}}),i({name:"clippingEllipsoidMaxLongitude",initialValue:0,setPrimitiveFunction:n("maxClippingBounds","x"),getPrimitiveFunction:function(){t.clippingEllipsoidMaxLongitude=t._voxelPrimitive.maxClippingBounds.x}}),i({name:"clippingEllipsoidMinLongitudeMin",initialValue:-T.A.PI,getPrimitiveFunction:function(){t.clippingEllipsoidMinLongitudeMin=t._voxelPrimitive.minBounds.x}}),i({name:"clippingEllipsoidMinLongitudeMax",initialValue:T.A.PI,getPrimitiveFunction:function(){t.clippingEllipsoidMinLongitudeMax=t._voxelPrimitive.maxBounds.x}}),i({name:"clippingEllipsoidMinLongitude",initialValue:0,setPrimitiveFunction:n("minClippingBounds","x"),getPrimitiveFunction:function(){t.clippingEllipsoidMinLongitude=t._voxelPrimitive.minClippingBounds.x}}),i({name:"clippingEllipsoidMaxLatitudeMin",initialValue:-T.A.PI_OVER_TWO,getPrimitiveFunction:function(){t.clippingEllipsoidMaxLatitudeMin=t._voxelPrimitive.minBounds.y}}),i({name:"clippingEllipsoidMaxLatitudeMax",initialValue:T.A.PI_OVER_TWO,getPrimitiveFunction:function(){t.clippingEllipsoidMaxLatitudeMax=t._voxelPrimitive.maxBounds.y}}),i({name:"clippingEllipsoidMaxLatitude",initialValue:0,setPrimitiveFunction:n("maxClippingBounds","y"),getPrimitiveFunction:function(){t.clippingEllipsoidMaxLatitude=t._voxelPrimitive.maxClippingBounds.y}}),i({name:"clippingEllipsoidMinLatitudeMin",initialValue:-T.A.PI_OVER_TWO,getPrimitiveFunction:function(){t.clippingEllipsoidMinLatitudeMin=t._voxelPrimitive.minBounds.y}}),i({name:"clippingEllipsoidMinLatitudeMax",initialValue:T.A.PI_OVER_TWO,getPrimitiveFunction:function(){t.clippingEllipsoidMinLatitudeMax=t._voxelPrimitive.maxBounds.y}}),i({name:"clippingEllipsoidMinLatitude",initialValue:0,setPrimitiveFunction:n("minClippingBounds","y"),getPrimitiveFunction:function(){t.clippingEllipsoidMinLatitude=t._voxelPrimitive.minClippingBounds.y}}),i({name:"clippingEllipsoidMaxHeightMin",initialValue:0,getPrimitiveFunction:function(){t.clippingEllipsoidMaxHeightMin=t._voxelPrimitive.minBounds.z}}),i({name:"clippingEllipsoidMaxHeightMax",initialValue:1e5,getPrimitiveFunction:function(){t.clippingEllipsoidMaxHeightMax=t._voxelPrimitive.maxBounds.z}}),i({name:"clippingEllipsoidMaxHeight",initialValue:0,setPrimitiveFunction:n("maxClippingBounds","z"),getPrimitiveFunction:function(){t.clippingEllipsoidMaxHeight=t._voxelPrimitive.maxClippingBounds.z}}),i({name:"clippingEllipsoidMinHeightMin",initialValue:-1e5,getPrimitiveFunction:function(){t.clippingEllipsoidMinHeightMin=t._voxelPrimitive.minBounds.z}}),i({name:"clippingEllipsoidMinHeightMax",initialValue:0,getPrimitiveFunction:function(){t.clippingEllipsoidMinHeightMax=t._voxelPrimitive.maxBounds.z}}),i({name:"clippingEllipsoidMinHeight",initialValue:0,setPrimitiveFunction:n("minClippingBounds","z"),getPrimitiveFunction:function(){t.clippingEllipsoidMinHeight=t._voxelPrimitive.minClippingBounds.z}}),i({name:"clippingCylinderMaxRadiusMin",initialValue:0,getPrimitiveFunction:function(){t.clippingCylinderMaxRadiusMin=t._voxelPrimitive.minBounds.x}}),i({name:"clippingCylinderMaxRadiusMax",initialValue:1,getPrimitiveFunction:function(){t.clippingCylinderMaxRadiusMax=t._voxelPrimitive.maxBounds.x}}),i({name:"clippingCylinderMaxRadius",initialValue:0,setPrimitiveFunction:n("maxClippingBounds","x"),getPrimitiveFunction:function(){t.clippingCylinderMaxRadius=t._voxelPrimitive.maxClippingBounds.x}}),i({name:"clippingCylinderMinRadiusMin",initialValue:0,getPrimitiveFunction:function(){t.clippingCylinderMinRadiusMin=t._voxelPrimitive.minBounds.x}}),i({name:"clippingCylinderMinRadiusMax",initialValue:1,getPrimitiveFunction:function(){t.clippingCylinderMinRadiusMax=t._voxelPrimitive.maxBounds.x}}),i({name:"clippingCylinderMinRadius",initialValue:0,setPrimitiveFunction:n("minClippingBounds","x"),getPrimitiveFunction:function(){t.clippingCylinderMinRadius=t._voxelPrimitive.minClippingBounds.x}}),i({name:"clippingCylinderMaxAngleMin",initialValue:-T.A.PI,getPrimitiveFunction:function(){t.clippingCylinderMaxAngleMin=t._voxelPrimitive.minBounds.y}}),i({name:"clippingCylinderMaxAngleMax",initialValue:T.A.PI,getPrimitiveFunction:function(){t.clippingCylinderMaxAngleMax=t._voxelPrimitive.maxBounds.y}}),i({name:"clippingCylinderMaxAngle",initialValue:0,setPrimitiveFunction:n("maxClippingBounds","y"),getPrimitiveFunction:function(){t.clippingCylinderMaxAngle=t._voxelPrimitive.maxClippingBounds.y}}),i({name:"clippingCylinderMinAngleMin",initialValue:-T.A.PI}),i({name:"clippingCylinderMinAngleMax",initialValue:T.A.PI}),i({name:"clippingCylinderMinAngle",initialValue:0,setPrimitiveFunction:n("minClippingBounds","y"),getPrimitiveFunction:function(){t.clippingCylinderMinAngle=t._voxelPrimitive.minClippingBounds.y}}),i({name:"clippingCylinderMaxHeightMin",initialValue:-1,getPrimitiveFunction:function(){t.clippingCylinderMaxHeightMin=t._voxelPrimitive.minBounds.z}}),i({name:"clippingCylinderMaxHeightMax",initialValue:1,getPrimitiveFunction:function(){t.clippingCylinderMaxHeightMax=t._voxelPrimitive.maxBounds.z}}),i({name:"clippingCylinderMaxHeight",initialValue:0,setPrimitiveFunction:n("maxClippingBounds","z"),getPrimitiveFunction:function(){t.clippingCylinderMaxHeight=t._voxelPrimitive.maxClippingBounds.z}}),i({name:"clippingCylinderMinHeightMin",initialValue:-1,getPrimitiveFunction:function(){t.clippingCylinderMinHeightMin=t._voxelPrimitive.minBounds.z}}),i({name:"clippingCylinderMinHeightMax",initialValue:1,getPrimitiveFunction:function(){t.clippingCylinderMinHeightMax=t._voxelPrimitive.maxBounds.z}}),i({name:"clippingCylinderMinHeight",initialValue:0,setPrimitiveFunction:n("minClippingBounds","z"),getPrimitiveFunction:function(){t.clippingCylinderMinHeight=t._voxelPrimitive.minClippingBounds.z}}),i({name:"translationX",initialValue:0,setPrimitiveFunction:function(){t._modelMatrixReady&&pQ(t)},getPrimitiveFunction:function(){t.translationX=Gg.A.getTranslation(t._voxelPrimitive.modelMatrix,new ie.A).x}}),i({name:"translationY",initialValue:0,setPrimitiveFunction:function(){t._modelMatrixReady&&pQ(t)},getPrimitiveFunction:function(){t.translationY=Gg.A.getTranslation(t._voxelPrimitive.modelMatrix,new ie.A).y}}),i({name:"translationZ",initialValue:0,setPrimitiveFunction:function(){t._modelMatrixReady&&pQ(t)},getPrimitiveFunction:function(){t.translationZ=Gg.A.getTranslation(t._voxelPrimitive.modelMatrix,new ie.A).z}}),i({name:"scaleX",initialValue:1,setPrimitiveFunction:function(){t._modelMatrixReady&&pQ(t)},getPrimitiveFunction:function(){t.scaleX=Gg.A.getScale(t._voxelPrimitive.modelMatrix,new ie.A).x}}),i({name:"scaleY",initialValue:1,setPrimitiveFunction:function(){t._modelMatrixReady&&pQ(t)},getPrimitiveFunction:function(){t.scaleY=Gg.A.getScale(t._voxelPrimitive.modelMatrix,new ie.A).y}}),i({name:"scaleZ",initialValue:1,setPrimitiveFunction:function(){t._modelMatrixReady&&pQ(t)},getPrimitiveFunction:function(){t.scaleZ=Gg.A.getScale(t._voxelPrimitive.modelMatrix,new ie.A).z}}),i({name:"angleX",initialValue:0,setPrimitiveFunction:function(){t._modelMatrixReady&&pQ(t)}}),i({name:"angleY",initialValue:0,setPrimitiveFunction:function(){t._modelMatrixReady&&pQ(t)}}),i({name:"angleZ",initialValue:0,setPrimitiveFunction:function(){t._modelMatrixReady&&pQ(t)}})}const uQ=new ie.A,hQ=new ie.A,dQ=new bs.A,gQ=new qt.A;function pQ(e){const t=ie.A.fromElements(e.translationX,e.translationY,e.translationZ,uQ),i=ie.A.fromElements(e.scaleX,e.scaleY,e.scaleZ,hQ),n=dQ;n.heading=e.angleX,n.pitch=e.angleY,n.roll=e.angleZ;const r=qt.A.fromHeadingPitchRoll(n,gQ),o=qt.A.multiplyByScale(r,i,r);e._voxelPrimitive.modelMatrix=Gg.A.fromRotationTranslation(o,t,e._voxelPrimitive.modelMatrix)}Object.defineProperties(AQ.prototype,{scene:{get:function(){return this._scene}},voxelPrimitive:{get:function(){return this._voxelPrimitive},set:function(e){if((0,p.A)(this._customShaderCompilationRemoveCallback)&&this._customShaderCompilationRemoveCallback(),!(0,p.A)(e))return;this._voxelPrimitive=e;const t=this;t._customShaderCompilationRemoveCallback=t._voxelPrimitive.customShaderCompilationEvent.addEventListener(function(e){const i=t._voxelPrimitive.customShader.fragmentShaderText;t.shaderString=cQ(i),(0,p.A)(e)?(t.shaderCompilationMessage=e.message,t.shaderCompilationSuccess=!1):(t.shaderCompilationMessage="Shader compiled successfully!",t.shaderCompilationSuccess=!0)}),t._modelMatrixReady=!1;for(let e=0;e<t._getPrimitiveFunctions.length;e++)t._getPrimitiveFunctions[e]();t._modelMatrixReady=!0,pQ(t)}}}),AQ.prototype.toggleInspector=function(){this.inspectorVisible=!this.inspectorVisible},AQ.prototype.toggleDisplay=function(){this.displayVisible=!this.displayVisible},AQ.prototype.toggleTransform=function(){this.transformVisible=!this.transformVisible},AQ.prototype.toggleBounds=function(){this.boundsVisible=!this.boundsVisible},AQ.prototype.toggleClipping=function(){this.clippingVisible=!this.clippingVisible},AQ.prototype.toggleShader=function(){this.shaderVisible=!this.shaderVisible},AQ.prototype.compileShader=function(){(0,p.A)(this._voxelPrimitive)&&(this._voxelPrimitive.customShader=new IP.A({fragmentShaderText:this.shaderString,uniforms:this._voxelPrimitive.customShader.uniforms}))},AQ.prototype.shaderEditorKeyPress=function(e,t){if(9===t.keyCode){t.preventDefault();const e=t.target,i=e.selectionStart,n=e.selectionEnd;let r=n;const o=e.value.slice(i,n).split("\n"),s=o.length;let a;if(t.shiftKey)for(a=0;a<s;++a)" "===o[a][0]&&(" "===o[a][1]?(o[a]=o[a].substr(2),r-=2):(o[a]=o[a].substr(1),r-=1));else for(a=0;a<s;++a)o[a]=`  ${o[a]}`,r+=2;const l=o.join("\n");e.value=e.value.slice(0,i)+l+e.value.slice(n),e.selectionStart=i!==n?i:r,e.selectionEnd=r}else!t.ctrlKey||10!==t.keyCode&&13!==t.keyCode||this.compileShader();return!0},AQ.prototype.isDestroyed=function(){return!1},AQ.prototype.destroy=function(){const e=this;return this._definedProperties.forEach(function(t){JF.A.getObservable(e,t).dispose()}),(0,zd.A)(this)};const fQ=AQ;function mQ(e,t){xe.A.defined("container",e),xe.A.typeOf.object("scene",t),e=(0,NA.A)(e);const i=document.createElement("div"),n=new fQ(t);this._viewModel=n,this._container=e,this._element=i;const r=document.createElement("div");r.textContent="Voxel Inspector",r.className="cesium-cesiumInspector-button",r.setAttribute("data-bind","click: toggleInspector"),i.appendChild(r),i.className="cesium-cesiumInspector cesium-VoxelInspector",i.setAttribute("data-bind",'css: { "cesium-cesiumInspector-visible" : inspectorVisible, "cesium-cesiumInspector-hidden" : !inspectorVisible}'),e.appendChild(i);const o=document.createElement("div");o.className="cesium-cesiumInspector-dropDown",i.appendChild(o);const{createSection:s,createCheckbox:a,createRangeInput:l,createButton:c}=QF,A=s(o,"Display","displayVisible","toggleDisplay"),u=s(o,"Transform","transformVisible","toggleTransform"),h=s(o,"Clipping","clippingVisible","toggleClipping"),d=s(o,"Shader","shaderVisible","toggleShader");A.appendChild(a("Depth Test","depthTest")),A.appendChild(a("Show","show")),A.appendChild(a("Disable Update","disableUpdate")),A.appendChild(a("Debug Draw","debugDraw")),A.appendChild(a("Jitter","jitter")),A.appendChild(a("Nearest Sampling","nearestSampling")),A.appendChild(l("Screen Space Error","screenSpaceError",0,128)),A.appendChild(l("Step Size","stepSize",0,2));const g=T.A.PI;u.appendChild(l("Translation X","translationX",-10,10)),u.appendChild(l("Translation Y","translationY",-10,10)),u.appendChild(l("Translation Z","translationZ",-10,10)),u.appendChild(l("Scale X","scaleX",0,10)),u.appendChild(l("Scale Y","scaleY",0,10)),u.appendChild(l("Scale Z","scaleZ",0,10)),u.appendChild(l("Heading","angleX",-g,+g)),u.appendChild(l("Pitch","angleY",-g,+g)),u.appendChild(l("Roll","angleZ",-g,+g)),_Q("Max X","Min X","Max Y","Min Y","Max Z","Min Z","clippingBoxMaxX","clippingBoxMinX","clippingBoxMaxY","clippingBoxMinY","clippingBoxMaxZ","clippingBoxMinZ","shapeIsBox",h),_Q("Max Longitude","Min Longitude","Max Latitude","Min Latitude","Max Height","Min Height","clippingEllipsoidMaxLongitude","clippingEllipsoidMinLongitude","clippingEllipsoidMaxLatitude","clippingEllipsoidMinLatitude","clippingEllipsoidMaxHeight","clippingEllipsoidMinHeight","shapeIsEllipsoid",h),_Q("Max Radius","Min Radius","Max Angle","Min Angle","Max Height","Min Height","clippingCylinderMaxRadius","clippingCylinderMinRadius","clippingCylinderMaxAngle","clippingCylinderMinAngle","clippingCylinderMaxHeight","clippingCylinderMinHeight","shapeIsCylinder",h);const p=document.createElement("div");d.appendChild(p);const f=document.createElement("textarea");f.setAttribute("data-bind","textInput: shaderString, event: { keydown: shaderEditorKeyPress }"),p.className="cesium-cesiumInspector-styleEditor",p.appendChild(f);const m=c("Compile (Ctrl+Enter)","compileShader");p.appendChild(m);const _=document.createElement("label");_.style.display="block",_.setAttribute("data-bind","text: shaderCompilationMessage, style: {color: shaderCompilationSuccess ? 'green' : 'red'}"),p.appendChild(_),JF.A.applyBindings(n,i)}function _Q(e,t,i,n,r,o,s,a,l,c,A,u,h,d){const g=QF.createRangeInputWithDynamicMinMax,p=d.appendChild(document.createElement("div"));p.setAttribute("data-bind",`if: ${h}`),p.appendChild(g(e,s)),p.appendChild(g(t,a)),p.appendChild(g(i,l)),p.appendChild(g(n,c)),p.appendChild(g(r,A)),p.appendChild(g(o,u))}Object.defineProperties(mQ.prototype,{container:{get:function(){return this._container}},viewModel:{get:function(){return this._viewModel}}}),mQ.prototype.isDestroyed=function(){return!1},mQ.prototype.destroy=function(){return JF.A.cleanNode(this._element),this._container.removeChild(this._element),this.viewModel.destroy(),(0,zd.A)(this)};const yQ=mQ,wQ=function(e){xe.A.typeOf.object("viewer",e);const t=document.createElement("div");t.className="cesium-viewer-voxelInspectorContainer",e.container.appendChild(t);const i=new yQ(t,e.scene);Object.defineProperties(e,{voxelInspector:{get:function(){return i}}})},CQ="1.134.1"}}]);