(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[89199],{53001:(e,t,r)=>{"use strict";r.d(t,{xT:()=>n,H_:()=>o,Wv:()=>a,gC:()=>i,dG:()=>u,oQ:()=>c,Q2:()=>l,R3:()=>s,Zr:()=>E,Op:()=>f,l$:()=>A,uL:()=>p,zg:()=>d,M3:()=>O,st:()=>T,US:()=>R,$c:()=>m,pW:()=>y,$D:()=>_,ke:()=>C,vw:()=>v,r5:()=>G,X1:()=>g,V3:()=>S,p2:()=>I});var n="BACKGROUND_SELECTOR:ADD_BACKGROUND",o="BACKGROUND_SELECTOR:REMOVE_BACKGROUND",a="BACKGROUND_SELECTOR:SET_CURRENT_BACKGROUND_LAYER",i="BACKGROUND_SELECTOR:BACKGROUND_ADDED",u="BACKGROUND_SELECTOR:BACKGROUND_EDITED",c="BACKGROUND_SELECTOR:ADD_BACKGROUND_PROPERTIES",l="BACKGROUND_SELECTOR:SET_BACKGROUND_MODAL_PARAMS",s="BACKGROUND_SELECTOR:UPDATE_BACKGROUND_THUMBNAIL",E="BACKGROUND_SELECTOR:BACKGROUNDS_CLEAR",f="BACKGROUND_SELECTOR:CREATE_BACKGROUNDS_LIST",A="BACKGROUND_SELECTOR:CLEAR_MODAL_PARAMETERS",p="BACKGROUND_SELECTOR:CONFIRM_DELETE_BACKGROUND_MODAL",d="BACKGROUND_SELECTOR:ALLOW_BACKGROUNDS_DELETION";function O(e){return{type:f,backgrounds:e}}function T(e){return{type:n,source:e}}function R(e){return{type:c,modalParams:e}}function m(e){return{type:l,modalParams:e}}function y(e){return{type:i,layerId:e}}function _(e){return{type:u,layerId:e}}function C(e){return{type:a,layerId:e}}function v(e){return{type:d,allow:e}}function G(e,t){return{type:s,thumbnailData:e,id:t}}function g(e){return{type:o,backgroundId:e}}function S(){return{type:A}}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:p,show:e,layerTitle:t,layerId:r}}},931273:(e,t,r)=>{"use strict";r.d(t,{WX:()=>c,r7:()=>l,V3:()=>s,HR:()=>E,xi:()=>f,ur:()=>A,vK:()=>p,nm:()=>d,QF:()=>O,zZ:()=>T,uN:()=>R,Bz:()=>m,im:()=>y,CO:()=>_,$X:()=>C,Mt:()=>v,Oq:()=>G,YO:()=>g,PR:()=>S,wI:()=>I,bv:()=>L,mh:()=>D,$Y:()=>h,eA:()=>N,UT:()=>P,cS:()=>w,l3:()=>b,Kz:()=>x,vg:()=>M,xM:()=>F,do:()=>U,lb:()=>B,tt:()=>K,nX:()=>Y,BG:()=>H,Rc:()=>q,K4:()=>k,Dw:()=>V,dL:()=>W,In:()=>X,r1:()=>j,XW:()=>Z,L8:()=>$,i3:()=>Q,XM:()=>z,X7:()=>J,M3:()=>ee,N3:()=>te,SU:()=>re,wo:()=>ne,ye:()=>oe,m:()=>ae,wl:()=>ie,bu:()=>ue,A4:()=>ce,vG:()=>le,ky:()=>se,Wf:()=>Ee,Ts:()=>fe,IT:()=>Ae,XS:()=>pe,tx:()=>de,We:()=>Oe,nx:()=>Te,E9:()=>Re});var n=r(659551),o=r(501157),a=r(603475),i=r(932354),u=r(197395),c=(n.ZP,o.ZP,a.Z,i.Z,"CATALOG:ADD_LAYERS_FROM_CATALOGS"),l="CATALOG:ADD_LAYER_AND_DESCRIBE",s="CATALOG:TEXT_SEARCH",E="CATALOG:RECORD_LIST_LOADED",f="CATALOG:RESET_CATALOG",A="CATALOG:CATALOG_CLOSE",p="CATALOG:RECORD_LIST_LOAD_ERROR",d="CATALOG:CHANGE_CATALOG_FORMAT",O="CATALOG:ADD_LAYER_ERROR",T="CATALOG:CHANGE_SELECTED_SERVICE",R="CATALOG:CHANGE_CATALOG_MODE",m="CATALOG:CHANGE_METADATA_TEMPLATE",y="CATALOG:CHANGE_TITLE",_="CATALOG:CHANGE_TEXT",C="CATALOG:CHANGE_TYPE",v="CATALOG:CHANGE_SERVICE_PROPERTY",G="CATALOG:CHANGE_SERVICE_FORMAT",g="CATALOG:FOCUS_SERVICES_LIST",S="CATALOG:CHANGE_URL",I="CATALOG:ADD_CATALOG_SERVICE",L="CATALOG:DELETE_CATALOG_SERVICE",D="CATALOG:ADD_SERVICE",h="CATALOG:DELETE_SERVICE",N="CATALOG:SAVING_SERVICE",P="CATALOG:GET_METADATA_RECORD_BY_ID",w="CATALOG:SET_LOADING",b="CATALOG:TOGGLE_TEMPLATE",x="CATALOG:TOGGLE_THUMBNAIL",M="CATALOG:TOGGLE_ADVANCED_SETTINGS",F="CATALOG:FORMAT_OPTIONS_FETCH",U="CATALOG:FORMAT_OPTIONS_LOADING",B="CATALOG:SET_FORMAT_OPTIONS";function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.format,r=e.url,n=e.startPosition,o=e.maxRecords,a=e.text,i=e.options,u=void 0===i?{}:i;return{type:s,format:t,url:r,startPosition:n,maxRecords:o,text:a,options:u}}function Y(e,t){return{type:E,searchOptions:e,result:t}}function H(e){return{type:d,format:e}}function q(e){return{type:N,status:e}}function k(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:w,loading:e}}function V(e){return{type:T,service:e}}function W(e){return{type:g,status:e}}function X(e,t){return{type:R,mode:e,isNew:t}}function j(e){return{type:y,title:e}}function Z(e){return{type:_,text:e}}function $(e,t){return{type:v,property:e,value:t}}function Q(e){return{type:G,format:e}}function z(e){return{type:C,newType:e}}function J(e){return{type:S,url:e}}function ee(){return{type:D}}function te(e){return{type:I,service:e}}function re(e){return{type:L,service:e}}function ne(){return{type:h}}function oe(){return{type:f}}function ae(e){return{type:p,error:e}}function ie(){return{type:A}}function ue(e,t){return{type:"CATALOG:DESCRIBE_ERROR",layer:e,error:t}}var ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.zoomToLayer,n=void 0!==r&&r;return{type:l,layer:e,zoomToLayer:n}};function le(e){return{type:O,error:e}}function se(e){return{type:P,metadataOptions:e}}var Ee=function(e){return{type:m,metadataTemplate:e}},fe=function(){return{type:M}},Ae=function(){return{type:b}},pe=function(){return{type:x}},de=function(e){return{type:F,url:e}},Oe=function(e){return{type:U,loading:e}},Te=function(e,t){return{type:B,formats:e,url:t}};function Re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.vU)({title:"catalog.notification.errorTitle",message:"catalog.notification.errorSearchingRecords",values:{records:e}})}},921914:(e,t,r)=>{"use strict";r.d(t,{XL:()=>o,km:()=>a,Ih:()=>i,Xw:()=>u,Pn:()=>c,DZ:()=>l,e8:()=>s,E0:()=>E,F9:()=>f,X_:()=>A,pb:()=>p,qb:()=>d,Re:()=>O,ih:()=>T,xy:()=>R,jL:()=>m,oz:()=>y,ph:()=>_,lF:()=>C,gG:()=>v,cb:()=>G,GI:()=>g,B1:()=>S,fv:()=>I,gc:()=>L,zX:()=>D,ZF:()=>h,Zb:()=>N,DW:()=>P,Xp:()=>w,Fm:()=>b,sV:()=>x,Mn:()=>M,LU:()=>F,XP:()=>U,WU:()=>B,JB:()=>K,g:()=>Y,ws:()=>H,HP:()=>q,aN:()=>k,Pg:()=>W,u0:()=>X,TM:()=>j,PM:()=>Z,lK:()=>$,sv:()=>Q,MO:()=>z,oO:()=>J,Mc:()=>ee,Zw:()=>te,RA:()=>re,am:()=>ne,ZM:()=>oe,wm:()=>ae,Y$:()=>ie,Qu:()=>ue,kT:()=>ce});var n=r(647310),o="LOAD_FEATURE_INFO",a="ERROR_FEATURE_INFO",i="EXCEPTIONS_FEATURE_INFO",u="CHANGE_MAPINFO_STATE",c="NEW_MAPINFO_REQUEST",l="PURGE_MAPINFO_RESULTS",s="CHANGE_MAPINFO_FORMAT",E="SHOW_MAPINFO_MARKER",f="HIDE_MAPINFO_MARKER",A="SHOW_REVERSE_GEOCODE",p="HIDE_REVERSE_GEOCODE",d="GET_VECTOR_INFO",O="NO_QUERYABLE_LAYERS",T="CLEAR_WARNING",R="FEATURE_INFO_CLICK",m="IDENTIFY:UPDATE_FEATURE_INFO_CLICK_POINT",y="IDENTIFY:TOGGLE_HIGHLIGHT_FEATURE",_="TOGGLE_MAPINFO_STATE",C="UPDATE_CENTER_TO_MARKER",v="IDENTIFY:CHANGE_PAGE",G="IDENTIFY:CLOSE_IDENTIFY",g="IDENTIFY:CHANGE_FORMAT",S="IDENTIFY:TOGGLE_SHOW_COORD_EDITOR",I="IDENTIFY:EDIT_LAYER_FEATURES",L="IDENTIFY:CURRENT_EDIT_FEATURE_QUERY",D="IDENTIFY:SET_MAP_TRIGGER",h="IDENTIFY:TOGGLE_EMPTY_MESSAGE_GFI",N="IDENTIFY:SET_SHOW_IN_MAP_POPUP",P="IDENTIFY:IDENTIFY_IS_MOUNTED",w="IDENTIFY:INIT_PLUGIN";function b(e,t,r,n,a){return{type:o,data:t,reqId:e,requestParams:r,layerMetadata:n,layer:a}}function x(e,t,r,n){return{type:a,error:t,reqId:e,requestParams:r,layerMetadata:n}}function M(e,t,r,n){return{type:i,reqId:e,exceptions:t,requestParams:r,layerMetadata:n}}function F(){return{type:O}}function U(){return{type:T}}function B(e,t){return{type:c,reqId:e,request:t}}function K(e,t,r,n){return{type:d,layer:e,request:t,metadata:r,queryableLayers:n}}function Y(){return{type:l}}function H(e){return{type:s,infoFormat:e}}function q(){return{type:E}}function k(){return{type:f}}function V(e){return{type:A,reverseGeocodeData:e.data}}function W(e){return function(t){n.Z.reverseGeocode(e).then((function(e){t(V(e))})).catch((function(e){t(V(e))}))}}function X(){return{type:p}}function j(){return{type:_}}function Z(e){return{type:C,status:e}}function $(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return{type:R,point:e,layer:t,filterNameList:r,overrideParams:n,itemId:o}}function Q(e){return{type:m,point:e}}function z(e){return{type:y,enabled:e}}function J(e){return{type:v,index:e}}var ee=function(){return{type:G}},te=function(e){return{type:g,format:e}},re=function(e){return{type:S,showCoordinateEditor:e}},ne=function(e){return{type:I,layer:e}},oe=function(e){return{type:L,query:e}},ae=function(e){return{type:D,trigger:e}},ie=function(e){return{type:N,value:e}},ue=function(e){return{type:P,isMounted:e}},ce=function(e){return{type:w,cfg:e}}},659551:(e,t,r)=>{"use strict";r.d(t,{_b:()=>L,ZP:()=>N});var n=r(608575),o=r(227361),a=r.n(o),i=r(91175),u=r.n(i),c=r(610928),l=r.n(c),s=r(941106),E=r.n(s),f=r(414293),A=r.n(f),p=r(727418),d=r.n(p),O=r(375875),T=r.n(O),R=r(737275),m=r(986267),y=r(501157);function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){G(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function G(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=function(e){var t=n.parse(e,!0);return n.format(d()({},t,{search:null},{query:d()({service:"CSW",version:"2.0.2"},t.query,{request:void 0})}))},S="<ogc:Or>\n            <ogc:PropertyIsEqualTo>\n                <ogc:PropertyName>dc:type</ogc:PropertyName>\n                <ogc:Literal>dataset</ogc:Literal>\n            </ogc:PropertyIsEqualTo>\n            <ogc:PropertyIsEqualTo>\n                <ogc:PropertyName>dc:type</ogc:PropertyName>\n                <ogc:Literal>http://purl.org/dc/dcmitype/Dataset</ogc:Literal>\n            </ogc:PropertyIsEqualTo>\n       </ogc:Or>",I="<ogc:PropertyIsLike wildCard='%' singleChar='_' escapeChar='\\'><ogc:PropertyName>csw:AnyText</ogc:PropertyName> <ogc:Literal>%${searchText}%</ogc:Literal> </ogc:PropertyIsLike> ",L='<csw:GetRecords xmlns:csw="http://www.opengis.net/cat/csw/2.0.2" xmlns:ogc="http://www.opengis.net/ogc" xmlns:gml="http://www.opengis.net/gml" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dct="http://purl.org/dc/terms/" xmlns:gmd="http://www.isotc211.org/2005/gmd" xmlns:gco="http://www.isotc211.org/2005/gco" xmlns:gmi="http://www.isotc211.org/2005/gmi" xmlns:ows="http://www.opengis.net/ows" service="CSW" version="2.0.2" resultType="results" startPosition="${startPosition}" maxRecords="${maxRecords}"> <csw:Query typeNames="csw:Record"> <csw:ElementSetName>full</csw:ElementSetName> <csw:Constraint version="1.1.0"> <ogc:Filter> ${filterXml} </ogc:Filter> </csw:Constraint> </csw:Query> </csw:GetRecords>',D={},h={parseUrl:g,getRecordById:function(e){return new Promise((function(t){Promise.all([r.e(99942),r.e(66372)]).then(function(){t(T().get(e).then((function(e){if(e){var t=r(566372).unmarshaller.unmarshalString(e.data);if(t&&t.name&&"GetRecordByIdResponse"===t.name.localPart&&t.value&&t.value.abstractRecord){var n=t.value.abstractRecord[0].value.dcElement;if(n){for(var o={references:[]},a=0;a<n.length;a++){var i=n[a],u=i.name.localPart,c={};c="references"===u&&i.value?{value:i.value.content&&(0,R.$F)(i.value.content[0])||i.value.content||i.value,scheme:i.value.scheme}:i.value.content&&i.value.content[0]||i.value.content||i.value,o[u]&&Array.isArray(o[u])?o[u].push(c):o[u]?o[u]=[o[u],c]:o[u]=c}return{dc:o}}}else if(t&&t.name&&"ExceptionReport"===t.name.localPart)return{error:t.value.exception&&t.value.exception.length&&t.value.exception[0].exceptionText||"GenericError"};return null}return null})))}.bind(null,r)).catch(r.oe)}))},getRecords:function(e,t,n,o,i){return new Promise((function(c){Promise.all([r.e(99942),r.e(1269)]).then(function(){var s=r(566372),f=s.CSW,p=s.marshaller,d=s.unmarshaller,O=p.marshalString({name:"csw:GetRecords",value:f.getRecords(t,n,"string"!=typeof o&&o)});o&&"string"!=typeof o||(O=function(e,t,r){var n=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).filter,o=(null==n?void 0:n.staticFilter)||S,a="<ogc:And>\n        ".concat(E()((null==n?void 0:n.dynamicFilter)||I)({searchText:r}),"\n        ").concat(o,"\n    </ogc:And>");return E()(L)({filterXml:r?a:o,startPosition:e,maxRecords:t})}(t,n,o,i)),c(T().post(g(e),O,{headers:{"Content-Type":"application/xml"}}).then((function(e){if(e){var t=d.unmarshalString(e.data);if(t&&t.name&&"GetRecordsResponse"===t.name.localPart&&t.value&&t.value.searchResults){var r,n,o=t.value,i=o.searchResults.abstractRecord||o.searchResults.any,c={numberOfRecordsMatched:o.searchResults.numberOfRecordsMatched,numberOfRecordsReturned:o.searchResults.numberOfRecordsReturned,nextRecord:o.searchResults.nextRecord},s=[];if(i)for(var E=0;E<i.length;E++){var f=i[E].value,p={dateStamp:f.dateStamp&&f.dateStamp.date,fileIdentifier:f.fileIdentifier&&f.fileIdentifier.characterString&&f.fileIdentifier.characterString.value,identificationInfo:f.abstractMDIdentification&&f.abstractMDIdentification.value};if(f.boundingBox){var O,T=void 0;if((O=Array.isArray(f.boundingBox)?u()(f.boundingBox):f.boundingBox)&&O.value){var C,G,g,S,I=null!==(C=null===(G=O.value)||void 0===G?void 0:G.crs)&&void 0!==C?C:"",L=null===(g=I.match(/[\w-]*:[\w-]*:[\w-]*:[\w-]*:[\w-]*:[^:]*:(([\w-]+\s[\w-]+)|[\w-]*)/))||void 0===g?void 0:g[0],h=(0,m.makeNumericEPSG)(null===(S=I.match(/EPSG:[0-9]+/))||void 0===S?void 0:S[0]),N=O.value.lowerCorner,P=O.value.upperCorner,w=h||(0,m.extractCrsFromURN)(L)||l()(I.split(":"));"EPSG:4326"===(w?"EPSG:"===w.slice(0,5)?(0,m.makeNumericEPSG)(w):(0,m.makeNumericEPSG)("EPSG:".concat(w)):"EPSG:4326")&&"CRS84"!==w&&"OGC:CRS84"!==w&&(N=[N[1],N[0]],P=[P[1],P[0]]),T=(0,m.makeBboxFromOWS)(N,P)}p.boundingBox={extent:T,crs:"EPSG:4326"}}var b=f.dcElement;if(b){for(var x={references:[]},M=0;M<b.length;M++){var F=b[M],U=F.name.localPart,B={};B="references"===U&&F.value?{value:F.value.content&&(0,R.$F)(F.value.content[0])||F.value.content||F.value,scheme:F.value.scheme}:F.value.content&&F.value.content[0]||F.value.content||F.value,x[U]&&Array.isArray(x[U])?x[U].push(B):x[U]?x[U]=[x[U],B]:x[U]=B}n||(n=x.references),p.dc=x}s.push(p)}c.records=s;var K=((null===(r=n)||void 0===r?void 0:r.find((function(e){return"OGC:WMS"===e.scheme})))||{}).value;return function(e,t){var r=D[e],n=r&&(new Date).getTime()<r.timestamp+1e3*((0,R.u8)("cacheExpire")||60);return Promise.resolve(n?r.data:y.ZP.getCapabilities(e+"?version=").then((function(e){return a()(e,"capability.layer.layer",[])})).catch((function(){return[]}))).then((function(r){var o;return n||(D[e]={timestamp:(new Date).getTime(),data:r}),v(v({},t),{},{records:null==t||null===(o=t.records)||void 0===o?void 0:o.map((function(e){var t=r.find((function(t){var r;return t.name===(null==e||null===(r=e.dc)||void 0===r?void 0:r.identifier)}))||{},n=t.minScaleDenominator,o=t.maxScaleDenominator;return v(v({},e),(!A()(n)||!A()(o))&&{capabilities:{MaxScaleDenominator:o,MinScaleDenominator:n}})}))})}))}(function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,u=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(u)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(K&&K.split("?")||[],1)[0],c)}if(t&&t.name&&"ExceptionReport"===t.name.localPart)return{error:t.value.exception&&t.value.exception.length&&t.value.exception[0].exceptionText||"GenericError"}}return null})))}.bind(null,r)).catch(r.oe)}))},textSearch:function(e,t,r,n,o){return new Promise((function(a){a(h.getRecords(e,t,r,n,o))}))},workspaceSearch:function(e,t,n,o,a){return new Promise((function(i){Promise.all([r.e(99942),r.e(1269)]).then(function(){var u=r(484454).Filter,c=a||"%",l=o&&"%"+o+"%"||"%",s=u.propertyIsLike("dc:identifier",c+":"+l),E=u.filter(s);i(h.getRecords(e,t,n,E))}.bind(null,r)).catch(r.oe)}))},reset:function(){}};const N=h},603475:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(375875),o=r.n(n),a=r(737275),i=r(608575),u=r(727418),c=r.n(u),l=r(505055),s=r.n(l),E=r(984596),f=r.n(E),A=r(986267),p=r(707294),d={},O=function(e){var t=i.parse(e,!0);return i.format(c()({},t,{search:null},{query:c()({SERVICE:"WMTS",VERSION:"1.0.0",REQUEST:"GetCapabilities"},t.query)}))},T=function(e,t,r,n,o){for(var a=e.Capabilities.Contents,i=(0,p.G6)(e),u=(0,p.s5)(e),l=a.TileMatrixSet&&f()(a.TileMatrixSet)||[],s=[],E=l.length,d=0;d<E;d++)s.push((0,A.getEPSGCode)(l[d]["ows:SupportedCRS"]));var O=a.Layer,T=f()(O).filter((function(e){return!n||-1!==e["ows:Identifier"].toLowerCase().indexOf(n.toLowerCase())||e["ows:Title"]&&-1!==e["ows:Title"].toLowerCase().indexOf(n.toLowerCase())}));return{numberOfRecordsMatched:T.length,numberOfRecordsReturned:Math.min(r,T.length),nextRecord:t+Math.min(r,T.length)+1,records:T.filter((function(e,n){return n>=t-1&&n<t-1+r})).map((function(e){return c()({},e,{SRS:s,TileMatrixSet:l,queryable:!!(0,p.b4)(i,"GetFeatureInfo","KVP"),requestEncoding:u,style:(0,p.EN)(e),format:(0,p.JY)(e),GetTileURL:(0,p.b4)(i,"GetTile",u),capabilitiesURL:o})}))}},R={parseUrl:O,getRecords:function(e,t,r,n){var i=d[e];return i&&(new Date).getTime()<i.timestamp+1e3*((0,a.u8)("cacheExpire")||60)?new Promise((function(o){o(T(i.data,t,r,n,e))})):o().get(O(e)).then((function(o){var a;return s().parseString(o.data,{explicitArray:!1},(function(e,t){a=t})),d[e]={timestamp:(new Date).getTime(),data:a},T(a,t,r,n,e)}))},getCapabilities:function(e){var t=d[e];return t&&(new Date).getTime()<t.timestamp+1e3*((0,a.u8)("cacheExpire")||60)?new Promise((function(e){e(t.data)})):o().get(O(e)).then((function(t){var r;return s().parseString(t.data,{explicitArray:!1},(function(e,t){r=t})),d[e]={timestamp:(new Date).getTime(),data:r},r}))},textSearch:function(e,t,r,n){return R.getRecords(e,t,r,n)},reset:function(){Object.keys(d).forEach((function(e){delete d[e]}))}};const m=R},932354:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(227361),o=r.n(n),a=r(737275),i=function(e,t,r,n){var i=o()(a.ZP.getDefaults(),"initialState.defaultState.catalog.default.staticServices.default_map_backgrounds.backgrounds").filter((function(e){return!n||e.title.indexOf(n)>-1})),u=i.filter((function(e,n){return n>=t-1&&n<r+t-1}));return new Promise((function(e){return e({numberOfRecordsMatched:i.length,numberOfRecordsReturned:u.length,records:u,service:{Name:"Background Provider"}})}))};const u={getRecords:i,reset:function(){},textSearch:function(e,t,r,n){return i(0,t,r,n)}}}}]);