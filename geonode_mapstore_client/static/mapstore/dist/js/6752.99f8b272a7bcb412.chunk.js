"use strict";(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[6752],{267224:(e,t,r)=>{r.d(t,{A:()=>d});var n=r(273517),o=r.n(n),a=r(8117),i=r(553493),u=r(551783),l=["debounceTime"],c=["fallbackValue"];function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p.apply(null,arguments)}function b(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var y=(0,i.A)("onChange","value")((0,u.A)("placeholder")(function(e){e.debounceTime;var t=b(e,l);return o().createElement(a.MJ,p({},t,{onChange:function(e){return t.onChange(e.target.value)}}))}));const d=function(e){var t,r,a=e.fallbackValue,i=b(e,c),u=s((0,n.useState)(null!==(t=i.value)&&void 0!==t?t:a),2),l=u[0],f=u[1],d=s((0,n.useState)(null!==(r=i.value)&&void 0!==r?r:a),2),m=d[0],v=d[1],h=s((0,n.useState)(0),2),g=h[0],O=h[1],j=(0,n.useRef)(!1),w=(0,n.useRef)();function E(e){var t=!isNaN(parseFloat(e));return t&&void 0!==i.min&&e<i.min?{changed:!0,value:i.min}:t&&void 0!==i.max&&e>i.max?{changed:!0,value:i.max}:{changed:!1,value:t?parseFloat(e):e}}return w.current=l,(0,n.useEffect)(function(){var e;w.current!==i.value&&f(null!==(e=i.value)&&void 0!==e?e:a)},[i.value]),o().createElement(y,p({},i,{key:g,value:l,onChange:function(e){if(j.current){var t=e,r=!0;if("number"===i.type){var n=E(t).changed;(""===t||n)&&(r=!1)}f(t),r&&i.onChange(t)}},onChangeNoDebounce:v,onBlur:function(){if("number"===i.type)if(""===m)i.onChange(void 0),f(a),O(function(e){return e+1});else{var e=E(m).value;i.onChange(e),O(function(e){return e+1}),f(e)}j.current=!1},onFocus:function(){j.current=!0}}))}},209250:(e,t,r)=>{r.d(t,{A:()=>N});var n=r(273517),o=r.n(n),a=r(605556),i=r.n(a),u=r(8117),l=r(348317),c=r(256951),s=r(8571);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(b=function(){return!!e})()}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function m(e,t,r){return(t=v(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){var t=function(e){if("object"!=f(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==f(t)?t:t+""}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r){return t=y(t),function(e,t){if(t&&("object"==f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,b()?Reflect.construct(t,r||[],y(e).constructor):t.apply(e,r))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this;return o().createElement(c.A,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},btnGroupProps:{style:{margin:5}},buttons:[{glyph:this.props.checked?"chevron-down":"chevron-left",visible:!0,disabled:this.props.disabled,tooltip:this.props.checked?o().createElement(s.A,{msgId:"collapse"}):o().createElement(s.A,{msgId:"expand"}),onClick:function(){return e.props.onClick(!e.props.checked)}}]})}}])&&p(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(o().Component);m(h,"propTypes",{checked:i().bool,disabled:i().bool,onClick:i().func}),m(h,"defaultProps",{checked:!1,disabled:!1,onClick:function(){}});const g=h;var O=r(711030),j=r(774177);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,x(n.key),n)}}function P(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(P=function(){return!!e})()}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}function k(e,t,r){return(t=x(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x(e){var t=function(e){if("object"!=w(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==w(t)?t:t+""}var A=function(){return o().createElement(O.A,{className:"square-button-sm no-border switch-error"},o().createElement(u.e6,{glyph:"exclamation-mark",className:"text-danger"}))},_=function(){return o().createElement("div",{className:"switch-loading"},o().createElement(j.A,{size:"small"}))},q=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return k(e=function(e,t,r){return t=C(t),function(e,t){if(t&&("object"==w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,P()?Reflect.construct(t,r||[],C(e).constructor):t.apply(e,r))}(this,t,[].concat(n)),"state",{}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(t,e),r=t,(n=[{key:"renderHeader",value:function(){var e=this,t=this.props.useToolbar?g:l.A;return o().createElement("div",null,o().createElement("div",{className:"pull-left"},this.props.title||this.props.header),o().createElement("div",{className:"pull-right"},this.props.locked?null:o().createElement(t,{disabled:this.props.disabled,checked:this.props.expanded,onClick:function(t){e.props.disabled||e.props.onSwitch(t)}}),this.props.error?o().createElement(A,null):null,this.props.loading?o().createElement(_,null):null,this.props.buttons.length>0&&this.props.expanded&&o().createElement(c.A,{btnDefaultProps:{className:"square-button-sm no-border"},buttons:this.props.buttons})))}},{key:"render",value:function(){return o().createElement(u.Zk,{className:"mapstore-switch-panel",collapsible:!0,expanded:this.props.expanded,defaultExpanded:this.props.defaultExpanded,header:this.renderHeader()},this.props.children)}}])&&E(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(o().Component);k(q,"propTypes",{header:i().node,title:i().oneOfType([i().string,i().node]),defaultExpanded:i().string,expanded:i().bool,onSwitch:i().func,locked:i().bool,buttons:i().array,loading:i().bool,disabled:i().bool,error:i().any,useToolbar:i().bool}),k(q,"defaultProps",{title:"",disabled:!1,expanded:!1,onSwitch:function(){},locked:!1,buttons:[],useToolbar:!1});const N=q},20379:(e,t,r)=>{r.d(t,{A:()=>R});var n=r(273517),o=r.n(n),a=r(605556),i=r.n(a),u=r(8117),l=r(7235),c=r(198023),s=r.n(c),f=r(269843),p=r.n(f),b=r(883085),y=r.n(b),d=r(455268),m=r(8571),v=r(590421),h=r(588753),g=r(779893),O=r(588020),j=r(668414),w=r.n(j);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach(function(t){N(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function S(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,T(n.key),n)}}function A(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(A=function(){return!!e})()}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function q(e,t){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},q(e,t)}function N(e,t,r){return(t=T(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T(e){var t=function(e){if("object"!=E(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==E(t)?t:t+""}y()();var U=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return N(e=function(e,t,r){return t=_(t),function(e,t){if(t&&("object"==E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,A()?Reflect.construct(t,r||[],_(e).constructor):t.apply(e,r))}(this,t,[].concat(n)),"renderFieldByClassification",function(t,r,n,a){if(void 0!==t.unique){if(null===t.unique)return o().createElement(u.MJ,{value:"null",type:"text",disabled:!0});if(s()(t.unique))return o().createElement(d.NumberPicker,{format:"- ###.###",value:t.unique,onChange:function(t){return e.updateUnique(r,t,"number")}});if(n&&a){var i=a.dropUpAutoComplete,l=a.classificationAttribute,c=a.layer;return o().createElement(h.G,{dropUp:i,openOnFocus:!1,autocompleteEnabled:!0,column:{key:l},onChange:function(t){return e.updateUnique(r,t)},dataType:"string",typeName:c.name,url:g.Ay.getParsedUrl(c.url,{outputFormat:"json"}),value:t.unique,filter:"contains",autocompleteStreamFactory:v.XM})}return o().createElement(u.MJ,{value:t.unique,type:"text",onChange:function(t){return e.updateUnique(r,t.target.value)}})}return p()(t.min)?o().createElement(o().Fragment,null,o().createElement(u.MJ,{value:t.label,type:"text",onChange:function(t){return e.updateRaster(r,t.target.value)}}),o().createElement(d.NumberPicker,{format:"- ###.###",value:t.quantity,onChange:function(t){return e.updateRaster(r,t,"number")}})):o().createElement(o().Fragment,null,o().createElement(d.NumberPicker,{format:"- ###.###",value:t.min,onChange:function(t){return e.updateMin(r,t)}}),o().createElement(d.NumberPicker,{format:"- ###.###",value:t.max,precision:3,onChange:function(t){return e.updateMax(r,t)}}))}),N(e,"renderClasses",function(){return e.props.classification.map(function(t,r,n){var a;return o().createElement(u.gE,{key:null!==(a=t.id)&&void 0!==a?a:r},o().createElement(l.A,{key:t.color,color:t.color,disableAlpha:!0,format:"hex",onChangeColor:function(t){return e.updateColor(r,t)}}),e.renderFieldByClassification(t,r,e.props.uniqueValuesClasses,e.props.autoCompleteOptions),e.props.customLabels&&o().createElement(u.MJ,{value:t.title,type:"text",onChange:function(t){return e.updateCustomLabel(r,t.target.value)}}),o().createElement(u.gf,{style:{flex:0},className:"square-button-md no-border add-rule",noCaret:!0,pullRight:!0,title:o().createElement(u.e6,{glyph:"option-vertical"}),dropup:e.props.dropUpMenu},[{labelId:"styleeditor.addRuleBefore",glyph:"add-row-before",value:"before"},{labelId:"styleeditor.addRuleAfter",glyph:"add-row-after",value:"after"}].concat(S(e.props.allowEmpty||r?[{labelId:"styleeditor.remove",glyph:"trash",value:"remove"}]:[])).map(function(t){return o().createElement(u.Dr,{key:t.value,onClick:function(){return e.updateClassification(r,t.value,n,e.props.customLabels)}},o().createElement(o().Fragment,null,o().createElement(u.e6,{glyph:t.glyph}),o().createElement(m.A,{msgId:t.labelId})))})))})}),N(e,"updateColor",function(t,r){if(r){var n=e.props.classification.map(function(e,n){return n===t?Object.assign({},e,{color:r}):e});e.props.onUpdateClasses(n,"color")}}),N(e,"updateUnique",function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",o=e.props.classification.map(function(e,o){return o===t?Object.assign({},e,{unique:p()(r)?"number"===n?0:"":r}):e});e.props.onUpdateClasses(o,"interval")}),N(e,"updateRaster",function(t,r){var n="number"===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text")?"quantity":"label",o=e.props.classification.map(function(e,o){return o===t?Object.assign({},e,N({},n,r)):e});e.props.onUpdateClasses(o,"interval")}),N(e,"updateMin",function(t,r){if(!isNaN(r)){var n=e.props.classification.map(function(e,n){return n===t?Object.assign({},e,{min:r}):e});e.props.onUpdateClasses(n,"interval")}}),N(e,"updateMax",function(t,r){if(!isNaN(r)){var n=e.props.classification.map(function(e,n){return n===t?Object.assign({},e,{max:r}):n===t+1?Object.assign({},e,{min:r}):e});e.props.onUpdateClasses(n,"interval")}}),N(e,"updateClassification",function(t,r,n,o){var a,i,u=0,l=S(e.props.classification),c=l[t],f=n.map(function(e){return e.color});if("before"===r){var b=0===t;a=b?0:t,i={min:b?p()(c.min)?c.min:0:c.min,max:c.min}}else"after"===r?(a=t===l.length-1?l.length:t+1,i={min:c.max,max:c.max}):(a=t,u=1);var y=[a,u];if("remove"!==r){var d,m=e.props.usePresetColors?(0,O.RM)(f):"#ffffff";if(p()(c.unique))d=p()(c.quantity)?C(C(C({},c),{},{id:w().v1()},i),{},{color:m,title:o?"":" >= ".concat(i.min," AND <").concat(i.max)}):C(C({},c),{},{id:w().v1(),color:m,label:"0",quantity:0});else{var v=s()(c.unique)?0:"";d=C(C({},c),{},{id:w().v1(),color:m,title:v,unique:v})}y=y.concat(d)}l.splice.apply(l,S(y)),e.props.onUpdateClasses(l,"interval")}),N(e,"updateCustomLabel",function(t,r){if(void 0!==r){var n=e.props.classification.map(function(e,n){return n===t?Object.assign({},e,{title:r}):e});e.props.onUpdateClasses(n,"title")}}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){return o().createElement("div",{className:"thema-classes-editor "+this.props.className},this.renderClasses())}}])&&x(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(o().Component);N(U,"propTypes",{classification:i().array,onUpdateClasses:i().func,className:i().string,allowEmpty:i().bool,customLabels:i().bool,uniqueValuesClasses:i().bool,autoCompleteOptions:i().object,dropUpMenu:i().bool,usePresetColors:i().bool}),N(U,"defaultProps",{classification:[],onUpdateClasses:function(){},className:"",allowEmpty:!0,customLabels:!1,uniqueValuesClasses:!1,dropUpMenu:!1});const R=U},434164:(e,t,r)=>{r.d(t,{Cc:()=>h,aF:()=>v});var n=r(23412),o=r.n(n),a=(r(400912),r(183555)),i=r(45388),u=r(375482),l=r(995531),c=(r(764932),r(112585)),s=r(492312),f=r(584153),p=r(79738);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){m(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function m(e,t,r){return(t=function(e){var t=function(e){if("object"!=b(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==b(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}a.default;var v=function(e){var t,r=(0,f.WZ)(null==e||null===(t=e.security)||void 0===t?void 0:t.sourceId);return i.Observable.defer(function(){return u.Ay.getCapabilities((0,c.wk)(e),r)}).let(s.m9).map(function(t){return u.Ay.parseLayerCapabilities(t,e)})},h=function(e){return function(e){var t,r=(0,f.WZ)(null==e||null===(t=e.security)||void 0===t?void 0:t.sourceId);return i.Observable.defer(function(){return l.A.get(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,r=e.search,n=void 0===r?{}:r,a=e.url,i=o().parse((0,p.t)(n.url||a),!0);return o().format(d(d({},i),{},{search:void 0,query:d(d({},i.query),{},{service:"WMS",version:u.j0,layers:t,outputFormat:"application/json",request:"DescribeLayer"})}))}(e),{headers:r})}).let(s.m9)}(e).map(function(e){var t=e.data,r=void 0===t?{}:t;return r&&r.layerDescriptions[0]}).map(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).owsURL;return d(d({},e),{},{params:{},search:t?{type:"wfs",url:(0,f.o_)(t)}:void 0})})}}}]);