"use strict";(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[7194],{20379:(e,t,r)=>{r.d(t,{A:()=>R});var n=r(273517),o=r.n(n),l=r(605556),i=r.n(l),a=r(8117),u=r(7235),c=r(65747),s=r.n(c),d=r(104567),p=r.n(d),f=r(883085),y=r.n(f),m=r(455268),b=r(8571),v=r(590421),g=r(588753),h=r(779893),O=r(588020),E=r(668414),k=r.n(E);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach(function(t){D(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function w(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,V(n.key),n)}}function A(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(A=function(){return!!e})()}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function T(e,t){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},T(e,t)}function D(e,t,r){return(t=V(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V(e){var t=function(e){if("object"!=S(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==S(t)?t:t+""}y()();var M=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return D(e=function(e,t,r){return t=x(t),function(e,t){if(t&&("object"==S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,A()?Reflect.construct(t,r||[],x(e).constructor):t.apply(e,r))}(this,t,[].concat(n)),"renderFieldByClassification",function(t,r,n,l){if(void 0!==t.unique){if(null===t.unique)return o().createElement(a.MJ,{value:"null",type:"text",disabled:!0});if(s()(t.unique))return o().createElement(m.NumberPicker,{format:"- ###.###",value:t.unique,onChange:function(t){return e.updateUnique(r,t,"number")}});if(n&&l){var i=l.dropUpAutoComplete,u=l.classificationAttribute,c=l.layer;return o().createElement(g.G,{dropUp:i,openOnFocus:!1,autocompleteEnabled:!0,column:{key:u},onChange:function(t){return e.updateUnique(r,t)},dataType:"string",typeName:c.name,url:h.Ay.getParsedUrl(c.url,{outputFormat:"json"}),value:t.unique,filter:"contains",autocompleteStreamFactory:v.XM})}return o().createElement(a.MJ,{value:t.unique,type:"text",onChange:function(t){return e.updateUnique(r,t.target.value)}})}return p()(t.min)?o().createElement(o().Fragment,null,o().createElement(a.MJ,{value:t.label,type:"text",onChange:function(t){return e.updateRaster(r,t.target.value)}}),o().createElement(m.NumberPicker,{format:"- ###.###",value:t.quantity,onChange:function(t){return e.updateRaster(r,t,"number")}})):o().createElement(o().Fragment,null,o().createElement(m.NumberPicker,{format:"- ###.###",value:t.min,onChange:function(t){return e.updateMin(r,t)}}),o().createElement(m.NumberPicker,{format:"- ###.###",value:t.max,precision:3,onChange:function(t){return e.updateMax(r,t)}}))}),D(e,"renderClasses",function(){return e.props.classification.map(function(t,r,n){var l;return o().createElement(a.gE,{key:null!==(l=t.id)&&void 0!==l?l:r},o().createElement(u.A,{key:t.color,color:t.color,disableAlpha:!0,format:"hex",onChangeColor:function(t){return e.updateColor(r,t)}}),e.renderFieldByClassification(t,r,e.props.uniqueValuesClasses,e.props.autoCompleteOptions),e.props.customLabels&&o().createElement(a.MJ,{value:t.title,type:"text",onChange:function(t){return e.updateCustomLabel(r,t.target.value)}}),o().createElement(a.gf,{style:{flex:0},className:"square-button-md no-border add-rule",noCaret:!0,pullRight:!0,title:o().createElement(a.e6,{glyph:"option-vertical"}),dropup:e.props.dropUpMenu},[{labelId:"styleeditor.addRuleBefore",glyph:"add-row-before",value:"before"},{labelId:"styleeditor.addRuleAfter",glyph:"add-row-after",value:"after"}].concat(w(e.props.allowEmpty||r?[{labelId:"styleeditor.remove",glyph:"trash",value:"remove"}]:[])).map(function(t){return o().createElement(a.Dr,{key:t.value,onClick:function(){return e.updateClassification(r,t.value,n,e.props.customLabels)}},o().createElement(o().Fragment,null,o().createElement(a.e6,{glyph:t.glyph}),o().createElement(b.A,{msgId:t.labelId})))})))})}),D(e,"updateColor",function(t,r){if(r){var n=e.props.classification.map(function(e,n){return n===t?Object.assign({},e,{color:r}):e});e.props.onUpdateClasses(n,"color")}}),D(e,"updateUnique",function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",o=e.props.classification.map(function(e,o){return o===t?Object.assign({},e,{unique:p()(r)?"number"===n?0:"":r}):e});e.props.onUpdateClasses(o,"interval")}),D(e,"updateRaster",function(t,r){var n="number"===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text")?"quantity":"label",o=e.props.classification.map(function(e,o){return o===t?Object.assign({},e,D({},n,r)):e});e.props.onUpdateClasses(o,"interval")}),D(e,"updateMin",function(t,r){if(!isNaN(r)){var n=e.props.classification.map(function(e,n){return n===t?Object.assign({},e,{min:r}):e});e.props.onUpdateClasses(n,"interval")}}),D(e,"updateMax",function(t,r){if(!isNaN(r)){var n=e.props.classification.map(function(e,n){return n===t?Object.assign({},e,{max:r}):n===t+1?Object.assign({},e,{min:r}):e});e.props.onUpdateClasses(n,"interval")}}),D(e,"updateClassification",function(t,r,n,o){var l,i,a=0,u=w(e.props.classification),c=u[t],d=n.map(function(e){return e.color});if("before"===r){var f=0===t;l=f?0:t,i={min:f?p()(c.min)?c.min:0:c.min,max:c.min}}else"after"===r?(l=t===u.length-1?u.length:t+1,i={min:c.max,max:c.max}):(l=t,a=1);var y=[l,a];if("remove"!==r){var m,b=e.props.usePresetColors?(0,O.RM)(d):"#ffffff";if(p()(c.unique))m=p()(c.quantity)?I(I(I({},c),{},{id:k().v1()},i),{},{color:b,title:o?"":" >= ".concat(i.min," AND <").concat(i.max)}):I(I({},c),{},{id:k().v1(),color:b,label:"0",quantity:0});else{var v=s()(c.unique)?0:"";m=I(I({},c),{},{id:k().v1(),color:b,title:v,unique:v})}y=y.concat(m)}u.splice.apply(u,w(y)),e.props.onUpdateClasses(u,"interval")}),D(e,"updateCustomLabel",function(t,r){if(void 0!==r){var n=e.props.classification.map(function(e,n){return n===t?Object.assign({},e,{title:r}):e});e.props.onUpdateClasses(n,"title")}}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){return o().createElement("div",{className:"thema-classes-editor "+this.props.className},this.renderClasses())}}])&&C(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(o().Component);D(M,"propTypes",{classification:i().array,onUpdateClasses:i().func,className:i().string,allowEmpty:i().bool,customLabels:i().bool,uniqueValuesClasses:i().bool,autoCompleteOptions:i().object,dropUpMenu:i().bool,usePresetColors:i().bool}),D(M,"defaultProps",{classification:[],onUpdateClasses:function(){},className:"",allowEmpty:!0,customLabels:!1,uniqueValuesClasses:!1,dropUpMenu:!1});const R=M},180447:(e,t,r)=>{r.d(t,{A:()=>a});var n=r(273517),o=r.n(n),l=r(8571),i=r(168995);const a=function(e){var t=e.children,r=e.label,n=e.tools,a=e.divider,u=e.invalid,c=e.warning,s=e.disabled,d=e.valueStyle,p=e.infoMessageId;if(a)return o().createElement("div",{className:"ms-symbolizer-field-divider"});var f=c?" ms-symbolizer-value-warning":"",y=u?" ms-symbolizer-value-invalid":"",m=s?" ms-symbolizer-field-disabled":"";return o().createElement("div",{className:"ms-symbolizer-field"+m},o().createElement("div",{className:"ms-symbolizer-label"},o().createElement(l.A,{msgId:r}),p?o().createElement(o().Fragment,null,"Â ",o().createElement(i.A,{text:o().createElement(l.A,{msgId:p})})):null),o().createElement("div",{className:"ms-symbolizer-value"+y+f,style:d,onDragStart:function(e){e.stopPropagation(),e.preventDefault()},draggable:!0},t,o().createElement("div",{className:"ms-symbolizer-tools"},n)))}},947194:(e,t,r)=>{r.d(t,{A:()=>Cr});var n=r(273517),o=r.n(n),l=r(605556),i=r.n(l),a=r(356513),u=r.n(a),c=r(908437),s=r.n(c),d=r(8117),p=r(802401),f=r.n(p),y=r(874295),m=r.n(y),b=r(104567),v=r.n(b),g=r(226001),h=r.n(g),O=r(256951),E=r(7235),k=r(850955),S=r(690639),P=r(192016),I=r(130134),w=r.n(I);function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,M(n.key),n)}}function x(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(x=function(){return!!e})()}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}function D(e,t){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},D(e,t)}function V(e,t,r){return(t=M(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M(e){var t=function(e){if("object"!=j(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==j(t)?t:t+""}var R=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return V(e=function(e,t,r){return t=T(t),function(e,t){if(t&&("object"==j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,x()?Reflect.construct(t,r||[],T(e).constructor):t.apply(e,r))}(this,t,[].concat(n)),"styleRenderer",function(t,r,n){var l=e.props.styleRendererPattern||o().createElement("svg",{style:{height:33,width:"100%"},viewBox:"0 0 300 25"},o().createElement("path",{className:"ms-dash-array",strokeWidth:e.props.defaultStrokeWidth,strokeDasharray:n||t.value,d:"M0 12.5, 300 12.5"}));return o().createElement("div",{style:{display:"flex",alignItems:"center",width:"100%",paddingRight:25}},l)}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}(t,e),r=t,n=[{key:"render",value:function(){var e=this,t=w()(this.props.dashArray||"1 0"," "),r=this.props.options.find(function(e){return e.value===t})?this.props.options:[{value:t}].concat(function(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.props.options)),n=this.props.creatable?P.Ay.Creatable:P.Ay;return o().createElement(n,{options:r,disabled:this.props.disabled,menuPlacement:this.props.menuPlacement,clearable:this.props.clearable,optionRenderer:this.props.optionRenderer||this.styleRenderer,valueRenderer:this.props.valueRenderer||this.styleRenderer,value:t,isValidNewOption:this.props.isValidNewOption,onChange:function(t){if(t){var r=t.value.split(" ");e.props.onChange(r)}}})}}],n&&A(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(o().Component);V(R,"propTypes",{dashArray:i().array,menuPlacement:i().string,clearable:i().bool,value:i().string,optionRenderer:i().func,styleRendererPattern:i().node,valueRenderer:i().func,disabled:i().bool,onChange:i().func,options:i().array,creatable:i().bool,isValidNewOption:i().func,defaultStrokeWidth:i().number}),V(R,"defaultProps",{dashArray:["1","0"],menuPlacement:"top",clearable:!1,onChange:function(){},options:[{value:"1 0"},{value:"10 50 30"},{value:"6 6"},{value:"20 20"},{value:"30 30"}],defaultStrokeWidth:4});const F=R;var z=r(20379),N=r(8571),W=r(180447),G=r(232877),K=r(720538);const L=[{value:"Circle",label:"Circle",preview:{type:"point",paths:[{d:"M 160,100 A 60,60 0 0 1 100,160 60,60 0 0 1 40,100 60,60 0 0 1 100,40 60,60 0 0 1 160,100 Z",stroke:"#f2f2f2",fill:"#333333",strokeWidth:4}]}},{value:"Square",label:"Square",preview:{type:"point",paths:[{d:"M40 40 L160 40 L160 160 L40 160Z",stroke:"#f2f2f2",fill:"#333333",strokeWidth:4}]}},{value:"Triangle",label:"Triangle",preview:{type:"point",paths:[{d:"M 160,151.96151 H 40 L 99.999999,48.038488 Z",stroke:"#f2f2f2",fill:"#333333",strokeWidth:4}]}},{value:"Star",label:"Star",preview:{type:"point",paths:[{d:"M 165.07677,84.40286 131.87672,116.49613 139.49277,162.03972 98.710865,140.38195 57.749838,161.699 65.745291,116.22048 32.813927,83.851564 78.537289,77.40206 99.145626,36.079922 119.40876,77.572419 Z",stroke:"#f2f2f2",fill:"#333333",strokeWidth:4}]}},{value:"Cross",label:"Cross",preview:{type:"point",paths:[{d:"M 84.99987,39.999998 V 84.999868 H 39.999999 V 115.00013 H 84.99987 V 160 H 115.00013 V 115.00013 H 160 V 84.999868 H 115.00013 V 39.999998 Z",stroke:"#f2f2f2",fill:"#333333",strokeWidth:4}]}},{value:"X",label:"X",preview:{type:"point",paths:[{d:"M 131.81971,46.966899 100,78.786612 68.180288,46.966898 46.966899,68.180287 78.786613,100 46.9669,131.81971 68.180287,153.0331 100,121.21339 131.81971,153.0331 153.0331,131.81971 121.21339,99.999999 153.0331,68.180286 Z",stroke:"#f2f2f2",fill:"#333333",strokeWidth:4}]}},{value:"shape://vertline",label:"Vertical Line",preview:{type:"point",paths:[{d:"M 100,40 V 160 Z",stroke:"#333333",strokeWidth:4,fill:"none"}]}},{value:"shape://horline",label:"Horizontal Line",preview:{type:"point",paths:[{d:"M 160,100 40.000002,100 Z",stroke:"#333333",strokeWidth:4,fill:"none"}]}},{value:"shape://slash",label:"Slash",preview:{type:"point",paths:[{d:"M 142.42641,57.573591 57.573595,142.4264 Z",stroke:"#333333",strokeWidth:4,fill:"none"}]}},{value:"shape://backslash",label:"Backslash",preview:{type:"point",paths:[{d:"M 142.42641,142.42641 57.573595,57.573594 Z",stroke:"#333333",strokeWidth:4,fill:"none"}]}},{value:"shape://dot",label:"Dot",preview:{type:"point",paths:[{d:"M 95,100 105,100 Z",stroke:"#333333",strokeWidth:10,fill:"none"}]}},{value:"shape://plus",label:"Plus",preview:{type:"point",paths:[{d:"M 100,40 V 160 Z",stroke:"#333333",strokeWidth:4,fill:"none"},{d:"M 160,100 40.000002,100 Z",stroke:"#333333",strokeWidth:4,fill:"none"}]}},{value:"shape://times",label:"Times",preview:{type:"point",paths:[{d:"M 142.42641,57.573591 57.573595,142.4264 Z",stroke:"#333333",strokeWidth:4,fill:"none"},{d:"M 142.42641,142.42641 57.573595,57.573594 Z",stroke:"#333333",strokeWidth:4,fill:"none"}]}},{value:"shape://oarrow",label:"Open Arrow",preview:{type:"point",paths:[{d:"M 40.027335,53.266123 159.77305,100 40.027335,146.73388",stroke:"#333333",strokeWidth:4,fill:"none"}]}},{value:"shape://carrow",label:"Closed Arrow",preview:{type:"point",paths:[{d:"M 40.027335,53.266123 159.77305,100 40.027335,146.73388Z",stroke:"#333333",strokeWidth:4,fill:"none"}]}}];var B=r(164045),U=r(995531),q=r(711030);function H(e){return function(e){if(Array.isArray(e))return $(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,l,i,a=[],u=!0,c=!1;try{if(l=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=l.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return a}}(e,t)||_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return $(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$(e,t):void 0}}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var J=(0,B.A)(q.A),X={},Y=function(e,t,r){return{label:r,value:e,preview:{type:"point",patterns:[{id:t,image:{href:e,width:"120",height:"120"}}],paths:[{d:"M40 40 L160 40 L160 160 L40 160Z",stroke:"#000000",fill:"url(#".concat(t,")"),strokeWidth:0}]}}};const Q=function(e){var t=e.value,r=e.config,l=void 0===r?{}:r,i=e.onChange,a=void 0===i?function(){}:i,u=e.svgSymbolsPath,c=e.onUpdateOptions,s=void 0===c?function(){}:c,d=e.disabled,p=l.options,f=l.excludeSvg,y=p?L.filter(function(e){return p.includes(e.value)}):L,m=f?void 0:u,b=Z((0,n.useState)([]),2),v=b[0],g=b[1],h=Z((0,n.useState)(!1),2),O=h[0],E=h[1],k=0===v.length&&(t||"").includes(".svg")?Y(t,t):[].concat(H(y),H(v)).find(function(e){return e.value===t});return(0,n.useEffect)(function(){m&&!O&&(E(!0),X[m]?g(X[m]):U.A.get(m).then(function(e){var t=e.data.map(function(e){var t=e.name,r=e.label,n="".concat(m.replace(/[^\/]*.json$/,"".concat(t,".svg"))),o="".concat(t,"-svg");return Y(n,o,r)});X[m]=t,s([].concat(H(y),H(t))),g(t)}).finally(function(){E(!1)}))},[m]),o().createElement(G.A,{disabled:d,content:o().createElement("div",{className:"ms-mark-list"},o().createElement("ul",null,[].concat(H(y),H(v)).map(function(e){return o().createElement("li",{key:e.value},o().createElement(J,{tooltip:e.label||e.value,className:"ms-mark-preview",active:e.value===t,onClick:function(){return a(e.value)}},o().createElement(K.A,e.preview)))})))},o().createElement(J,{className:"ms-mark-preview"},k&&o().createElement(K.A,k.preview)))},ee=function(e){var t=e.label,r=void 0===t?"styleeditor.band":t,n=e.value,l=e.bands,i=e.onChange,a=e.enhancementType;return o().createElement(o().Fragment,null,o().createElement(W.A,{label:r},o().createElement(P.Ay,{clearable:!1,options:l,value:n,onChange:function(e){return i("band",e.value)}})),o().createElement(W.A,{label:"styleeditor.contrastEnhancement"},o().createElement(P.Ay,{clearable:!1,options:[{label:o().createElement(N.A,{msgId:"styleeditor.none"}),value:"none"},{label:o().createElement(N.A,{msgId:"styleeditor.normalize"}),value:"normalize"},{label:o().createElement(N.A,{msgId:"styleeditor.histogram"}),value:"histogram"}],value:a||"none",onChange:function(e){var t="none"===e.value?void 0:e.value;i("enhancementType",t)}})))};var te=r(551783),re=r(553493),ne=r(275705),oe=r(714905);function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,l,i,a=[],u=!0,c=!1;try{if(l=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=l.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ie(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ie(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ae(){return ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ae.apply(null,arguments)}var ue=(0,re.A)("onChange","value")((0,te.A)("placeholder")(function(e){return o().createElement(d.MJ,ae({},e,{onChange:function(t){return e.onChange(t.target.value)}}))})),ce=(0,B.A)(d.e6);function se(e){var t=e.value,r=e.onChange,l=e.onLoad,i=(0,n.useRef)(!0);(0,n.useEffect)(function(){return i.current=!0,function(){i.current=!1}},[]);var a=le((0,n.useState)(!1),2),u=a[0],c=a[1],s=le((0,n.useState)(!0),2),p=s[0],f=s[1],y=le((0,n.useState)(t),2),m=y[0],b=y[1],v=function(e,t){b(e),c(!0),f(!1),(0,oe.S5)(e).then(function(t){if(i.current){var r=!1;t.isBase64&&(r={type:"warning",messageId:"imageSrcNotSupportedBase64Image"}),f(r),c(!1),l(r,e)}}).catch(function(t){if(i.current){var r=t.isBase64||"imageSrcLoadError"!==t.messageId?{type:"error",messageId:t.messageId}:{type:"warning",messageId:t.messageId};f(r),c(!1),l(r,e)}}),t&&r(e)},g=(0,n.useRef)(t);return(0,n.useEffect)(function(){v(g.current)},[]),o().createElement("div",{className:"ms-style-editor-icon-input",style:{position:"relative",display:"flex",alignItems:"center"}},o().createElement(d.gE,{style:{flex:1}},o().createElement(ue,{style:{paddingRight:26},placeholder:"styleeditor.placeholderEnterImageUrl",value:t,debounceTime:300,onChange:function(e){return v(e,!0)}})),o().createElement("div",{style:{position:"absolute",minWidth:26,minHeight:26,right:0,display:"flex",alignItems:"center",justifyContent:"center"}},m&&!p&&!u&&o().createElement("div",{className:"ms-style-editor-icon-input-image",style:{position:"absolute",margin:2,width:"calc(100% - 2px)",height:"calc(100% - 2px)",backgroundImage:"url(".concat(m,")"),backgroundPosition:"center",backgroundSize:"contain"}}),p&&o().createElement(ce,{glyph:"exclamation-sign",tooltipId:"styleeditor.".concat(p.messageId)}),u&&o().createElement(ne.A,{size:20})))}se.propTypes={value:i().bool,onChange:i().node,onLoad:i().object,onError:i().object},se.defaultProps={value:"",onChange:function(){},onLoad:function(){},onError:function(){}};const de=se;var pe=r(79738),fe=r(267224);function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var me=(0,B.A)(d.e6);function be(e){var t,r,l=e.disabled,i=e.value,a=e.onChange,u=void 0===a?function(){}:a,c=e.onError,s=void 0===c?function(){}:c,p=(t=(0,n.useState)(i),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,l,i,a=[],u=!0,c=!1;try{if(l=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=l.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return a}}(t,r)||function(e,t){if(e){if("string"==typeof e)return ye(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ye(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=p[0],y=p[1],m=(0,pe.Gz)(f);(0,n.useEffect)(function(){s(!m)},[m]);return o().createElement("div",{className:"ms-style-editor-model-input",style:{position:"relative",display:"flex",alignItems:"center"}},o().createElement(d.gE,{style:{flex:1}},o().createElement(fe.A,{disabled:l,placeholder:"styleeditor.placeholderEnterModelUrl",style:{paddingRight:26},value:f,debounceTime:300,onChange:function(e){return function(e){y(e),(0,pe.Gz)(e)&&u(e)}(e)}})),o().createElement("div",{style:{position:"absolute",minWidth:26,minHeight:26,right:0,display:"flex",alignItems:"center",justifyContent:"center"}},m?f?o().createElement(me,{glyph:"model"}):null:o().createElement(me,{glyph:"exclamation-sign",tooltipId:"styleeditor.invalidModelUrl"})))}be.propTypes={value:i().bool,onChange:i().node},be.defaultProps={value:"",onChange:function(){}};const ve=be;var ge=r(39128),he=r.n(ge);function Oe(e){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe(e)}var Ee=["label","value","config","onChange","disabled"];function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ke.apply(null,arguments)}function Se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(r),!0).forEach(function(t){Ie(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Se(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ie(e,t,r){return(t=function(e){var t=function(e){if("object"!=Oe(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Oe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Oe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function we(e,t){if(e){if("string"==typeof e)return je(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?je(e,t):void 0}}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Ce=(0,te.A)("options","label","object")((0,te.A)(["placeholder","noResultsText"])(P.Ay)),Ae=(0,te.A)("options","label","object")((0,te.A)(["placeholder","noResultsText"])(P.Ay.Creatable));const xe=function(e){e.label;var t=e.value,r=e.config,l=void 0===r?{}:r,i=l.getOptions,a=void 0===i?function(){return[]}:i,u=l.selectProps,c=void 0===u?{}:u,s=e.onChange,p=e.disabled,f=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Ee),y=c.creatable,m=c.clearable,b=void 0!==m&&m,v=c.multi;function g(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0,n=t.map(function(e){return e.value});return(null==r?void 0:r.value)&&-1===n.indexOf(r.value)?[r].concat(function(e){if(Array.isArray(e))return je(e)}(e=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||we(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):t}function h(e){return t?he()(t).map(function(e){return{value:e,label:e}}).reduce(g,e):e}var O,E,k=a(f),S=(O=(0,n.useState)(h(k)),E=2,function(e){if(Array.isArray(e))return e}(O)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,l,i,a=[],u=!0,c=!1;try{if(l=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=l.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return a}}(O,E)||we(O,E)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),P=S[0],I=S[1];(0,n.useEffect)(function(){I(h(k))},[JSON.stringify(k)]);var w=y?Ae:Ce;return o().createElement(w,ke({disabled:p,clearable:b,placeholder:"styleeditor.selectPlaceholder",noResultsText:"styleeditor.noResultsSelectInput"},c,{options:P.map(function(e){return Pe(Pe({},e),{},{label:e.labelId?o().createElement(o().Fragment,null,o().createElement(N.A,{msgId:e.labelId}),e.glyphId&&o().createElement(d.e6,{style:{marginLeft:10},glyph:e.glyphId})):e.label})}),value:t,onChange:function(e){return v?s(e.length>0?e.map(function(e){return e.value}):void 0):(I(g(P,e)),s(null==e?void 0:e.value))}}))};var Te=r(464692);function De(e){return De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},De(e)}function Ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,l,i,a=[],u=!0,c=!1;try{if(l=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=l.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return a}}(e,t)||Ne(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(r),!0).forEach(function(t){Fe(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Me(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Fe(e,t,r){return(t=function(e){var t=function(e){if("object"!=De(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=De(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==De(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ze(e){return function(e){if(Array.isArray(e))return We(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ne(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ne(e,t){if(e){if("string"==typeof e)return We(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?We(e,t):void 0}}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Ge=Te.A.markers.extra.getGrid().reduce(function(e,t){return[].concat(ze(e),ze(t.markers.map(function(e){return Re(Re({},e),{},{url:Te.A.markers.extra.markerToDataUrl({iconColor:e.style.color,iconShape:e.style.shape}),label:"".concat(e.style.color," ").concat(e.style.shape)})})))},[]),Ke=Object.keys(Te.A.getGlyphs("fontawesome")),Le=(0,B.A)(q.A);const Be=function(e){var t=e.value,r=e.onChange,l=void 0===r?function(){}:r,i=Ve((0,n.useState)("marker"),2),a=i[0],u=i[1],c=Ve((0,n.useState)(""),2),s=c[0],p=c[1],f=((t||{}).args||[])[0]||{},y=f.color,m=f.shape,b=f.glyph,v=Ge.find(function(e){return e.style.color===y&&e.style.shape===m}),g=Ge.filter(function(e){return e.style.color.includes(s||"")||e.style.shape.includes(s||"")||e.label.includes(s||"")}),h=Ke.filter(function(e){return e.includes(s||"")});function O(e){return l({name:"msMarkerIcon",args:[e]})}return o().createElement(G.A,{content:o().createElement("div",{className:"ms-mark-list",style:{height:256}},o().createElement("div",{style:{position:"sticky",top:0,zIndex:10,background:"var(--ms-main-bg, #ffffff)"}},o().createElement(d.so,{bsStyle:"tabs",activeKey:a},o().createElement(d.CI,{key:"marker",eventKey:"marker",onClick:function(){return u("marker")}},v&&o().createElement("div",{style:{width:"1em",height:"1em",position:"relative",display:"inline-block"}},o().createElement(K.A,{type:"polygon",patterns:[{id:"".concat(y,"-").concat(m),image:{href:v.url,width:"160",height:"160"}}],paths:[{fill:"url(#".concat(y,"-").concat(m,")")}]}))," ",o().createElement(N.A,{msgId:"styleeditor.marker"})),o().createElement(d.CI,{key:"glyph",eventKey:"glyph",onClick:function(){return u("glyph")}},b&&o().createElement("i",{className:"fa fa-".concat(b)})," ",o().createElement(N.A,{msgId:"styleeditor.glyph"}))),o().createElement(d.gE,{style:{margin:"0.5em 0"}},o().createElement(d.MG,{style:{width:"100%",padding:"0 0.5em"}},o().createElement(fe.A,{type:"text",value:s,placeholder:"styleeditor.filterByName",style:{zIndex:0},onChange:function(e){return p(e)}})))),o().createElement("ul",null,"marker"===a&&g.map(function(e){var t="".concat(e.style.color,"-").concat(e.style.shape);return o().createElement("li",{key:t},o().createElement(Le,{tooltip:e.label,className:"ms-mark-preview",active:y===e.style.color&&m===e.style.shape,onClick:function(){return O({color:e.style.color,shape:e.style.shape,glyph:b})}},o().createElement(K.A,{type:"polygon",patterns:[{id:t,image:{href:e.url,width:"160",height:"160"}}],paths:[{fill:"url(#".concat(t,")")}]})))}),"glyph"===a&&h.map(function(e){return o().createElement("li",{key:e},o().createElement(Le,{tooltip:e,className:"ms-mark-preview",active:e===b,onClick:function(){return O({glyph:e,color:y,shape:m})}},o().createElement("i",{className:"fa fa-".concat(e)})))})))},o().createElement(Le,{className:"ms-mark-preview"},y&&m&&b&&o().createElement(K.A,{type:"polygon",patterns:[{id:"".concat(y,"-").concat(m,"-").concat(b),image:{href:Te.A.markers.extra.markerToDataUrl({iconColor:y,iconShape:m,iconGlyph:b}),width:"160",height:"160"}}],paths:[{fill:"url(#".concat(y,"-").concat(m,"-").concat(b,")")}]})))};function Ue(e){return Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ue(e)}var qe=["type"],He=["type"];function Ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(r),!0).forEach(function(t){$e(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ze(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function $e(e,t,r){return(t=function(e){var t=function(e){if("object"!=Ue(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Ue(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ue(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Je(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Xe=(0,te.A)("placeholder")(P.Ay),Ye=function(e){var t,r,n,l,i=e.label,a=e.attributes,u=e.value,c=e.onChange,s=e.disabled,d=e.fieldKey,p=e.config,f=e.disableAlpha,y=e.properties,m=e.valueType,b=!!(f||null!=p&&p.disableAlpha),v=a.map(function(e){var t=e.label,r=e.attribute,n=e.type;return{label:"".concat(t," {").concat(n,"}"),value:r,type:n}});return o().createElement("div",{className:"ms-symbolizer-property-selector",style:{width:"100%"}},o().createElement(W.A,{disabled:s,label:i,invalid:void 0===(null==u||null===(t=u.args)||void 0===t?void 0:t[0]),infoMessageId:null==p?void 0:p.propertySelectorInfoMessageId},o().createElement(Xe,{value:null==u||null===(r=u.args)||void 0===r?void 0:r[0],placeholder:"styleeditor.selectProperty",options:v.map(function(e){var t=e.type;return _e(_e({},Je(e,qe)),{},{disabled:void 0!==m&&t!==m})}),onChange:function(e){return c($e({},d,{name:"property",args:[null==e?void 0:e.value]}))}})),!b&&(null==p?void 0:p.opacityKey)&&o().createElement(W.A,{label:"".concat(i,"Opacity"),tools:o().createElement(fe.A,{type:"number",value:y[p.opacityKey],disabled:void 0!==(null==y||null===(n=y[p.opacityKey])||void 0===n||null===(n=n.args)||void 0===n?void 0:n[0]),min:0,max:1,step:.1,fallbackValue:1,style:{zIndex:0,maxWidth:60,height:36,borderLeft:"none"},onChange:function(e){c($e({},p.opacityKey,void 0===e?1:parseFloat(e)))}})},o().createElement(Xe,{value:null==y||null===(l=y[p.opacityKey])||void 0===l||null===(l=l.args)||void 0===l?void 0:l[0],placeholder:"styleeditor.selectProperty",options:v.map(function(e){var t=e.type;return _e(_e({},Je(e,He)),{},{disabled:"number"!==t})}),onChange:function(e){return c($e({},p.opacityKey,null!=e&&e.value?{name:"property",args:[null==e?void 0:e.value]}:1))}})))};Ye.propTypes={label:i().string,attributes:i().array,value:i().object,onChange:i().func,fieldKey:i().string,config:i().object,disableAlpha:i().bool,properties:i().object,valueType:i().string},Ye.defaultProps={attributes:[],properties:{}};const Qe=Ye;var et=["label","disabled"],tt=["label","value","config","onChange"],rt=["enableFieldExpression"];function nt(e){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nt(e)}function ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,l,i,a=[],u=!0,c=!1;try{if(l=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=l.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return a}}(e,t)||lt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lt(e,t){if(e){if("string"==typeof e)return it(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?it(e,t):void 0}}function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function at(){return at=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},at.apply(null,arguments)}function ut(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function ct(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function st(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(r),!0).forEach(function(t){dt(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ct(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function dt(e,t,r){return(t=function(e){var t=function(e){if("object"!=nt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=nt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==nt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var pt={color:function(e){var t=e.label,r=e.config,l=void 0===r?{}:r,i=e.value,a=e.onChange,u=void 0===a?function(){}:a,c=e.disableAlpha,s=e.format,d=e.disabled,p=(0,n.useRef)({value:i});if(p.current={value:i},"pattern"==(f()(i)&&i.kind?"pattern":"solid")){var y=((null==l?void 0:l.getGroupParams(i.kind))||{}).params,b=void 0===y?{}:y,v=(null==l?void 0:l.getGroupConfig(i.kind))||{},g=i;return o().createElement("div",{className:"ms-symbolizer-nested-fields"},o().createElement(ft,{properties:g,params:v.omittedKeys?m()(b,v.omittedKeys):b,config:{disableAlpha:v.disableAlpha},onChange:function(e){return u(st(st({},p.current.value),e))},format:s}),o().createElement(W.A,{divider:!0}))}return o().createElement(W.A,{label:t,disabled:d},o().createElement(E.A,{color:i,line:l.stroke,disabled:d,disableAlpha:l.disableAlpha||c,onChangeColor:function(e){return e&&u(e)}}))},slider:function(e){var t=e.label,r=e.value,n=e.disabled,l=e.config,i=void 0===l?{}:l,a=e.onChange,u=void 0===a?function(){}:a;return o().createElement(W.A,{label:t,disabled:n},o().createElement("div",{className:"mapstore-slider with-tooltip",onClick:function(e){e.stopPropagation()}},o().createElement(k.A,{start:[r],disabled:n,tooltips:[!0],format:i.format,range:i.range||{min:0,max:10},onChange:function(e){return u(e)}})))},xyInput:function(e){var t=e.label,r=e.value,n=e.config,l=void 0===n?{}:n,i=e.onChange,a=void 0===i?function(){}:i,u=e.disabled;return o().createElement(W.A,{label:t,disabled:u,valueStyle:{flexWrap:"wrap"}},o().createElement(d.gE,null,o().createElement(d.MG,{style:null!=l&&l.maxWidth?{maxWidth:null==l?void 0:l.maxWidth}:{}},o().createElement(d.MG.Addon,{style:{padding:"0.2em"}},"x"),o().createElement(fe.A,{type:"number",value:r[0],disabled:u,min:l.min,max:l.max,fallbackValue:l.fallbackValue[0],placeholder:l.placeholderId,style:{zIndex:0},onChange:function(e){return a([e,r[1]||l.fallbackValue[1]])}}),l.uom&&o().createElement(d.MG.Addon,null,l.uom))),o().createElement(d.gE,null,o().createElement(d.MG,{style:null!=l&&l.maxWidth?{maxWidth:null==l?void 0:l.maxWidth}:{}},o().createElement(d.MG.Addon,{style:{padding:"0.2em"}},"y"),o().createElement(fe.A,{type:"number",value:r[1],disabled:u,min:l.min,max:l.max,fallbackValue:l.fallbackValue[1],placeholder:l.placeholderId,style:{zIndex:0},onChange:function(e){return a([r[0]||l.fallbackValue[0],e])}}),l.uom&&o().createElement(d.MG.Addon,null,l.uom))))},input:function(e){var t=e.label,r=e.value,n=e.config,l=void 0===n?{}:n,i=e.onChange,a=void 0===i?function(){}:i,u=e.disabled;return o().createElement(W.A,{label:t,disabled:u,infoMessageId:l.infoMessageId},o().createElement(d.gE,null,o().createElement(d.MG,{style:null!=l&&l.maxWidth?{maxWidth:null==l?void 0:l.maxWidth}:{}},o().createElement(fe.A,{type:l.type||"text",value:r,disabled:u,min:l.min,max:l.max,fallbackValue:l.fallbackValue,placeholder:l.placeholderId,style:{zIndex:0},onChange:function(e){return a(e)}}),l.uom&&o().createElement(d.MG.Addon,null,l.uom))))},checkbox:function(e){var t=e.label,r=e.value,n=e.config,l=void 0===n?{}:n,i=e.onChange,a=void 0===i?function(){}:i,u=e.disabled;return o().createElement(W.A,{label:t,disabled:u,infoMessageId:l.infoMessageId},o().createElement(d.gE,null,o().createElement(d.Sc,{style:{margin:0},disabled:u,checked:!!r,onChange:function(e){return a(!!e.target.checked)}},o().createElement(N.A,{msgId:r?"styleeditor.boolTrue":"styleeditor.boolFalse"}))))},toolbar:function(e){var t=e.label,r=e.value,n=e.onChange,l=void 0===n?function(){}:n,i=e.config,a=void 0===i?{}:i,u=e.disabled;return o().createElement(W.A,{label:t,disabled:u},o().createElement(O.A,{btnDefaultProps:{className:"no-border",bsSize:"xs"},buttons:(a.options||[]).map(function(e){var t=e.glyph,n=e.label,i=e.labelId,a=e.tooltipId,c=e.value;return st(st({glyph:t,tooltipId:a,disabled:u,text:i?o().createElement(N.A,{msgId:i}):n},c===r&&{bsStyle:"primary"}),{},{onClick:function(){return l(r===c?void 0:c)}})})}))},mark:function(e){var t=e.label,r=e.disabled,n=ut(e,et);return o().createElement(W.A,{label:t,disabled:r},o().createElement(Q,at({},n,{disabled:r})))},image:function(e){var t=e.label,r=e.value;!function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e.config);var l=e.onChange,i=ot((0,n.useState)(!1),2),a=i[0],u=i[1],c=f()(r)&&"msMarkerIcon"===(null==r?void 0:r.name);return o().createElement(W.A,{label:t,invalid:!("error"!==(null==a?void 0:a.type)),warning:!("warning"!==(null==a?void 0:a.type))},c?o().createElement(Be,e):o().createElement(de,{label:t,value:f()(r)?r.src:r,onChange:function(e){l(e),u(!1)},onLoad:function(e,t){u(e),e&&l({src:t,errorId:e.messageId})}}))},model:function(e){var t=e.label,r=e.value,l=e.onChange,i=e.disabled,a=ot((0,n.useState)(!1),2),u=a[0],c=a[1];return o().createElement(W.A,{label:t,invalid:u,disabled:i},o().createElement(ve,{disabled:i,label:t,value:r,onChange:l,onError:c}))},select:function(e){var t=e.label,r=e.value,n=e.config.isValid,l=e.visible;if(void 0!==l&&!l)return null;var i=!n||n({value:r});return o().createElement(W.A,{label:t,invalid:!i},o().createElement(xe,e))},colorRamp:function(e){var t=e.label,r=e.value,n=e.config,l=n.samples,i=void 0===l?5:l,a=n.getOptions,u=void 0===a?function(){return[]}:a,c=n.rampFunction,s=void 0===c?function(e){return e.colors}:c,d=e.onChange,p=u(ut(e,tt));return o().createElement(W.A,{label:t},o().createElement(S.A,{items:p,rampFunction:s,samples:i,value:{name:r},onChange:function(e){return d(e.name)}}))},colorMap:function(e){var t=e.value,r=e.onChange;return o().createElement("div",{onDragStart:function(e){e.stopPropagation(),e.preventDefault()},draggable:!0},o().createElement(z.A,{classification:t,onUpdateClasses:function(e,t){return r({classification:e,type:t})}}))},channel:function(e){var t,r,n,l=e.value,i=e.onChange,a=e.bands,u=l.channelSelection,c=u?u.grayChannel?"gray":"rgb":"auto",s=(a||[]).map(function(e){return{label:e,value:e}});if("rgb"===c)return Object.keys(u).map(function(e){var t,r,n=null===(t=u[e])||void 0===t?void 0:t.sourceChannelName,a=null===(r=u[e])||void 0===r?void 0:r.contrastEnhancement;return o().createElement(o().Fragment,null,o().createElement(ee,{key:e,value:n,bands:s,label:"styleeditor."+e,enhancementType:(null==a?void 0:a.enhancementType)||"none",onChange:function(t,r){return"band"===t?i({contrastEnhancement:{},channelSelection:st(st({},l.channelSelection),{},dt({},e,st(st({},l.channelSelection[e]),{},{sourceChannelName:r})))}):"enhancementType"===t?i({contrastEnhancement:{},channelSelection:st(st({},l.channelSelection),{},dt({},e,st(st({},l.channelSelection[e]),{},{contrastEnhancement:st(st({},u[e].contrastEnhancement),{},{enhancementType:r})})))}):null}}),o().createElement(W.A,{key:e+"-divider",divider:!0}))});var d,p=void 0===(null==u||null===(t=u.grayChannel)||void 0===t?void 0:t.sourceChannelName)?"auto":null==u||null===(r=u.grayChannel)||void 0===r?void 0:r.sourceChannelName,f="auto"===c?l.contrastEnhancement:null==u||null===(n=u.grayChannel)||void 0===n?void 0:n.contrastEnhancement;return o().createElement(ee,{label:"styleeditor.grayChannel",value:p,bands:[{label:o().createElement(N.A,{msgId:"styleeditor.channelAuto"}),value:"auto"}].concat((d=s,function(e){if(Array.isArray(e))return it(e)}(d)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(d)||lt(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),enhancementType:(null==f?void 0:f.enhancementType)||"none",onChange:function(e,t){return"band"===e?i("auto"===t?st(st({},l),{},{channelSelection:void 0}):{contrastEnhancement:{},channelSelection:{grayChannel:st(st({contrastEnhancement:{}},null==u?void 0:u.grayChannel),{},{sourceChannelName:t})}}):"enhancementType"===e?i("auto"===c?{channelSelection:void 0,contrastEnhancement:st(st({},l.contrastEnhancement),{},{enhancementType:t})}:{contrastEnhancement:{},channelSelection:Object.keys(u).reduce(function(e,r){return st(st({},e),{},dt({},r,st(st({},u[r]),{},{contrastEnhancement:st(st({},u[r].contrastEnhancement),{},{enhancementType:t})})))},{})}):null}})},dash:function(e){var t=e.label,r=e.value,n=e.onChange,l=e.lineDashOptions,i=void 0===l?[{value:"0"},{value:"1 4"},{value:"1 12"},{value:"8 8"},{value:"8 16"},{value:"8 8 1 8"},{value:"8 8 1 4 1 8"},{value:"10 50 30"},{value:"6 6"},{value:"20 20"},{value:"30 30"}]:l,a=e.disabled;return o().createElement(W.A,{label:t,disabled:a},o().createElement(F,{disabled:a,dashArray:r,onChange:n,options:i,defaultStrokeWidth:2,isValidNewOption:function(e){return!!e.label&&!e.label.split(" ").find(function(e){return h()(parseFloat(e))})},creatable:!0}))},customParams:function(e){var t=e.label,r=e.value,n=e.config.isValid,l=e.thematicCustomParams,i=e.onChange;if(null==l||!l.length)return null;var a=!n||n({value:r});return o().createElement("div",{style:{width:"100%"}},o().createElement("hr",null),o().createElement("div",{className:"ms-symbolizer-field"},o().createElement(N.A,{msgId:t})),o().createElement("div",null,null==l?void 0:l.map(function(t){var n,l,u=r?r[null==t?void 0:t.field]:void 0,c=null==t||null===(n=t.values)||void 0===n?void 0:n.find(function(e){return e.value===u});return o().createElement(W.A,{key:null==t?void 0:t.field,label:(null==t?void 0:t.title)||(null==t?void 0:t.field),invalid:!a},o().createElement(xe,at({},e,{value:null!=c&&c.value?{value:c.value,label:null!==(l=c.name)&&void 0!==l?l:c.value}:u,onChange:function(e){return r=t.field,void i(dt({},r,e));var r},config:st(st({},e.config),{},{getOptions:function(){var e;return null==t||null===(e=t.values)||void 0===e?void 0:e.map(function(e){return{value:e.value,label:e.name}})}})})))})),o().createElement("hr",null))}};function ft(e){var t=e.properties,r=e.params,l=e.config,i=e.onChange,a=e.format,u=(0,n.useRef)({properties:t});u.current={properties:t};var c=l||{},s=c.enableFieldExpression,p=ut(c,rt);return o().createElement(o().Fragment,null,Object.keys(r).map(function(e){var n,l=r[e]||{},c=l.type,f=l.setValue,y=l.getValue,m=l.isDisabled,b=l.config,g=l.label,h=l.key,O=l.isVisible,E=l.valueType,k=h||e,S=pt[c];if(!S)return null;var P=((null==p?void 0:p.attributes)||[]).some(function(e){return e.type===E}),I=(b||{}).disablePropertySelection,w=P&&!I&&"property"===(null===(n=t[k])||void 0===n?void 0:n.name),j=w?t[k]:f&&f(t[k],u.current.properties),C=w?Qe:S,A=m&&m(t[k],u.current.properties,p),x=!O||O(t[k],u.current.properties,a);return x?o().createElement("div",{className:"ms-symbolizer-field-wrapper ".concat(c?"ms-symbolizer-type-".concat(c):"")},o().createElement(C,at({},p,{key:k,fieldKey:k,label:g||k,valueType:E,properties:t,config:b,format:a,visible:x,disabled:A,value:v()(j)?t[k]:j,onChange:function(e){return i(w?e:y&&y(e,u.current.properties)||e)}})),s&&!I&&o().createElement(d.gf,{className:"no-border",noCaret:!0,pullRight:!0,disabled:A,style:{padding:0},title:o().createElement(d.e6,{glyph:"option-vertical"})},o().createElement(d.Dr,{key:"constant",active:!w,onClick:function(){return i(dt({},k,f&&f(void 0,u.current.properties)))}},o().createElement(N.A,{msgId:"styleeditor.constantValue"})),o().createElement(d.Dr,{key:"attribute",active:w,onClick:function(){return i(dt({},k,{name:"property",args:[]}))}},o().createElement(N.A,{msgId:"styleeditor.propertyValue"}))),s&&I&&o().createElement("div",{style:{width:14}})):null}))}const yt=ft;var mt=r(541033),bt=r.n(mt),vt=r(400580);function gt(e){return gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gt(e)}function ht(e){return function(e){if(Array.isArray(e))return Ot(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ot(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ot(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(r),!0).forEach(function(t){St(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Et(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function St(e,t,r){return(t=function(e){var t=function(e){if("object"!=gt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=gt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==gt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Pt=(0,B.A)(q.A),It=function(e){var t=e.filterObj,r=void 0===t?{groupFields:[{id:1,logic:"OR",index:0}]}:t,n=e.attributes,l=void 0===n?[]:n,i=e.format,a=e.groupLevels,u=void 0===a?0:a,c=e.onChange,s=void 0===c?function(){}:c,d=r.groupFields,p=r.filterFields;return o().createElement("div",{className:"ms-style-rule-filter"},o().createElement(vt.A,{textFieldTooltipMessageId:{css:"queryform.attributefilter.tooltipTextFieldCSS","3dtiles":"queryform.attributefilter.tooltipTextField3DTiles"}[i],attributes:l,filterFields:p,groupFields:d,autocompleteEnabled:!1,groupLevels:u,withContainer:!1,listOperators:["="],stringOperators:["=","<>","like","isNull"],booleanOperators:["="],defaultOperators:["=",">","<",">=","<=","<>"],logicComboOptions:[{logic:"OR",name:"queryform.attributefilter.groupField.any"},{logic:"AND",name:"queryform.attributefilter.groupField.all"}],actions:{onAddGroupField:function(e,t){var r={id:(new Date).getTime(),logic:"OR",groupId:e,index:t+1};s({filterFields:p,groupFields:d?[].concat(ht(d),[r]):[r]})},onAddFilterField:function(e){var t={rowId:(new Date).getTime(),groupId:e,attribute:null,operator:"",value:null,type:null,fieldOptions:{valuesCount:0,currentPage:1},exception:null};s({filterFields:p?[].concat(ht(p),[t]):[t],groupFields:d})},onRemoveFilterField:function(e){s({filterFields:p.filter(function(t){return t.rowId!==e}),groupFields:d})},onUpdateFilterField:function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};s({filterFields:p.map(function(l){return l.rowId===e?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=kt(kt({},e),{},St(St(St({},t.fieldName,t.fieldValue),"type",t.fieldType),"fieldOptions",kt(kt({},e.fieldOptions),{},{currentPage:void 0===t.fieldOptions.currentPage?1:t.fieldOptions.currentPage})));return"attribute"===t.fieldName?kt(kt({},r),{},{value:"string"===t.fieldType?"":null,operator:""}):"operator"===t.fieldName?kt(kt({},r),{},{value:null}):r}(l,{rowId:e,fieldName:t,fieldValue:r,fieldType:n,fieldOptions:o}):l}),groupFields:d})},onUpdateExceptionField:function(e,t){s({filterFields:p.map(function(r){return r.rowId===e?kt(kt({},r),{},{exception:t}):r}),groupFields:d})},onUpdateLogicCombo:function(e,t){s({filterFields:p,groupFields:d.map(function(r){return r.id===e?kt(kt({},r),{},{logic:t}):r})})},onRemoveGroupField:function(e){s({filterFields:p.filter(function(t){return t.groupId!==e}),groupFields:d.filter(function(t){return t.id!==e})})},onChangeCascadingValue:function(){}}}))};function wt(e){var t,r=e.value,n=e.hide,l=e.attributes,i=e.format,a=e.onChange,u=e.placement,c=void 0===u?"right":u;if(n||!l||0===l.length)return null;var s=(null==r||null===(t=r.filterFields)||void 0===t?void 0:t.length)>0;return o().createElement(G.A,{placement:c,content:o().createElement(It,{filterObj:r,attributes:l,format:i,onChange:function(e){return a({filter:e})}})},o().createElement(Pt,{className:"square-button-md no-border",active:s,tooltipId:"styleeditor.openFilterBuilder"},o().createElement(d.e6,{glyph:"filter"})))}function jt(e){return jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jt(e)}function Ct(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function At(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(r),!0).forEach(function(t){xt(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ct(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function xt(e,t,r){return(t=function(e){var t=function(e){if("object"!=jt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=jt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==jt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tt(e,t){if(e){if("string"==typeof e)return Dt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Dt(e,t):void 0}}function Dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Vt=(0,te.A)(["placeholder","noResultsText"])(P.Ay.Creatable),Mt=(0,B.A)(q.A);function Rt(e){var t=e.label,r=e.currentZoom;return o().createElement("span",null,t,r&&o().createElement(o().Fragment,null,"Â ",o().createElement(d.e6,{glyph:"arrow-left"})))}function Ft(e){var t=e.label,r=e.value,n=e.options,l=e.isValidNewOption,i=e.onChange;return o().createElement(W.A,{label:t},o().createElement(Vt,{placeholder:"styleeditor.selectScale",noResultsText:"styleeditor.noResultScales",value:r,options:n,optionRenderer:Rt,valueRenderer:Rt,isValidNewOption:function(e){if(e.label){var t=parseFloat(e.label);return!h()(t)&&l(t)}return!1},onChange:function(e){var t=(null==e?void 0:e.value)&&parseFloat(e.value);i(h()(t)?void 0:t)}}))}function zt(e){var t=e.value,r=e.zoom,l=e.scales,i=void 0===l?[]:l,a=e.onChange;function u(e,t){var r,n=e.map(function(e){return e.value});return t&&-1===n.indexOf(t)?[{value:t}].concat((r=e,function(e){if(Array.isArray(e))return Dt(e)}(r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||Tt(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).sort(function(e,t){return e.value>t.value?-1:1}):e}var c,s,d=(0,n.useState)(function(e){var r=e.map(function(e,t){return{value:e,zoom:t}}),n=[t.min,t.max].filter(function(e){return void 0!==e});return 0===n.length?r:n.reduce(u,r)}(i)),p=(s=2,function(e){if(Array.isArray(e))return e}(c=d)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,l,i,a=[],u=!0,c=!1;try{if(l=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=l.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return a}}(c,s)||Tt(c,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=p[0],y=p[1];return o().createElement("div",{className:"ms-style-rule-scale"},o().createElement(Ft,{label:"styleeditor.maxScaleDenominator",value:t.max,options:f.map(function(e){return{value:e.value,label:"1 : "+e.value,currentZoom:void 0!==r&&r===e.zoom,disabled:t.min&&e.value<=t.min}}),isValidNewOption:function(e){return e>=t.min},onChange:function(e){a(At(At({},t),{},{max:e})),y(u(f,e))}}),o().createElement(Ft,{label:"styleeditor.minScaleDenominator",value:t.min,options:f.map(function(e){return{value:e.value,label:"1 : "+e.value,currentZoom:void 0!==r&&r===e.zoom,disabled:t.max&&e.value>=t.max}}),isValidNewOption:function(e){return e<=t.max},onChange:function(e){a(At(At({},t),{},{min:e})),y(u(f,e))}}))}function Nt(e){var t=e.value,r=void 0===t?{}:t,n=e.scales,l=void 0===n?[]:n,i=e.zoom,a=e.hide,u=e.onChange,c=e.placement,s=void 0===c?"right":c;return a?null:o().createElement(G.A,{placement:s,content:o().createElement(zt,{value:r,zoom:i,scales:l,onChange:function(e){return u({scaleDenominator:e})}})},o().createElement(Mt,{className:"square-button-md no-border",tooltipId:"styleeditor.openScaleDenominator",active:void 0!==r.min||void 0!==r.max},o().createElement(d.e6,{glyph:"1-ruler"})))}function Wt(e){return Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wt(e)}function Gt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Kt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(r),!0).forEach(function(t){Lt(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gt(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Lt(e,t,r){return(t=function(e){var t=function(e){if("object"!=Wt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Wt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Wt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Bt=function(e){var t=e.ruleBlock,r=e.symbolizerBlock;return"Raster"!==e.kind?[{value:"Simple",labelId:"styleeditor.simpleStyle",onSelect:function(e){return{ruleId:e.ruleId,name:"",symbolizers:[Kt(Kt({},e.defaultProperties),{},{symbolizerId:bt()()})]}}},{value:"Classification",labelId:"styleeditor.classificationStyle",onSelect:function(e){var r=e.ruleId,n=e.symbolizerKind;return Kt(Kt(Kt({},e.defaultProperties),t.Classification.defaultProperties),{},{ruleId:r,symbolizerKind:n})}},{value:"Mark",labelId:"styleeditor.patternMarkStyle",isVisible:function(e){return!!e.graphicKey},onSelect:function(e){var t=e.ruleId,n=e.defaultProperties,o=e.graphicKey;return{ruleId:t,name:"",symbolizers:[Kt(Kt({},n),{},Lt({symbolizerId:bt()(),fill:void 0},o,Kt({},r.Mark.defaultProperties)))]}}},{value:"Icon",labelId:"styleeditor.patternIconStyle",isVisible:function(e){return!!e.graphicKey},onSelect:function(e){var t=e.ruleId,n=e.defaultProperties,o=e.graphicKey;return{ruleId:t,name:"",symbolizers:[Kt(Kt({},n),{},Lt({symbolizerId:bt()(),fill:void 0},o,Kt({},r.Icon.defaultProperties)))]}}}]:[{value:"Gray",labelId:"styleeditor.singleBand",onSelect:function(e){return{ruleId:e.ruleId,name:"",symbolizers:[Kt(Kt({},r.Raster.defaultProperties),{},{symbolizerId:bt()()})]}}},{value:"RGB",labelId:"styleeditor.rgbaBands",onSelect:function(e){return{ruleId:e.ruleId,name:"",symbolizers:[Kt(Kt({},r.Raster.defaultProperties),{},{channelSelection:{redChannel:{sourceChannelName:void 0,contrastEnhancement:{}},greenChannel:{sourceChannelName:void 0,contrastEnhancement:{}},blueChannel:{sourceChannelName:void 0,contrastEnhancement:{}}},symbolizerId:bt()()})]}}},{value:"PseudoColor",labelId:"styleeditor.pseudoColor",onSelect:function(e){var r=e.ruleId;return Kt(Kt({},t.Raster.defaultProperties),{},{ruleId:r})}}]},Ut=function(e){var t=e.ruleKind,r=e.graphic,n=e.symbolizerKind,o=e.channelSelection;return"Raster"===t?"PseudoColor":"Raster"===n?null!=o&&o.redChannel?"RGB":"Gray":void 0!==t?t:null!=r&&r.kind?null==r?void 0:r.kind:"Simple"};function qt(e){var t,r=e.ruleKind,n=e.symbolizerKind,l=e.ruleId,i=e.graphic,a=e.channelSelection,u=e.hide,c=e.ruleBlock,s=e.symbolizerBlock,p=e.getSelected,f=void 0===p?Ut:p,y=e.getOptions,m=void 0===y?Bt:y,b=e.onSelect,v=e.supportedOptions,g=m({ruleBlock:c,symbolizerBlock:s,kind:n}).filter(function(e){return!v||v.includes(e.value)}),h=n?s[n]:{},O=h.defaultProperties,E=h.params,k=void 0===E?{}:E,S=null==k||null===(t=k.color)||void 0===t||null===(t=t.config)||void 0===t?void 0:t.graphicKey,P=f({ruleKind:r,symbolizerKind:n,graphic:i,channelSelection:a});return u?null:o().createElement(d.gf,{className:"no-border",noCaret:!0,pullRight:!0,style:{padding:0},title:o().createElement(d.e6,{glyph:"option-vertical"})},g.map(function(e){return!e.isVisible||e.isVisible({graphicKey:S})?o().createElement(d.Dr,{key:e.value,active:P===e.value,onClick:function(){return t=e.value,o=e.onSelect({ruleId:l,ruleKind:r,symbolizerKind:n,defaultProperties:O,graphicKey:S}),t===P?null:b(o);var t,o}},o().createElement(N.A,{msgId:e.labelId})):null}))}const Ht=function(e){var t=e.className,r=e.glyph,n=e.tools,l=e.children,i=t?" "+t:"";return o().createElement("li",{className:"ms-symbolizer".concat(i)},o().createElement("div",{className:"ms-symbolizer-info"},r&&o().createElement(d.e6,{glyph:r}),o().createElement("div",{className:"ms-symbolizer-tools"},n)),l)};var Zt=r(50438),_t=r.n(Zt);function $t(e){return $t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$t(e)}var Jt=["ruleId","glyph","params","kind","symbolizerKind","classificationType","attributes","onUpdate","onReplace","methods","getColors","ruleBlock","symbolizerBlock","bands","config","supportedSymbolizerMenuOptions","fonts","enableFieldExpression","thematicCustomParamsProperty"],Xt=["name"];function Yt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(r),!0).forEach(function(t){er(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yt(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function er(e,t,r){return(t=function(e){var t=function(e){if("object"!=$t(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=$t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$t(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tr(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const rr=function(e){var t=e.ruleId,r=e.glyph,l=e.params,i=e.kind,a=e.symbolizerKind,u=e.classificationType,c=void 0===u?"classificationVector":u,s=e.attributes,d=void 0===s?[]:s,p=e.onUpdate,f=e.onReplace,y=e.methods,m=e.getColors,b=void 0===m?function(){}:m,v=e.ruleBlock,g=void 0===v?{}:v,h=e.symbolizerBlock,O=void 0===h?{}:h,E=e.bands,k=e.config,S=e.supportedSymbolizerMenuOptions,P=e.fonts,I=e.enableFieldExpression,w=e.thematicCustomParamsProperty,j=tr(e,Jt),C=j.ramp,A=j.method,x=j.classification,T=j.attribute,D=j.intervals,V=j.intervalsForUnique,M=void 0===V?(null==k?void 0:k.intervalsForUnique)||100:V,R=j.reverse,F=j.continuous,z=j.format,N=j.customParams,W=(0,n.useRef)();W.current={ruleId:t,intervals:D,intervalsForUnique:M,method:A,attribute:T,reverse:R,ramp:C,continuous:F,classification:x,customParams:N||{}};var G=l.reduce(function(e,t){return _t()(t)?Qt(Qt({},e),t(a)):Qt(Qt({},e),t)},{}),K=(O[a]||{}).glyph;return o().createElement(Ht,{key:"Classification",glyph:K||r,tools:o().createElement(qt,{ruleKind:i,symbolizerKind:a,ruleId:t,onSelect:f,ruleBlock:g,symbolizerBlock:O,supportedOptions:S})},o().createElement(yt,{properties:j,format:z,config:{attributes:d,methods:y,getColors:function(){var e="custom"===C&&x.length>0&&{name:"custom",colors:x.map(function(e){return e.color})},t=b(void 0,void 0,5,e);return t?t.map(function(e){var t=e.name,r=tr(e,Xt);return Qt({label:t?"global.colors.".concat(t):void 0,name:t},r)}):[]},bands:E,method:A,methodEdit:null==j?void 0:j.methodEdit,fonts:P,enableFieldExpression:I,thematicCustomParams:w},params:G,onChange:function(e){return p(Qt(Qt({},W.current),{},{type:c,values:e}))}}))};var nr=r(34273),or=r(310340),lr=r(917987);function ir(e){var t=e.title,r=e.icon,l=e.tools,i=e.errorId,a=e.msgParams,u=e.draggable,c=e.connectDragSource,s=e.connectDropTarget,p=e.isDragging,f=e.children,y=e.collapsed,m=e.onCollapse,b=void 0===m?function(){}:m,v=(0,n.useRef)(null);u&&(c(v.current),s(v.current));var g=p?" ms-drop-target":"";return o().createElement("li",{ref:v,className:"ms-style-rule".concat(g)},o().createElement("div",{className:"ms-style-rule-head"},u&&o().createElement("div",{className:"ms-style-rule-grab-handle"},o().createElement(d.e6,{glyph:"grab-handle"})),o().createElement(d.$n,{className:"ms-rule-collapse",onClick:function(){return b(!y)},style:y?{}:{transform:"rotate(90deg)"}},o().createElement(d.e6,{glyph:"next"})),r,o().createElement("div",{className:"ms-style-rule-head-info"},t),o().createElement("div",{className:"ms-style-rule-head-tools"},l)),i&&o().createElement(d.Fc,{bsStyle:"danger"},o().createElement(N.A,{msgId:i,msgParams:a})),y?null:o().createElement("ul",{className:"ms-style-rule-body"},f))}ir.propTypes={title:i().oneOfType([i().node,i().string]),tools:i().node,errorId:i().string,draggable:i().bool,connectDragSource:i().func,connectDropTarget:i().func,isDragging:i().bool},ir.defaultProps={connectDragSource:function(e){return e},connectDropTarget:function(e){return e}};var ar="RULE";const ur=(0,lr.Tl)(ar,{hover:function(e,t,r){!function(e,t,r){if(!r)return null;var n=(0,or.findDOMNode)(r);if(!n)return null;var o=t.getItem().index,l=e.index;if(o===l)return null;var i=n.getBoundingClientRect(),a=i.bottom,u=i.top,c=(a-u)/2,s=t.getClientOffset().y-u;o<l&&s<c||o>l&&s>c||(e.onSort(o,l),t.getItem().index=l)}(e,t,r)}},function(e){return{connectDropTarget:e.dropTarget()}})((0,lr.I4)(ar,{beginDrag:function(e){return{id:e.id,index:e.index}}},function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}})(ir));var cr=r(168995),sr=r(694430),dr=["ruleId"],pr=["kind","symbolizerId"];function fr(e){return fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fr(e)}function yr(){return yr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yr.apply(null,arguments)}function mr(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function br(e){return function(e){if(Array.isArray(e))return vr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return vr(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vr(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function gr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function hr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gr(Object(r),!0).forEach(function(t){Or(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gr(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Or(e,t,r){return(t=function(e){var t=function(e){if("object"!=fr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=fr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==fr(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Er=(0,B.A)(q.A),kr=(0,te.A)("placeholder")(d.MJ);function Sr(){return o().createElement("div",{style:{position:"relative",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center"}},o().createElement("div",null,o().createElement(d.e6,{glyph:"exclamation-mark",style:{fontSize:150}}),o().createElement("h1",null,o().createElement(N.A,{msgId:"styleeditor.emptyRuleEditorTitle"})),o().createElement("p",null,o().createElement(N.A,{msgId:"styleeditor.emptyRuleEditor"}))))}var Pr=(0,n.forwardRef)(function(e,t){var r=e.rules,l=void 0===r?[]:r,i=e.loading,a=e.toolbar,c=e.config,p=void 0===c?{}:c,f=e.ruleBlock,y=void 0===f?{}:f,m=e.symbolizerBlock,b=void 0===m?{}:m,v=e.onUpdate,g=void 0===v?function(){}:v,h=e.onChange,E=void 0===h?function(){}:h,k=p.geometryType,S=p.attributes,P=p.bands,I=p.scales,w=p.zoom,j=p.fonts,C=p.methods,A=p.getColors,x=p.classification,T=p.format,D=p.simple,V=p.svgSymbolsPath,M=p.lineDashOptions,R=p.supportedSymbolizerMenuOptions,F=p.enableFieldExpression,z=p.thematicCustomParams,W=(0,n.useRef)();function G(e,t){var r=e.values,n=e.ruleId,o=e.symbolizerId;if(t){var l=W.current.rules.map(function(e){return e.ruleId===n?hr(hr({},e),r):e});return E(l)}var i=W.current.rules.map(function(e){return e.symbolizers?hr(hr({},e),{},{symbolizers:e.symbolizers.map(function(t){return t.symbolizerId===o&&e.ruleId===n?hr(hr({},t),r):t})}):e});return E(i)}function K(e){var t=[e].concat(br(W.current.rules));E(t)}function L(e){var t=e.ruleId,r=mr(e,dr),n=W.current.rules.map(function(e){return e.ruleId===t?hr({ruleId:t},r):e});return E(n)}function B(e,t){var r=u()(W.current.rules,function(t,r){return r===e}),n=W.current.rules.reduce(function(n,o,l){return l===e?n:[].concat(br(n),l===t?e>t?[r,o]:[o,r]:[o])},[]);return E(n)}function U(e,t){var r=e.symbolizers,n=void 0===r?[]:r;return!!u()(n,function(e){return"Text"===e.kind})&&t>0}return W.current={rules:l},o().createElement("div",{ref:t,className:"ms-style-rules-editor"},o().createElement("div",{className:"ms-style-rules-editor-head"},o().createElement("div",{className:"ms-style-rules-editor-left"},a),o().createElement("div",{className:"ms-style-rules-editor-right"},o().createElement(O.A,{btnDefaultProps:{className:"square-button-md no-border"},buttons:[].concat(br(Object.keys(b).map(function(e){var t=b[e];return{glyph:t.glyphAdd||t.glyph,visible:-1!==t.supportedTypes.indexOf(k),tooltipId:t.tooltipAddId,disabled:!(null==t||!t.disableAdd)&&t.disableAdd(),onClick:function(){return K({name:"",ruleId:bt()(),symbolizers:[hr(hr({},b[e].defaultProperties),{},{symbolizerId:bt()()})]})}}})),br(Object.keys(y).filter(function(e){return y[e].add}).map(function(e){var t=y[e];return{glyph:t.glyphAdd||t.glyph,visible:-1!==t.supportedTypes.indexOf(k),tooltipId:t.tooltipAddId,onClick:function(){return K(hr({name:"",ruleId:bt()()},y[e].defaultProperties))}}})))}))),o().createElement("ul",{className:"ms-style-rules-editor-body"},0===l.length&&o().createElement(Sr,null),l.map(function(e,t){var r,n=e.name,i=e.symbolizers,a=void 0===i?[]:i,u=e.filter,c=e.scaleDenominator,p=void 0===c?{}:c,f=e.ruleId,m=e.kind,v=e.errorId,h=e.msgParams,O=e.mandatory,K=e.collapsed,q=y[m]||{},H=q.params,Z=q.glyph,_=q.hideInputLabel,$=q.hideFilter,J=q.hideScaleDenominator,X=q.classificationType,Y=!!s()(S)&&"number"===(null===(r=S.find(function(t){return t.attribute===(null==e?void 0:e.attribute)})||{})||void 0===r?void 0:r.type);return o().createElement(ur,{key:f+(l.length>1?"_draggable":""),draggable:l.length>1,id:f,index:t,errorId:v,msgParams:h,onSort:B,icon:o().createElement(sr.A,{rule:e}),collapsed:K,onCollapse:function(e){return G({values:{collapsed:e},ruleId:f},!0)},title:_?o().createElement(N.A,{msgId:"styleeditor.rule".concat(m)}):o().createElement(d.gE,{onDragStart:function(e){e.stopPropagation(),e.preventDefault()},draggable:!0},o().createElement(kr,{value:n,placeholder:"styleeditor.enterLegendLabelPlaceholder",onChange:function(e){return G({values:{name:e.target.value},ruleId:f},!0)}})),tools:o().createElement(o().Fragment,null,U(e,t)&&o().createElement(cr.A,{glyph:"exclamation-mark",bsStyle:"warning",placement:"right",title:o().createElement(N.A,{msgId:"styleeditor.warningTextOrderTitle"}),text:o().createElement(N.A,{msgId:"styleeditor.warningTextOrder"})}),o().createElement(wt,{hide:$,value:u,attributes:S,format:T,onChange:function(e){return G({values:e,ruleId:f},!0)}}),I&&o().createElement(Nt,{hide:J,value:p,scales:I,zoom:w,onChange:function(e){return G({values:e,ruleId:f},!0)}}),!O&&o().createElement(Er,{className:"square-button-md no-border",tooltipId:"styleeditor.removeRule",onClick:function(){return function(e){var t=W.current.rules.filter(function(t){return t.ruleId!==e});E(t)}(f)}},o().createElement(d.e6,{glyph:"trash"})))},"Classification"===m||"Raster"===m?o().createElement(rr,yr({},e,{ruleBlock:y,symbolizerBlock:b,glyph:Z,classificationType:X,config:x||{},supportedSymbolizerMenuOptions:R,params:H,methods:C,getColors:A,bands:P,fonts:j,attributes:S&&S.map(function(t){return hr(hr({},t),"customInterval"===e.method?{disabled:Y?"number"!==t.type:t.attribute!==e.attribute}:"uniqueInterval"!==e.method&&{disabled:"number"!==t.type})}),onUpdate:g,onChange:function(e){return G({values:e,ruleId:f},!0)},onReplace:L,format:T,enableFieldExpression:F,thematicCustomParamsProperty:z})):a.map(function(e){var t=e.kind,r=void 0===t?"":t,n=e.symbolizerId,l=mr(e,pr),i=function(e){var t=Object.keys(b).filter(function(e){return b[e].supportedTypes.includes(k)}).find(function(t){var r;return(null===(r=b[t])||void 0===r?void 0:r.kind)===e});return b[t]||b[e]||{}}(r),a=i.params,u=i.glyph,c=i.hideMenu;return a&&o().createElement(Ht,{key:n,defaultExpanded:!0,draggable:!0,glyph:u,tools:!D&&o().createElement(qt,{hide:c,supportedOptions:R,symbolizerKind:r,ruleBlock:y,symbolizerBlock:b,ruleId:f,onSelect:L,graphic:l.graphicFill||l.graphicStroke,channelSelection:l.channelSelection})},o().createElement(yt,{properties:l,format:T,params:a,config:{bands:P,attributes:S,fonts:j,svgSymbolsPath:V,lineDashOptions:M,enableFieldExpression:F},onChange:function(e){return G({values:e,ruleId:f,symbolizerId:n})}}))}))}),i&&o().createElement("div",{className:"ms-style-rule-overlay-loader",style:{position:"absolute",width:"100%",height:"100%",zIndex:10,transition:"0.3s all"}})))}),Ir=(0,nr.A)(),wr=Ir.symbolizerBlock,jr=Ir.ruleBlock;Pr.propTypes={rules:i().array,loading:i().bool,toolbar:i().node,config:i().object,ruleBlock:i().object,symbolizerBlock:i().object,onUpdate:i().func,onChange:i().func},Pr.defaultProps={rules:[],config:{},ruleBlock:jr,symbolizerBlock:wr,onUpdate:function(){},onChange:function(){}};const Cr=Pr},720538:(e,t,r)=>{r.d(t,{A:()=>c});var n=r(273517),o=r.n(n),l=["type"],i=["text"];function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(null,arguments)}function u(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const c=function(e){var t=e.type,r=e.patterns,n=e.paths,c=e.texts,s=e.backgroundColor,d=void 0===s?"#ffffff":s;return o().createElement("svg",{viewBox:"0 0 200 200"},o().createElement("defs",null,r&&r.filter(function(e){return e.icon}).map(function(e){return o().createElement("pattern",{id:e.id,viewBox:"0 0 1 1",width:"15%",height:"15%"},e.icon&&o().createElement("path",e.icon))}),r&&r.filter(function(e){return e.image}).map(function(e){return o().createElement("pattern",{id:e.id,width:"100%",height:"100%"},e.image&&o().createElement("image",e.image))})),o().createElement("path",{fill:d,d:"M0 0 L200 0 L200 200 L0 200Z"}),n&&n.map(function(e){var r=e.type,n=u(e,l);return"polygon"===(r||t)&&o().createElement("path",a({},n,{d:"M20 20 L180 20 L180 180 L20 180Z"}))||"linestring"===(r||t)&&o().createElement("path",a({},n,{fill:"none",d:"M30 160 L100 40 L170 160"}))||"point"===(r||t)&&o().createElement("path",n)}),c&&c.map(function(e){var t=e.text,r=u(e,i);return o().createElement("text",a({x:"100",y:"100",textAnchor:"middle",alignmentBaseline:"middle"},r),t)}))}},34273:(e,t,r)=>{r.d(t,{A:()=>ue});var n=r(685591),o=r.n(n),l=r(802401),i=r.n(l),a=r(874295),u=r.n(a),c=r(809136),s=r.n(c),d=r(226001),p=r.n(d),f=r(104567),y=r.n(f),m=r(987021),b=r.n(m),v=["a"];function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach(function(t){E(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function E(e,t,r){return(t=function(e){var t=function(e){if("object"!=g(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==g(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const k=function(e){var t=e.key,r=void 0===t?"color":t,n=e.opacityKey,o=void 0===n?"opacity":n,l=e.graphicKey,a=e.label,u=void 0===a?"Fill":a,c=e.stroke,s=e.pattern,d=e.disableAlpha,p=e.getGroupParams,f=e.getGroupConfig,m=e.isDisabled,g=e.propertySelectorInfoMessageId;return{type:"color",valueType:"string",label:u,config:{stroke:c,pattern:s,disableAlpha:d,getGroupParams:p,getGroupConfig:f,graphicKey:l,opacityKey:o,propertySelectorInfoMessageId:void 0===g?"styleeditor.colorPropertyInfoMessage":g},setValue:function(e,t){var r;if(s&&null!==(r=t[l])&&void 0!==r&&r.kind)return t[l];var n=y()(t[o])?1:t[o];return b()(e).setAlpha(n).toRgb()},getValue:function(e){if(s&&i()(e)&&e.kind)return E(E(E({},l,e),r,void 0),o,void 0);var t=e||{},n=t.a,a=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(t,v);return O(E(E({},r,b()(O(O({},a),{},{a:1})).toHexString()),o,n),s&&E({},l,void 0))},isDisabled:m}},S=function(e){var t=e.key,r=void 0===t?"width":t,n=e.label,o=void 0===n?"Width":n,l=e.fallbackValue,i=void 0===l?1:l,a=e.isDisabled;return{type:"input",label:o,valueType:"number",config:{min:0,fallbackValue:i,type:"number",maxWidth:105,uom:"px"},setValue:function(e){return void 0===e?i:parseFloat(e)},getValue:function(e){var t=void 0===e?i:parseFloat(e);return E({},r,t)},isDisabled:a}},P=function(e){var t=e.key,r=void 0===t?"dasharray":t,n=e.label,o=void 0===n?"Dash array":n,l=e.disablePropertySelection;return{type:"dash",label:o,config:{disablePropertySelection:void 0===l||l},setValue:function(e){return void 0!==e?e.map(function(e){return Math.round(e)}):[0]},getValue:function(e){if(s()(e,["0"])||s()(e,["1","0"]))return E({},r,void 0);var t=!(e||[]).find(function(e){return p()(parseFloat(e))});return E({},r,void 0!==e&&t?e.map(function(e){return parseFloat(e)}):void 0)},isDisabled:e.isDisabled}},I=function(e){var t=e.key,r=void 0===t?"cap":t,n=e.label;return{type:"toolbar",valueType:"string",label:void 0===n?"Line cap":n,config:{options:[{labelId:"styleeditor.lineCapButt",value:"butt"},{labelId:"styleeditor.lineCapRound",value:"round"},{labelId:"styleeditor.lineCapSquare",value:"square"}]},getValue:function(e){return E({},r,e)},isDisabled:e.isDisabled}},w=function(e){var t=e.key,r=void 0===t?"join":t,n=e.label;return{type:"toolbar",valueType:"string",label:void 0===n?"Line join":n,config:{options:[{labelId:"styleeditor.lineJoinBevel",value:"bevel"},{labelId:"styleeditor.lineJoinRound",value:"round"},{labelId:"styleeditor.lineJoinMiter",value:"miter"}]},getValue:function(e){return E({},r,e)},isDisabled:e.isDisabled}},j=function(e){var t=e.key,r=void 0===t?"colorMapType":t,n=e.label;return{type:"toolbar",label:void 0===n?"Color map type":n,config:{options:[{labelId:"styleeditor.colorMapType.ramp",value:"ramp"},{labelId:"styleeditor.colorMapType.intervals",value:"intervals"},{labelId:"styleeditor.colorMapType.values",value:"values"}]},getValue:function(e){return E({},r,e)},isDisabled:e.isDisabled}},C=function(e){var t,r=e.key,n=void 0===r?"radius":r,o=e.label,l=void 0===o?"Radius":o,i=e.range,a=e.fallbackValue,u=void 0===a?1:a,c=e.infoMessageId;return{type:"input",valueType:"number",label:l,config:{fallbackValue:u,type:"number",maxWidth:105,uom:"px",min:null!==(t=null==i?void 0:i.min)&&void 0!==t?t:0,max:null==i?void 0:i.max,infoMessageId:c},setValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return void 0===e?u:parseFloat(e)},getValue:function(e){return E({},n,void 0===e?u:parseFloat(e))}}},A=function(e){var t=e.key,r=void 0===t?"scale":t,n=e.label,o=void 0===n?"Scale":n,l=e.min,i=e.max,a=e.fallbackValue,u=e.maxWidth,c=e.uom,s=e.isDisabled,d=e.placeholderId;return{type:"input",valueType:"number",label:o,config:{min:l,max:i,fallbackValue:a,type:"number",maxWidth:u,uom:c,placeholderId:d},setValue:function(e){return void 0===e?a:parseFloat(e)},getValue:function(e){return E({},r,void 0===e?void 0:parseFloat(e))},isDisabled:s}},x=function(e){var t=e.key,r=void 0===t?"opacity":t,n=e.label;return{type:"slider",valueType:"number",label:void 0===n?"Opacity":n,config:{disablePropertySelection:e.disablePropertySelection,range:{min:0,max:1}},setValue:function(){return parseFloat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)},getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e[0]&&e[0].split(" px")[0];return E({},r,parseFloat(t))}}},T=function(e){var t=e.key,r=void 0===t?"offset":t,n=e.label,o=void 0===n?"":n,l=e.fallbackValue,i=void 0===l?[0,0]:l,a=e.disablePropertySelection;return{key:r,type:"xyInput",label:o,config:{fallbackValue:i,uom:"px",disablePropertySelection:void 0===a||a},setValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0];return void 0===e?i:e},getValue:function(e){return E({},r,void 0===e?i:e)}}},D=function(e){var t=e.key,r=void 0===t?"rotate":t,n=e.label,o=void 0===n?"Rotation (deg)":n,l=e.fallbackValue,i=void 0===l?0:l;return{type:"input",valueType:"number",label:o,config:{fallbackValue:i,type:"number",maxWidth:105,uom:"Â°"},setValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return void 0===e?i:parseFloat(e)},getValue:function(e){return E({},r,void 0===e?i:parseFloat(e))}}},V=function(e){var t=e.key,r=void 0===t?"msClampToGround":t,n=e.label,o=void 0===n?"Clamp to ground":n,l=e.isDisabled,i=e.disablePropertySelection;return{type:"checkbox",valueType:"string",label:o,config:{disablePropertySelection:void 0===i||i},getValue:function(e){return E({},r,e)},setValue:function(e){return!!e},isDisabled:l}},M=function(e){var t=e.key,r=void 0===t?"msBringToFront":t,n=e.label,o=void 0===n?"Arrange":n,l=e.isDisabled,i=e.disablePropertySelection;return{type:"checkbox",valueType:"string",label:o,config:{disablePropertySelection:void 0===i||i},getValue:function(e){return E({},r,e)},setValue:function(e){return!!e},isDisabled:l}},R=function(e){var t=e.key,r=void 0===t?"msClassificationType":t,n=e.label;return{type:"toolbar",valueType:"string",label:void 0===n?"PolygonType":n,config:{options:[{labelId:"styleeditor.3dTile",value:"3d"},{labelId:"styleeditor.terrain",value:"terrain"},{labelId:"styleeditor.both",value:"both"}]},getValue:function(e){return E({},r,e)},isDisabled:e.isDisabled}},F=function(e){var t=e.key,r=void 0===t?"msHeightReference":t,n=e.label;return{type:"toolbar",valueType:"string",label:void 0===n?"Height reference from ground":n,config:{options:[{labelId:"styleeditor.none",value:"none"},{labelId:"styleeditor.relative",value:"relative"},{labelId:"styleeditor.clamp",value:"clamp"}]},getValue:function(e){return E({},r,e)},isDisabled:e.isDisabled}},z=function(e){var t=e.label,r=e.key,n=void 0===r?"wellKnownName":r;return{type:"mark",valueType:"string",label:t,config:{options:e.options,excludeSvg:e.excludeSvg},getValue:function(){return E({},n,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")},isDisabled:e.isDisabled}},N=function(e){var t=e.label,r=e.key,n=void 0===r?"image":r;return{type:"image",valueType:"string",label:t,config:{},getValue:function(){return E({},n,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}}},W=function(e){var t=e.label,r=e.key,n=void 0===r?"model":r;return{type:"model",valueType:"string",label:t,config:{},getValue:function(){return E({},n,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")},isDisabled:e.isDisabled}},G=function(e){var t=e.label,r=e.key,n=void 0===r?"fontStyle":r;return{type:"toolbar",valueType:"string",label:t,config:{options:[{labelId:"styleeditor.fontStyleNormal",value:"normal"},{labelId:"styleeditor.fontStyleItalic",value:"italic"}]},getValue:function(){return E({},n,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}}},K=function(e){var t=e.label,r=e.key,n=void 0===r?"fontWeight":r;return{type:"toolbar",valueType:"string",label:t,config:{options:[{labelId:"styleeditor.fontWeightNormal",value:"normal"},{labelId:"styleeditor.fontWeightBold",value:"bold"}]},getValue:function(){return E({},n,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}}},L=function(e){var t=e.key,r=void 0===t?"label":t,n=e.label,o=e.isDisabled;return{type:"checkbox",label:n,config:{disablePropertySelection:e.disablePropertySelection},isDisabled:o,getValue:function(e){return E({},r,e)}}},B=function(e){var t=e.key,r=void 0===t?"intervals":t,n=e.label,o=e.isDisabled,l=void 0===o?function(e,t){return"customInterval"===(null==t?void 0:t.method)}:o,i=e.disablePropertySelection;return{type:"slider",label:n,config:{disablePropertySelection:void 0===i||i,range:{min:2,max:25},format:{from:function(e){return Math.round(e)},to:function(e){return Math.round(e)}}},isDisabled:l,setValue:function(){return parseFloat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:2)},getValue:function(){return E({},r,parseFloat((arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])[0]))}}},U=function(e){var t=e.label,r=e.key,n=void 0===r?"":r,o=e.getOptions,l=void 0===o?function(){return[]}:o,i=e.selectProps,a=e.isValid,u=e.isDisabled,c=e.isVisible,s=e.setValue,d=e.getValue;return{type:"select",valueType:"string",label:t,config:{getOptions:l,selectProps:i,isValid:a,disablePropertySelection:e.disablePropertySelection},getValue:d||function(e){return E({},n,e)},isDisabled:u,isVisible:c,setValue:s}},q=function(e){var t=e.label,r=e.key,n=void 0===r?"":r,o=e.getOptions,l=void 0===o?function(){return[]}:o,i=e.disablePropertySelection;return{type:"colorRamp",label:t,config:{disablePropertySelection:void 0===i||i,getOptions:l},getValue:function(){return E({},n,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}}},H=function(e){var t=e.label,r=e.key,n=void 0===r?"":r,o=e.disablePropertySelection;return{type:"colorMap",label:t,config:{disablePropertySelection:void 0===o||o},getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=e.classification,o=e.type,l="customInterval"===t.method,i="interval"===o||l,a="color"===o||"custom"===t.ramp;return O(O(E({},n,r),i&&{method:"customInterval",methodEdit:l?t.methodEdit:t.method}),a&&{ramp:"custom"})}}},Z=function(e){return{type:"channel",label:e.label,setValue:function(e,t){return{channelSelection:t.channelSelection,contrastEnhancement:t.contrastEnhancement}},getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{channelSelection:e.channelSelection,contrastEnhancement:e.contrastEnhancement}}}},_=function(e){var t=e.label,r=e.key,n=void 0===r?"":r,o=e.getOptions,l=void 0===o?function(){return[]}:o,i=e.selectProps,a=e.isValid,u=e.isDisabled,c=e.isVisible,s=e.setValue,d=e.getValue,p=e.disablePropertySelection;return{type:"customParams",valueType:"string",label:t,config:{getOptions:l,selectProps:O(O({},i),{},{clearable:!0}),isValid:a,disablePropertySelection:p},getValue:d||function(e,t){return E({},n,O(O({},t[n]||{}),e))},isDisabled:u,isVisible:c,setValue:s}};var $=r(714905);function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}function X(e){return function(e){if(Array.isArray(e))return Y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Y(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Y(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach(function(t){te(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function te(e,t,r){return(t=function(e){var t=function(e){if("object"!=J(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=J(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==J(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var re=function(e){var t=e.label,r=void 0===t?"styleeditor.clampToGround":t,n=e.isDisabled;return{msClampToGround:V({label:r,isDisabled:n})}},ne=function(){return{msGeometry:U({label:"styleeditor.geometryTransformation",key:"msGeometry",disablePropertySelection:!0,setValue:function(e){return e?null==e?void 0:e.name:"unset"},getValue:function(e){return"unset"===e?{msGeometry:void 0}:{msGeometry:{name:e}}},getOptions:function(){return[{value:"unset",labelId:"styleeditor.center"},{value:"startPoint",labelId:"styleeditor.startPoint"},{value:"endPoint",labelId:"styleeditor.endPoint"}]}})}},oe=function(){return{anchor:U({label:"styleeditor.anchor",key:"anchor",setValue:function(e){return e||"center"},getOptions:function(){return[{value:"top-left",labelId:"styleeditor.topLeft"},{value:"top",labelId:"styleeditor.top"},{value:"top-right",labelId:"styleeditor.topRight"},{value:"left",labelId:"styleeditor.left"},{value:"center",labelId:"styleeditor.center"},{value:"right",labelId:"styleeditor.right"},{value:"bottom-left",labelId:"styleeditor.bottomLeft"},{value:"bottom",labelId:"styleeditor.bottom"},{value:"bottom-right",labelId:"styleeditor.bottomRight"}]}})}},le=function(e){var t=e.isDisabled,r=e.enableTranslation;return ee(ee({msHeightReference:F({label:"styleeditor.heightReferenceFromGround",isDisabled:t}),msHeight:A({key:"msHeight",label:"styleeditor.height",uom:"m",placeholderId:"styleeditor.pointHeight",isDisabled:function(e,r){return t(e,r)||"clamp"===(null==r?void 0:r.msHeightReference)}})},r&&{msTranslateX:A({key:"msTranslateX",label:"styleeditor.msTranslateX",uom:"m",fallbackValue:0,isDisabled:t}),msTranslateY:A({key:"msTranslateY",label:"styleeditor.msTranslateY",uom:"m",fallbackValue:0,isDisabled:t})}),{},{msLeaderLineColor:k({key:"msLeaderLineColor",opacityKey:"msLeaderLineOpacity",label:"styleeditor.leaderLineColor",stroke:!0,isDisabled:t}),msLeaderLineWidth:S({key:"msLeaderLineWidth",label:"styleeditor.leaderLineWidth",fallbackValue:0,isDisabled:t})})},ie=function(e){var t=e.isDisabled;return ee({msBringToFront:M({label:"styleeditor.msBringToFront",isDisabled:t})},le({isDisabled:t}))},ae=function(e){var t=e.isDisabled;return{msClassificationType:R({label:"styleeditor.classificationtype",isDisabled:t})}};const ue=function(){var e,t,r,n,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=l.exactMatchGeometrySymbol,c=l.enable3dStyleOptions,s=void 0===c,d={Mark:{kind:"Mark",glyph:"1-point",glyphAdd:"1-point-add",tooltipAddId:"styleeditor.addMarkRule",supportedTypes:["point","linestring","polygon","vector","annotation-point","annotation-linestring","annotation-polygon","annotation-circle"],params:ee(ee(ee({wellKnownName:z({label:"styleeditor.shape"}),color:k({key:"color",opacityKey:"fillOpacity",label:"styleeditor.fill"}),strokeColor:k({key:"strokeColor",opacityKey:"strokeOpacity",label:"styleeditor.strokeColor",stroke:!0}),strokeWidth:S({key:"strokeWidth",label:"styleeditor.strokeWidth"})},!s&&{strokeDasharray:P({label:"styleeditor.strokeStyle",key:"strokeDasharray"})}),{},{radius:C({key:"radius",label:"styleeditor.radius"}),rotate:D({label:"styleeditor.rotation"})},!s&&ie({isDisabled:function(){return!c}})),!s&&ne()),defaultProperties:{kind:"Mark",wellKnownName:"Circle",color:"#dddddd",fillOpacity:1,strokeColor:"#777777",strokeOpacity:1,strokeWidth:1,radius:16,rotate:0,msBringToFront:!1,msHeightReference:"none"}},Icon:{kind:"Icon",glyph:"point",glyphAdd:"point-plus",tooltipAddId:"styleeditor.addIconRule",supportedTypes:["point","linestring","polygon","vector","annotation-point","annotation-linestring","annotation-polygon","annotation-circle"],hideMenu:!0,params:ee(ee(ee({image:N({label:"styleeditor.image",key:"image"}),format:U({label:"styleeditor.format",key:"format",isVisible:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).image,r=arguments.length>2?arguments[2]:void 0;return void 0!==t&&"msMarkerIcon"!==(null==e?void 0:e.name)&&"css"!==r&&!i()(t)&&!["png","jpg","svg","gif","jpeg"].includes(t.split(".").pop())},getOptions:function(){return $.Mz}}),opacity:x({label:"styleeditor.opacity"}),size:C({key:"size",label:"styleeditor.size"}),rotate:D({label:"styleeditor.rotation"})},!s&&oe()),!s&&ie({isDisabled:function(){return!c}})),!s&&ne()),defaultProperties:{kind:"Icon",image:"",opacity:1,size:32,rotate:0,msBringToFront:!1,msHeightReference:"none"}},Line:{kind:"Line",glyph:"line",glyphAdd:"line-plus",tooltipAddId:"styleeditor.addLineRule",supportedTypes:a?["linestring","vector"]:["linestring","polygon","vector"],params:ee(ee(ee({color:k({label:"styleeditor.strokeColor",stroke:!0,pattern:!0,getGroupParams:function(e){return d[e]},getGroupConfig:function(e){return"Mark"===e?{disableAlpha:!0}:"Icon"===e?{omittedKeys:["rotate","opacity"]}:{}},graphicKey:"graphicStroke"}),width:S({label:"styleeditor.strokeWidth",key:"width"}),dasharray:P({label:"styleeditor.lineStyle",key:"dasharray"}),cap:I({label:"styleeditor.lineCap",key:"cap",isDisabled:function(){return!!c}}),join:w({label:"styleeditor.lineJoin",key:"join",isDisabled:function(){return!!c}})},!s&&re({label:"styleeditor.clampToGround",isDisabled:function(){return!c}})),!s&&{msGeometry:U({label:"styleeditor.geometryTransformation",key:"msGeometry",disablePropertySelection:!0,setValue:function(e){return e?null==e?void 0:e.name:"unset"},getValue:function(e){return"unset"===e?{msGeometry:void 0}:{msGeometry:{name:e}}},getOptions:function(){return[{value:"unset",labelId:"styleeditor.line"},{value:"lineToArc",labelId:"styleeditor.geodesicLine"}]}})}),!s&&(r={isDisabled:function(e,t){return!((null==t||!t.msClampToGround)&&c)}},n=r.isDisabled,{msHeightReference:F({key:"msHeightReference",label:"styleeditor.heightReferenceFromGround",isDisabled:n}),msHeight:A({key:"msHeight",label:"styleeditor.height",uom:"m",placeholderId:"styleeditor.geometryHeight",isDisabled:function(e,t){return n(e,t)||"clamp"===(null==t?void 0:t.msHeightReference)}}),msExtrusionRelativeToGeometry:L({key:"msExtrusionRelativeToGeometry",label:"styleeditor.msExtrusionRelativeToGeometry",isDisabled:function(e,t){return n(e,t)||!(null==t||!t.msExtrusionType)}}),msExtrudedHeight:A({key:"msExtrudedHeight",label:"styleeditor.msExtrudedHeight",uom:"m",fallbackValue:0,isDisabled:n}),msExtrusionColor:k({key:"msExtrusionColor",opacityKey:"msExtrusionOpacity",label:"styleeditor.msExtrusionColor",isDisabled:n}),msExtrusionType:U({key:"msExtrusionType",label:"styleeditor.msExtrusionType",setValue:function(e){return e||""},getOptions:function(){return[{value:"",labelId:"styleeditor.wall"},{value:"Circle",labelId:"styleeditor.circle"},{value:"Square",labelId:"styleeditor.square"}]},isDisabled:n})})),defaultProperties:{kind:"Line",color:"#777777",width:1,opacity:1,cap:"round",join:"round",msClampToGround:!0}},Fill:{kind:"Fill",glyph:"polygon",glyphAdd:"polygon-plus",tooltipAddId:"styleeditor.addFillRule",supportedTypes:["polygon","vector"],params:ee(ee(ee(ee({color:k({label:"styleeditor.fill",key:"color",opacityKey:"fillOpacity",pattern:!0,graphicKey:"graphicFill",getGroupParams:function(e){return d[e]},getGroupConfig:function(e){return"Mark"===e?{}:"Icon"===e?{omittedKeys:["rotate","opacity"]}:{}}}),outlineColor:k({key:"outlineColor",opacityKey:"outlineOpacity",label:"styleeditor.outlineColor",stroke:!0,isDisabled:function(e,t){return!(null!=t&&t.msClampToGround||null==t||!t.msExtrudedHeight)}}),outlineWidth:S({key:"outlineWidth",label:"styleeditor.outlineWidth",isDisabled:function(e,t){return!(null!=t&&t.msClampToGround||null==t||!t.msExtrudedHeight)}})},!s&&{outlineDasharray:P({label:"styleeditor.outlineStyle",key:"outlineDasharray",isDisabled:function(e,t){return!(null!=t&&t.msClampToGround||null==t||!t.msExtrudedHeight)}})}),!s&&re({label:"styleeditor.clampOutlineToGround",isDisabled:function(){return!c}})),!s&&ae({isDisabled:function(e,t){return!(null!=t&&t.msClampToGround&&c)}})),!s&&(e={isDisabled:function(e,t){return!((null==t||!t.msClampToGround)&&c)}},t=e.isDisabled,{msHeightReference:F({key:"msHeightReference",label:"styleeditor.heightReferenceFromGround",isDisabled:t}),msHeight:A({key:"msHeight",label:"styleeditor.height",uom:"m",placeholderId:"styleeditor.geometryHeight",isDisabled:function(e,r){return t(e,r)||"clamp"===(null==r?void 0:r.msHeightReference)}}),msExtrusionRelativeToGeometry:L({key:"msExtrusionRelativeToGeometry",label:"styleeditor.msExtrusionRelativeToGeometry",isDisabled:t}),msExtrudedHeight:A({key:"msExtrudedHeight",label:"styleeditor.msExtrudedHeight",uom:"m",fallbackValue:0,isDisabled:t})})),defaultProperties:{kind:"Fill",color:"#dddddd",fillOpacity:1,outlineColor:"#777777",outlineWidth:1,msClassificationType:"both",msClampToGround:!0}},PointCloud:{kind:"Mark",glyph:"1-point",glyphAdd:"1-point-add",tooltipAddId:"styleeditor.addMarkRule",supportedTypes:["pointcloud"],hideMenu:!0,params:{color:k({key:"color",opacityKey:"fillOpacity",label:"styleeditor.fill"}),radius:C({key:"radius",label:"styleeditor.radius",range:{min:1,max:10},infoMessageId:"styleeditor.pointCloudSizeInfo"})},defaultProperties:{kind:"Mark",wellKnownName:"Circle",color:"#dddddd",fillOpacity:1,radius:1}},Polyhedron:{kind:"Fill",glyph:"polygon",glyphAdd:"polygon-plus",tooltipAddId:"styleeditor.addFillRule",supportedTypes:["polyhedron"],hideMenu:!0,params:{color:k({label:"styleeditor.fill",key:"color",opacityKey:"fillOpacity",pattern:!0,graphicKey:"graphicFill",getGroupParams:function(e){return d[e]},getGroupConfig:function(e){return"Mark"===e?{}:"Icon"===e?{omittedKeys:["rotate","opacity"]}:{}}})},defaultProperties:{kind:"Fill",color:"#dddddd",fillOpacity:1}},Model:{kind:"Model",glyph:"model",glyphAdd:"model-plus",disableAdd:function(){return!c},tooltipAddId:"styleeditor.addModelRule",supportedTypes:["point","linestring","polygon","vector","annotation-point","annotation-linestring","annotation-polygon","annotation-circle"],hideMenu:!0,params:ee(ee({model:W({label:"styleeditor.model",key:"model",isDisabled:function(){return!c}}),scale:A({key:"scale",label:"styleeditor.scale",fallbackValue:1,maxWidth:80,isDisabled:function(){return!c}}),pitch:A({key:"pitch",label:"styleeditor.pitch",fallbackValue:0,maxWidth:105,uom:"Â°",isDisabled:function(){return!c}}),roll:A({key:"roll",label:"styleeditor.roll",fallbackValue:0,maxWidth:105,uom:"Â°",isDisabled:function(){return!c}}),heading:A({key:"heading",label:"styleeditor.heading",fallbackValue:0,maxWidth:105,uom:"Â°",isDisabled:function(){return!c}}),color:k({key:"color",opacityKey:"opacity",label:"styleeditor.color",isDisabled:function(){return!c}})},le({isDisabled:function(){return!c},enableTranslation:!0})),!s&&ne()),defaultProperties:{kind:"Model",model:"",scale:1,color:"#ffffff",opacity:1,msHeightReference:"none"}},Text:{kind:"Text",glyph:"font",tooltipAddId:"styleeditor.addTextRule",supportedTypes:["point","linestring","polygon","vector"],params:ee(ee(ee({label:U({key:"label",label:"styleeditor.label",disablePropertySelection:!0,selectProps:{creatable:!0},getOptions:function(e){var t=e.attributes;return(null==t?void 0:t.map(function(e){return{value:"{{"+e.attribute+"}}",label:e.label||e.attribute}}))||[]}}),font:U({key:"font",label:"styleeditor.fontFamily",disablePropertySelection:!0,selectProps:{multi:!0},getOptions:function(e){var t=e.fonts;return(null==t?void 0:t.map(function(e){return{value:e,label:e}}))||[]}}),color:k({label:"styleeditor.fontColor",key:"color",disableAlpha:!0}),size:C({label:"styleeditor.fontSize",key:"size"}),fontStyle:G({label:"styleeditor.fontStyle",key:"fontStyle"}),fontWeight:K({label:"styleeditor.fontWeight",key:"fontWeight"})},!s&&oe()),{},{haloColor:k({label:"styleeditor.haloColor",key:"haloColor",stroke:!0,disableAlpha:!0}),haloWidth:S({label:"styleeditor.haloWidth",key:"haloWidth"}),rotate:D({label:"styleeditor.rotation"}),offset:T({label:"styleeditor.offset"})},!s&&ie({isDisabled:function(){return!c}})),!s&&ne()),defaultProperties:{kind:"Text",color:"#333333",size:14,fontStyle:"normal",fontWeight:"normal",haloColor:"#ffffff",haloWidth:1,allowOverlap:!0,offset:[0,0],msBringToFront:!1,msHeightReference:"none"}},Raster:{kind:"Raster",glyph:"1-raster",tooltipAddId:"styleeditor.addRasterRule",supportedTypes:["raster"],params:{channel:Z({}),opacity:x({label:"styleeditor.opacity"})},defaultProperties:{kind:"Raster",opacity:1,contrastEnhancement:{}}},Circle:{kind:"Circle",glyph:"1-circle",glyphAdd:"1-circle-add",tooltipAddId:"styleeditor.addCircleRule",supportedTypes:[],params:ee(ee({color:k({key:"color",opacityKey:"opacity",label:"styleeditor.color"}),outlineColor:k({key:"outlineColor",opacityKey:"outlineOpacity",label:"styleeditor.outlineColor",stroke:!0}),outlineWidth:S({key:"outlineWidth",label:"styleeditor.outlineWidth"}),outlineDasharray:P({label:"styleeditor.outlineStyle",key:"outlineDasharray"}),radius:A({key:"radius",label:"styleeditor.radius",uom:"m",fallbackValue:0,maxWidth:125}),geodesic:L({key:"geodesic",label:"styleeditor.geodesic"})},!s&&re({label:"styleeditor.clampOutlineToGround",isDisabled:function(){return!c}})),!s&&ae({isDisabled:function(e,t){return!(null!=t&&t.msClampToGround&&c)}})),defaultProperties:{kind:"Circle",color:"#dddddd",opacity:1,outlineColor:"#777777",outlineWidth:1}}},p={Classification:{kind:"Classification",glyph:"list",classificationType:"classificationVector",hideInputLabel:!0,hideFilter:!0,params:[{ramp:q({key:"ramp",label:"styleeditor.colorRamp",disablePropertySelection:!0,getOptions:function(e){return(0,e.getColors)()}}),reverse:L({key:"reverse",label:"styleeditor.reverse",disablePropertySelection:!0,isDisabled:function(e,t){return"custom"===(null==t?void 0:t.ramp)||"customInterval"===(null==t?void 0:t.method)}}),attribute:U({key:"attribute",label:"styleeditor.attribute",disablePropertySelection:!0,isValid:function(e){return void 0!==e.value},getOptions:function(e){var t=e.attributes;return null==t?void 0:t.map(function(e){return{value:e.attribute,label:e.label||e.attribute,disabled:e.disabled}})}}),method:U({key:"method",label:"styleeditor.method",disablePropertySelection:!0,isDisabled:function(e,t,r){var n,o=r.attributes;return"string"===(null==o||null===(n=o.filter(function(e){return e.label===(null==t?void 0:t.attribute)}))||void 0===n||null===(n=n[0])||void 0===n?void 0:n.type)&&"customInterval"!==(null==t?void 0:t.method)},getOptions:function(e){var t=e.methods,r=e.method,n=e.methodEdit,o=(null==t?void 0:t.map(function(e){return{labelId:"styleeditor."+e,value:e}}))||[];return[].concat(X("customInterval"===r?[{labelId:"styleeditor."+n,glyphId:"edit",value:r}]:[]),X(o))}}),intervals:B({label:"styleeditor.intervals",disablePropertySelection:!0,isDisabled:function(e,t){return o()(["customInterval","uniqueInterval"],null==t?void 0:t.method)}})},function(e){var t,r,n,o;if(!e)return{};switch(e){case"Mark":return ee({fillOpacity:x({key:"fillOpacity",label:"styleeditor.opacity",disablePropertySelection:!0})},u()(null===(t=d[e])||void 0===t?void 0:t.params,["color"]));case"Line":return ee({opacity:x({key:"opacity",label:"styleeditor.opacity",disablePropertySelection:!0})},u()(null===(r=d[e])||void 0===r?void 0:r.params,["color"]));case"Fill":return ee({fillOpacity:x({key:"fillOpacity",label:"styleeditor.opacity",disablePropertySelection:!0})},u()(null===(n=d[e])||void 0===n?void 0:n.params,["color"]));default:return null===(o=d[e])||void 0===o?void 0:o.params}},{msViewParams:_({key:"msViewParams",label:"styleeditor.customParams",disablePropertySelection:!0}),classification:H({key:"classification",rampKey:"ramp"})}],defaultProperties:{kind:"Classification",classification:[],intervals:5,method:"equalInterval",ramp:"orrd",reverse:!1}},Raster:{kind:"Raster",glyph:"1-raster",classificationType:"classificationRaster",hideInputLabel:!1,hideFilter:!0,params:[{channel:Z({}),opacity:x({label:"styleeditor.opacity"}),ramp:q({key:"ramp",label:"styleeditor.colorRamp",getOptions:function(e){return(0,e.getColors)()}}),reverse:L({key:"reverse",label:"styleeditor.reverse",isDisabled:function(e,t){return"custom"===(null==t?void 0:t.ramp)||"customInterval"===(null==t?void 0:t.method)}}),continuous:L({key:"continuous",label:"styleeditor.continuous",isDisabled:function(e,t){return"custom"===(null==t?void 0:t.ramp)||"customInterval"===(null==t?void 0:t.method)}}),colorMapType:j({key:"colorMapType",label:"styleeditor.colorMapType.label"}),method:U({key:"method",label:"styleeditor.method",getOptions:function(e){var t=e.methods,r=e.method,n=e.methodEdit,o=(null==t?void 0:t.map(function(e){return{labelId:"styleeditor."+e,value:e}}))||[];return[].concat(X("customInterval"===r?[{labelId:"styleeditor."+n,glyphId:"edit",value:r}]:[]),X(o))}}),intervals:B({label:"styleeditor.intervals"})},{classification:H({key:"classification",rampKey:"ramp"})}],defaultProperties:{kind:"Raster",opacity:1,classification:[],intervals:5,method:"equalInterval",reverse:!1,continuous:!0,colorMapType:"ramp",symbolizerKind:"Raster"}}};return{symbolizerBlock:d,ruleBlock:p}}}}]);