"use strict";(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[87183],{787183:(t,e,a)=>{a.r(e),a.d(e,{default:()=>d});var n=a(273517),r=a.n(n),o=a(786292),i=a(8117),c=a(12816),l=a(8571),s=a(132672);function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=Array(e);a<e;a++)n[a]=t[a];return n}const d=function(t){var e,a,d=t.value,g=t.settings,m=t.onChange,p=(e=(0,n.useState)((0,c.pn)(d||"")),a=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=a){var n,r,o,i,c=[],l=!0,s=!1;try{if(o=(a=a.call(t)).next,0===e){if(Object(a)!==a)return;l=!1}else for(;!(l=(n=o.call(a)).done)&&(c.push(n.value),c.length!==e);l=!0);}catch(t){s=!0,r=t}finally{try{if(!l&&null!=a.return&&(i=a.return(),Object(i)!==i))return}finally{if(s)throw r}}return c}}(e,a)||function(t,e){if(t){if("string"==typeof t)return u(t,e);var a={}.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?u(t,e):void 0}}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=p[0],y=p[1];return r().createElement(i.tU,null,r().createElement(i.oz,{eventKey:"content",title:"Content"},r().createElement(o.Editor,{wrapperClassName:"resource-about-editor",editorState:f,stripPastedStyles:!0,onEditorStateChange:function(t){y(t);var e=(0,c.v6)(f),a=(0,c.v6)(t);a!==e&&m({"attributes.details":a})},toolbar:{options:["fontFamily","blockType","inline","textAlign","colorPicker","list","link","remove","image"],image:{className:void 0,component:void 0,popupClassName:void 0,urlEnabled:!0,uploadEnabled:!0,alignmentEnabled:!0,uploadCallback:function(t){return new Promise(function(e,a){var n=new FileReader;n.addEventListener("load",function(){e({data:{link:n.result}})}),t?n.readAsDataURL(t):a()})},previewImage:!0,inputAccept:"image/gif,image/jpeg,image/jpg,image/png,image/svg",alt:{present:!1,mandatory:!1},defaultSize:{height:"auto",width:"auto"}}}})),r().createElement(i.oz,{eventKey:"settings",title:"Settings"},r().createElement(s.A,{column:!0,gap:"sm",classNames:["_padding-tb-sm"]},r().createElement(i.Sc,{checked:!(null==g||!g.showAsModal),onChange:function(t){return m({"attributes.detailsSettings.showAsModal":t.target.checked})}},r().createElement(l.A,{msgId:"map.details.showAsModal"})),r().createElement(i.Sc,{checked:!(null==g||!g.showAtStartup),onChange:function(t){return m({"attributes.detailsSettings.showAtStartup":t.target.checked})}},r().createElement(l.A,{msgId:"map.details.showAtStartup"})))))}},12816:(t,e,a)=>{a.d(e,{pn:()=>u,v6:()=>d});var n=a(635143),r=a(329987),o=a.n(r),i=a(447340),c=a.n(i),l=function(t){var e=void 0;if(t instanceof HTMLAnchorElement){var a={};if(t.dataset&&void 0!==t.dataset.mention)a.url=t.href,a.text=t.innerHTML,a.value=t.dataset.value,e=n.Entity.__create("MENTION","IMMUTABLE",a);else{a.url=t.getAttribute&&t.getAttribute("href")||t.href,a.title=t.innerHTML,a.targetOption=t.target;var r=t.getAttribute&&t.getAttribute("data-geostory-interaction-type"),o=t.getAttribute&&t.getAttribute("data-geostory-interaction-params"),i=t.getAttribute&&t.getAttribute("data-geostory-interaction-name"),c={};i&&o&&r&&(c["data-geostory-interaction-type"]=r,c["data-geostory-interaction-params"]=o,c["data-geostory-interaction-name"]=i),a.attributes=c,e=n.Entity.__create("LINK","MUTABLE",a)}}return e},s=function(t,e){if("MENTION"===t.type)return'< href="'.concat(t.data.url,'" class="wysiwyg-mention" data-mention data-value="').concat(t.data.value,'">').concat(e,"</a>");if("LINK"===t.type){var a=t.data.targetOption||"_self",n=t.data.attributes;return n&&n["data-geostory-interaction-type"]?'<a data-geostory-interaction-name="'.concat(n["data-geostory-interaction-name"],'" data-geostory-interaction-type="').concat(n["data-geostory-interaction-type"],'" data-geostory-interaction-params="').concat(n["data-geostory-interaction-params"],"\" onclick=\"__geostory_interaction(type='scrollTo', '").concat(n["data-geostory-interaction-params"],"')\">").concat(e,"</a>"):'<a href="'.concat(t.data.url,'" target="').concat(a,'">').concat(e,"</a>")}if("IMAGE"===t.type){var r=t.data.alignment,o=r&&"none"!==r?"float: ".concat(r,";"):"display: block; margin: 0 auto 0 auto;";return'<img title="'.concat(t.data.src,'" src="').concat(t.data.src,'" alt="').concat(t.data.alt||" ",'" style="height: ').concat(t.data.height,"; width: ").concat(t.data.width,"; ").concat(o,'"/>')}return"EMBEDDED_LINK"===t.type?'<iframe width="'.concat(t.data.width,'" height="').concat(t.data.height,'" src="').concat(t.data.src,'" frameBorder="0"></iframe>'):e},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=c()(t,null,l),a=n.ContentState.createFromBlockArray(e.contentBlocks);return n.EditorState.createWithContent(a)},d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(t){var a=1!==(0,n.convertToRaw)(t.getCurrentContent()).blocks.length||(0,n.convertToRaw)(t.getCurrentContent()).blocks[0].text,r=o()((0,n.convertToRaw)(t.getCurrentContent()),null,null,s);return a?r:e}return e}}}]);