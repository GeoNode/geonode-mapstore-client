"use strict";(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[7842],{868097(e,t,n){n.d(t,{A:()=>E});var a=n(273517),r=n.n(a),o=n(628017),l=n(605556),i=n.n(l),s=n(8117),c=n(306840),u=n(455268),p=n(8571);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},m.apply(null,arguments)}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,v(a.key),a)}}function g(e,t,n){return t=b(t),function(e,t){if(t&&("object"==d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,w()?Reflect.construct(t,n||[],b(e).constructor):t.apply(e,n))}function w(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(w=function(){return!!e})()}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function y(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){var t=function(e){if("object"!=d(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==d(t)?t:t+""}var D=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),g(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(t,e),n=t,(a=[{key:"render",value:function(){var e=this,t=Object.assign({},{borderColor:"#dedede"},this.props.style);this.props.fieldException&&(t=Object.assign({},t,{borderColor:"#FF0000"}));var n=this.props.multivalue?u.Multiselect:u.DropdownList,a=null!==this.props.valueField&&null!==this.props.textField?r().createElement(n,m({dropUp:this.props.dropUp},this.props.options,{busy:this.props.busy,disabled:this.props.disabled,itemComponent:this.props.itemComponent,valueField:this.props.valueField,textField:this.props.textField,data:this.props.fieldOptions,value:this.props.fieldValue,caseSensitive:!1,minLength:3,placeholder:this.props.placeholder,messages:{open:(0,o.kA)(this.context.messages,"queryform.comboField.drop_down")},filter:this.props.comboFilter,style:t,groupBy:this.props.groupBy,onSelect:this.props.onSelect,onChange:function(t){return e.props.onUpdateField(e.props.fieldRowId,e.props.fieldName,e.props.multivalue?t:t[e.props.valueField],e.props.attType)},onToggle:this.props.onToggle,onSearch:this.props.onSearch})):r().createElement(n,m({dropUp:this.props.dropUp},this.props.options,{busy:this.props.busy,disabled:this.props.disabled,itemComponent:this.props.itemComponent,data:this.props.fieldOptions,value:this.props.fieldValue,caseSensitive:!1,minLength:3,placeholder:this.props.placeholder,messages:{open:(0,o.kA)(this.context.messages,"queryform.comboField.drop_down")},filter:this.props.comboFilter,style:t,groupBy:this.props.groupBy,onSelect:this.props.onSelect,onChange:function(t){return e.props.onUpdateField(e.props.fieldRowId,e.props.fieldName,t,e.props.attType)},onToggle:this.props.onToggle,onSearch:this.props.onSearch}));return this.props.fieldException?r().createElement(c.A,{placement:"bottom",overlay:r().createElement(s.m_,{id:this.props.fieldRowId+"_tooltip"},r().createElement("strong",null,this.props.fieldException))},a):a}}])&&f(n.prototype,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a}(r().Component);y(D,"propTypes",{dropUp:i().bool,busy:i().bool,style:i().object,valueField:i().string,textField:i().string,placeholder:i().object,itemComponent:i().oneOfType([i().object,i().func]),fieldOptions:i().array,fieldName:i().string,fieldRowId:i().number,attType:i().string,fieldValue:i().oneOfType([i().number,i().string,i().array]),fieldException:i().oneOfType([i().object,i().string]),comboFilter:i().oneOfType([i().bool,i().string,i().func]),groupBy:i().oneOfType([i().string,i().func]),multivalue:i().bool,disabled:i().bool,options:i().object,onSelect:i().func,onToggle:i().func,onSearch:i().func,onUpdateField:i().func,onClick:i().func,onUpdateExceptionField:i().func}),y(D,"contextTypes",{messages:i().object}),y(D,"defaultProps",{options:{},busy:!1,style:{width:"100%"},placeholder:r().createElement(p.A,{msgId:"queryform.comboField.default_placeholder"}),multivalue:!1,disabled:!1,valueField:null,textField:null,fieldOptions:[],fieldName:null,itemComponent:null,fieldRowId:null,fieldValue:null,fieldException:null,comboFilter:!1,groupBy:function(){},onSelect:function(){},onToggle:function(){},onSearch:function(){},onUpdateField:function(){},onUpdateExceptionField:function(){}});const E=D},907958(e,t,n){n.d(t,{A:()=>L});var a=n(273517),r=n.n(a),o=n(605556),l=n.n(o),i=n(795093),s=n.n(i),c=n(455268),u=n(534973),p=n.n(u),d=n(8117),m=n(340310),f=n.n(m),g=n(104567),w=n.n(g),b=n(874295),h=n.n(b),y=n(306840),v=n(858891),D=n(232877),E=n(628017),S=n(8571),T=n(369274);function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach(function(t){P(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},k.apply(null,arguments)}function O(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,A(a.key),a)}}function N(e,t,n){return t=j(t),function(e,t){if(t&&("object"==x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,F()?Reflect.construct(t,n||[],j(e).constructor):t.apply(e,n))}function F(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(F=function(){return!!e})()}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}function R(e,t){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},R(e,t)}function P(e,t,n){return(t=A(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e){var t=function(e){if("object"!=x(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=x(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==x(t)?t:t+""}p()(s());var M="function"==typeof s()().locale?"locale":"lang";function V(e,t,n){return e?s()(t,n)[M](e):s()(t,n)}var _=function(e,t){var n=s()(e);return n.hours(t.getHours()).minute(t.getMinutes()).seconds(t.getSeconds()).milliseconds(t.getMilliseconds()),n.toDate()},B=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return P(e=N(this,t,[].concat(a)),"state",{openRangeContainer:!1,openRangeInputs:"start",openDateTCalendar:!1,openTime:!1,focused:!1,mainInputValue:"",inputValue:{startDate:"",endDate:""},operator:"><",date:{startDate:null,endDate:null},isInputNotValid:!1}),P(e,"getFormat",function(){var t=e.props,n=t.format,a=t.time,r=t.calendar;return n||(!a&&r?"L":a&&!r?"LT":"lll")}),P(e,"renderQuickTimeSelectors",function(){return r().createElement(T.A,{type:e.props.type,quickDateTimeSelectors:e.props.quickDateTimeSelectors,onMouseDown:e.handleMouseDown,onChangeDate:e.handleCalendarChange,onChangeTime:function(t,n){return e.handleTimeSelect({date:t},n)}})}),P(e,"renderInput",function(t,n,a,o,l,i,s){var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,p=e.props.isWithinAttrTbl?"".concat(t):"".concat(n).concat(t),m=r().createElement("input",{style:c,disabled:e.props.disabled||!0,type:"text",id:"rw_1_input",role:"combobox",placeholder:o,"aria-expanded":i||s,"aria-haspopup":"true","aria-busy":"false","aria-owns":"rw_1_cal rw_1_time_listbox",tabIndex:l,autoComplete:"off",value:p,className:"rw-input ".concat(e.state.isInputNotValid?"has-error":""," ").concat(u||""),onChange:e.handleValueChange});return a?r().createElement(y.A,{placement:"top",overlay:r().createElement(d.m_,{id:"tooltip"},a)},m):m}),P(e,"renderHoursRange",function(){var t=e.state,n=t.inputValue,a=t.operator,o=t.focused,l=t.openRangeInputs,i=e.props,s=i.placeholder,c=i.tabIndex,u=h()(e.props,["placeholder","calendar","time","onChange","value","toolTip","onMouseOver"]);return r().createElement("div",{onMouseDown:e.handleMouseDown,style:{display:"flex",flexDirection:"column",height:"200px"}},r().createElement("div",{style:{display:"flex",flexDirection:"row"}},r().createElement("div",{onClick:e.toggleStart,className:e.rangeTabClassName("start")},r().createElement("strong",{style:{fontSize:"12px"}},r().createElement(S.A,{msgId:"featuregrid.attributeFilter.rangeTab.start"})),r().createElement("span",null,n.startDate||(0,E.kA)(e.context.messages,"featuregrid.attributeFilter.placeholders.range"))),r().createElement("div",{onClick:e.toggleEnd,className:e.rangeTabClassName("end")},r().createElement("strong",{style:{fontSize:"12px"}},r().createElement(S.A,{msgId:"featuregrid.attributeFilter.rangeTab.end"})),r().createElement("span",null,n.endDate||(0,E.kA)(e.context.messages,"featuregrid.attributeFilter.placeholders.range")))),r().createElement("div",{style:{display:"flex",flexDirection:"column",overflow:"hidden"}},r().createElement("div",{tabIndex:"-1",style:{display:"start"===l?"block":"none"},className:"rw-datetimepicker rw-widget rw-has-neither ".concat(o?"rw-state-focus":"")},e.renderInput(n.startDate,a,"",s,c,!1,!0,{width:"90%"}),r().createElement("span",null,r().createElement("button",{tabIndex:"-1",title:"Select Time",type:"button","aria-disabled":"false","aria-label":"Select Time",className:"rw-btn-time rw-btn",onClick:e.toggleTime},r().createElement("span",{"aria-hidden":"true",className:"rw-i rw-i-clock-o"}))),r().createElement("div",{className:"dateTime-picker-hours",style:{display:"block",background:"white",position:"relative",zIndex:1}},r().createElement(v.A,k({ref:function(t){e.attachStartTimeRef=t},value:(null==n?void 0:n.startDate)||"",onMouseDown:e.handleMouseDown},u,{onClose:e.close,onSelect:function(t){return e.handleTimeSelect(t,"start")}})))),r().createElement("div",{tabIndex:"-1",style:{display:"end"===l?"block":"none"},className:"rw-datetimepicker rw-widget rw-has-neither ".concat(o?"rw-state-focus":"")},e.renderInput(n.endDate,a,"",s,c,!1,!0,{width:"90%"}),r().createElement("span",null,r().createElement("button",{tabIndex:"-1",title:"Select Time",type:"button","aria-disabled":"false","aria-label":"Select Time",className:"rw-btn-time rw-btn",onClick:e.toggleTime},r().createElement("span",{"aria-hidden":"true",className:"rw-i rw-i-clock-o"}))),r().createElement("div",{className:"dateTime-picker-hours",style:{display:"block",background:"white",position:"relative",zIndex:1}},r().createElement(v.A,k({ref:function(t){e.attachTimeEndRef=t},value:(null==n?void 0:n.endDate)||"",onMouseDown:e.handleMouseDown},u,{onClose:e.close,onSelect:function(t){return e.handleTimeSelect(t,"end")}}))))))}),P(e,"renderHours",function(){var t=e.state,n=t.inputValue,a=t.operator,o=t.focused,l=e.props,i=l.toolTip,s=l.placeholder,c=l.tabIndex,u=l.popupPosition,p=n.endDate||n.startDate?Object.values(n).join(" : "):"";return r().createElement("div",{tabIndex:"-1",onKeyDown:e.handleKeyDown,onBlur:e.handleWidgetBlur,onFocus:e.handleWidgetFocus,className:"rw-datetimepicker range-time-input rw-widget rw-has-neither ".concat(o?"rw-state-focus":"")},e.renderInput(p,a,i,s,c,!1,!0),r().createElement("span",{className:"rw-select"},r().createElement(D.A,{disabled:!1,placement:u,triggerScrollableElement:document.querySelector(".feature-grid-container .react-grid-Container .react-grid-Canvas"),content:r().createElement("div",{className:"shadow-soft picker-container time"},e.renderHoursRange())},r().createElement("button",{disabled:e.props.disabled,tabIndex:"-1",title:"Select Date",type:"button","aria-disabled":e.props.disabled,"aria-label":"Select Date",className:"rw-btn-calendar rw-btn",onClick:e.toggleHandler},r().createElement("span",{"aria-hidden":"true",className:"rw-i rw-i-clock-o"})))))}),P(e,"rangeTabClassName",function(t){var n=e.state.openRangeInputs;return"range-tab"+(n!==t&&n?" selected":"")}),P(e,"renderCalendarRange",function(){var t,n,a,o,l,i,s,u,p=e.state,d=p.openRangeInputs,m=p.inputValue,f=h()(e.props,["placeholder","calendar","time","onChange","value","toolTip","onMouseOver"]);return r().createElement("div",{onMouseDown:e.handleMouseDown,style:{display:"flex",flexDirection:"column"}},r().createElement("div",{style:{display:"flex",flexDirection:"row"}},r().createElement("div",{onClick:e.toggleStart,className:e.rangeTabClassName("start")},r().createElement("strong",{style:{fontSize:"12px"}},r().createElement(S.A,{msgId:"featuregrid.attributeFilter.rangeTab.start"})),r().createElement("span",null,m.startDate||(0,E.kA)(e.context.messages,"featuregrid.attributeFilter.placeholders.range"))),r().createElement("div",{onClick:e.toggleEnd,className:e.rangeTabClassName("end")},r().createElement("strong",{style:{fontSize:"12px"}},r().createElement(S.A,{msgId:"featuregrid.attributeFilter.rangeTab.end"})),r().createElement("span",null,m.endDate||(0,E.kA)(e.context.messages,"featuregrid.attributeFilter.placeholders.range")))),r().createElement("div",{style:{display:"flex",flexDirection:"column",overflow:"auto"}},r().createElement("div",{style:{display:"start"===d?"block":"none"}},r().createElement(c.Calendar,k({tabIndex:"-1",ref:function(t){e.attachCalStartRef=t},onMouseDown:e.handleMouseDown,onChange:function(t){return e.handleCalendarChange(t,"start")}},f,{value:w()((null===(t=e.state.date)||void 0===t?void 0:t.startDate)||(null===(n=e.props.value)||void 0===n?void 0:n.startDate))?void 0:new Date((null===(a=e.state.date)||void 0===a?void 0:a.startDate)||(null===(o=e.props.value)||void 0===o?void 0:o.startDate))}))),r().createElement("div",{style:{display:"end"===d?"block":"none"}},r().createElement(c.Calendar,k({tabIndex:"-1",ref:function(t){e.attachCalEndRef=t},onMouseDown:e.handleMouseDown,onChange:function(t){return e.handleCalendarChange(t,"end")}},f,{value:w()((null===(l=e.state.date)||void 0===l?void 0:l.endDate)||(null===(i=e.props.value)||void 0===i?void 0:i.endDate))?void 0:new Date((null===(s=e.state.date)||void 0===s?void 0:s.endDate)||(null===(u=e.props.value)||void 0===u?void 0:u.endDate))})))))}),P(e,"renderCalendar",function(){var t=e.state,n=t.inputValue,a=t.operator,o=t.focused,l=e.props,i=l.toolTip,s=l.placeholder,c=l.tabIndex,u=l.popupPosition,p=l.type,d=l.className,m=n.endDate||n.startDate?Object.values(n).join(" : "):"";return r().createElement("div",{tabIndex:"-1",onKeyDown:e.handleKeyDown,ref:function(t){e.calendarRef=t},onBlur:function(){return e.handleWidgetBlur(p)},onFocus:e.handleWidgetFocus,className:"rw-datetimepicker range-time-input rw-widget ".concat(o?"rw-state-focus":"")},e.renderInput(m,a,i,s,c,!0,!1),r().createElement("span",{className:"rw-select"},r().createElement(D.A,{disabled:!1,placement:u,triggerScrollableElement:document.querySelector(".feature-grid-container .react-grid-Container .react-grid-Canvas"),content:r().createElement("div",{className:"shadow-soft picker-container range ".concat(d)},e.renderCalendarRange(),e.renderQuickTimeSelectors())},r().createElement("button",{disabled:e.props.disabled,tabIndex:"-1",title:"Select Date",type:"button","aria-disabled":e.props.disabled,"aria-label":"Select Date",className:"rw-btn-calendar rw-btn",onClick:e.toggleHandler},r().createElement("span",{"aria-hidden":"true",className:"rw-i rw-i-calendar"})))))}),P(e,"renderDateTimeRange",function(){var t,n,a,o,l,i,s,u,p=e.state,d=p.inputValue,m=p.operator,f=p.openRangeInputs,g=p.openTime,b=e.props.tabIndex,y=h()(e.props,["placeholder","calendar","time","onChange","value","toolTip","onMouseOver"]),D=(0,E.kA)(e.context.messages,"featuregrid.attributeFilter.placeholders.time");return r().createElement("div",{onMouseDown:e.handleMouseDown,style:{display:"flex",flexDirection:"column"}},r().createElement("div",{style:{display:"flex",flexDirection:"row"}},r().createElement("div",{onClick:e.toggleStart,className:e.rangeTabClassName("start")},r().createElement("strong",{style:{fontSize:"12px"}},r().createElement(S.A,{msgId:"featuregrid.attributeFilter.rangeTab.start"})),r().createElement("span",null,d.startDate||(0,E.kA)(e.context.messages,"featuregrid.attributeFilter.placeholders.range"))),r().createElement("div",{onClick:e.toggleEnd,className:e.rangeTabClassName("end")},r().createElement("strong",{style:{fontSize:"12px"}},r().createElement(S.A,{msgId:"featuregrid.attributeFilter.rangeTab.end"})),r().createElement("span",null,d.endDate||(0,E.kA)(e.context.messages,"featuregrid.attributeFilter.placeholders.range")))),r().createElement("div",{style:{display:"flex",flexDirection:"column",overflow:"auto"}},r().createElement("div",{className:"date-time-container",style:{display:"start"===f?"block":"none"}},r().createElement(c.Calendar,k({tabIndex:"-1",ref:function(t){e.attachCalStartRef=t},onMouseDown:e.handleMouseDown,onChange:function(t){return e.handleCalendarChange(t,"start")}},y,{value:w()((null===(t=e.state.date)||void 0===t?void 0:t.startDate)||(null===(n=e.props.value)||void 0===n?void 0:n.startDate))?void 0:new Date((null===(a=e.state.date)||void 0===a?void 0:a.startDate)||(null===(o=e.props.value)||void 0===o?void 0:o.startDate))})),r().createElement("div",{style:{display:"start"===f?"block":"none"}},r().createElement("div",{className:"date-time-hour-input"},e.renderInput(d.startDate,m,"",D,b,!1,!0,{},"form-control"),r().createElement("span",{className:"time-icon"},r().createElement("button",{style:{width:"100%"},tabIndex:"-1",title:"Select Time",type:"button","aria-disabled":"false","aria-label":"Select Time",className:"rw-btn-time rw-btn",onClick:e.toggleTime},r().createElement("span",{"aria-hidden":"true",className:"rw-i rw-i-clock-o"})))),r().createElement("div",{className:"dateTime-picker-hours",style:{display:g?"block":"none",background:"white",position:"relative",zIndex:1}},r().createElement(v.A,k({style:{maxHeight:"120px"},value:(null==d?void 0:d.startDate)||"",ref:function(t){e.attachTimeStartRef=t},onMouseDown:e.handleMouseDown},y,{onClose:e.close,onSelect:function(t){return e.handleTimeSelect(t,"start")}}))))),r().createElement("div",{className:"date-time-container",style:{display:"end"===f?"block":"none"}},r().createElement(c.Calendar,k({tabIndex:"-1",ref:function(t){e.attachCalEndRef=t},onMouseDown:e.handleMouseDown,onChange:function(t){return e.handleCalendarChange(t,"end")}},y,{value:w()((null===(l=e.state.date)||void 0===l?void 0:l.endDate)||(null===(i=e.props.value)||void 0===i?void 0:i.endDate))?void 0:new Date((null===(s=e.state.date)||void 0===s?void 0:s.endDate)||(null===(u=e.props.value)||void 0===u?void 0:u.endDate))})),r().createElement("div",{style:{display:"end"===f?"block":"none"}},r().createElement("div",{className:"date-time-hour-input"},e.renderInput(d.endDate,m,"",D,b,!1,!0,{},"form-control"),r().createElement("span",{className:"time-icon"},r().createElement("button",{style:{width:"100%"},tabIndex:"-1",title:"Select Time",type:"button","aria-disabled":"false","aria-label":"Select Time",className:"rw-btn-time rw-btn",onClick:e.toggleTime},r().createElement("span",{"aria-hidden":"true",className:"rw-i rw-i-clock-o"})))),r().createElement("div",{className:"dateTime-picker-hours",style:{display:g?"block":"none",background:"white",position:"relative",zIndex:1}},r().createElement(v.A,k({style:{maxHeight:"120px"},value:(null==d?void 0:d.endDate)||"",ref:function(t){e.attachTimeEndRef=t},onMouseDown:e.handleMouseDown},y,{onClose:e.close,onSelect:function(t){return e.handleTimeSelect(t,"end")}})))))))}),P(e,"renderCalendarTimeDate",function(){var t=e.state,n=t.inputValue,a=t.operator,o=t.focused,l=e.props,i=l.toolTip,s=l.placeholder,c=l.tabIndex,u=l.popupPosition,p=l.type,m=l.className,f=n.endDate||n.startDate?Object.values(n).join(" : "):"";return r().createElement("div",{tabIndex:"-1",onKeyDown:e.handleKeyDown,ref:function(t){e.dateTimeRef=t},onBlur:function(){return e.handleWidgetBlur(p)},onFocus:e.handleWidgetFocus,className:"rw-datetimepicker range-time-input rw-widget ".concat(o?"rw-state-focus":"")},e.renderInput(f,a,i,s,c,!0,!0),r().createElement("span",{className:"rw-select"},r().createElement(D.A,{disabled:!1,placement:u,triggerScrollableElement:document.querySelector(".feature-grid-container .react-grid-Container .react-grid-Canvas"),content:r().createElement("div",{className:"shadow-soft picker-container date-time range ".concat(m)},e.renderDateTimeRange(),e.renderQuickTimeSelectors())},r().createElement("button",{disabled:e.props.disabled,tabIndex:"-1",title:"Select Date",type:"button","aria-disabled":e.props.disabled,"aria-label":"Select Date",className:"rw-btn-calendar rw-btn",onClick:e.toggleHandler},r().createElement(d.e6,{glyph:"date-time"})))))}),P(e,"inputFlush",!1),P(e,"ignoreBlur",!1),P(e,"handleWidgetFocus",function(){e.props.disabled||(e.setState({focused:!0}),e.ignoreBlur=!1)}),P(e,"handleWidgetBlur",function(t){e.ignoreBlur||("date"===t?e.calendarRef.click():"date-time"===t&&e.dateTimeRef.click(),e.setState({openRangeContainer:"",focused:!1}))}),P(e,"rangeContainerMouseLeaveHandler",function(){e.setState({openRangeContainer:!1})}),P(e,"handleMouseDown",function(){e.ignoreBlur=!0}),P(e,"toggleStart",function(){"start"!==e.state.openRangeInputs&&e.setState({openRangeInputs:"start",openTime:!1,openDateTCalendar:!1})}),P(e,"toggleEnd",function(){"end"!==e.state.openRangeInputs&&e.setState({openRangeInputs:"end",openTime:!1,openDateTCalendar:!1})}),P(e,"toggleTime",function(){e.setState(function(e){return{openTime:!e.openTime}})}),P(e,"toggleHandler",function(){e.setState(function(e){return{openRangeContainer:!e.openRangeContainer,openTime:!1,openDateTCalendar:!1}})}),P(e,"handleInputBlur",function(){if(e.inputFlush){var t=e.parse(e.state.inputValue),n=e.format(t);e.setState({inputValue:n,date:t}),e.inputFlush=!1,e.props.onChange(t,"".concat(e.state.operator).concat(n))}}),P(e,"handleKeyDown",function(t){"Escape"!==t.key||e.close()}),P(e,"setDateFromValueProp",function(t,n){if(f()(null==t?void 0:t.startDate)&&null!=t&&t.startDate||f()(null==t?void 0:t.endtDate)&&null!=t&&t.endtDate){var a={startDate:e.format(null==t?void 0:t.startDate),endDate:e.format(null==t?void 0:t.endDate)};e.setState(function(e){return{date:I({},t),inputValue:a,operator:n||e.operator}})}}),P(e,"parse",function(t){var n=e.props.culture,a=e.getFormat();if(t){var r=V(n,t,a);if(r.isValid())return r.toDate()}return null}),P(e,"format",function(t){if(!t)return"";var n=e.props.culture,a=e.getFormat(),r=V(n,t);return r.isValid()?r.format(a):""}),P(e,"close",function(){e.setState({openRangeContainer:""})}),P(e,"openHandler",function(){var t=e.props,n=t.calendar,a=t.time;return!n&&a?e.setState({open:"time"}):n&&!a?e.setState({open:"date"}):""}),P(e,"handleValueChange",function(t){var n=t.target.value,a=/\s*(!==|!=|<>|<=|>=|===|==|=|<|>)?(.*)/.exec(n);e.setState({mainInputValue:a[2],operator:a[1]||""}),e.inputFlush=!0}),P(e,"handleCalendarChange",function(t,n){var a=_(t,new Date(t)),r=e.format(a),o=I({},e.state.inputValue);"start"===n?o.startDate=r:o.endDate=r;var l={startDate:"start"===n?a:e.state.date.startDate,endDate:"end"===n?a:e.state.date.endDate},i=l.startDate?l.startDate.getTime():0,s=l.endDate?l.endDate.getTime():0;l.startDate&&l.endDate&&s<i?e.setState({date:l,inputValue:o,isInputNotValid:!0}):(e.setState({date:l,inputValue:o,isInputNotValid:!1}),"start"===n?e.props.onChange(a,o.startDate,"start"):"end"===n&&e.props.onChange(a,o.endDate,"end"))}),P(e,"handleTimeSelect",function(t,n){var a=("start"===n?e.state.date.startDate:e.state.date.endDate)||new Date,r=_(a,t.date),o=e.format(r),l=I({},e.state.inputValue);"start"===n?l.startDate=o:l.endDate=o;var i={startDate:"start"===n?r:e.state.date.startDate,endDate:"end"===n?r:e.state.date.endDate},s=i.startDate?i.startDate.getTime():0,c=i.endDate?i.endDate.getTime():0;i.startDate&&i.endDate&&c<s?e.setState({inputValue:l,date:i,openTime:"",isInputNotValid:!0}):(e.setState({inputValue:l,openTime:"",date:i,isInputNotValid:!1}),"start"===n?e.props.onChange(r,l.startDate,"start"):"end"===n&&e.props.onChange(r,l.endDate,"end"))}),P(e,"attachTimeStartRef",function(t){return e.timeStartRef=t}),P(e,"attachTimeEndRef",function(t){return e.timeEndRef=t}),P(e,"attachCalStartRef",function(t){return e.calStartRef=t}),P(e,"attachCalEndRef",function(t){return e.calEndRef=t}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}(t,e),n=t,(a=[{key:"componentDidMount",value:function(){var e=this.props,t=e.value,n=e.operator;this.setDateFromValueProp(t,n)}},{key:"componentDidUpdate",value:function(e){var t,n,a,r;if((null===(t=e.value)||void 0===t?void 0:t.startDate)!==(null===(n=this.props.value)||void 0===n?void 0:n.startDate)||(null===(a=e.value)||void 0===a?void 0:a.endDate)!==(null===(r=this.props.value)||void 0===r?void 0:r.endDate)){var o=this.props,l=o.value,i=o.operator;this.setDateFromValueProp(l,i)}}},{key:"render",value:function(){var e=this.props.type;return"time"===e?this.renderHours():"date"===e?this.renderCalendar():this.renderCalendarTimeDate()}}])&&O(n.prototype,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a}(a.Component);P(B,"propTypes",{className:l().string,format:l().string,type:l().string,placeholder:l().string,onChange:l().func,calendar:l().bool,popupPosition:l().oneOf(["top","bottom"]),time:l().bool,value:l().any,operator:l().string,culture:l().string,toolTip:l().string,tabIndex:l().string,options:l().object,disabled:l().bool,quickDateTimeSelectors:l().array}),P(B,"defaultProps",{placeholder:"Type date...",calendar:!0,time:!0,onChange:function(){},value:null,popupPosition:"bottom"}),P(B,"contextTypes",{messages:l().object,locale:l().string});const L=B},989105(e,t,n){n.d(t,{H:()=>l});var a=n(102685);function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var o=(0,n(159452).A)({}).and,l=function(e){var t,n=e.layerName,l=e.layerFilter,i=e.attribute,s=e.maxFeatures,c=e.startIndex,u=e.value,p=e.sortByAttribute,d=e.sortOrder,m=u?'<ogc:PropertyIsLike matchCase="false" wildCard="*" singleChar="." escapeChar="!">   <ogc:PropertyName>'+i+"</ogc:PropertyName>   <ogc:Literal>*"+u+"*</ogc:Literal></ogc:PropertyIsLike>":"",f=l&&!l.disabled&&(0,a.R9)(l)?(0,a.hG)(l,"1.1.0","ogc"):[];return'<wps:Execute xmlns:wps="http://www.opengis.net/wps/1.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" version="1.0.0" service="WPS" xsi:schemaLocation="http://www.opengis.net/wps/1.0.0 http://schemas.opengis.net/wps/1.0.0/wpsAll.xsd">  <ows:Identifier xmlns:ows="http://www.opengis.net/ows/1.1">gs:PagedUnique</ows:Identifier>  <wps:DataInputs>    <wps:Input>      <ows:Identifier xmlns:ows="http://www.opengis.net/ows/1.1">features</ows:Identifier>      <ows:Title xmlns:ows="http://www.opengis.net/ows/1.1">features</ows:Title>      <wps:Data />      <wps:Reference xmlns:xlink="http://www.w3.org/1999/xlink" mimeType="text/xml" xlink:href="http://geoserver/wfs" method="POST">        <wps:Body>         <wfs:GetFeature xmlns:wfs="http://www.opengis.net/wfs" service="WFS" version="1.0.0">           <wfs:Query typeName="'+n+'">'+(m.length>0||f.length>0?'<ogc:Filter xmlns:ogc="http://www.opengis.net/ogc" xmlns:gml="http://www.opengis.net/gml">'+o.apply(void 0,(t=f,function(e){if(Array.isArray(e))return r(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([m]))+"</ogc:Filter>":"")+'             <ogc:SortBy xmlns:ogc="http://www.opengis.net/ogc">               <ogc:SortProperty>                 <ogc:PropertyName>'+(null!=p?p:i)+"</ogc:PropertyName>"+("DESC"===(null!=d?d:"ASC")?"<ogc:SortOrder>DESC</ogc:SortOrder>":"")+'               </ogc:SortProperty>             </ogc:SortBy>           </wfs:Query>         </wfs:GetFeature>       </wps:Body>     </wps:Reference>   </wps:Input>   <wps:Input>     <ows:Identifier xmlns:ows="http://www.opengis.net/ows/1.1">fieldName</ows:Identifier>     <ows:Title xmlns:ows="http://www.opengis.net/ows/1.1">fieldName</ows:Title>     <wps:Data>       <wps:LiteralData>'+i+'</wps:LiteralData>     </wps:Data>   </wps:Input>   <wps:Input>     <ows:Identifier xmlns:ows="http://www.opengis.net/ows/1.1">maxFeatures</ows:Identifier>     <ows:Title xmlns:ows="http://www.opengis.net/ows/1.1">maxFeatures</ows:Title>     <wps:Data>       <wps:LiteralData>'+s+'</wps:LiteralData>     </wps:Data>   </wps:Input>   <wps:Input>     <ows:Identifier xmlns:ows="http://www.opengis.net/ows/1.1">startIndex</ows:Identifier>     <ows:Title xmlns:ows="http://www.opengis.net/ows/1.1">startIndex</ows:Title>     <wps:Data>       <wps:LiteralData>'+c+'</wps:LiteralData>     </wps:Data>   </wps:Input> </wps:DataInputs> <wps:ResponseForm>   <wps:RawDataOutput mimeType="application/json">     <ows:Identifier xmlns:ows="http://www.opengis.net/ows/1.1">result</ows:Identifier>   </wps:RawDataOutput> </wps:ResponseForm></wps:Execute>'}}}]);