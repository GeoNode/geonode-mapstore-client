(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[5579,4095],{90825:(e,t,n)=>{"use strict";n.d(t,{H:()=>h,k:()=>g});var r=n(80416),o=n(67007),i=n(32420),l=n(75875),a=n.n(l),u=n(72500),c=n.n(u),p=n(27418),s=n.n(p),f=n(5055),d=n.n(f);const y=function(e,t){var n=c().parse(e,!0),r=c().format(s()({},n,{query:s()({service:"WCS",version:"1.1.0",identifiers:t,request:"DescribeCoverage"},n.query)}));return a().get(r).then((function(e){var t;return d().parseString(e.data,{explicitArray:!1},(function(e,n){t=n})),t}))};var b=n(24262),m=n(86494);function h(e,t,n){return function(l){return o.ZP.describeLayer(e,t.name,n).then((function(n){return n&&"WFS"===n.owsType?i.describeFeatureTypeOGCSchemas(e,n.name).then((function(e){var o=(0,m.get)(e,"complexType[0].complexContent.extension.sequence.element"),i=(0,m.head)(o&&o.filter((function(e){return"the_geom"===e.name||0===e.type.prefix.indexOf("gml")})));return i=i&&i.type.localPart,n.geometryType=i&&i.split("PropertyType")[0],l((0,r.tV)(t.id,"id",{describeLayer:n,describeFeatureType:e}))})).catch((function(){return l((0,r.tV)(t.id,"id",{describeLayer:n||{error:"no describe feature found"}}))})):(n&&"WCS"===n.owsType&&y(e,n.name).then((function(e){var o=(0,m.get)(e,"wcs:CoverageDescriptions.wcs:CoverageDescription.wcs:Range.wcs:Field.wcs:Axis.wcs:AvailableKeys.wcs:Key");n.bands=o&&"string"==typeof o?["1"]:o.map((function(e,t){return t+1+""})),l((0,r.tV)(t.id,"id",{describeLayer:n,describeCoverage:e}))})).catch((function(){return l((0,r.tV)(t.id,"id",{describeLayer:n||{error:"no describe coverage found"}}))})),l((0,r.tV)(t.id,"id",{describeLayer:n||{error:"no describe Layer found"}})))})).catch((function(e){return l((0,r.tV)(t.id,"id",{describeLayer:{error:e.status}}))}))}}function g(e,t){var n=(0,b.getCapabilitiesUrl)(e);return function(i){return i((0,r.tV)(e.id,"id",{capabilitiesLoading:!0})),o.ZP.getCapabilities(n,t).then((function(t){var n=o.ZP.parseLayerCapabilities(t,e);i(n?(0,r.tV)(e.id,"id",(0,b.formatCapabitiliesOptions)(n)):(0,r.tV)(e.id,"id",{capabilitiesLoading:null,capabilities:{error:"error getting capabilities",details:"no layer info"},description:null}))})).catch((function(t){i((0,r.tV)(e.id,"id",{capabilitiesLoading:null,capabilities:{error:"error getting capabilities",details:t},description:null}))}))}}},80416:(e,t,n)=>{"use strict";n.d(t,{yS:()=>r,Zz:()=>o,ms:()=>i,ih:()=>l,OX:()=>a,sb:()=>u,K$:()=>c,k7:()=>p,cX:()=>s,x9:()=>f,vs:()=>d,oE:()=>y,Po:()=>b,qv:()=>m,cI:()=>h,g6:()=>g,I4:()=>v,l$:()=>O,Xv:()=>E,k3:()=>w,CQ:()=>P,R8:()=>S,HN:()=>F,sH:()=>x,c7:()=>R,_7:()=>j,eF:()=>C,O6:()=>T,ED:()=>_,RP:()=>N,sF:()=>k,VP:()=>L,He:()=>I,vO:()=>B,WO:()=>A,bh:()=>D,pV:()=>U,MK:()=>V,ZF:()=>q,tV:()=>M,Dv:()=>Z,Yz:()=>G,kI:()=>$,XG:()=>W,A4:()=>H,Rp:()=>Y,ct:()=>z,oh:()=>K,$h:()=>X,ud:()=>Q,Qr:()=>J,LR:()=>ee,nN:()=>te,UG:()=>ne,F5:()=>re,c9:()=>oe,Jh:()=>ie,Xy:()=>le});var r="CHANGE_LAYER_PROPERTIES",o="LAYERS:CHANGE_LAYER_PARAMS",i="CHANGE_GROUP_PROPERTIES",l="TOGGLE_NODE",a="SORT_NODE",u="REMOVE_NODE",c="UPDATE_NODE",p="MOVE_NODE",s="LAYER_LOADING",f="LAYER_LOAD",d="LAYER_ERROR",y="ADD_LAYER",b="ADD_GROUP",m="REMOVE_LAYER",h="SHOW_SETTINGS",g="HIDE_SETTINGS",v="UPDATE_SETTINGS",O="REFRESH_LAYERS",E="LAYERS:UPDATE_LAYERS_DIMENSION",w="LAYERS_REFRESHED",P="LAYERS_REFRESH_ERROR",S="LAYERS:BROWSE_DATA",F="LAYERS:DOWNLOAD",x="LAYERS:CLEAR_LAYERS",R="LAYERS:SELECT_NODE",j="LAYERS:FILTER_LAYERS",C="LAYERS:SHOW_LAYER_METADATA",T="LAYERS:HIDE_LAYER_METADATA",_="LAYERS:UPDATE_SETTINGS_PARAMS";function N(e,t,n){return{type:h,node:e,nodeType:t,options:n}}function k(){return{type:g}}function L(e){return{type:v,options:e}}function I(e,t){return{type:r,newProperties:t,layer:e}}function B(e,t){return{type:o,layer:e,params:t}}function A(e,t){return{type:i,newProperties:t,group:e}}function D(e,t,n){return{type:l,node:e,nodeType:t,status:!n}}function U(e){return{type:"CONTEXT_NODE",node:e}}function V(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:a,node:e,order:t,sortLayers:n}}function q(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:u,node:e,nodeType:t,removeEmpty:n}}function M(e,t,n){return{type:c,node:e,nodeType:t,options:n}}function Z(e,t,n){return{type:p,node:e,groupId:t,index:n}}function G(e){return{type:s,layerId:e}}function $(e,t){return{type:f,layerId:e,error:t}}function W(e,t,n){return{type:d,layerId:e,tilesCount:t,tilesErrorCount:n}}function H(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:y,layer:e,foreground:t}}function Y(e,t,n){return{type:b,group:e,parent:t,options:n}}function z(e,t){return{type:r,layer:e,newProperties:{_v_:t||(new Date).getTime()}}}function K(e){return{type:w,layers:e}}function X(e,t){return{type:P,layers:e,error:t}}function Q(e,t,n,r){return{type:E,dimension:e,value:t,options:n,layers:r}}function J(e){return{type:S,layer:e}}function ee(e){return{type:F,layer:e}}function te(){return{type:x}}function ne(e,t,n){return{type:R,id:e,nodeType:t,ctrlKey:n}}function re(e){return{type:j,text:e}}function oe(e,t){return{type:C,metadataRecord:e,maskLoading:t}}function ie(){return{type:T}}function le(e,t){return{type:_,newParams:e,update:t}}},67007:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>F});var r=n(72500),o=n.n(r),i=n(86494),l=n.n(i),a=n(27418),u=n.n(a),c=n(5055),p=n.n(c),s=n(75875),f=n.n(s),d=n(37275),y=n(90183);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g={},v=function(e){var t=(l().isArray(e)&&e||e.split(","))[0],n=o().parse(t,!0);return o().format(u()({},n,{search:null},{query:u()({service:"WMS",version:"1.3.0",request:"GetCapabilities"},n.query)}))},O=function(e){var t=e&&e.Title,n=e.LogoURL&&m(m({},l().get(e,"LogoURL.$")||{}),{},{format:l().get(e,"LogoURL.Format")}),r=l().get(e,'OnlineResource.$["xlink:href"]');return{title:t,logo:n,imageUrl:l().get(e,'LogoURL.OnlineResource.$["xlink:href"]'),link:r}},E=function e(t){return t.Layer?(l().isArray(t.Layer)&&t.Layer||[t.Layer]).reduce((function(t,n){return t.concat(e(n)).concat(n.Layer&&n.Name?[n]:[])}),[]):t.Name&&[t]||[]},w=function(e){return e.Request&&e.Request.GetMap&&e.Request.GetMap.DCPType&&e.Request.GetMap.DCPType.HTTP&&e.Request.GetMap.DCPType.HTTP.Get&&e.Request.GetMap.DCPType.HTTP.Get.OnlineResource&&e.Request.GetMap.DCPType.HTTP.Get.OnlineResource.$||void 0},P=function(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,c=(r.WMS_Capabilities||r.WMT_MS_Capabilities||{}).Capability,p=(r.WMS_Capabilities||r.WMT_MS_Capabilities||{}).Service,s=w(c),f=c.Layer&&(null===(e=c.Layer.SRS||c.Layer.CRS)||void 0===e?void 0:e.map((function(e){return e.toUpperCase()})))||[],d=c.Layer&&c.Layer.Attribution&&O(c.Layer.Attribution),y=c.Request&&c.Request.GetMap&&c.Request.GetMap.Format||[],b=E(c),m=l().isArray(b)?b:[b],h=m.filter((function(e){return!a||-1!==e.Name.toLowerCase().indexOf(a.toLowerCase())||e.Title&&-1!==e.Title.toLowerCase().indexOf(a.toLowerCase())||e.Abstract&&-1!==e.Abstract.toLowerCase().indexOf(a.toLowerCase())}));return{numberOfRecordsMatched:h.length,numberOfRecordsReturned:Math.min(i,h.length),nextRecord:o+Math.min(i,h.length)+1,service:p,layerOptions:{version:(null===(t=r.WMS_Capabilities||r.WMT_MS_Capabilities)||void 0===t||null===(n=t.$)||void 0===n?void 0:n.version)||"1.3.0"},records:h.filter((function(e,t){return t>=o-1&&t<o-1+i})).map((function(e){return u()({},e,{formats:y,onlineResource:s,SRS:f,credits:e.Attribution?O(e.Attribution):d})}))}},S=function(e,t,n,r){var o=g[e];return o&&(new Date).getTime()<o.timestamp+1e3*((0,d.u8)("cacheExpire")||60)?new Promise((function(e){e(P(o.data,t,n,r))})):f().get(v(e)).then((function(o){var i;return p().parseString(o.data,{explicitArray:!1},(function(e,t){i=t})),g[e]={timestamp:(new Date).getTime(),data:i},P(i,t,n,r)}))};const F={flatLayers:E,parseUrl:v,getDimensions:function(e){return l().castArray(e.Dimension||e.dimension||[]).map((function(t,n){var r=e.Extent&&l().castArray(e.Extent)[n]||e.extent&&l().castArray(e.extent)[n];return{name:t.$.name,units:t.$.units,unitSymbol:t.$.unitSymbol,default:t.$.default||r&&r.$.default,values:t._&&t._.split(",")||r&&r._&&r._.split(",")}}))},getCapabilities:function(e,t){var r=o().parse(e,!0),i=o().format(u()({},r,{query:u()({service:"WMS",version:"1.1.1",request:"GetCapabilities"},r.query)}));return new Promise((function(e){Promise.all([n.e(9942),n.e(7260)]).then(function(){var r=n(67260).unmarshaller;e(f().get(v(i)).then((function(e){var n;if(t)return p().parseString(e.data,{explicitArray:!1},(function(e,t){n=t})),n;var o=r.unmarshalString(e.data);return o&&o.value})))}.bind(null,n)).catch(n.oe)}))},describeLayer:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=o().parse(e,!0),l=o().format(u()({},i,{query:u()({service:"WMS",version:"1.1.1",layers:t,request:"DescribeLayer"},i.query,r.query||{})}));return new Promise((function(e){Promise.all([n.e(9942),n.e(7260)]).then(function(){var t=n(67260).unmarshaller;e(f().get(v(l)).then((function(e){var n=t.unmarshalString(e.data);return n&&n.value&&n.value.layerDescription&&n.value.layerDescription[0]})))}.bind(null,n)).catch(n.oe)}))},getRecords:S,describeLayers:function(e,t){var n=o().parse(e,!0),r=o().format(u()({},n,{query:u()({service:"WMS",version:"1.1.1",layers:t,request:"DescribeLayer"},n.query)}));return f().get(v(r)).then((function(e){var t;return p().parseString(e.data,{explicitArray:!1},(function(e,n){t=n&&n.WMS_DescribeLayerResponse&&n.WMS_DescribeLayerResponse.LayerDescription})),(t=Array.isArray(t)?t:[t]).map((function(e){return m(m({},e&&e.$||{}),{},{layerName:e&&e.$&&e.$.name,query:m({},e&&e.query&&e.query.$||{})})}))}))},textSearch:function(e,t,n,r){return S(e,t,n,r)},parseLayerCapabilities:function e(t,n,r){return l().castArray(r||l().get(t,"capability.layer.layer")).reduce((function(r,o){return r||(!o.name&&o.layer?e(t,n,l().castArray(o.layer)):2===n.name.split(":").length&&o.name&&2===o.name.split(":").length?n.name===o.name&&o:o.name&&2===o.name.split(":").length?n.name===o.name.split(":")[1]&&o:2===n.name.split(":").length?n.name.split(":")[1]===o.name&&o:n.name===o.name&&o)}),null)},getBBox:function(e,t){for(var n=e,r=n.EX_GeographicBoundingBox||n.exGeographicBoundingBox||(0,y.getWMSBoundingBox)(n.BoundingBox)||n.LatLonBoundingBox&&n.LatLonBoundingBox.$||n.latLonBoundingBox;!r&&n.Layer&&n.Layer.length;)r=(n=n.Layer[0]).EX_GeographicBoundingBox||n.exGeographicBoundingBox||(0,y.getWMSBoundingBox)(n.BoundingBox)||n.LatLonBoundingBox&&n.LatLonBoundingBox.$||n.latLonBoundingBox;r||(r={westBoundLongitude:-180,southBoundLatitude:-90,eastBoundLongitude:180,northBoundLatitude:90});var o={extent:[r.westBoundLongitude||r.minx,r.southBoundLatitude||r.miny,r.eastBoundLongitude||r.maxx,r.northBoundLatitude||r.maxy],crs:"EPSG:4326"};return t?{crs:o.crs,bounds:{minx:o.extent[0],miny:o.extent[1],maxx:o.extent[2],maxy:o.extent[3]}}:o},reset:function(){Object.keys(g).forEach((function(e){delete g[e]}))}}},15402:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(45697),o=n.n(r),i=n(24852),l=n.n(i);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=n(68195).FormattedHTMLMessage,b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(r);if(o){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return s(this,e)});function a(){return u(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return this.context.intl?l().createElement(y,{id:this.props.msgId,values:this.props.msgParams}):l().createElement("span",null,this.props.msgId||"")}}])&&c(t.prototype,n),a}(l().Component);d(b,"propTypes",{msgId:o().string.isRequired,msgParams:o().object}),d(b,"contextTypes",{intl:o().object});const m=b},38167:(e,t,n)=>{"use strict";n.d(t,{k9:()=>E,v0:()=>O,ZP:()=>P});var r=n(45697),o=n.n(r),i=n(24852),l=n.n(i),a=n(68195);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(r);if(o){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function u(){return p(this,u),i.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){return this.context.intl?l().createElement(a.FormattedDate,c({value:this.props.value},this.props.dateParams)):l().createElement("span",null,this.props.value&&this.props.value.toString()||"")}}])&&s(t.prototype,n),u}(l().Component);b(m,"propTypes",{value:o().object,dateParams:o().object}),b(m,"contextTypes",{intl:o().object}),b(m,"defaultProps",{value:new Date});const h=m;var g=n(15402),v=n(5346),O=v.Z,E=g.Z,w=h;const P={Message:v.Z,HTML:E,DateFormat:w}},48384:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(24852),o=n.n(r),i=n(45697),l=n.n(i);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d,y,b,m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(a,e);var t,n,r,i,l=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(r);if(i){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return s(this,e)});function a(){return u(this,a),l.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props.item;return e.pagination?o().createElement("span",null,e[this.props.textField]," ",e.pagination," "):o().createElement("span",null,e[this.props.textField])}}])&&c(t.prototype,n),a}(o().Component);d=m,y="propTypes",b={item:l().object,textField:l().string,valueField:l().string},y in d?Object.defineProperty(d,y,{value:b,enumerable:!0,configurable:!0,writable:!0}):d[y]=b;const h=m},4201:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var r=n(24852),o=n.n(r),i=n(27418),l=n.n(i),a=n(86638),u=n(45697),c=n.n(u),p=n(30294),s=n(50966),f=n(20),d=n(5346);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(c,e);var t,n,r,i,u=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=O(r);if(i){var n=O(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return v(this,e)});function c(){return m(this,c),u.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){var e=this,t=l()({},{borderColor:"#dedede"},this.props.style);this.props.fieldException&&(t=l()({},t,{borderColor:"#FF0000"}));var n=this.props.multivalue?f.Multiselect:f.DropdownList,r=null!==this.props.valueField&&null!==this.props.textField?o().createElement(n,b({},this.props.options,{busy:this.props.busy,disabled:this.props.disabled,itemComponent:this.props.itemComponent,valueField:this.props.valueField,textField:this.props.textField,data:this.props.fieldOptions,value:this.props.fieldValue,caseSensitive:!1,minLength:3,placeholder:this.props.placeholder,messages:{open:(0,a.S$)(this.context.messages,"queryform.comboField.drop_down")},filter:this.props.comboFilter,style:t,groupBy:this.props.groupBy,onSelect:this.props.onSelect,onChange:function(t){return e.props.onUpdateField(e.props.fieldRowId,e.props.fieldName,e.props.multivalue?t:t[e.props.valueField],e.props.attType)},onToggle:this.props.onToggle,onSearch:this.props.onSearch})):o().createElement(n,b({},this.props.options,{busy:this.props.busy,disabled:this.props.disabled,itemComponent:this.props.itemComponent,data:this.props.fieldOptions,value:this.props.fieldValue,caseSensitive:!1,minLength:3,placeholder:this.props.placeholder,messages:{open:(0,a.S$)(this.context.messages,"queryform.comboField.drop_down")},filter:this.props.comboFilter,style:t,groupBy:this.props.groupBy,onSelect:this.props.onSelect,onChange:function(t){return e.props.onUpdateField(e.props.fieldRowId,e.props.fieldName,t,e.props.attType)},onToggle:this.props.onToggle,onSearch:this.props.onSearch}));return this.props.fieldException?o().createElement(s.Z,{placement:"bottom",overlay:o().createElement(p.Tooltip,{id:this.props.fieldRowId+"_tooltip"},o().createElement("strong",null,this.props.fieldException))},r):r}}])&&h(t.prototype,n),c}(o().Component);E(w,"propTypes",{busy:c().bool,style:c().object,valueField:c().string,textField:c().string,placeholder:c().object,itemComponent:c().oneOfType([c().object,c().func]),fieldOptions:c().array,fieldName:c().string,fieldRowId:c().number,attType:c().string,fieldValue:c().oneOfType([c().number,c().string,c().array]),fieldException:c().oneOfType([c().object,c().string]),comboFilter:c().oneOfType([c().bool,c().string,c().func]),groupBy:c().oneOfType([c().string,c().func]),multivalue:c().bool,disabled:c().bool,options:c().object,onSelect:c().func,onToggle:c().func,onSearch:c().func,onUpdateField:c().func,onClick:c().func,onUpdateExceptionField:c().func}),E(w,"contextTypes",{messages:c().object}),E(w,"defaultProps",{options:{},busy:!1,style:{width:"100%"},placeholder:o().createElement(d.Z,{msgId:"queryform.comboField.default_placeholder"}),multivalue:!1,disabled:!1,valueField:null,textField:null,fieldOptions:[],fieldName:null,itemComponent:null,fieldRowId:null,fieldValue:null,fieldException:null,comboFilter:!1,groupBy:function(){},onSelect:function(){},onToggle:function(){},onSearch:function(){},onUpdateField:function(){},onUpdateExceptionField:function(){}});const P=w},31071:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Qe});var r=n(24852),o=n.n(r),i=n(45697),l=n.n(i),a=n(30294),u=n(80717),c=n(50966),p=n(4201),s=n(27418),f=n.n(s),d=n(86638);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(a,e);var t,n,r,i,l=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=O(r);if(i){var n=O(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return g(this,e)});function a(){var e;b(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return E(v(e=l.call.apply(l,[this].concat(n))),"renderOperatorField",(function(){return o().createElement(p.Z,{fieldOptions:e.props.operatorOptions,fieldName:"operator",fieldRowId:e.props.filterField.rowId,fieldValue:e.props.filterField.operator,onUpdateField:e.updateFieldElement})})),E(v(e),"renderValueField",(function(t){return o().cloneElement(o().Children.toArray(e.props.children).filter((function(e){return e.props.attType===t.type}))[0],f()({fieldName:"value",fieldRowId:e.props.filterField.rowId,fieldValue:e.props.filterField.value,fieldException:e.props.filterField.exception,onUpdateField:e.updateFieldElement,toggleMenu:e.props.toggleMenu,maxFeaturesWPS:e.props.maxFeaturesWPS,onUpdateExceptionField:e.updateExceptionFieldElement},t.fieldOptions||{}))})),E(v(e),"updateExceptionFieldElement",(function(t,n){e.props.onUpdateExceptionField(t,n)})),E(v(e),"updateFieldElement",(function(t,n,r,o,i){var l;if("attribute"===n?(l=e.props.attributes.filter((function(e){return e.attribute===r}))[0],e.props.onUpdateField(t,n,r,l&&l.type||o,i)):e.props.onUpdateField(t,n,r,"boolean"===o?"string":o,i),"value"===n){var a=e.props.attributes.filter((function(t){return t.dependson&&t.dependson.field===e.props.filterField.attribute}));a.length>0&&e.props.onChangeCascadingValue(a)}})),e}return t=a,(n=[{key:"render",value:function(){var e=this,t=this.props.attributes.filter((function(t){return t.attribute===e.props.filterField.attribute}))[0];return o().createElement("div",{className:"filter-field-row"},o().createElement("div",{className:"filter-field-attribute"},o().createElement(p.Z,{valueField:"id",textField:"name",fieldOptions:this.props.attributes.map((function(e){return{id:e.attribute,name:e.label}})),placeholder:(0,d.S$)(this.context.messages,"queryform.attributefilter.combo_placeholder"),fieldValue:this.props.filterField.attribute,attType:t&&t.type,fieldName:"attribute",fieldRowId:this.props.filterField.rowId,onUpdateField:this.updateFieldElement,comboFilter:"contains"})),o().createElement("div",{className:"filter-field-operator"},t?this.renderOperatorField():null),o().createElement("div",{className:"filter-field-value"},t&&this.props.filterField.operator?this.renderValueField(t):null),this.props.deleteButton?o().createElement("div",{className:"filter-field-tools"},this.props.deleteButton):null)}}])&&m(t.prototype,n),a}(o().Component);E(w,"propTypes",{attributes:l().array,filterField:l().object,operatorOptions:l().array,onUpdateField:l().func,maxFeaturesWPS:l().number,toggleMenu:l().func,deleteButton:l().node,onUpdateExceptionField:l().func,onChangeCascadingValue:l().func}),E(w,"contextTypes",{messages:l().object}),E(w,"defaultProps",{attributes:[],filterField:null,operatorOptions:["=",">","<",">=","<=","<>","><"],onUpdateField:function(){},toggleMenu:function(){},onUpdateExceptionField:function(){},onChangeCascadingValue:function(){}});const P=w;var S=n(30381),F=n.n(S),x=n(93054),R=n.n(x),j=n(43146),C=n(5346),T=n(55237),_=n(20);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?A(e):t}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(72717),R()(F());var V=(0,j.Z)({dateProp:"value",dateTypeProp:"type",setDateProp:"onChange"})(_.DateTimePicker),q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(a,e);var t,n,r,i,l=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=D(r);if(i){var n=D(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return B(this,e)});function a(){var e;k(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return U(A(e=l.call.apply(l,[this].concat(n))),"updateValueState",(function(t){t.startDate&&t.endDate&&t.startDate>t.endDate?e.props.onUpdateExceptionField(e.props.fieldRowId,"queryform.attributefilter.datefield.wrong_date_range"):e.props.onUpdateExceptionField(e.props.fieldRowId,null),e.props.onUpdateField(e.props.fieldRowId,e.props.fieldName,t,e.props.attType)})),e}return t=a,(n=[{key:"render",value:function(){var e=this,t=this.props.fieldValue&&this.props.fieldValue.startDate||null,n=this.props.fieldValue&&this.props.fieldValue.endDate||null;return"><"===this.props.operator?o().createElement("div",{className:"query-field"},o().createElement("div",{className:"query-field-value"},this.props.showLabels&&o().createElement(C.Z,{msgId:"queryform.from"}),o().createElement(V,{type:this.props.attType,defaultValue:t,value:t,calendar:this.props.dateEnabled,time:this.props.timeEnabled,format:(0,T.V$)(this.context.locale,this.props.attType),onChange:function(t){return e.updateValueState({startDate:t,endDate:n})}})),o().createElement("div",{className:"query-field-value"},this.props.showLabels&&o().createElement(C.Z,{msgId:"queryform.to"}),o().createElement(V,{type:this.props.attType,defaultValue:n,value:n,calendar:this.props.dateEnabled,time:this.props.timeEnabled,format:(0,T.V$)(this.context.locale,this.props.attType),onChange:function(n){return e.updateValueState({startDate:t,endDate:n})}}))):o().createElement("div",null,this.props.showLabels&&o().createElement(C.Z,{msgId:"queryform.date"}),o().createElement(V,{type:this.props.attType,defaultValue:t,value:t,time:this.props.timeEnabled,calendar:this.props.dateEnabled,format:(0,T.V$)(this.context.locale,this.props.attType),onChange:function(t){e.updateValueState({startDate:t,endDate:null})}}))}}])&&L(t.prototype,n),a}(o().Component);U(q,"propTypes",{attType:l().string,dateEnabled:l().bool,fieldName:l().string,fieldRowId:l().number,fieldValue:l().object,fieldException:l().string,operator:l().string,onUpdateField:l().func,onUpdateExceptionField:l().func,showLabels:l().bool,timeEnabled:l().bool}),U(q,"contextTypes",{locale:l().string}),U(q,"defaultProps",{timeEnabled:!1,dateEnabled:!0,operator:null,fieldName:null,fieldRowId:null,attType:null,fieldValue:null,fieldException:null,onUpdateField:function(){},onUpdateExceptionField:function(){},showLabels:!1});const M=q;var Z=n(9886);function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?Q(e):t}function Q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.n(Z)()();var te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(u,e);var t,n,r,i,l=(r=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=J(r);if(i){var n=J(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return X(this,e)});function u(){var e;Y(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ee(Q(e=l.call.apply(l,[this].concat(n))),"renderPicker",(function(t){var n=e.props.label?o().createElement("label",null,e.props.label):null,r=e.props.lowLabel?o().createElement("label",null,e.props.lowLabel):null,i=e.props.upLabel?o().createElement("label",null,e.props.upLabel):null;return"><"===e.props.operator?o().createElement("div",{className:"query-field"},o().createElement("div",{className:"query-field-value"},r,o().createElement(_.NumberPicker,H({style:t,value:e.props.fieldValue&&null!==e.props.fieldValue.lowBound&&void 0!==e.props.fieldValue.lowBound?e.props.fieldValue.lowBound:null,onChange:function(t){return!isNaN(t)&&e.changeNumber({lowBound:t,upBound:e.props.fieldValue&&null!==e.props.fieldValue.upBound&&void 0!==e.props.fieldValue.upBound?e.props.fieldValue.upBound:null})}},e.props.options))),o().createElement("div",{className:"query-field-value"},i,o().createElement(_.NumberPicker,H({style:t,value:e.props.fieldValue&&null!==e.props.fieldValue.upBound&&void 0!==e.props.fieldValue.upBound?e.props.fieldValue.upBound:null,onChange:function(t){return!isNaN(t)&&e.changeNumber({upBound:t,lowBound:e.props.fieldValue&&null!==e.props.fieldValue.lowBound&&void 0!==e.props.fieldValue.lowBound?e.props.fieldValue.lowBound:null})}},e.props.options)))):o().createElement("div",null,n,o().createElement(_.NumberPicker,H({style:t,value:e.props.fieldValue&&null!==e.props.fieldValue.lowBound&&void 0!==e.props.fieldValue.lowBound?e.props.fieldValue.lowBound:e.props.fieldValue,onChange:function(t){return!isNaN(t)&&e.changeNumber(t)}},e.props.options)))})),ee(Q(e),"changeNumber",(function(t){"><"===e.props.operator?null!==t.lowBound&&void 0!==t.lowBound&&null!==t.upBound&&void 0!==t.upBound&&t.lowBound>=t.upBound?e.props.onUpdateExceptionField(e.props.fieldRowId,(0,d.S$)(e.context.messages,"queryform.attributefilter.numberfield.wrong_range")):e.props.fieldException&&e.props.onUpdateExceptionField(e.props.fieldRowId,null):e.props.isRequired&&null==t?e.props.onUpdateExceptionField(e.props.fieldRowId,(0,d.S$)(e.context.messages,"queryform.attributefilter.numberfield.isRequired")):e.props.fieldException&&e.props.onUpdateExceptionField(e.props.fieldRowId,null),e.props.onUpdateField(e.props.fieldRowId,e.props.fieldName,t,e.props.attType)})),e}return t=u,(n=[{key:"render",value:function(){var e=this.props.style;return this.props.fieldException&&(e=W(W({},this.props.style),{},{borderColor:"#FF0000"})),o().createElement(c.Z,{placement:"bottom",overlay:this.props.fieldException?o().createElement(a.Tooltip,{id:this.props.fieldRowId+"_tooltip"},o().createElement("strong",null,this.props.fieldException)):o().createElement("noscript",null)},this.renderPicker(e))}}])&&z(t.prototype,n),u}(o().Component);ee(te,"propTypes",{operator:l().string,fieldName:l().string,fieldRowId:l().number,attType:l().string,fieldValue:l().oneOfType([l().number,l().object]),fieldException:l().oneOfType([l().object,l().bool,l().string]),onUpdateField:l().func,onUpdateExceptionField:l().func,isRequired:l().bool,label:l().string,lowLabel:l().string,upLabel:l().string,options:l().shape({format:l().string,min:l().number,max:l().number,step:l().number,precision:l().number}),style:l().object}),ee(te,"contextTypes",{messages:l().object}),ee(te,"defaultProps",{style:{borderColor:"#dedede"},operator:"=",fieldName:null,fieldRowId:null,attType:"number",fieldValue:null,fieldException:null,isRequired:!1,label:null,lowLabel:null,upLabel:null,options:{},onUpdateField:function(){},onUpdateExceptionField:function(){}});const ne=te;var re=n(15402),oe=n(47805);function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ce(e,t){return!t||"object"!==ie(t)&&"function"!=typeof t?pe(e):t}function pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var de=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(u,e);var t,n,r,i,l=(r=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=se(r);if(i){var n=se(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ce(this,e)});function u(){var e;le(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return fe(pe(e=l.call.apply(l,[this].concat(n))),"renderField",(function(){var t=(0,d.S$)(e.context.messages,"queryform.attributefilter.text_placeholder"),n=o().createElement(a.Tooltip,{id:"textField-tooltip"+e.props.fieldRowId},o().createElement(re.Z,{msgId:"queryform.attributefilter.tooltipTextField"})),r=o().createElement(a.FormControl,{disabled:"isNull"===e.props.operator,placeholder:t,onChange:e.changeText,type:"text",value:e.props.fieldValue||""});return(0,oe.isLikeOrIlike)(e.props.operator)?o().createElement(c.Z,{key:"textField-overlay"+e.props.fieldRowId,placement:"top",overlay:n},r):r})),fe(pe(e),"changeText",(function(t){e.props.onUpdateField(e.props.fieldRowId,e.props.fieldName,t.target.value,e.props.attType)})),e}return t=u,(n=[{key:"componentDidMount",value:function(){"isNull"!==this.props.operator||this.props.fieldValue||this.props.onUpdateField(this.props.fieldRowId,this.props.fieldName," ",this.props.attType)}},{key:"componentDidUpdate",value:function(){"isNull"!==this.props.operator||this.props.fieldValue||this.props.onUpdateField(this.props.fieldRowId,this.props.fieldName," ",this.props.attType)}},{key:"render",value:function(){var e=this.props.label?o().createElement("label",null,this.props.label):o().createElement("span",null);return o().createElement("div",{className:"textField"},e,this.renderField())}}])&&ae(t.prototype,n),u}(o().Component);fe(de,"propTypes",{operator:l().string,fieldName:l().string,fieldRowId:l().number,attType:l().string,fieldValue:l().string,label:l().string,fieldException:l().oneOfType([l().object,l().string]),onUpdateField:l().func,onUpdateExceptionField:l().func,style:l().object}),fe(de,"contextTypes",{messages:l().object}),fe(de,"defaultProps",{operator:"like",fieldName:null,fieldRowId:null,attType:"string",fieldValue:null,label:null,fieldException:null,onUpdateField:function(){},onUpdateExceptionField:function(){},style:{}});const ye=de;var be=n(48384),me=n(49902);function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oe(e,t){return(Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ee(e,t){return!t||"object"!==he(t)&&"function"!=typeof t?we(e):t}function we(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pe(e){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oe(e,t)}(a,e);var t,n,r,i,l=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Pe(r);if(i){var n=Pe(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ee(this,e)});function a(){var e;ge(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Se(we(e=l.call.apply(l,[this].concat(n))),"getOptions",(function(){return e.props.filterField&&e.props.filterField.options&&e.props.filterField.options[e.props.filterField.attribute]&&e.props.filterField.options[e.props.filterField.attribute].map((function(e){return{value:e,label:e}}))})),Se(we(e),"getPagination",(function(t){if(!e.props.filterField.options)return{};var n=Math.ceil(e.props.filterField.fieldOptions.valuesCount/e.props.maxFeaturesWPS),r=1===e.props.filterField.fieldOptions.currentPage||!e.props.filterField.fieldOptions.currentPage,o=e.props.filterField.fieldOptions.currentPage===n||!e.props.filterField.fieldOptions.currentPage;return f()({},e.props.pagination,{paginated:0!==t.length&&!(r&&1===t.length),firstPage:r,lastPage:o,loadPrevPage:function(){return e.props.onUpdateField(e.props.filterField.rowId,"value",e.props.filterField.value,"string",{currentPage:e.props.filterField.fieldOptions.currentPage-1,delayDebounce:0})},loadNextPage:function(){return e.props.onUpdateField(e.props.filterField.rowId,"value",e.props.filterField.value,"string",{currentPage:e.props.filterField.fieldOptions.currentPage+1,delayDebounce:0})}})})),Se(we(e),"getTooltip",(function(){return f()({},e.props.tooltip,{enabled:(0,oe.isLikeOrIlike)(e.props.filterField.operator),id:"autocompleteField-tooltip"+e.props.filterField&&e.props.filterField.rowId,message:o().createElement(re.Z,{msgId:"queryform.attributefilter.tooltipTextField"}),overlayTriggerKey:"autocompleteField-overlay"+e.props.filterField&&e.props.filterField.rowId,placement:"top"})})),Se(we(e),"renderField",(function(){var t;e.props.filterField&&e.props.filterField.value&&"*"!==e.props.filterField.value&&(t={value:e.props.filterField.value,label:e.props.filterField.value});var n=e.getOptions()?e.getOptions().slice(0):[];return o().createElement(me.Z,{busy:e.props.filterField.loading,data:e.props.filterField.loading?[]:n,disabled:"isNull"===e.props.filterField.operator,itemComponent:e.props.itemComponent,open:e.props.filterField.openAutocompleteMenu,onChange:function(t){return e.handleChange(t)},onFocus:function(){return e.handleFocus(n)},onSelect:function(){return e.handleSelect()},onToggle:function(){return e.handleToggle(n)},pagination:e.getPagination(n),selectedValue:t&&t.value,tooltip:e.getTooltip()})})),Se(we(e),"handleSelect",(function(){e.selected=!0})),Se(we(e),"handleChange",(function(t){e.selected?(e.selected=!1,t&&""!==t.value&&e.props.onUpdateField(e.props.filterField.rowId,"value",t.value,"string",{currentPage:1,selected:"selected",delayDebounce:0})):e.props.onUpdateField(e.props.filterField.rowId,"value","string"==typeof t?t:t.value,"string",{currentPage:1,delayDebounce:1e3})})),Se(we(e),"handleFocus",(function(t){e.loadWithoutfilter(t)})),Se(we(e),"handleToggle",(function(){e.props.toggleMenu(e.props.filterField.rowId,!e.props.filterField.openAutocompleteMenu)})),Se(we(e),"loadWithoutfilter",(function(t){0!==t.length||e.props.filterField.value||e.props.onUpdateField(e.props.filterField.rowId,"value","","string",{currentPage:1,delayDebounce:0})})),e}return t=a,(n=[{key:"render",value:function(){var e=this.props.label?o().createElement("label",null,this.props.label):o().createElement("span",null);return o().createElement("div",{className:"autocompleteField"},e,this.renderField())}}])&&ve(t.prototype,n),a}(o().Component);Se(Fe,"propTypes",{disabled:l().bool,filterField:l().object,label:l().string,itemComponent:l().oneOfType([l().object,l().func]),maxFeaturesWPS:l().number,onUpdateField:l().func,pagination:l().object,textField:l().string,tooltip:l().object,toggleMenu:l().func,valueField:l().string}),Se(Fe,"contextTypes",{messages:l().object}),Se(Fe,"defaultProps",{label:null,onUpdateField:function(){},pagination:{paginated:!0,nextPageIcon:"chevron-right",prevPageIcon:"chevron-left"},itemComponent:be.Z,toggleMenu:function(){},filterField:{fieldOptions:{}}});const xe=Fe;var Re=n(12346),je=n(86494);function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ke(e,t){return!t||"object"!==Ce(t)&&"function"!=typeof t?Le(e):t}function Le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(u,e);var t,n,r,i,l=(r=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ie(r);if(i){var n=Ie(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ke(this,e)});function u(){var e;Te(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Be(Le(e=l.call.apply(l,[this].concat(n))),"state",{open:!1}),Be(Le(e),"getSelected",(function(){return(0,je.find)(e.props.options,e.getFindFunciton())})),Be(Le(e),"getValue",(function(t){return e.props.valueField&&t&&t[e.props.valueField]?t[e.props.valueField]:t})),Be(Le(e),"getLabel",(function(t){return e.props.labelField&&t&&t[e.props.labelField]?t[e.props.labelField]:e.getValue(t)})),Be(Le(e),"getFindFunciton",(function(){return e.props.valueField?Be({},e.props.valueField,e.props.value):e.props.value})),Be(Le(e),"renderLabel",(function(t){return e.props.labelRenderer?e.props.labelRenderer(t):e.getLabel(t)})),Be(Le(e),"handleOutsideClick",(function(t){e.node&&e.node.contains&&!e.node.contains(t.target)&&e.state.open?e.handleClick():document&&!e.node&&e.handleOutsideClick&&document.removeEventListener("click",e.handleOutsideClick,!1)})),Be(Le(e),"handleClick",(function(){document&&!e.state.open?document.addEventListener("click",e.handleOutsideClick,!1):document.removeEventListener("click",e.handleOutsideClick,!1);var t=!e.state.open;e.setState({open:t})})),e}return t=u,(n=[{key:"render",value:function(){var e=this;return o().createElement("span",{ref:function(t){e.node=t},className:"mapstore-string-select"},o().createElement("span",{onClick:this.handleClick},o().createElement("strong",null,this.renderLabel(this.getSelected())),o().createElement(a.Glyphicon,{glyph:"chevron-down"})),this.state.open&&o().createElement("div",{className:"m-options"},o().createElement("ul",null,this.props.options.map((function(t,n){return o().createElement("li",{key:n,onClick:function(){e.setState({open:!1}),e.props.onSelect(e.getValue(t),t)}},e.renderLabel(t))})))))}}])&&_e(t.prototype,n),u}(o().Component);Be(Ae,"propTypes",{options:l().array,value:l().any,onSelect:l().func,valueField:l().string,labelField:l().string,labelRenderer:l().any}),Be(Ae,"defaultProps",{onSelect:function(){},options:[]});const De=Ae;var Ue=n(38167),Ve=n(38560);function qe(e){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(e){return function(e){if(Array.isArray(e))return Ze(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ze(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function We(e,t){return(We=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function He(e,t){return!t||"object"!==qe(t)&&"function"!=typeof t?Ye(e):t}function Ye(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&We(e,t)}(s,e);var t,n,r,i,l=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ze(r);if(i){var n=ze(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return He(this,e)});function s(){var e;Ge(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ke(Ye(e=l.call.apply(l,[this].concat(n))),"getComboValues",(function(t,n){if(t&&t.dependson){var r=e.props.filterFields.filter((function(e){return e.attribute===t.dependson.field}))[0];if(r&&r.value){var o=n.filter((function(e){return e.attribute===r.attribute}))[0],i=o.values.filter((function(e){return e[o.valueId]===r.value}))[0][t.dependson.from],l=t.values.filter((function(e){return e[t.dependson.to]===i}));return t&&"list"===t.type?l.map((function(e){return{id:t.fidPrefix?t.fidPrefix+"."+e[t.valueId]:e[t.valueId],name:e[t.valueLabel]}})):null}}return t&&"list"===t.type?t.values.map((function(e){return{id:t.fidPrefix?t.fidPrefix+"."+e[t.valueId]:e[t.valueId],name:e[t.valueLabel]}})):null})),Ke(Ye(e),"getOperator",(function(t){switch(t&&t.type?t.type:""){case"list":return e.props.listOperators;case"string":return e.props.stringOperators;case"boolean":return e.props.booleanOperators;default:return e.props.defaultOperators}})),Ke(Ye(e),"renderFilterField",(function(t){var n=e.props.attributes.filter((function(e){return e.attribute===t.attribute}))[0],r=e.getComboValues(n,e.props.attributes),i=t.exception?o().createElement(c.Z,{placement:"bottom",overlay:o().createElement(a.Tooltip,{id:t.rowId+"tooltip"},o().createElement("strong",null,o().createElement(Ue.ZP.Message,{msgId:t.exception||""})))},o().createElement(Ve.Z,{id:"remove-filter-field",className:"filter-buttons no-border",bsStyle:e.props.buttonStyle,style:{backgroundColor:"red"},onClick:function(){return e.props.actions.onRemoveFilterField(t.rowId)}},o().createElement(a.Glyphicon,{style:{color:"white"},glyph:"glyphicon glyphicon-warning-sign"}))):o().createElement(c.Z,{placement:"top",overlay:o().createElement(a.Tooltip,{id:t.rowId+"tooltip"},o().createElement("strong",null,o().createElement(Ue.ZP.Message,{msgId:"queryform.attributefilter.delete"})))},o().createElement(Ve.Z,{id:"remove-filter-field",bsStyle:e.props.buttonStyle,className:"filter-buttons no-border",onClick:function(){return e.props.actions.onRemoveFilterField(t.rowId)}},o().createElement(a.Glyphicon,{glyph:e.props.removeButtonIcon})));return o().createElement(P,{key:t.rowId,deleteButton:i,attributes:e.props.attributes,filterField:t,operatorOptions:e.getOperator(n),onUpdateField:e.props.actions.onUpdateFilterField,toggleMenu:e.props.actions.toggleMenu,maxFeaturesWPS:e.props.maxFeaturesWPS,onUpdateExceptionField:e.props.actions.onUpdateExceptionField,onChangeCascadingValue:e.props.actions.onChangeCascadingValue},o().createElement(p.Z,{attType:"list",valueField:"id",textField:"name",fieldOptions:r||[],comboFilter:"contains"}),o().createElement(M,{attType:"date",dateEnabled:!0,operator:t.operator}),o().createElement(M,{attType:"date-time",timeEnabled:!0,dateEnabled:!0,operator:t.operator}),o().createElement(M,{attType:"time",timeEnabled:!0,dateEnabled:!1,operator:t.operator}),o().createElement(ne,{operator:t.operator,attType:"number"}),e.props.autocompleteEnabled?o().createElement(xe,{filterField:t,attType:"string"}):o().createElement(ye,{operator:t.operator,attType:"string"}),o().createElement(p.Z,{fieldOptions:["true","false"],attType:"boolean",comboFilter:"contains"}))})),Ke(Ye(e),"renderGroupButtons",(function(t){var n=[];return t.index<=e.props.groupLevels&&n.push({key:"add-condition-group",id:"add-condition-group",className:"filter-buttons no-border",glyph:"list-alt",bsStyle:e.props.buttonStyle,tooltipId:"queryform.attributefilter.add_group",onClick:function(){return e.props.actions.onAddGroupField(t.id,t.index)}}),n.push({key:"add-filter-field",id:"add-filter-field",className:"filter-buttons no-border",glyph:e.props.addButtonIcon,bsStyle:e.props.buttonStyle,tooltipId:"queryform.attributefilter.add_condition",onClick:function(){return e.props.actions.onAddFilterField(t.id)}}),t.groupId&&n.push({key:"remove-group",className:"filter-buttons no-border",bsStyle:e.props.buttonStyle,tooltipId:"queryform.attributefilter.deleteGroup",glyph:e.props.removeGroupButtonIcon,onClick:function(){return e.props.actions.onRemoveGroupField(t.id)}}),o().createElement(u.Z,{buttons:n,btnDefaultProps:{}})})),Ke(Ye(e),"renderGroupHeader",(function(t){return o().createElement("div",{className:"logicHeader filter-logic-header"},o().createElement("div",{key:"filter-logic-header",className:"filter-logic-header-text m-label"},o().createElement("span",{className:"group_label_a"},o().createElement(Ue.ZP.Message,{msgId:"queryform.attributefilter.group_label_a"}))," ",o().createElement(De,{options:e.props.logicComboOptions,valueField:"logic",value:t.logic,onSelect:function(n){return e.props.actions.onUpdateLogicCombo(t.id,n)},labelRenderer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name;return o().createElement(Ue.ZP.Message,{msgId:t})}})," ",o().createElement("span",{className:"group_label_b"},o().createElement(Ue.ZP.Message,{msgId:"queryform.attributefilter.group_label_b"}))),e.renderGroupButtons(t))})),Ke(Ye(e),"renderGroupField",(function(t){var n=e.props.filterFields.filter((function(e){return e.groupId===t.id})),r=e.props.groupFields.filter((function(e){return e.groupId===t.id})),i=[].concat(Me(n),Me(r)).map((function(t){return void 0!==t.rowId?e.renderFilterField(t):e.renderGroupField(t)}));return o().createElement("div",{className:"mapstore-conditions-group",key:t.id},e.renderGroupHeader(t),o().createElement("div",{className:"query-content"},i))})),Ke(Ye(e),"renderHeader",(function(){return(0,d.S$)(e.context.messages,"queryform.attributefilter.attribute_filter_header")})),Ke(Ye(e),"updateLogicCombo",(function(t,n,r){var o=e.props.logicComboOptions.filter((function(t){return r===(0,d.S$)(e.context.messages,t.name)}))[0].logic;e.props.actions.onUpdateLogicCombo(t,o)})),e}return t=s,(n=[{key:"render",value:function(){var e=this;return this.props.withContainer?o().createElement(Re.Z,{id:"attributeFilterPanel",className:"query-filter-container",header:this.renderHeader(),collapsible:!0,expanded:this.props.attributePanelExpanded,onSwitch:function(t){return e.props.actions.onExpandAttributeFilterPanel(t)}},this.props.groupFields.filter((function(e){return!e.groupId})).map(this.renderGroupField)):o().createElement("div",{className:"query-filter-container"},this.props.groupFields.filter((function(e){return!e.groupId})).map(this.renderGroupField))}}])&&$e(t.prototype,n),s}(o().Component);Ke(Xe,"propTypes",{groupLevels:l().number,withContainer:l().bool,autocompleteEnabled:l().bool,maxFeaturesWPS:l().number,groupFields:l().array,filterFields:l().array,attributes:l().array,fieldWidth:l().string,removeButtonIcon:l().string,addButtonIcon:l().string,removeGroupButtonIcon:l().string,buttonStyle:l().string,logicComboOptions:l().array,attributePanelExpanded:l().bool,actions:l().object,listOperators:l().array,stringOperators:l().array,booleanOperators:l().array,defaultOperators:l().array}),Ke(Xe,"contextTypes",{messages:l().object}),Ke(Xe,"defaultProps",{autocompleteEnabled:!0,withContainer:!0,groupLevels:1,groupFields:[],filterFields:[],attributes:[],removeButtonIcon:"trash",removeGroupButtonIcon:"trash",bsStyle:"default",addButtonIcon:"glyphicon glyphicon-plus",attributePanelExpanded:!0,logicComboOptions:[{logic:"OR",name:"queryform.attributefilter.groupField.any"},{logic:"AND",name:"queryform.attributefilter.groupField.all"},{logic:"NOR",name:"queryform.attributefilter.groupField.none"}],actions:{onAddGroupField:function(){},onAddFilterField:function(){},onRemoveFilterField:function(){},onUpdateFilterField:function(){},onUpdateExceptionField:function(){},onUpdateLogicCombo:function(){},onRemoveGroupField:function(){},onChangeCascadingValue:function(){},onExpandAttributeFilterPanel:function(){},toggleMenu:function(){}},listOperators:["="],stringOperators:["=","like","ilike","isNull"],booleanOperators:["="],defaultOperators:["=",">","<",">=","<=","<>","><"]});const Qe=Xe},7472:(e,t,n)=>{"use strict";n.d(t,{Z:()=>F});var r=n(27418),o=n.n(r),i=n(45697),l=n.n(i),a=n(24852),u=n.n(a),c=n(85294),p=n.n(c),s=n(72986),f=n.n(s),d=n(5346);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?E(e):t}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(a,e);var t,n,r,i,l=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=w(r);if(i){var n=w(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return O(this,e)});function a(){var e;h(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return P(E(e=l.call.apply(l,[this].concat(n))),"renderLoading",(function(){return e.props.maskLoading?u().createElement("div",{style:{width:"100%",height:"100%",position:"absolute",overflow:"visible",margin:"auto",verticalAlign:"center",left:"0",background:"rgba(255, 255, 255, 0.5)",zIndex:2}},u().createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -40%)"}},u().createElement(d.Z,{msgId:"loading"}),u().createElement(f(),{spinnerName:"circle",noFadeIn:!0,overrideSpinnerClassName:"spinner"}))):null})),P(E(e),"renderRole",(function(t){return u().Children.toArray(e.props.children).filter((function(e){return e.props.role===t}))})),P(E(e),"hasRole",(function(t){return u().Children.toArray(e.props.children).filter((function(e){return e.props.role===t})).length>0})),P(E(e),"onClickOut",(function(t){e.props.onClickOut&&e.mask===t.target&&e.props.onClickOut(t)})),e}return t=a,(n=[{key:"render",value:function(){var e=this,t=u().createElement("div",{id:this.props.id,style:m({zIndex:3},this.props.style),className:"".concat(this.props.draggable?"modal-dialog-draggable":""," ").concat(this.props.className," modal-dialog-container")},u().createElement("div",{className:this.props.headerClassName+" draggable-header"},this.renderRole("header")),u().createElement("div",{className:this.props.bodyClassName},this.renderLoading(),this.renderRole("body")),this.hasRole("footer")?u().createElement("div",{className:this.props.footerClassName},this.renderRole("footer")):u().createElement("span",null)),n=this.props.draggable?u().createElement(p(),{defaultPosition:this.props.start,bounds:this.props.bounds,handle:".draggable-header, .draggable-header *"},t):t,r=o()({},this.props.style.display?{display:this.props.style.display}:{},this.props.backgroundStyle);return this.props.modal?u().createElement("div",{ref:function(t){e.mask=t},onClick:this.onClickOut,style:r,className:"fade in modal "+this.props.containerClassName,role:"dialog"},n):n}}])&&g(t.prototype,n),a}(u().Component);P(S,"propTypes",{id:l().string.isRequired,style:l().object,backgroundStyle:l().object,className:l().string,maskLoading:l().bool,containerClassName:l().string,headerClassName:l().string,bodyClassName:l().string,footerClassName:l().string,onClickOut:l().func,modal:l().bool,start:l().object,draggable:l().bool,bounds:l().oneOfType([l().string,l().object])}),P(S,"defaultProps",{style:{},backgroundStyle:{background:"rgba(0,0,0,.5)"},start:{x:0,y:150},className:"modal-dialog modal-content",maskLoading:!1,containerClassName:"",headerClassName:"modal-header",bodyClassName:"modal-body",footerClassName:"modal-footer",modal:!1,draggable:!0,bounds:"parent"});const F=S},75480:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(24852),o=n.n(r);const i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style,n=void 0===t?{display:"inline-block"}:t;return o().createElement("div",{style:n,className:"mapstore-inline-loader"})}},82110:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(24852),o=n.n(r),i=n(96259),l=n(32425);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p=function(e){var t=e.width,n=e.height,r=e.className,a=void 0===r?"loader-container":r,c=e.contentStyle,p=void 0===c?{}:c;return o().createElement("div",{className:a},o().createElement(i.Z,null,(function(e){var r=e.width,i=void 0===r?200:r,a=e.height,c=void 0===a?200:a,s=t||(c>0?Math.min(i,c):i),f=n||(c>0?Math.min(i,c):i),d=Math.min(s,f);return o().createElement(l.Z,{size:d,style:u({padding:d/10,margin:"auto",display:"flex"},p)})})))}},52595:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(0,n(61365).Z)(n(30294).Overlay)},94745:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(24852),o=n.n(r),i=n(30294),l=n(7472),a=n(80717),u=n(67076),c=n(19081),p=n.n(c),s=n(75480),f={xs:" ms-xs",sm:" ms-sm",md:"",lg:" ms-lg"},d={className:{vertical:" ms-fullscreen-v",horizontal:" ms-fullscreen-h",full:" ms-fullscreen"},glyph:{expanded:{vertical:"resize-vertical",horizontal:"resize-horizontal",full:"resize-small"},collapsed:{vertical:"resize-vertical",horizontal:"resize-horizontal",full:"resize-full"}}};const y=(0,u.withState)("fullscreenState","onFullscreen",(function(e){var t=e.initialFullscreenState;return void 0===t?"collapsed":t}))((function(e){var t=e.show,n=void 0!==t&&t,r=e.loading,u=e.loadingText,c=e.onClose,y=void 0===c?function(){}:c,b=e.title,m=void 0===b?"":b,h=e.clickOutEnabled,g=void 0===h||h,v=e.showClose,O=void 0===v||v,E=e.disabledClose,w=void 0!==E&&E,P=e.showFullscreen,S=void 0!==P&&P,F=e.fullscreenType,x=void 0===F?"full":F,R=e.buttons,j=void 0===R?[]:R,C=e.size,T=void 0===C?"":C,_=e.bodyClassName,N=void 0===_?"":_,k=e.children,L=e.draggable,I=void 0!==L&&L,B=e.fullscreenState,A=e.onFullscreen,D=e.fade,U=void 0!==D&&D,V=e.fitContent,q=e.modalClassName,M=void 0===q?"":q,Z=e.dialogClassName,G=void 0===Z?"":Z,$=e.enableFooter,W=void 0===$||$,H=f[T]||"",Y=S&&"expanded"===B&&d.className[x]||"",z=n?o().createElement("div",{className:"modal-fixed ".concat(M," ")+(I?"ms-draggable":"")},o().createElement(l.Z,{id:"ms-resizable-modal",style:{display:"flex"},onClickOut:g?y:function(){},containerClassName:"ms-resizable-modal",draggable:I,modal:!0,className:"modal-dialog modal-content"+H+Y+G+(V?" ms-fit-content":"")},o().createElement("span",{role:"header"},o().createElement("h4",{className:"modal-title"},o().createElement("div",{className:"ms-title"},m),S&&d.className[x]&&o().createElement(i.Glyphicon,{className:"ms-header-btn",onClick:function(){return A("expanded"===B?"collapsed":"expanded")},glyph:d.glyph[B][x]}),O&&y&&o().createElement(i.Glyphicon,{glyph:"1-close",className:"ms-header-btn",onClick:y,disabled:w}))),o().createElement("div",{role:"body",className:N},k),W&&o().createElement("div",{style:{display:"flex"},role:"footer"},o().createElement("div",{className:"ms-resizable-modal-loading-spinner-container"},r?o().createElement(s.Z,null):null),o().createElement("div",{className:"ms-resizable-modal-loading-text"},r?u:null),o().createElement(a.Z,{buttons:j})))):null;return U?o().createElement(p(),{transitionName:"ms-resizable-modal-fade",transitionEnterTimeout:300,transitionLeaveTimeout:300},z):z}))},49902:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var r=n(45697),o=n.n(r),i=n(24852),l=n.n(i),a=n(20),u=n(30294),c=n(86638),p=n(50966),s=n(48384);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v(r);if(o){var n=v(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return h(this,e)});function s(){var e;y(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return O(g(e=i.call.apply(i,[this].concat(n))),"renderWithTooltip",(function(t){if(e.props.tooltip.customizedTooltip){var n=e.props.tooltip.customizedTooltip;return l().createElement(n,null,t)}var r=l().createElement(u.Tooltip,{id:e.props.tooltip.id},e.props.tooltip.message);return l().createElement(p.Z,{key:e.props.tooltip.overlayTriggerKey,placement:e.props.tooltip.placement,overlay:r},t)})),O(g(e),"renderPagination",(function(){var t=e.props.pagination.firstPage,n=e.props.pagination.lastPage;return l().createElement("div",{className:"autocomplete-toolbar"},!t&&l().createElement(u.Glyphicon,{className:e.props.prevPageIcon,glyph:e.props.prevPageIcon,onClick:function(t){e.props.stopPropagation&&t.stopPropagation(),e.props.pagination.loadPrevPage()}}),!n&&l().createElement(u.Glyphicon,{className:e.props.nextPageIcon,glyph:e.props.nextPageIcon,onClick:function(t){e.props.stopPropagation&&t.stopPropagation(),e.props.pagination.loadNextPage()}}))})),O(g(e),"renderField",(function(){var t,n={emptyList:(0,c.S$)(e.context.messages,"queryform.attributefilter.autocomplete.emptyList"),open:(0,c.S$)(e.context.messages,"queryform.attributefilter.autocomplete.open"),emptyFilter:(0,c.S$)(e.context.messages,"queryform.attributefilter.autocomplete.emptyFilter")},r=[];e.props.data&&e.props.data.length>0&&(r=e.props.data.map((function(e){return e}))),e.props.pagination&&e.props.pagination.paginated&&r.length>0&&r.push((O(t={},e.props.textField,""),O(t,e.props.valueField,""),O(t,"disabled",!0),O(t,"pagination",e.renderPagination()),t));var o=e.props.loading?[]:r,i=e.props.itemComponent,u=l().createElement(a.Combobox,{placeholder:e.props.placeholder,dropUp:e.props.dropUp,busy:e.props.busy,data:o,disabled:e.props.disabled,itemComponent:function(t){return l().createElement(i,d({textField:e.props.textField,valueField:e.props.valueField},t))},messages:e.props.messages||n,open:e.props.open,filter:e.props.filter,onChange:function(t){return e.props.onChange(t)},onFocus:function(){return e.props.onFocus(e.props.data)},onSelect:function(t){return e.props.onSelect(t)},onToggle:function(t){return e.props.onToggle(t)},textField:e.props.textField,valueField:e.props.valueField,value:e.props.selectedValue});return e.props.tooltip&&e.props.tooltip.enabled?e.renderWithTooltip(u):u})),e}return t=s,(n=[{key:"render",value:function(){var e=this.props,t=e.selectedValue,n=e.disabled,r=e.onReset,o=e.label,i=e.clearable,a=o?l().createElement("label",null,o):l().createElement("span",null);return l().createElement("div",{className:"autocompleteField"},a,i?l().createElement("div",{className:"rw-combo-clearable ".concat(n?"disabled":"")},this.renderField(),l().createElement("span",{className:"rw-combo-clear ".concat(t?"":"hidden"),onClick:r},"x")):this.renderField())}}])&&b(t.prototype,n),s}(l().Component);O(E,"propTypes",{busy:o().bool,data:o().array,disabled:o().bool,dropUp:o().bool,itemComponent:o().oneOfType([o().object,o().func]),label:o().string,loading:o().bool,filter:o().oneOfType([o().string,o().bool]),messages:o().object,onChange:o().func,onFocus:o().func,onSelect:o().func,onToggle:o().func,open:o().bool,pagination:o().object,nextPageIcon:o().string,prevPageIcon:o().string,selectedValue:o().string,textField:o().string,tooltip:o().object,valueField:o().string,placeholder:o().string,stopPropagation:o().bool,clearable:o().bool,onReset:o().func}),O(E,"contextTypes",{messages:o().object}),O(E,"defaultProps",{stopPropagation:!1,dropUp:!1,itemComponent:s.Z,loading:!1,label:null,filter:"",pagination:{paginated:!0,firstPage:!1,lastPage:!1,loadPrevPage:function(){},loadNextPage:function(){}},nextPageIcon:"chevron-right",prevPageIcon:"chevron-left",onFocus:function(){},onToggle:function(){},onChange:function(){},onSelect:function(){},onReset:function(){},textField:"label",tooltip:{customizedTooltip:void 0,enabled:!1,id:"",message:void 0,overlayTriggerKey:"",placement:"top"},valueField:"value",clearable:!1});const w=E},43146:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(67076),o=n(86494),i=n(30381),l=n.n(i),a=n(55237);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dateTypeProp,n=void 0===t?"type":t,i=e.dateProp,c=void 0===i?"date":i,p=e.setDateProp,s=void 0===p?"onSetDate":p;return(0,r.compose)((0,r.withPropsOnChange)([c],(function(e){var t,r=e[c],i=e[n],p=e.useUTCOffset,s=void 0===p||p,f=r,d="1970-01-01",y="00:00:00";!(0,o.isDate)(r)&&(0,o.isString)(r)&&("time"===i&&(f=new Date("".concat(d,"T").concat(r))),"date"===i&&(-1!==r.indexOf("Z")&&(f=r.substr(0,r.length-1)),f=new Date("".concat(f,"T").concat(y,"Z"))),"date-time"===i&&(f=new Date(r)));var b=f;if(f){switch(i){case"time":y=(0,a.kN)(f);break;case"date":d=(0,a.oD)(f);break;default:y=(0,a.kN)(f),d=(0,a.oD)(f)}(b=new Date("".concat(d,"T").concat(y,"Z"))).setUTCMilliseconds(f.getUTCMilliseconds());var m=s?(0,a.$4)(b):0;b=new Date(b.getTime()+m)}return u(t={},c,b),u(t,"defaultCurrentDate","date-time"===i?l()().startOf("day").toDate():void 0),t})),(0,r.withHandlers)(u({},s,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e[s],r=e[n],o=e.useUTCOffset,i=void 0===o||o;return function(e,n){if(e){var o=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())),l=i?(0,a.$4)(e):0,u=new Date(o.getTime()-l);switch(r){case"time":u="".concat((0,a.kN)(u),"Z");break;case"date":u="".concat((0,a.oD)(u),"Z")}t(u,n)}else t(null)}}))))}},45869:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(24852),o=n.n(r),i=n(45697),l=n.n(i);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(a,e);var t,n,r,i,l=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(r);if(i){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return s(this,e)});function a(){return u(this,a),l.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this;return o().createElement("label",{className:"mapstore-switch-btn ".concat(this.props.className)},o().createElement("input",{type:"checkbox",disabled:this.props.disabled,checked:this.props.checked,onChange:function(){return e.props.onChange(!e.props.checked)}}),o().createElement("span",{onClick:function(){return e.props.onClick(!e.props.checked)},className:"m-slider"}))}}])&&c(t.prototype,n),a}(o().Component);d(y,"propTypes",{disabled:l().bool,className:l().string,checked:l().bool,onChange:l().func,onClick:l().func}),d(y,"defaultProps",{className:"",checked:!1,onChange:function(){},onClick:function(){}});const b=y},12346:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var r=n(24852),o=n.n(r),i=n(45697),l=n.n(i),a=n(30294),u=n(45869),c=n(80717),p=n(5346);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(a,e);var t,n,r,i,l=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(r);if(i){var n=m(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b(this,e)});function a(){return f(this,a),l.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this;return o().createElement(c.Z,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},btnGroupProps:{style:{margin:10}},buttons:[{glyph:this.props.checked?"chevron-down":"chevron-left",visible:!0,tooltip:this.props.checked?o().createElement(p.Z,{msgId:"collapse"}):o().createElement(p.Z,{msgId:"expand"}),onClick:function(){return e.props.onClick(!e.props.checked)}}]})}}])&&d(t.prototype,n),a}(o().Component);h(g,"propTypes",{checked:l().bool,onClick:l().func}),h(g,"defaultProps",{checked:!1,onClick:function(){}});const v=g;var O=n(38560),E=n(82110);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?R(e):t}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=function(){return o().createElement(O.Z,{className:"square-button-sm no-border switch-error"},o().createElement(a.Glyphicon,{glyph:"exclamation-mark",className:"text-danger"}))},_=function(){return o().createElement("div",{className:"switch-loading"},o().createElement(E.Z,{size:"small"}))},N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(p,e);var t,n,r,i,l=(r=p,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=j(r);if(i){var n=j(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return x(this,e)});function p(){var e;P(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return C(R(e=l.call.apply(l,[this].concat(n))),"state",{}),e}return t=p,(n=[{key:"renderHeader",value:function(){var e=this,t=this.props.useToolbar?v:u.Z;return o().createElement("div",null,o().createElement("div",{className:"pull-left"},this.props.title||this.props.header),o().createElement("div",{className:"pull-right"},this.props.locked?null:o().createElement(t,{checked:this.props.expanded,onClick:function(t){e.props.onSwitch(t)}}),this.props.error?o().createElement(T,null):null,this.props.loading?o().createElement(_,null):null,this.props.buttons.length>0&&this.props.expanded&&o().createElement(c.Z,{btnDefaultProps:{className:"square-button-sm no-border"},buttons:this.props.buttons})))}},{key:"render",value:function(){return o().createElement(a.Panel,{className:"mapstore-switch-panel",collapsible:!0,expanded:this.props.expanded,defaultExpanded:this.props.defaultExpanded,header:this.renderHeader()},this.props.children)}}])&&S(t.prototype,n),p}(o().Component);C(N,"propTypes",{header:l().node,title:l().oneOfType([l().string,l().node]),defaultExpanded:l().string,expanded:l().bool,onSwitch:l().func,locked:l().bool,buttons:l().array,loading:l().bool,error:l().any,errorMsgId:l().string,transitionProps:l().object,useToolbar:l().bool}),C(N,"defaultProps",{title:"",expanded:!1,onSwitch:function(){},locked:!1,buttons:[],useToolbar:!1});const k=N},2576:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var r=n(24852),o=n.n(r),i=n(80307),l=n.n(i),a=n(45697),u=n.n(a),c=n(30294),p=n(52595),s=n(50966);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(u,e);var t,n,r,i,a=(r=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(r);if(i){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m(this,e)});function u(){return d(this,u),a.apply(this,arguments)}return t=u,(n=[{key:"renderPopover",value:function(){return o().createElement(c.Popover,{id:this.props.id,placement:this.props.placement,positionLeft:this.props.left,positionTop:this.props.top,title:this.props.title},this.props.text)}},{key:"renderContent",value:function(){var e=this;return o().createElement(c.Glyphicon,{ref:function(t){e.target=t},className:"text-".concat(this.props.bsStyle),glyph:this.props.glyph})}},{key:"render",value:function(){var e=this,t=!0===this.props.trigger?["hover","focus"]:this.props.trigger;return o().createElement("span",{className:"mapstore-info-popover"},this.props.trigger?o().createElement(s.Z,{trigger:t,placement:this.props.placement,overlay:this.renderPopover()},this.renderContent()):[this.renderContent(),o().createElement(p.Z,{placement:this.props.placement,show:!0,target:function(){return l().findDOMNode(e.target)}},this.renderPopover())])}}])&&y(t.prototype,n),u}(o().Component);g(v,"propTypes",{id:u().string,title:u().string,text:u().string,glyph:u().string,bsStyle:u().string,placement:u().string,left:u().number,top:u().number,trigger:u().oneOfType([u().array,u().bool])}),g(v,"defaultProps",{id:"",title:"",text:"",placement:"right",left:200,top:50,glyph:"question-sign",bsStyle:"info",trigger:["hover","focus"]});const O=v},10284:(e,t,n)=>{"use strict";n.d(t,{sw:()=>m,oB:()=>h});var r=n(49977),o=n.n(r),i=n(86494),l=n(5055),a=n(7526);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){var t="function"==typeof Map?new Map:void 0;return(p=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return s(e,arguments,y(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),d(r,e)})(e)}function s(e,t,n){return(s=f()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&d(o,n.prototype),o}).apply(null,arguments)}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(24384);var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(o,e);var t,n,r=(t=o,n=f(),function(){var e,r=y(t);if(n){var o=y(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return c(this,e)});function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this,e)).name="OGCError",n.code=t,n}return o}(p(Error)),m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{tagNameProcessors:[a.stripPrefix],explicitArray:!1,mergeAttrs:!0};return o().Observable.bindNodeCallback((function(e,n){return(0,l.parseString)(e,t,n)}))(e)},h=function(e){return e.switchMap((function(e){return"string"==typeof e.data&&e.data.indexOf("ExceptionReport")>0?o().Observable.bindNodeCallback((function(e,t){return(0,l.parseString)(e,{tagNameProcessors:[a.stripPrefix],explicitArray:!1,mergeAttrs:!0},t)}))(e.data).map((function(e){var t=(0,i.get)(e,"ExceptionReport.Exception.ExceptionText");throw new b(t||"Undefined OGC Service Error",(0,i.get)(e,"ExceptionReport.Exception.exceptionCode"))})):o().Observable.of(e)}))}},11847:(e,t,n)=>{"use strict";n.d(t,{ij:()=>u,w0:()=>c,vl:()=>p,K2:()=>s,Nw:()=>f});var r=n(72500),o=n.n(r),i=n(86494),l=n(64210);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=function(e){if(!e)return{};var t=!(0===e.indexOf("http")),n=t?[]:e.match(/([^:]*:)\/\/([^:]*:?[^@]*@)?([^:\/\?]*):?([^\/\?]*)/);if(t){var r=window.location;n[1]=r.protocol,n[3]=r.hostname,n[4]=r.port,n[5]=e}n[4]=""!==n[4]&&n[4]?n[4]:"https:"===n[1]?"443":"80",n[5]=n[5]?n[5]:e.slice(n[0].length);var o,i,l=(i=6,function(e){if(Array.isArray(e))return e}(o=n)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var l,a=e[Symbol.iterator]();!(r=(l=a.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}}(o,i)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(o,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=l[1],c=l[3],p=l[4],s=l[5],f=0===s.indexOf("/")?s.split("/")[1]:"";return{protocol:u,domain:c,port:p,rootPath:s,applicationRootPath:f}},c=function(e,t){var n=(0,i.isArray)(e)?e[0]:e,r=(0,i.isArray)(t)?t[0]:t;if(n===r)return!0;if(!n||!r)return!1;if(!(0,i.isString)(n)||!(0,i.isString)(r))return!1;var l=o().parse(n),a=o().parse(r),c=u(n),p=u(r),s=c.protocol===p.protocol,f=c.domain===p.domain,d=c.port===p.port,y=l.pathname===a.pathname,b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e===t)return!0;if(!e&&!t)return!0;var n=e?e.split("&").filter((function(e){return!!e})):[],r=t?t.split("&").filter((function(e){return!!e})):[];return(0,i.isEqual)((0,i.sortBy)(n),(0,i.sortBy)(r))}(l.query,a.query);return s&&d&&f&&y&&b},p=function(e){return l.Qc(e)},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/^(http(s{0,1}):\/\/)+?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/,n=new RegExp(t);return n.test(e)},f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/^(http(s{0,1}):\/\/)+?[\w.\-{}]+(?:\.[\w\.-]+)+[\w\-\._~\/\;\.\%\:\&\=\?{}]+$/,r=new RegExp(n),o=r.test(e);if(!o)return!1;if(o&&!t)return!0;if(o&&t){var l=/\{(.*?)\}/.test(e);return 0===t.filter((function(e){return(0,i.find)(l,e)})).length}return!1}}}]);